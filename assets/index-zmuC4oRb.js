var sx=t=>{throw TypeError(t)};var Hp=(t,e,n)=>e.has(t)||sx("Cannot "+n);var B=(t,e,n)=>(Hp(t,e,"read from private field"),n?n.call(t):e.get(t)),Oe=(t,e,n)=>e.has(t)?sx("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),me=(t,e,n,r)=>(Hp(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Lt=(t,e,n)=>(Hp(t,e,"access private method"),n);var Gu=(t,e,n,r)=>({set _(s){me(t,e,s,n)},get _(){return B(t,e,r)}});function Zk(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function sb(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var ib={exports:{}},df={},ob={exports:{}},_e={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var pu=Symbol.for("react.element"),e2=Symbol.for("react.portal"),t2=Symbol.for("react.fragment"),n2=Symbol.for("react.strict_mode"),r2=Symbol.for("react.profiler"),s2=Symbol.for("react.provider"),i2=Symbol.for("react.context"),o2=Symbol.for("react.forward_ref"),a2=Symbol.for("react.suspense"),l2=Symbol.for("react.memo"),c2=Symbol.for("react.lazy"),ix=Symbol.iterator;function u2(t){return t===null||typeof t!="object"?null:(t=ix&&t[ix]||t["@@iterator"],typeof t=="function"?t:null)}var ab={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},lb=Object.assign,cb={};function rl(t,e,n){this.props=t,this.context=e,this.refs=cb,this.updater=n||ab}rl.prototype.isReactComponent={};rl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};rl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function ub(){}ub.prototype=rl.prototype;function $y(t,e,n){this.props=t,this.context=e,this.refs=cb,this.updater=n||ab}var By=$y.prototype=new ub;By.constructor=$y;lb(By,rl.prototype);By.isPureReactComponent=!0;var ox=Array.isArray,db=Object.prototype.hasOwnProperty,zy={current:null},hb={key:!0,ref:!0,__self:!0,__source:!0};function fb(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)db.call(e,r)&&!hb.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var l=Array(a),d=0;d<a;d++)l[d]=arguments[d+2];s.children=l}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:pu,type:t,key:i,ref:o,props:s,_owner:zy.current}}function d2(t,e){return{$$typeof:pu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Hy(t){return typeof t=="object"&&t!==null&&t.$$typeof===pu}function h2(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var ax=/\/+/g;function Wp(t,e){return typeof t=="object"&&t!==null&&t.key!=null?h2(""+t.key):e.toString(36)}function Pd(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case pu:case e2:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Wp(o,0):r,ox(s)?(n="",t!=null&&(n=t.replace(ax,"$&/")+"/"),Pd(s,e,n,"",function(d){return d})):s!=null&&(Hy(s)&&(s=d2(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(ax,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",ox(t))for(var a=0;a<t.length;a++){i=t[a];var l=r+Wp(i,a);o+=Pd(i,e,n,l,s)}else if(l=u2(t),typeof l=="function")for(t=l.call(t),a=0;!(i=t.next()).done;)i=i.value,l=r+Wp(i,a++),o+=Pd(i,e,n,l,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function Qu(t,e,n){if(t==null)return t;var r=[],s=0;return Pd(t,r,"","",function(i){return e.call(n,i,s++)}),r}function f2(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var tn={current:null},kd={transition:null},p2={ReactCurrentDispatcher:tn,ReactCurrentBatchConfig:kd,ReactCurrentOwner:zy};function pb(){throw Error("act(...) is not supported in production builds of React.")}_e.Children={map:Qu,forEach:function(t,e,n){Qu(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return Qu(t,function(){e++}),e},toArray:function(t){return Qu(t,function(e){return e})||[]},only:function(t){if(!Hy(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};_e.Component=rl;_e.Fragment=t2;_e.Profiler=r2;_e.PureComponent=$y;_e.StrictMode=n2;_e.Suspense=a2;_e.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=p2;_e.act=pb;_e.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=lb({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=zy.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(l in e)db.call(e,l)&&!hb.hasOwnProperty(l)&&(r[l]=e[l]===void 0&&a!==void 0?a[l]:e[l])}var l=arguments.length-2;if(l===1)r.children=n;else if(1<l){a=Array(l);for(var d=0;d<l;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:pu,type:t.type,key:s,ref:i,props:r,_owner:o}};_e.createContext=function(t){return t={$$typeof:i2,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:s2,_context:t},t.Consumer=t};_e.createElement=fb;_e.createFactory=function(t){var e=fb.bind(null,t);return e.type=t,e};_e.createRef=function(){return{current:null}};_e.forwardRef=function(t){return{$$typeof:o2,render:t}};_e.isValidElement=Hy;_e.lazy=function(t){return{$$typeof:c2,_payload:{_status:-1,_result:t},_init:f2}};_e.memo=function(t,e){return{$$typeof:l2,type:t,compare:e===void 0?null:e}};_e.startTransition=function(t){var e=kd.transition;kd.transition={};try{t()}finally{kd.transition=e}};_e.unstable_act=pb;_e.useCallback=function(t,e){return tn.current.useCallback(t,e)};_e.useContext=function(t){return tn.current.useContext(t)};_e.useDebugValue=function(){};_e.useDeferredValue=function(t){return tn.current.useDeferredValue(t)};_e.useEffect=function(t,e){return tn.current.useEffect(t,e)};_e.useId=function(){return tn.current.useId()};_e.useImperativeHandle=function(t,e,n){return tn.current.useImperativeHandle(t,e,n)};_e.useInsertionEffect=function(t,e){return tn.current.useInsertionEffect(t,e)};_e.useLayoutEffect=function(t,e){return tn.current.useLayoutEffect(t,e)};_e.useMemo=function(t,e){return tn.current.useMemo(t,e)};_e.useReducer=function(t,e,n){return tn.current.useReducer(t,e,n)};_e.useRef=function(t){return tn.current.useRef(t)};_e.useState=function(t){return tn.current.useState(t)};_e.useSyncExternalStore=function(t,e,n){return tn.current.useSyncExternalStore(t,e,n)};_e.useTransition=function(){return tn.current.useTransition()};_e.version="18.3.1";ob.exports=_e;var p=ob.exports;const G=sb(p),Wy=Zk({__proto__:null,default:G},[p]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var m2=p,g2=Symbol.for("react.element"),y2=Symbol.for("react.fragment"),v2=Object.prototype.hasOwnProperty,w2=m2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,x2={key:!0,ref:!0,__self:!0,__source:!0};function mb(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)v2.call(e,r)&&!x2.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:g2,type:t,key:i,ref:o,props:s,_owner:w2.current}}df.Fragment=y2;df.jsx=mb;df.jsxs=mb;ib.exports=df;var u=ib.exports,gb={exports:{}},In={},yb={exports:{}},vb={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(U,L){var K=U.length;U.push(L);e:for(;0<K;){var oe=K-1>>>1,j=U[oe];if(0<s(j,L))U[oe]=L,U[K]=j,K=oe;else break e}}function n(U){return U.length===0?null:U[0]}function r(U){if(U.length===0)return null;var L=U[0],K=U.pop();if(K!==L){U[0]=K;e:for(var oe=0,j=U.length,J=j>>>1;oe<J;){var Z=2*(oe+1)-1,he=U[Z],xe=Z+1,q=U[xe];if(0>s(he,K))xe<j&&0>s(q,he)?(U[oe]=q,U[xe]=K,oe=xe):(U[oe]=he,U[Z]=K,oe=Z);else if(xe<j&&0>s(q,K))U[oe]=q,U[xe]=K,oe=xe;else break e}}return L}function s(U,L){var K=U.sortIndex-L.sortIndex;return K!==0?K:U.id-L.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var l=[],d=[],h=1,f=null,m=3,g=!1,T=!1,v=!1,b=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,w=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function x(U){for(var L=n(d);L!==null;){if(L.callback===null)r(d);else if(L.startTime<=U)r(d),L.sortIndex=L.expirationTime,e(l,L);else break;L=n(d)}}function A(U){if(v=!1,x(U),!T)if(n(l)!==null)T=!0,Y(O);else{var L=n(d);L!==null&&ie(A,L.startTime-U)}}function O(U,L){T=!1,v&&(v=!1,_(S),S=-1),g=!0;var K=m;try{for(x(L),f=n(l);f!==null&&(!(f.expirationTime>L)||U&&!D());){var oe=f.callback;if(typeof oe=="function"){f.callback=null,m=f.priorityLevel;var j=oe(f.expirationTime<=L);L=t.unstable_now(),typeof j=="function"?f.callback=j:f===n(l)&&r(l),x(L)}else r(l);f=n(l)}if(f!==null)var J=!0;else{var Z=n(d);Z!==null&&ie(A,Z.startTime-L),J=!1}return J}finally{f=null,m=K,g=!1}}var M=!1,I=null,S=-1,P=5,k=-1;function D(){return!(t.unstable_now()-k<P)}function C(){if(I!==null){var U=t.unstable_now();k=U;var L=!0;try{L=I(!0,U)}finally{L?N():(M=!1,I=null)}}else M=!1}var N;if(typeof w=="function")N=function(){w(C)};else if(typeof MessageChannel<"u"){var $=new MessageChannel,se=$.port2;$.port1.onmessage=C,N=function(){se.postMessage(null)}}else N=function(){b(C,0)};function Y(U){I=U,M||(M=!0,N())}function ie(U,L){S=b(function(){U(t.unstable_now())},L)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(U){U.callback=null},t.unstable_continueExecution=function(){T||g||(T=!0,Y(O))},t.unstable_forceFrameRate=function(U){0>U||125<U?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):P=0<U?Math.floor(1e3/U):5},t.unstable_getCurrentPriorityLevel=function(){return m},t.unstable_getFirstCallbackNode=function(){return n(l)},t.unstable_next=function(U){switch(m){case 1:case 2:case 3:var L=3;break;default:L=m}var K=m;m=L;try{return U()}finally{m=K}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(U,L){switch(U){case 1:case 2:case 3:case 4:case 5:break;default:U=3}var K=m;m=U;try{return L()}finally{m=K}},t.unstable_scheduleCallback=function(U,L,K){var oe=t.unstable_now();switch(typeof K=="object"&&K!==null?(K=K.delay,K=typeof K=="number"&&0<K?oe+K:oe):K=oe,U){case 1:var j=-1;break;case 2:j=250;break;case 5:j=1073741823;break;case 4:j=1e4;break;default:j=5e3}return j=K+j,U={id:h++,callback:L,priorityLevel:U,startTime:K,expirationTime:j,sortIndex:-1},K>oe?(U.sortIndex=K,e(d,U),n(l)===null&&U===n(d)&&(v?(_(S),S=-1):v=!0,ie(A,K-oe))):(U.sortIndex=j,e(l,U),T||g||(T=!0,Y(O))),U},t.unstable_shouldYield=D,t.unstable_wrapCallback=function(U){var L=m;return function(){var K=m;m=L;try{return U.apply(this,arguments)}finally{m=K}}}})(vb);yb.exports=vb;var _2=yb.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var E2=p,Sn=_2;function W(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var wb=new Set,Rc={};function No(t,e){Va(t,e),Va(t+"Capture",e)}function Va(t,e){for(Rc[t]=e,t=0;t<e.length;t++)wb.add(e[t])}var os=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Jm=Object.prototype.hasOwnProperty,b2=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,lx={},cx={};function T2(t){return Jm.call(cx,t)?!0:Jm.call(lx,t)?!1:b2.test(t)?cx[t]=!0:(lx[t]=!0,!1)}function S2(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function I2(t,e,n,r){if(e===null||typeof e>"u"||S2(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function nn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Ot={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Ot[t]=new nn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Ot[e]=new nn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Ot[t]=new nn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Ot[t]=new nn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Ot[t]=new nn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Ot[t]=new nn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Ot[t]=new nn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Ot[t]=new nn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Ot[t]=new nn(t,5,!1,t.toLowerCase(),null,!1,!1)});var qy=/[\-:]([a-z])/g;function Ky(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(qy,Ky);Ot[e]=new nn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(qy,Ky);Ot[e]=new nn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(qy,Ky);Ot[e]=new nn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Ot[t]=new nn(t,1,!1,t.toLowerCase(),null,!1,!1)});Ot.xlinkHref=new nn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Ot[t]=new nn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Gy(t,e,n,r){var s=Ot.hasOwnProperty(e)?Ot[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(I2(e,n,s,r)&&(n=null),r||s===null?T2(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ws=E2.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,Yu=Symbol.for("react.element"),ea=Symbol.for("react.portal"),ta=Symbol.for("react.fragment"),Qy=Symbol.for("react.strict_mode"),Zm=Symbol.for("react.profiler"),xb=Symbol.for("react.provider"),_b=Symbol.for("react.context"),Yy=Symbol.for("react.forward_ref"),eg=Symbol.for("react.suspense"),tg=Symbol.for("react.suspense_list"),Xy=Symbol.for("react.memo"),Vs=Symbol.for("react.lazy"),Eb=Symbol.for("react.offscreen"),ux=Symbol.iterator;function Ul(t){return t===null||typeof t!="object"?null:(t=ux&&t[ux]||t["@@iterator"],typeof t=="function"?t:null)}var tt=Object.assign,qp;function Xl(t){if(qp===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);qp=e&&e[1]||""}return`
`+qp+t}var Kp=!1;function Gp(t,e){if(!t||Kp)return"";Kp=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var l=`
`+s[o].replace(" at new "," at ");return t.displayName&&l.includes("<anonymous>")&&(l=l.replace("<anonymous>",t.displayName)),l}while(1<=o&&0<=a);break}}}finally{Kp=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?Xl(t):""}function C2(t){switch(t.tag){case 5:return Xl(t.type);case 16:return Xl("Lazy");case 13:return Xl("Suspense");case 19:return Xl("SuspenseList");case 0:case 2:case 15:return t=Gp(t.type,!1),t;case 11:return t=Gp(t.type.render,!1),t;case 1:return t=Gp(t.type,!0),t;default:return""}}function ng(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case ta:return"Fragment";case ea:return"Portal";case Zm:return"Profiler";case Qy:return"StrictMode";case eg:return"Suspense";case tg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case _b:return(t.displayName||"Context")+".Consumer";case xb:return(t._context.displayName||"Context")+".Provider";case Yy:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Xy:return e=t.displayName||null,e!==null?e:ng(t.type)||"Memo";case Vs:e=t._payload,t=t._init;try{return ng(t(e))}catch{}}return null}function R2(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return ng(e);case 8:return e===Qy?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function wi(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function bb(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function N2(t){var e=bb(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Xu(t){t._valueTracker||(t._valueTracker=N2(t))}function Tb(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=bb(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function sh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function rg(t,e){var n=e.checked;return tt({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function dx(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=wi(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function Sb(t,e){e=e.checked,e!=null&&Gy(t,"checked",e,!1)}function sg(t,e){Sb(t,e);var n=wi(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?ig(t,e.type,n):e.hasOwnProperty("defaultValue")&&ig(t,e.type,wi(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function hx(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function ig(t,e,n){(e!=="number"||sh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var Jl=Array.isArray;function fa(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+wi(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function og(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(W(91));return tt({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function fx(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(W(92));if(Jl(n)){if(1<n.length)throw Error(W(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:wi(n)}}function Ib(t,e){var n=wi(e.value),r=wi(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function px(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function Cb(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function ag(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?Cb(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Ju,Rb=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Ju=Ju||document.createElement("div"),Ju.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Ju.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Nc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var cc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},A2=["Webkit","ms","Moz","O"];Object.keys(cc).forEach(function(t){A2.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),cc[e]=cc[t]})});function Nb(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||cc.hasOwnProperty(t)&&cc[t]?(""+e).trim():e+"px"}function Ab(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=Nb(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var P2=tt({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function lg(t,e){if(e){if(P2[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(W(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(W(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(W(61))}if(e.style!=null&&typeof e.style!="object")throw Error(W(62))}}function cg(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var ug=null;function Jy(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var dg=null,pa=null,ma=null;function mx(t){if(t=yu(t)){if(typeof dg!="function")throw Error(W(280));var e=t.stateNode;e&&(e=gf(e),dg(t.stateNode,t.type,e))}}function Pb(t){pa?ma?ma.push(t):ma=[t]:pa=t}function kb(){if(pa){var t=pa,e=ma;if(ma=pa=null,mx(t),e)for(t=0;t<e.length;t++)mx(e[t])}}function Db(t,e){return t(e)}function Ob(){}var Qp=!1;function Mb(t,e,n){if(Qp)return t(e,n);Qp=!0;try{return Db(t,e,n)}finally{Qp=!1,(pa!==null||ma!==null)&&(Ob(),kb())}}function Ac(t,e){var n=t.stateNode;if(n===null)return null;var r=gf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(W(231,e,typeof n));return n}var hg=!1;if(os)try{var $l={};Object.defineProperty($l,"passive",{get:function(){hg=!0}}),window.addEventListener("test",$l,$l),window.removeEventListener("test",$l,$l)}catch{hg=!1}function k2(t,e,n,r,s,i,o,a,l){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var uc=!1,ih=null,oh=!1,fg=null,D2={onError:function(t){uc=!0,ih=t}};function O2(t,e,n,r,s,i,o,a,l){uc=!1,ih=null,k2.apply(D2,arguments)}function M2(t,e,n,r,s,i,o,a,l){if(O2.apply(this,arguments),uc){if(uc){var d=ih;uc=!1,ih=null}else throw Error(W(198));oh||(oh=!0,fg=d)}}function Ao(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function jb(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function gx(t){if(Ao(t)!==t)throw Error(W(188))}function j2(t){var e=t.alternate;if(!e){if(e=Ao(t),e===null)throw Error(W(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return gx(s),t;if(i===r)return gx(s),e;i=i.sibling}throw Error(W(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(W(189))}}if(n.alternate!==r)throw Error(W(190))}if(n.tag!==3)throw Error(W(188));return n.stateNode.current===n?t:e}function Lb(t){return t=j2(t),t!==null?Vb(t):null}function Vb(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=Vb(t);if(e!==null)return e;t=t.sibling}return null}var Fb=Sn.unstable_scheduleCallback,yx=Sn.unstable_cancelCallback,L2=Sn.unstable_shouldYield,V2=Sn.unstable_requestPaint,ct=Sn.unstable_now,F2=Sn.unstable_getCurrentPriorityLevel,Zy=Sn.unstable_ImmediatePriority,Ub=Sn.unstable_UserBlockingPriority,ah=Sn.unstable_NormalPriority,U2=Sn.unstable_LowPriority,$b=Sn.unstable_IdlePriority,hf=null,Rr=null;function $2(t){if(Rr&&typeof Rr.onCommitFiberRoot=="function")try{Rr.onCommitFiberRoot(hf,t,void 0,(t.current.flags&128)===128)}catch{}}var tr=Math.clz32?Math.clz32:H2,B2=Math.log,z2=Math.LN2;function H2(t){return t>>>=0,t===0?32:31-(B2(t)/z2|0)|0}var Zu=64,ed=4194304;function Zl(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function lh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=Zl(a):(i&=o,i!==0&&(r=Zl(i)))}else o=n&~s,o!==0?r=Zl(o):i!==0&&(r=Zl(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-tr(e),s=1<<n,r|=t[n],e&=~s;return r}function W2(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function q2(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-tr(i),a=1<<o,l=s[o];l===-1?(!(a&n)||a&r)&&(s[o]=W2(a,e)):l<=e&&(t.expiredLanes|=a),i&=~a}}function pg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function Bb(){var t=Zu;return Zu<<=1,!(Zu&4194240)&&(Zu=64),t}function Yp(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function mu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-tr(e),t[e]=n}function K2(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-tr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function ev(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-tr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Fe=0;function zb(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var Hb,tv,Wb,qb,Kb,mg=!1,td=[],si=null,ii=null,oi=null,Pc=new Map,kc=new Map,Bs=[],G2="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function vx(t,e){switch(t){case"focusin":case"focusout":si=null;break;case"dragenter":case"dragleave":ii=null;break;case"mouseover":case"mouseout":oi=null;break;case"pointerover":case"pointerout":Pc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":kc.delete(e.pointerId)}}function Bl(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=yu(e),e!==null&&tv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function Q2(t,e,n,r,s){switch(e){case"focusin":return si=Bl(si,t,e,n,r,s),!0;case"dragenter":return ii=Bl(ii,t,e,n,r,s),!0;case"mouseover":return oi=Bl(oi,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Pc.set(i,Bl(Pc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,kc.set(i,Bl(kc.get(i)||null,t,e,n,r,s)),!0}return!1}function Gb(t){var e=Yi(t.target);if(e!==null){var n=Ao(e);if(n!==null){if(e=n.tag,e===13){if(e=jb(n),e!==null){t.blockedOn=e,Kb(t.priority,function(){Wb(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function Dd(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=gg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);ug=r,n.target.dispatchEvent(r),ug=null}else return e=yu(n),e!==null&&tv(e),t.blockedOn=n,!1;e.shift()}return!0}function wx(t,e,n){Dd(t)&&n.delete(e)}function Y2(){mg=!1,si!==null&&Dd(si)&&(si=null),ii!==null&&Dd(ii)&&(ii=null),oi!==null&&Dd(oi)&&(oi=null),Pc.forEach(wx),kc.forEach(wx)}function zl(t,e){t.blockedOn===e&&(t.blockedOn=null,mg||(mg=!0,Sn.unstable_scheduleCallback(Sn.unstable_NormalPriority,Y2)))}function Dc(t){function e(s){return zl(s,t)}if(0<td.length){zl(td[0],t);for(var n=1;n<td.length;n++){var r=td[n];r.blockedOn===t&&(r.blockedOn=null)}}for(si!==null&&zl(si,t),ii!==null&&zl(ii,t),oi!==null&&zl(oi,t),Pc.forEach(e),kc.forEach(e),n=0;n<Bs.length;n++)r=Bs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Bs.length&&(n=Bs[0],n.blockedOn===null);)Gb(n),n.blockedOn===null&&Bs.shift()}var ga=ws.ReactCurrentBatchConfig,ch=!0;function X2(t,e,n,r){var s=Fe,i=ga.transition;ga.transition=null;try{Fe=1,nv(t,e,n,r)}finally{Fe=s,ga.transition=i}}function J2(t,e,n,r){var s=Fe,i=ga.transition;ga.transition=null;try{Fe=4,nv(t,e,n,r)}finally{Fe=s,ga.transition=i}}function nv(t,e,n,r){if(ch){var s=gg(t,e,n,r);if(s===null)om(t,e,r,uh,n),vx(t,r);else if(Q2(s,t,e,n,r))r.stopPropagation();else if(vx(t,r),e&4&&-1<G2.indexOf(t)){for(;s!==null;){var i=yu(s);if(i!==null&&Hb(i),i=gg(t,e,n,r),i===null&&om(t,e,r,uh,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else om(t,e,r,null,n)}}var uh=null;function gg(t,e,n,r){if(uh=null,t=Jy(r),t=Yi(t),t!==null)if(e=Ao(t),e===null)t=null;else if(n=e.tag,n===13){if(t=jb(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return uh=t,null}function Qb(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(F2()){case Zy:return 1;case Ub:return 4;case ah:case U2:return 16;case $b:return 536870912;default:return 16}default:return 16}}var ei=null,rv=null,Od=null;function Yb(){if(Od)return Od;var t,e=rv,n=e.length,r,s="value"in ei?ei.value:ei.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return Od=s.slice(t,1<r?1-r:void 0)}function Md(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function nd(){return!0}function xx(){return!1}function Cn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?nd:xx,this.isPropagationStopped=xx,this}return tt(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=nd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=nd)},persist:function(){},isPersistent:nd}),e}var sl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},sv=Cn(sl),gu=tt({},sl,{view:0,detail:0}),Z2=Cn(gu),Xp,Jp,Hl,ff=tt({},gu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:iv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==Hl&&(Hl&&t.type==="mousemove"?(Xp=t.screenX-Hl.screenX,Jp=t.screenY-Hl.screenY):Jp=Xp=0,Hl=t),Xp)},movementY:function(t){return"movementY"in t?t.movementY:Jp}}),_x=Cn(ff),eD=tt({},ff,{dataTransfer:0}),tD=Cn(eD),nD=tt({},gu,{relatedTarget:0}),Zp=Cn(nD),rD=tt({},sl,{animationName:0,elapsedTime:0,pseudoElement:0}),sD=Cn(rD),iD=tt({},sl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),oD=Cn(iD),aD=tt({},sl,{data:0}),Ex=Cn(aD),lD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},cD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},uD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function dD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=uD[t])?!!e[t]:!1}function iv(){return dD}var hD=tt({},gu,{key:function(t){if(t.key){var e=lD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=Md(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?cD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:iv,charCode:function(t){return t.type==="keypress"?Md(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?Md(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),fD=Cn(hD),pD=tt({},ff,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),bx=Cn(pD),mD=tt({},gu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:iv}),gD=Cn(mD),yD=tt({},sl,{propertyName:0,elapsedTime:0,pseudoElement:0}),vD=Cn(yD),wD=tt({},ff,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),xD=Cn(wD),_D=[9,13,27,32],ov=os&&"CompositionEvent"in window,dc=null;os&&"documentMode"in document&&(dc=document.documentMode);var ED=os&&"TextEvent"in window&&!dc,Xb=os&&(!ov||dc&&8<dc&&11>=dc),Tx=" ",Sx=!1;function Jb(t,e){switch(t){case"keyup":return _D.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function Zb(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var na=!1;function bD(t,e){switch(t){case"compositionend":return Zb(e);case"keypress":return e.which!==32?null:(Sx=!0,Tx);case"textInput":return t=e.data,t===Tx&&Sx?null:t;default:return null}}function TD(t,e){if(na)return t==="compositionend"||!ov&&Jb(t,e)?(t=Yb(),Od=rv=ei=null,na=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return Xb&&e.locale!=="ko"?null:e.data;default:return null}}var SD={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function Ix(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!SD[t.type]:e==="textarea"}function eT(t,e,n,r){Pb(r),e=dh(e,"onChange"),0<e.length&&(n=new sv("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var hc=null,Oc=null;function ID(t){dT(t,0)}function pf(t){var e=ia(t);if(Tb(e))return t}function CD(t,e){if(t==="change")return e}var tT=!1;if(os){var em;if(os){var tm="oninput"in document;if(!tm){var Cx=document.createElement("div");Cx.setAttribute("oninput","return;"),tm=typeof Cx.oninput=="function"}em=tm}else em=!1;tT=em&&(!document.documentMode||9<document.documentMode)}function Rx(){hc&&(hc.detachEvent("onpropertychange",nT),Oc=hc=null)}function nT(t){if(t.propertyName==="value"&&pf(Oc)){var e=[];eT(e,Oc,t,Jy(t)),Mb(ID,e)}}function RD(t,e,n){t==="focusin"?(Rx(),hc=e,Oc=n,hc.attachEvent("onpropertychange",nT)):t==="focusout"&&Rx()}function ND(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return pf(Oc)}function AD(t,e){if(t==="click")return pf(e)}function PD(t,e){if(t==="input"||t==="change")return pf(e)}function kD(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var ir=typeof Object.is=="function"?Object.is:kD;function Mc(t,e){if(ir(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Jm.call(e,s)||!ir(t[s],e[s]))return!1}return!0}function Nx(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function Ax(t,e){var n=Nx(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=Nx(n)}}function rT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?rT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function sT(){for(var t=window,e=sh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=sh(t.document)}return e}function av(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function DD(t){var e=sT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&rT(n.ownerDocument.documentElement,n)){if(r!==null&&av(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=Ax(n,i);var o=Ax(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var OD=os&&"documentMode"in document&&11>=document.documentMode,ra=null,yg=null,fc=null,vg=!1;function Px(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;vg||ra==null||ra!==sh(r)||(r=ra,"selectionStart"in r&&av(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),fc&&Mc(fc,r)||(fc=r,r=dh(yg,"onSelect"),0<r.length&&(e=new sv("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=ra)))}function rd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var sa={animationend:rd("Animation","AnimationEnd"),animationiteration:rd("Animation","AnimationIteration"),animationstart:rd("Animation","AnimationStart"),transitionend:rd("Transition","TransitionEnd")},nm={},iT={};os&&(iT=document.createElement("div").style,"AnimationEvent"in window||(delete sa.animationend.animation,delete sa.animationiteration.animation,delete sa.animationstart.animation),"TransitionEvent"in window||delete sa.transitionend.transition);function mf(t){if(nm[t])return nm[t];if(!sa[t])return t;var e=sa[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in iT)return nm[t]=e[n];return t}var oT=mf("animationend"),aT=mf("animationiteration"),lT=mf("animationstart"),cT=mf("transitionend"),uT=new Map,kx="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function ki(t,e){uT.set(t,e),No(e,[t])}for(var rm=0;rm<kx.length;rm++){var sm=kx[rm],MD=sm.toLowerCase(),jD=sm[0].toUpperCase()+sm.slice(1);ki(MD,"on"+jD)}ki(oT,"onAnimationEnd");ki(aT,"onAnimationIteration");ki(lT,"onAnimationStart");ki("dblclick","onDoubleClick");ki("focusin","onFocus");ki("focusout","onBlur");ki(cT,"onTransitionEnd");Va("onMouseEnter",["mouseout","mouseover"]);Va("onMouseLeave",["mouseout","mouseover"]);Va("onPointerEnter",["pointerout","pointerover"]);Va("onPointerLeave",["pointerout","pointerover"]);No("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));No("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));No("onBeforeInput",["compositionend","keypress","textInput","paste"]);No("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));No("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));No("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var ec="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),LD=new Set("cancel close invalid load scroll toggle".split(" ").concat(ec));function Dx(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,M2(r,e,void 0,t),t.currentTarget=null}function dT(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],l=a.instance,d=a.currentTarget;if(a=a.listener,l!==i&&s.isPropagationStopped())break e;Dx(s,a,d),i=l}else for(o=0;o<r.length;o++){if(a=r[o],l=a.instance,d=a.currentTarget,a=a.listener,l!==i&&s.isPropagationStopped())break e;Dx(s,a,d),i=l}}}if(oh)throw t=fg,oh=!1,fg=null,t}function qe(t,e){var n=e[bg];n===void 0&&(n=e[bg]=new Set);var r=t+"__bubble";n.has(r)||(hT(e,t,2,!1),n.add(r))}function im(t,e,n){var r=0;e&&(r|=4),hT(n,t,r,e)}var sd="_reactListening"+Math.random().toString(36).slice(2);function jc(t){if(!t[sd]){t[sd]=!0,wb.forEach(function(n){n!=="selectionchange"&&(LD.has(n)||im(n,!1,t),im(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[sd]||(e[sd]=!0,im("selectionchange",!1,e))}}function hT(t,e,n,r){switch(Qb(e)){case 1:var s=X2;break;case 4:s=J2;break;default:s=nv}n=s.bind(null,e,n,t),s=void 0,!hg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function om(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var l=o.tag;if((l===3||l===4)&&(l=o.stateNode.containerInfo,l===s||l.nodeType===8&&l.parentNode===s))return;o=o.return}for(;a!==null;){if(o=Yi(a),o===null)return;if(l=o.tag,l===5||l===6){r=i=o;continue e}a=a.parentNode}}r=r.return}Mb(function(){var d=i,h=Jy(n),f=[];e:{var m=uT.get(t);if(m!==void 0){var g=sv,T=t;switch(t){case"keypress":if(Md(n)===0)break e;case"keydown":case"keyup":g=fD;break;case"focusin":T="focus",g=Zp;break;case"focusout":T="blur",g=Zp;break;case"beforeblur":case"afterblur":g=Zp;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":g=_x;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":g=tD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":g=gD;break;case oT:case aT:case lT:g=sD;break;case cT:g=vD;break;case"scroll":g=Z2;break;case"wheel":g=xD;break;case"copy":case"cut":case"paste":g=oD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":g=bx}var v=(e&4)!==0,b=!v&&t==="scroll",_=v?m!==null?m+"Capture":null:m;v=[];for(var w=d,x;w!==null;){x=w;var A=x.stateNode;if(x.tag===5&&A!==null&&(x=A,_!==null&&(A=Ac(w,_),A!=null&&v.push(Lc(w,A,x)))),b)break;w=w.return}0<v.length&&(m=new g(m,T,null,n,h),f.push({event:m,listeners:v}))}}if(!(e&7)){e:{if(m=t==="mouseover"||t==="pointerover",g=t==="mouseout"||t==="pointerout",m&&n!==ug&&(T=n.relatedTarget||n.fromElement)&&(Yi(T)||T[as]))break e;if((g||m)&&(m=h.window===h?h:(m=h.ownerDocument)?m.defaultView||m.parentWindow:window,g?(T=n.relatedTarget||n.toElement,g=d,T=T?Yi(T):null,T!==null&&(b=Ao(T),T!==b||T.tag!==5&&T.tag!==6)&&(T=null)):(g=null,T=d),g!==T)){if(v=_x,A="onMouseLeave",_="onMouseEnter",w="mouse",(t==="pointerout"||t==="pointerover")&&(v=bx,A="onPointerLeave",_="onPointerEnter",w="pointer"),b=g==null?m:ia(g),x=T==null?m:ia(T),m=new v(A,w+"leave",g,n,h),m.target=b,m.relatedTarget=x,A=null,Yi(h)===d&&(v=new v(_,w+"enter",T,n,h),v.target=x,v.relatedTarget=b,A=v),b=A,g&&T)t:{for(v=g,_=T,w=0,x=v;x;x=qo(x))w++;for(x=0,A=_;A;A=qo(A))x++;for(;0<w-x;)v=qo(v),w--;for(;0<x-w;)_=qo(_),x--;for(;w--;){if(v===_||_!==null&&v===_.alternate)break t;v=qo(v),_=qo(_)}v=null}else v=null;g!==null&&Ox(f,m,g,v,!1),T!==null&&b!==null&&Ox(f,b,T,v,!0)}}e:{if(m=d?ia(d):window,g=m.nodeName&&m.nodeName.toLowerCase(),g==="select"||g==="input"&&m.type==="file")var O=CD;else if(Ix(m))if(tT)O=PD;else{O=ND;var M=RD}else(g=m.nodeName)&&g.toLowerCase()==="input"&&(m.type==="checkbox"||m.type==="radio")&&(O=AD);if(O&&(O=O(t,d))){eT(f,O,n,h);break e}M&&M(t,m,d),t==="focusout"&&(M=m._wrapperState)&&M.controlled&&m.type==="number"&&ig(m,"number",m.value)}switch(M=d?ia(d):window,t){case"focusin":(Ix(M)||M.contentEditable==="true")&&(ra=M,yg=d,fc=null);break;case"focusout":fc=yg=ra=null;break;case"mousedown":vg=!0;break;case"contextmenu":case"mouseup":case"dragend":vg=!1,Px(f,n,h);break;case"selectionchange":if(OD)break;case"keydown":case"keyup":Px(f,n,h)}var I;if(ov)e:{switch(t){case"compositionstart":var S="onCompositionStart";break e;case"compositionend":S="onCompositionEnd";break e;case"compositionupdate":S="onCompositionUpdate";break e}S=void 0}else na?Jb(t,n)&&(S="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(S="onCompositionStart");S&&(Xb&&n.locale!=="ko"&&(na||S!=="onCompositionStart"?S==="onCompositionEnd"&&na&&(I=Yb()):(ei=h,rv="value"in ei?ei.value:ei.textContent,na=!0)),M=dh(d,S),0<M.length&&(S=new Ex(S,t,null,n,h),f.push({event:S,listeners:M}),I?S.data=I:(I=Zb(n),I!==null&&(S.data=I)))),(I=ED?bD(t,n):TD(t,n))&&(d=dh(d,"onBeforeInput"),0<d.length&&(h=new Ex("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:d}),h.data=I))}dT(f,e)})}function Lc(t,e,n){return{instance:t,listener:e,currentTarget:n}}function dh(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Ac(t,n),i!=null&&r.unshift(Lc(t,i,s)),i=Ac(t,e),i!=null&&r.push(Lc(t,i,s))),t=t.return}return r}function qo(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function Ox(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,l=a.alternate,d=a.stateNode;if(l!==null&&l===r)break;a.tag===5&&d!==null&&(a=d,s?(l=Ac(n,i),l!=null&&o.unshift(Lc(n,l,a))):s||(l=Ac(n,i),l!=null&&o.push(Lc(n,l,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var VD=/\r\n?/g,FD=/\u0000|\uFFFD/g;function Mx(t){return(typeof t=="string"?t:""+t).replace(VD,`
`).replace(FD,"")}function id(t,e,n){if(e=Mx(e),Mx(t)!==e&&n)throw Error(W(425))}function hh(){}var wg=null,xg=null;function _g(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var Eg=typeof setTimeout=="function"?setTimeout:void 0,UD=typeof clearTimeout=="function"?clearTimeout:void 0,jx=typeof Promise=="function"?Promise:void 0,$D=typeof queueMicrotask=="function"?queueMicrotask:typeof jx<"u"?function(t){return jx.resolve(null).then(t).catch(BD)}:Eg;function BD(t){setTimeout(function(){throw t})}function am(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Dc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Dc(e)}function ai(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function Lx(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var il=Math.random().toString(36).slice(2),Sr="__reactFiber$"+il,Vc="__reactProps$"+il,as="__reactContainer$"+il,bg="__reactEvents$"+il,zD="__reactListeners$"+il,HD="__reactHandles$"+il;function Yi(t){var e=t[Sr];if(e)return e;for(var n=t.parentNode;n;){if(e=n[as]||n[Sr]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=Lx(t);t!==null;){if(n=t[Sr])return n;t=Lx(t)}return e}t=n,n=t.parentNode}return null}function yu(t){return t=t[Sr]||t[as],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function ia(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(W(33))}function gf(t){return t[Vc]||null}var Tg=[],oa=-1;function Di(t){return{current:t}}function Ge(t){0>oa||(t.current=Tg[oa],Tg[oa]=null,oa--)}function ze(t,e){oa++,Tg[oa]=t.current,t.current=e}var xi={},Wt=Di(xi),hn=Di(!1),ho=xi;function Fa(t,e){var n=t.type.contextTypes;if(!n)return xi;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function fn(t){return t=t.childContextTypes,t!=null}function fh(){Ge(hn),Ge(Wt)}function Vx(t,e,n){if(Wt.current!==xi)throw Error(W(168));ze(Wt,e),ze(hn,n)}function fT(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(W(108,R2(t)||"Unknown",s));return tt({},n,r)}function ph(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||xi,ho=Wt.current,ze(Wt,t),ze(hn,hn.current),!0}function Fx(t,e,n){var r=t.stateNode;if(!r)throw Error(W(169));n?(t=fT(t,e,ho),r.__reactInternalMemoizedMergedChildContext=t,Ge(hn),Ge(Wt),ze(Wt,t)):Ge(hn),ze(hn,n)}var Gr=null,yf=!1,lm=!1;function pT(t){Gr===null?Gr=[t]:Gr.push(t)}function WD(t){yf=!0,pT(t)}function Oi(){if(!lm&&Gr!==null){lm=!0;var t=0,e=Fe;try{var n=Gr;for(Fe=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}Gr=null,yf=!1}catch(s){throw Gr!==null&&(Gr=Gr.slice(t+1)),Fb(Zy,Oi),s}finally{Fe=e,lm=!1}}return null}var aa=[],la=0,mh=null,gh=0,Pn=[],kn=0,fo=null,Jr=1,Zr="";function Ki(t,e){aa[la++]=gh,aa[la++]=mh,mh=t,gh=e}function mT(t,e,n){Pn[kn++]=Jr,Pn[kn++]=Zr,Pn[kn++]=fo,fo=t;var r=Jr;t=Zr;var s=32-tr(r)-1;r&=~(1<<s),n+=1;var i=32-tr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,Jr=1<<32-tr(e)+s|n<<s|r,Zr=i+t}else Jr=1<<i|n<<s|r,Zr=t}function lv(t){t.return!==null&&(Ki(t,1),mT(t,1,0))}function cv(t){for(;t===mh;)mh=aa[--la],aa[la]=null,gh=aa[--la],aa[la]=null;for(;t===fo;)fo=Pn[--kn],Pn[kn]=null,Zr=Pn[--kn],Pn[kn]=null,Jr=Pn[--kn],Pn[kn]=null}var En=null,xn=null,Qe=!1,Jn=null;function gT(t,e){var n=On(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function Ux(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,En=t,xn=ai(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,En=t,xn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=fo!==null?{id:Jr,overflow:Zr}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=On(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,En=t,xn=null,!0):!1;default:return!1}}function Sg(t){return(t.mode&1)!==0&&(t.flags&128)===0}function Ig(t){if(Qe){var e=xn;if(e){var n=e;if(!Ux(t,e)){if(Sg(t))throw Error(W(418));e=ai(n.nextSibling);var r=En;e&&Ux(t,e)?gT(r,n):(t.flags=t.flags&-4097|2,Qe=!1,En=t)}}else{if(Sg(t))throw Error(W(418));t.flags=t.flags&-4097|2,Qe=!1,En=t}}}function $x(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;En=t}function od(t){if(t!==En)return!1;if(!Qe)return $x(t),Qe=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!_g(t.type,t.memoizedProps)),e&&(e=xn)){if(Sg(t))throw yT(),Error(W(418));for(;e;)gT(t,e),e=ai(e.nextSibling)}if($x(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(W(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){xn=ai(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}xn=null}}else xn=En?ai(t.stateNode.nextSibling):null;return!0}function yT(){for(var t=xn;t;)t=ai(t.nextSibling)}function Ua(){xn=En=null,Qe=!1}function uv(t){Jn===null?Jn=[t]:Jn.push(t)}var qD=ws.ReactCurrentBatchConfig;function Wl(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(W(309));var r=n.stateNode}if(!r)throw Error(W(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(W(284));if(!n._owner)throw Error(W(290,t))}return t}function ad(t,e){throw t=Object.prototype.toString.call(e),Error(W(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function Bx(t){var e=t._init;return e(t._payload)}function vT(t){function e(_,w){if(t){var x=_.deletions;x===null?(_.deletions=[w],_.flags|=16):x.push(w)}}function n(_,w){if(!t)return null;for(;w!==null;)e(_,w),w=w.sibling;return null}function r(_,w){for(_=new Map;w!==null;)w.key!==null?_.set(w.key,w):_.set(w.index,w),w=w.sibling;return _}function s(_,w){return _=di(_,w),_.index=0,_.sibling=null,_}function i(_,w,x){return _.index=x,t?(x=_.alternate,x!==null?(x=x.index,x<w?(_.flags|=2,w):x):(_.flags|=2,w)):(_.flags|=1048576,w)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,w,x,A){return w===null||w.tag!==6?(w=mm(x,_.mode,A),w.return=_,w):(w=s(w,x),w.return=_,w)}function l(_,w,x,A){var O=x.type;return O===ta?h(_,w,x.props.children,A,x.key):w!==null&&(w.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Vs&&Bx(O)===w.type)?(A=s(w,x.props),A.ref=Wl(_,w,x),A.return=_,A):(A=Bd(x.type,x.key,x.props,null,_.mode,A),A.ref=Wl(_,w,x),A.return=_,A)}function d(_,w,x,A){return w===null||w.tag!==4||w.stateNode.containerInfo!==x.containerInfo||w.stateNode.implementation!==x.implementation?(w=gm(x,_.mode,A),w.return=_,w):(w=s(w,x.children||[]),w.return=_,w)}function h(_,w,x,A,O){return w===null||w.tag!==7?(w=lo(x,_.mode,A,O),w.return=_,w):(w=s(w,x),w.return=_,w)}function f(_,w,x){if(typeof w=="string"&&w!==""||typeof w=="number")return w=mm(""+w,_.mode,x),w.return=_,w;if(typeof w=="object"&&w!==null){switch(w.$$typeof){case Yu:return x=Bd(w.type,w.key,w.props,null,_.mode,x),x.ref=Wl(_,null,w),x.return=_,x;case ea:return w=gm(w,_.mode,x),w.return=_,w;case Vs:var A=w._init;return f(_,A(w._payload),x)}if(Jl(w)||Ul(w))return w=lo(w,_.mode,x,null),w.return=_,w;ad(_,w)}return null}function m(_,w,x,A){var O=w!==null?w.key:null;if(typeof x=="string"&&x!==""||typeof x=="number")return O!==null?null:a(_,w,""+x,A);if(typeof x=="object"&&x!==null){switch(x.$$typeof){case Yu:return x.key===O?l(_,w,x,A):null;case ea:return x.key===O?d(_,w,x,A):null;case Vs:return O=x._init,m(_,w,O(x._payload),A)}if(Jl(x)||Ul(x))return O!==null?null:h(_,w,x,A,null);ad(_,x)}return null}function g(_,w,x,A,O){if(typeof A=="string"&&A!==""||typeof A=="number")return _=_.get(x)||null,a(w,_,""+A,O);if(typeof A=="object"&&A!==null){switch(A.$$typeof){case Yu:return _=_.get(A.key===null?x:A.key)||null,l(w,_,A,O);case ea:return _=_.get(A.key===null?x:A.key)||null,d(w,_,A,O);case Vs:var M=A._init;return g(_,w,x,M(A._payload),O)}if(Jl(A)||Ul(A))return _=_.get(x)||null,h(w,_,A,O,null);ad(w,A)}return null}function T(_,w,x,A){for(var O=null,M=null,I=w,S=w=0,P=null;I!==null&&S<x.length;S++){I.index>S?(P=I,I=null):P=I.sibling;var k=m(_,I,x[S],A);if(k===null){I===null&&(I=P);break}t&&I&&k.alternate===null&&e(_,I),w=i(k,w,S),M===null?O=k:M.sibling=k,M=k,I=P}if(S===x.length)return n(_,I),Qe&&Ki(_,S),O;if(I===null){for(;S<x.length;S++)I=f(_,x[S],A),I!==null&&(w=i(I,w,S),M===null?O=I:M.sibling=I,M=I);return Qe&&Ki(_,S),O}for(I=r(_,I);S<x.length;S++)P=g(I,_,S,x[S],A),P!==null&&(t&&P.alternate!==null&&I.delete(P.key===null?S:P.key),w=i(P,w,S),M===null?O=P:M.sibling=P,M=P);return t&&I.forEach(function(D){return e(_,D)}),Qe&&Ki(_,S),O}function v(_,w,x,A){var O=Ul(x);if(typeof O!="function")throw Error(W(150));if(x=O.call(x),x==null)throw Error(W(151));for(var M=O=null,I=w,S=w=0,P=null,k=x.next();I!==null&&!k.done;S++,k=x.next()){I.index>S?(P=I,I=null):P=I.sibling;var D=m(_,I,k.value,A);if(D===null){I===null&&(I=P);break}t&&I&&D.alternate===null&&e(_,I),w=i(D,w,S),M===null?O=D:M.sibling=D,M=D,I=P}if(k.done)return n(_,I),Qe&&Ki(_,S),O;if(I===null){for(;!k.done;S++,k=x.next())k=f(_,k.value,A),k!==null&&(w=i(k,w,S),M===null?O=k:M.sibling=k,M=k);return Qe&&Ki(_,S),O}for(I=r(_,I);!k.done;S++,k=x.next())k=g(I,_,S,k.value,A),k!==null&&(t&&k.alternate!==null&&I.delete(k.key===null?S:k.key),w=i(k,w,S),M===null?O=k:M.sibling=k,M=k);return t&&I.forEach(function(C){return e(_,C)}),Qe&&Ki(_,S),O}function b(_,w,x,A){if(typeof x=="object"&&x!==null&&x.type===ta&&x.key===null&&(x=x.props.children),typeof x=="object"&&x!==null){switch(x.$$typeof){case Yu:e:{for(var O=x.key,M=w;M!==null;){if(M.key===O){if(O=x.type,O===ta){if(M.tag===7){n(_,M.sibling),w=s(M,x.props.children),w.return=_,_=w;break e}}else if(M.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Vs&&Bx(O)===M.type){n(_,M.sibling),w=s(M,x.props),w.ref=Wl(_,M,x),w.return=_,_=w;break e}n(_,M);break}else e(_,M);M=M.sibling}x.type===ta?(w=lo(x.props.children,_.mode,A,x.key),w.return=_,_=w):(A=Bd(x.type,x.key,x.props,null,_.mode,A),A.ref=Wl(_,w,x),A.return=_,_=A)}return o(_);case ea:e:{for(M=x.key;w!==null;){if(w.key===M)if(w.tag===4&&w.stateNode.containerInfo===x.containerInfo&&w.stateNode.implementation===x.implementation){n(_,w.sibling),w=s(w,x.children||[]),w.return=_,_=w;break e}else{n(_,w);break}else e(_,w);w=w.sibling}w=gm(x,_.mode,A),w.return=_,_=w}return o(_);case Vs:return M=x._init,b(_,w,M(x._payload),A)}if(Jl(x))return T(_,w,x,A);if(Ul(x))return v(_,w,x,A);ad(_,x)}return typeof x=="string"&&x!==""||typeof x=="number"?(x=""+x,w!==null&&w.tag===6?(n(_,w.sibling),w=s(w,x),w.return=_,_=w):(n(_,w),w=mm(x,_.mode,A),w.return=_,_=w),o(_)):n(_,w)}return b}var $a=vT(!0),wT=vT(!1),yh=Di(null),vh=null,ca=null,dv=null;function hv(){dv=ca=vh=null}function fv(t){var e=yh.current;Ge(yh),t._currentValue=e}function Cg(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function ya(t,e){vh=t,dv=ca=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(dn=!0),t.firstContext=null)}function Vn(t){var e=t._currentValue;if(dv!==t)if(t={context:t,memoizedValue:e,next:null},ca===null){if(vh===null)throw Error(W(308));ca=t,vh.dependencies={lanes:0,firstContext:t}}else ca=ca.next=t;return e}var Xi=null;function pv(t){Xi===null?Xi=[t]:Xi.push(t)}function xT(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,pv(e)):(n.next=s.next,s.next=n),e.interleaved=n,ls(t,r)}function ls(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Fs=!1;function mv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function _T(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function ss(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function li(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,ke&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,ls(t,n)}return s=r.interleaved,s===null?(e.next=e,pv(r)):(e.next=s.next,s.next=e),r.interleaved=e,ls(t,n)}function jd(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ev(t,n)}}function zx(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function wh(t,e,n,r){var s=t.updateQueue;Fs=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var l=a,d=l.next;l.next=null,o===null?i=d:o.next=d,o=l;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=d:a.next=d,h.lastBaseUpdate=l))}if(i!==null){var f=s.baseState;o=0,h=d=l=null,a=i;do{var m=a.lane,g=a.eventTime;if((r&m)===m){h!==null&&(h=h.next={eventTime:g,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var T=t,v=a;switch(m=e,g=n,v.tag){case 1:if(T=v.payload,typeof T=="function"){f=T.call(g,f,m);break e}f=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=v.payload,m=typeof T=="function"?T.call(g,f,m):T,m==null)break e;f=tt({},f,m);break e;case 2:Fs=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,m=s.effects,m===null?s.effects=[a]:m.push(a))}else g={eventTime:g,lane:m,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(d=h=g,l=f):h=h.next=g,o|=m;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;m=a,a=m.next,m.next=null,s.lastBaseUpdate=m,s.shared.pending=null}}while(!0);if(h===null&&(l=f),s.baseState=l,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);mo|=o,t.lanes=o,t.memoizedState=f}}function Hx(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(W(191,s));s.call(r)}}}var vu={},Nr=Di(vu),Fc=Di(vu),Uc=Di(vu);function Ji(t){if(t===vu)throw Error(W(174));return t}function gv(t,e){switch(ze(Uc,e),ze(Fc,t),ze(Nr,vu),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:ag(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=ag(e,t)}Ge(Nr),ze(Nr,e)}function Ba(){Ge(Nr),Ge(Fc),Ge(Uc)}function ET(t){Ji(Uc.current);var e=Ji(Nr.current),n=ag(e,t.type);e!==n&&(ze(Fc,t),ze(Nr,n))}function yv(t){Fc.current===t&&(Ge(Nr),Ge(Fc))}var Je=Di(0);function xh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var cm=[];function vv(){for(var t=0;t<cm.length;t++)cm[t]._workInProgressVersionPrimary=null;cm.length=0}var Ld=ws.ReactCurrentDispatcher,um=ws.ReactCurrentBatchConfig,po=0,Ze=null,vt=null,It=null,_h=!1,pc=!1,$c=0,KD=0;function Vt(){throw Error(W(321))}function wv(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!ir(t[n],e[n]))return!1;return!0}function xv(t,e,n,r,s,i){if(po=i,Ze=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,Ld.current=t===null||t.memoizedState===null?XD:JD,t=n(r,s),pc){i=0;do{if(pc=!1,$c=0,25<=i)throw Error(W(301));i+=1,It=vt=null,e.updateQueue=null,Ld.current=ZD,t=n(r,s)}while(pc)}if(Ld.current=Eh,e=vt!==null&&vt.next!==null,po=0,It=vt=Ze=null,_h=!1,e)throw Error(W(300));return t}function _v(){var t=$c!==0;return $c=0,t}function xr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return It===null?Ze.memoizedState=It=t:It=It.next=t,It}function Fn(){if(vt===null){var t=Ze.alternate;t=t!==null?t.memoizedState:null}else t=vt.next;var e=It===null?Ze.memoizedState:It.next;if(e!==null)It=e,vt=t;else{if(t===null)throw Error(W(310));vt=t,t={memoizedState:vt.memoizedState,baseState:vt.baseState,baseQueue:vt.baseQueue,queue:vt.queue,next:null},It===null?Ze.memoizedState=It=t:It=It.next=t}return It}function Bc(t,e){return typeof e=="function"?e(t):e}function dm(t){var e=Fn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=vt,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,l=null,d=i;do{var h=d.lane;if((po&h)===h)l!==null&&(l=l.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};l===null?(a=l=f,o=r):l=l.next=f,Ze.lanes|=h,mo|=h}d=d.next}while(d!==null&&d!==i);l===null?o=r:l.next=a,ir(r,e.memoizedState)||(dn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=l,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,Ze.lanes|=i,mo|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function hm(t){var e=Fn(),n=e.queue;if(n===null)throw Error(W(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);ir(i,e.memoizedState)||(dn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function bT(){}function TT(t,e){var n=Ze,r=Fn(),s=e(),i=!ir(r.memoizedState,s);if(i&&(r.memoizedState=s,dn=!0),r=r.queue,Ev(CT.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||It!==null&&It.memoizedState.tag&1){if(n.flags|=2048,zc(9,IT.bind(null,n,r,s,e),void 0,null),Nt===null)throw Error(W(349));po&30||ST(n,e,s)}return s}function ST(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function IT(t,e,n,r){e.value=n,e.getSnapshot=r,RT(e)&&NT(t)}function CT(t,e,n){return n(function(){RT(e)&&NT(t)})}function RT(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!ir(t,n)}catch{return!0}}function NT(t){var e=ls(t,1);e!==null&&nr(e,t,1,-1)}function Wx(t){var e=xr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:Bc,lastRenderedState:t},e.queue=t,t=t.dispatch=YD.bind(null,Ze,t),[e.memoizedState,t]}function zc(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=Ze.updateQueue,e===null?(e={lastEffect:null,stores:null},Ze.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function AT(){return Fn().memoizedState}function Vd(t,e,n,r){var s=xr();Ze.flags|=t,s.memoizedState=zc(1|e,n,void 0,r===void 0?null:r)}function vf(t,e,n,r){var s=Fn();r=r===void 0?null:r;var i=void 0;if(vt!==null){var o=vt.memoizedState;if(i=o.destroy,r!==null&&wv(r,o.deps)){s.memoizedState=zc(e,n,i,r);return}}Ze.flags|=t,s.memoizedState=zc(1|e,n,i,r)}function qx(t,e){return Vd(8390656,8,t,e)}function Ev(t,e){return vf(2048,8,t,e)}function PT(t,e){return vf(4,2,t,e)}function kT(t,e){return vf(4,4,t,e)}function DT(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function OT(t,e,n){return n=n!=null?n.concat([t]):null,vf(4,4,DT.bind(null,e,t),n)}function bv(){}function MT(t,e){var n=Fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wv(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function jT(t,e){var n=Fn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&wv(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function LT(t,e,n){return po&21?(ir(n,e)||(n=Bb(),Ze.lanes|=n,mo|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,dn=!0),t.memoizedState=n)}function GD(t,e){var n=Fe;Fe=n!==0&&4>n?n:4,t(!0);var r=um.transition;um.transition={};try{t(!1),e()}finally{Fe=n,um.transition=r}}function VT(){return Fn().memoizedState}function QD(t,e,n){var r=ui(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},FT(t))UT(e,n);else if(n=xT(t,e,n,r),n!==null){var s=Zt();nr(n,t,r,s),$T(n,e,r)}}function YD(t,e,n){var r=ui(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(FT(t))UT(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,ir(a,o)){var l=e.interleaved;l===null?(s.next=s,pv(e)):(s.next=l.next,l.next=s),e.interleaved=s;return}}catch{}finally{}n=xT(t,e,s,r),n!==null&&(s=Zt(),nr(n,t,r,s),$T(n,e,r))}}function FT(t){var e=t.alternate;return t===Ze||e!==null&&e===Ze}function UT(t,e){pc=_h=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function $T(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,ev(t,n)}}var Eh={readContext:Vn,useCallback:Vt,useContext:Vt,useEffect:Vt,useImperativeHandle:Vt,useInsertionEffect:Vt,useLayoutEffect:Vt,useMemo:Vt,useReducer:Vt,useRef:Vt,useState:Vt,useDebugValue:Vt,useDeferredValue:Vt,useTransition:Vt,useMutableSource:Vt,useSyncExternalStore:Vt,useId:Vt,unstable_isNewReconciler:!1},XD={readContext:Vn,useCallback:function(t,e){return xr().memoizedState=[t,e===void 0?null:e],t},useContext:Vn,useEffect:qx,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,Vd(4194308,4,DT.bind(null,e,t),n)},useLayoutEffect:function(t,e){return Vd(4194308,4,t,e)},useInsertionEffect:function(t,e){return Vd(4,2,t,e)},useMemo:function(t,e){var n=xr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=xr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=QD.bind(null,Ze,t),[r.memoizedState,t]},useRef:function(t){var e=xr();return t={current:t},e.memoizedState=t},useState:Wx,useDebugValue:bv,useDeferredValue:function(t){return xr().memoizedState=t},useTransition:function(){var t=Wx(!1),e=t[0];return t=GD.bind(null,t[1]),xr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=Ze,s=xr();if(Qe){if(n===void 0)throw Error(W(407));n=n()}else{if(n=e(),Nt===null)throw Error(W(349));po&30||ST(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,qx(CT.bind(null,r,i,t),[t]),r.flags|=2048,zc(9,IT.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=xr(),e=Nt.identifierPrefix;if(Qe){var n=Zr,r=Jr;n=(r&~(1<<32-tr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=$c++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=KD++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},JD={readContext:Vn,useCallback:MT,useContext:Vn,useEffect:Ev,useImperativeHandle:OT,useInsertionEffect:PT,useLayoutEffect:kT,useMemo:jT,useReducer:dm,useRef:AT,useState:function(){return dm(Bc)},useDebugValue:bv,useDeferredValue:function(t){var e=Fn();return LT(e,vt.memoizedState,t)},useTransition:function(){var t=dm(Bc)[0],e=Fn().memoizedState;return[t,e]},useMutableSource:bT,useSyncExternalStore:TT,useId:VT,unstable_isNewReconciler:!1},ZD={readContext:Vn,useCallback:MT,useContext:Vn,useEffect:Ev,useImperativeHandle:OT,useInsertionEffect:PT,useLayoutEffect:kT,useMemo:jT,useReducer:hm,useRef:AT,useState:function(){return hm(Bc)},useDebugValue:bv,useDeferredValue:function(t){var e=Fn();return vt===null?e.memoizedState=t:LT(e,vt.memoizedState,t)},useTransition:function(){var t=hm(Bc)[0],e=Fn().memoizedState;return[t,e]},useMutableSource:bT,useSyncExternalStore:TT,useId:VT,unstable_isNewReconciler:!1};function qn(t,e){if(t&&t.defaultProps){e=tt({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function Rg(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:tt({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var wf={isMounted:function(t){return(t=t._reactInternals)?Ao(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=Zt(),s=ui(t),i=ss(r,s);i.payload=e,n!=null&&(i.callback=n),e=li(t,i,s),e!==null&&(nr(e,t,s,r),jd(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=Zt(),s=ui(t),i=ss(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=li(t,i,s),e!==null&&(nr(e,t,s,r),jd(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=Zt(),r=ui(t),s=ss(n,r);s.tag=2,e!=null&&(s.callback=e),e=li(t,s,r),e!==null&&(nr(e,t,r,n),jd(e,t,r))}};function Kx(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Mc(n,r)||!Mc(s,i):!0}function BT(t,e,n){var r=!1,s=xi,i=e.contextType;return typeof i=="object"&&i!==null?i=Vn(i):(s=fn(e)?ho:Wt.current,r=e.contextTypes,i=(r=r!=null)?Fa(t,s):xi),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=wf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function Gx(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&wf.enqueueReplaceState(e,e.state,null)}function Ng(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},mv(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=Vn(i):(i=fn(e)?ho:Wt.current,s.context=Fa(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(Rg(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&wf.enqueueReplaceState(s,s.state,null),wh(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function za(t,e){try{var n="",r=e;do n+=C2(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function fm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function Ag(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var eO=typeof WeakMap=="function"?WeakMap:Map;function zT(t,e,n){n=ss(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Th||(Th=!0,Ug=r),Ag(t,e)},n}function HT(t,e,n){n=ss(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){Ag(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){Ag(t,e),typeof r!="function"&&(ci===null?ci=new Set([this]):ci.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function Qx(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new eO;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=pO.bind(null,t,e,n),e.then(t,t))}function Yx(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function Xx(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=ss(-1,1),e.tag=2,li(n,e,1))),n.lanes|=1),t)}var tO=ws.ReactCurrentOwner,dn=!1;function Xt(t,e,n,r){e.child=t===null?wT(e,null,n,r):$a(e,t.child,n,r)}function Jx(t,e,n,r,s){n=n.render;var i=e.ref;return ya(e,s),r=xv(t,e,n,r,i,s),n=_v(),t!==null&&!dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,cs(t,e,s)):(Qe&&n&&lv(e),e.flags|=1,Xt(t,e,r,s),e.child)}function Zx(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!Pv(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,WT(t,e,i,r,s)):(t=Bd(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Mc,n(o,r)&&t.ref===e.ref)return cs(t,e,s)}return e.flags|=1,t=di(i,r),t.ref=e.ref,t.return=e,e.child=t}function WT(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Mc(i,r)&&t.ref===e.ref)if(dn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(dn=!0);else return e.lanes=t.lanes,cs(t,e,s)}return Pg(t,e,n,r,s)}function qT(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},ze(da,vn),vn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,ze(da,vn),vn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,ze(da,vn),vn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,ze(da,vn),vn|=r;return Xt(t,e,s,n),e.child}function KT(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function Pg(t,e,n,r,s){var i=fn(n)?ho:Wt.current;return i=Fa(e,i),ya(e,s),n=xv(t,e,n,r,i,s),r=_v(),t!==null&&!dn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,cs(t,e,s)):(Qe&&r&&lv(e),e.flags|=1,Xt(t,e,n,s),e.child)}function e_(t,e,n,r,s){if(fn(n)){var i=!0;ph(e)}else i=!1;if(ya(e,s),e.stateNode===null)Fd(t,e),BT(e,n,r),Ng(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var l=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=Vn(d):(d=fn(n)?ho:Wt.current,d=Fa(e,d));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||l!==d)&&Gx(e,o,r,d),Fs=!1;var m=e.memoizedState;o.state=m,wh(e,r,o,s),l=e.memoizedState,a!==r||m!==l||hn.current||Fs?(typeof h=="function"&&(Rg(e,n,h,r),l=e.memoizedState),(a=Fs||Kx(e,n,a,r,m,l,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=l),o.props=r,o.state=l,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,_T(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:qn(e.type,a),o.props=d,f=e.pendingProps,m=o.context,l=n.contextType,typeof l=="object"&&l!==null?l=Vn(l):(l=fn(n)?ho:Wt.current,l=Fa(e,l));var g=n.getDerivedStateFromProps;(h=typeof g=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||m!==l)&&Gx(e,o,r,l),Fs=!1,m=e.memoizedState,o.state=m,wh(e,r,o,s);var T=e.memoizedState;a!==f||m!==T||hn.current||Fs?(typeof g=="function"&&(Rg(e,n,g,r),T=e.memoizedState),(d=Fs||Kx(e,n,d,r,m,T,l)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,T,l),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,T,l)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),o.props=r,o.state=T,o.context=l,r=d):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&m===t.memoizedState||(e.flags|=1024),r=!1)}return kg(t,e,n,r,i,s)}function kg(t,e,n,r,s,i){KT(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&Fx(e,n,!1),cs(t,e,i);r=e.stateNode,tO.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=$a(e,t.child,null,i),e.child=$a(e,null,a,i)):Xt(t,e,a,i),e.memoizedState=r.state,s&&Fx(e,n,!0),e.child}function GT(t){var e=t.stateNode;e.pendingContext?Vx(t,e.pendingContext,e.pendingContext!==e.context):e.context&&Vx(t,e.context,!1),gv(t,e.containerInfo)}function t_(t,e,n,r,s){return Ua(),uv(s),e.flags|=256,Xt(t,e,n,r),e.child}var Dg={dehydrated:null,treeContext:null,retryLane:0};function Og(t){return{baseLanes:t,cachePool:null,transitions:null}}function QT(t,e,n){var r=e.pendingProps,s=Je.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),ze(Je,s&1),t===null)return Ig(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Ef(o,r,0,null),t=lo(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=Og(n),e.memoizedState=Dg,t):Tv(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return nO(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var l={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=l,e.deletions=null):(r=di(s,l),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=di(a,i):(i=lo(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?Og(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=Dg,r}return i=t.child,t=i.sibling,r=di(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function Tv(t,e){return e=Ef({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function ld(t,e,n,r){return r!==null&&uv(r),$a(e,t.child,null,n),t=Tv(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function nO(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=fm(Error(W(422))),ld(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Ef({mode:"visible",children:r.children},s,0,null),i=lo(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&$a(e,t.child,null,o),e.child.memoizedState=Og(o),e.memoizedState=Dg,i);if(!(e.mode&1))return ld(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(W(419)),r=fm(i,r,void 0),ld(t,e,o,r)}if(a=(o&t.childLanes)!==0,dn||a){if(r=Nt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,ls(t,s),nr(r,t,s,-1))}return Av(),r=fm(Error(W(421))),ld(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=mO.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,xn=ai(s.nextSibling),En=e,Qe=!0,Jn=null,t!==null&&(Pn[kn++]=Jr,Pn[kn++]=Zr,Pn[kn++]=fo,Jr=t.id,Zr=t.overflow,fo=e),e=Tv(e,r.children),e.flags|=4096,e)}function n_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),Cg(t.return,e,n)}function pm(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function YT(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Xt(t,e,r.children,n),r=Je.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&n_(t,n,e);else if(t.tag===19)n_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(ze(Je,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&xh(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),pm(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&xh(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}pm(e,!0,n,null,i);break;case"together":pm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function Fd(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function cs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),mo|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(W(153));if(e.child!==null){for(t=e.child,n=di(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=di(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function rO(t,e,n){switch(e.tag){case 3:GT(e),Ua();break;case 5:ET(e);break;case 1:fn(e.type)&&ph(e);break;case 4:gv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;ze(yh,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(ze(Je,Je.current&1),e.flags|=128,null):n&e.child.childLanes?QT(t,e,n):(ze(Je,Je.current&1),t=cs(t,e,n),t!==null?t.sibling:null);ze(Je,Je.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return YT(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),ze(Je,Je.current),r)break;return null;case 22:case 23:return e.lanes=0,qT(t,e,n)}return cs(t,e,n)}var XT,Mg,JT,ZT;XT=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};Mg=function(){};JT=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,Ji(Nr.current);var i=null;switch(n){case"input":s=rg(t,s),r=rg(t,r),i=[];break;case"select":s=tt({},s,{value:void 0}),r=tt({},r,{value:void 0}),i=[];break;case"textarea":s=og(t,s),r=og(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=hh)}lg(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(Rc.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var l=r[d];if(a=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&l!==a&&(l!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||l&&l.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in l)l.hasOwnProperty(o)&&a[o]!==l[o]&&(n||(n={}),n[o]=l[o])}else n||(i||(i=[]),i.push(d,n)),n=l;else d==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,a=a?a.__html:void 0,l!=null&&a!==l&&(i=i||[]).push(d,l)):d==="children"?typeof l!="string"&&typeof l!="number"||(i=i||[]).push(d,""+l):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(Rc.hasOwnProperty(d)?(l!=null&&d==="onScroll"&&qe("scroll",t),i||a===l||(i=[])):(i=i||[]).push(d,l))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};ZT=function(t,e,n,r){n!==r&&(e.flags|=4)};function ql(t,e){if(!Qe)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Ft(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function sO(t,e,n){var r=e.pendingProps;switch(cv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Ft(e),null;case 1:return fn(e.type)&&fh(),Ft(e),null;case 3:return r=e.stateNode,Ba(),Ge(hn),Ge(Wt),vv(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(od(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,Jn!==null&&(zg(Jn),Jn=null))),Mg(t,e),Ft(e),null;case 5:yv(e);var s=Ji(Uc.current);if(n=e.type,t!==null&&e.stateNode!=null)JT(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(W(166));return Ft(e),null}if(t=Ji(Nr.current),od(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Sr]=e,r[Vc]=i,t=(e.mode&1)!==0,n){case"dialog":qe("cancel",r),qe("close",r);break;case"iframe":case"object":case"embed":qe("load",r);break;case"video":case"audio":for(s=0;s<ec.length;s++)qe(ec[s],r);break;case"source":qe("error",r);break;case"img":case"image":case"link":qe("error",r),qe("load",r);break;case"details":qe("toggle",r);break;case"input":dx(r,i),qe("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},qe("invalid",r);break;case"textarea":fx(r,i),qe("invalid",r)}lg(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&id(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&id(r.textContent,a,t),s=["children",""+a]):Rc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&qe("scroll",r)}switch(n){case"input":Xu(r),hx(r,i,!0);break;case"textarea":Xu(r),px(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=hh)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=Cb(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Sr]=e,t[Vc]=r,XT(t,e,!1,!1),e.stateNode=t;e:{switch(o=cg(n,r),n){case"dialog":qe("cancel",t),qe("close",t),s=r;break;case"iframe":case"object":case"embed":qe("load",t),s=r;break;case"video":case"audio":for(s=0;s<ec.length;s++)qe(ec[s],t);s=r;break;case"source":qe("error",t),s=r;break;case"img":case"image":case"link":qe("error",t),qe("load",t),s=r;break;case"details":qe("toggle",t),s=r;break;case"input":dx(t,r),s=rg(t,r),qe("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=tt({},r,{value:void 0}),qe("invalid",t);break;case"textarea":fx(t,r),s=og(t,r),qe("invalid",t);break;default:s=r}lg(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var l=a[i];i==="style"?Ab(t,l):i==="dangerouslySetInnerHTML"?(l=l?l.__html:void 0,l!=null&&Rb(t,l)):i==="children"?typeof l=="string"?(n!=="textarea"||l!=="")&&Nc(t,l):typeof l=="number"&&Nc(t,""+l):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(Rc.hasOwnProperty(i)?l!=null&&i==="onScroll"&&qe("scroll",t):l!=null&&Gy(t,i,l,o))}switch(n){case"input":Xu(t),hx(t,r,!1);break;case"textarea":Xu(t),px(t);break;case"option":r.value!=null&&t.setAttribute("value",""+wi(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?fa(t,!!r.multiple,i,!1):r.defaultValue!=null&&fa(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=hh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Ft(e),null;case 6:if(t&&e.stateNode!=null)ZT(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(W(166));if(n=Ji(Uc.current),Ji(Nr.current),od(e)){if(r=e.stateNode,n=e.memoizedProps,r[Sr]=e,(i=r.nodeValue!==n)&&(t=En,t!==null))switch(t.tag){case 3:id(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&id(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Sr]=e,e.stateNode=r}return Ft(e),null;case 13:if(Ge(Je),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Qe&&xn!==null&&e.mode&1&&!(e.flags&128))yT(),Ua(),e.flags|=98560,i=!1;else if(i=od(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(W(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(W(317));i[Sr]=e}else Ua(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Ft(e),i=!1}else Jn!==null&&(zg(Jn),Jn=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||Je.current&1?wt===0&&(wt=3):Av())),e.updateQueue!==null&&(e.flags|=4),Ft(e),null);case 4:return Ba(),Mg(t,e),t===null&&jc(e.stateNode.containerInfo),Ft(e),null;case 10:return fv(e.type._context),Ft(e),null;case 17:return fn(e.type)&&fh(),Ft(e),null;case 19:if(Ge(Je),i=e.memoizedState,i===null)return Ft(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ql(i,!1);else{if(wt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=xh(t),o!==null){for(e.flags|=128,ql(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return ze(Je,Je.current&1|2),e.child}t=t.sibling}i.tail!==null&&ct()>Ha&&(e.flags|=128,r=!0,ql(i,!1),e.lanes=4194304)}else{if(!r)if(t=xh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ql(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Qe)return Ft(e),null}else 2*ct()-i.renderingStartTime>Ha&&n!==1073741824&&(e.flags|=128,r=!0,ql(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=ct(),e.sibling=null,n=Je.current,ze(Je,r?n&1|2:n&1),e):(Ft(e),null);case 22:case 23:return Nv(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?vn&1073741824&&(Ft(e),e.subtreeFlags&6&&(e.flags|=8192)):Ft(e),null;case 24:return null;case 25:return null}throw Error(W(156,e.tag))}function iO(t,e){switch(cv(e),e.tag){case 1:return fn(e.type)&&fh(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return Ba(),Ge(hn),Ge(Wt),vv(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return yv(e),null;case 13:if(Ge(Je),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(W(340));Ua()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Ge(Je),null;case 4:return Ba(),null;case 10:return fv(e.type._context),null;case 22:case 23:return Nv(),null;case 24:return null;default:return null}}var cd=!1,zt=!1,oO=typeof WeakSet=="function"?WeakSet:Set,re=null;function ua(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){it(t,e,r)}else n.current=null}function jg(t,e,n){try{n()}catch(r){it(t,e,r)}}var r_=!1;function aO(t,e){if(wg=ch,t=sT(),av(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,l=-1,d=0,h=0,f=t,m=null;t:for(;;){for(var g;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(l=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(g=f.firstChild)!==null;)m=f,f=g;for(;;){if(f===t)break t;if(m===n&&++d===s&&(a=o),m===i&&++h===r&&(l=o),(g=f.nextSibling)!==null)break;f=m,m=f.parentNode}f=g}n=a===-1||l===-1?null:{start:a,end:l}}else n=null}n=n||{start:0,end:0}}else n=null;for(xg={focusedElem:t,selectionRange:n},ch=!1,re=e;re!==null;)if(e=re,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,re=t;else for(;re!==null;){e=re;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var v=T.memoizedProps,b=T.memoizedState,_=e.stateNode,w=_.getSnapshotBeforeUpdate(e.elementType===e.type?v:qn(e.type,v),b);_.__reactInternalSnapshotBeforeUpdate=w}break;case 3:var x=e.stateNode.containerInfo;x.nodeType===1?x.textContent="":x.nodeType===9&&x.documentElement&&x.removeChild(x.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(W(163))}}catch(A){it(e,e.return,A)}if(t=e.sibling,t!==null){t.return=e.return,re=t;break}re=e.return}return T=r_,r_=!1,T}function mc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&jg(e,n,i)}s=s.next}while(s!==r)}}function xf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function Lg(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function eS(t){var e=t.alternate;e!==null&&(t.alternate=null,eS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Sr],delete e[Vc],delete e[bg],delete e[zD],delete e[HD])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function tS(t){return t.tag===5||t.tag===3||t.tag===4}function s_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||tS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function Vg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=hh));else if(r!==4&&(t=t.child,t!==null))for(Vg(t,e,n),t=t.sibling;t!==null;)Vg(t,e,n),t=t.sibling}function Fg(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(Fg(t,e,n),t=t.sibling;t!==null;)Fg(t,e,n),t=t.sibling}var At=null,Yn=!1;function As(t,e,n){for(n=n.child;n!==null;)nS(t,e,n),n=n.sibling}function nS(t,e,n){if(Rr&&typeof Rr.onCommitFiberUnmount=="function")try{Rr.onCommitFiberUnmount(hf,n)}catch{}switch(n.tag){case 5:zt||ua(n,e);case 6:var r=At,s=Yn;At=null,As(t,e,n),At=r,Yn=s,At!==null&&(Yn?(t=At,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):At.removeChild(n.stateNode));break;case 18:At!==null&&(Yn?(t=At,n=n.stateNode,t.nodeType===8?am(t.parentNode,n):t.nodeType===1&&am(t,n),Dc(t)):am(At,n.stateNode));break;case 4:r=At,s=Yn,At=n.stateNode.containerInfo,Yn=!0,As(t,e,n),At=r,Yn=s;break;case 0:case 11:case 14:case 15:if(!zt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&jg(n,e,o),s=s.next}while(s!==r)}As(t,e,n);break;case 1:if(!zt&&(ua(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){it(n,e,a)}As(t,e,n);break;case 21:As(t,e,n);break;case 22:n.mode&1?(zt=(r=zt)||n.memoizedState!==null,As(t,e,n),zt=r):As(t,e,n);break;default:As(t,e,n)}}function i_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new oO),e.forEach(function(r){var s=gO.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function zn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:At=a.stateNode,Yn=!1;break e;case 3:At=a.stateNode.containerInfo,Yn=!0;break e;case 4:At=a.stateNode.containerInfo,Yn=!0;break e}a=a.return}if(At===null)throw Error(W(160));nS(i,o,s),At=null,Yn=!1;var l=s.alternate;l!==null&&(l.return=null),s.return=null}catch(d){it(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)rS(e,t),e=e.sibling}function rS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(zn(e,t),wr(t),r&4){try{mc(3,t,t.return),xf(3,t)}catch(v){it(t,t.return,v)}try{mc(5,t,t.return)}catch(v){it(t,t.return,v)}}break;case 1:zn(e,t),wr(t),r&512&&n!==null&&ua(n,n.return);break;case 5:if(zn(e,t),wr(t),r&512&&n!==null&&ua(n,n.return),t.flags&32){var s=t.stateNode;try{Nc(s,"")}catch(v){it(t,t.return,v)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,l=t.updateQueue;if(t.updateQueue=null,l!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&Sb(s,i),cg(a,o);var d=cg(a,i);for(o=0;o<l.length;o+=2){var h=l[o],f=l[o+1];h==="style"?Ab(s,f):h==="dangerouslySetInnerHTML"?Rb(s,f):h==="children"?Nc(s,f):Gy(s,h,f,d)}switch(a){case"input":sg(s,i);break;case"textarea":Ib(s,i);break;case"select":var m=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var g=i.value;g!=null?fa(s,!!i.multiple,g,!1):m!==!!i.multiple&&(i.defaultValue!=null?fa(s,!!i.multiple,i.defaultValue,!0):fa(s,!!i.multiple,i.multiple?[]:"",!1))}s[Vc]=i}catch(v){it(t,t.return,v)}}break;case 6:if(zn(e,t),wr(t),r&4){if(t.stateNode===null)throw Error(W(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(v){it(t,t.return,v)}}break;case 3:if(zn(e,t),wr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Dc(e.containerInfo)}catch(v){it(t,t.return,v)}break;case 4:zn(e,t),wr(t);break;case 13:zn(e,t),wr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(Cv=ct())),r&4&&i_(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(zt=(d=zt)||h,zn(e,t),zt=d):zn(e,t),wr(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(re=t,h=t.child;h!==null;){for(f=re=h;re!==null;){switch(m=re,g=m.child,m.tag){case 0:case 11:case 14:case 15:mc(4,m,m.return);break;case 1:ua(m,m.return);var T=m.stateNode;if(typeof T.componentWillUnmount=="function"){r=m,n=m.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(v){it(r,n,v)}}break;case 5:ua(m,m.return);break;case 22:if(m.memoizedState!==null){a_(f);continue}}g!==null?(g.return=m,re=g):a_(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,l=f.memoizedProps.style,o=l!=null&&l.hasOwnProperty("display")?l.display:null,a.style.display=Nb("display",o))}catch(v){it(t,t.return,v)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(v){it(t,t.return,v)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:zn(e,t),wr(t),r&4&&i_(t);break;case 21:break;default:zn(e,t),wr(t)}}function wr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(tS(n)){var r=n;break e}n=n.return}throw Error(W(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Nc(s,""),r.flags&=-33);var i=s_(t);Fg(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=s_(t);Vg(t,a,o);break;default:throw Error(W(161))}}catch(l){it(t,t.return,l)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function lO(t,e,n){re=t,sS(t)}function sS(t,e,n){for(var r=(t.mode&1)!==0;re!==null;){var s=re,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||cd;if(!o){var a=s.alternate,l=a!==null&&a.memoizedState!==null||zt;a=cd;var d=zt;if(cd=o,(zt=l)&&!d)for(re=s;re!==null;)o=re,l=o.child,o.tag===22&&o.memoizedState!==null?l_(s):l!==null?(l.return=o,re=l):l_(s);for(;i!==null;)re=i,sS(i),i=i.sibling;re=s,cd=a,zt=d}o_(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,re=i):o_(t)}}function o_(t){for(;re!==null;){var e=re;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:zt||xf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!zt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:qn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&Hx(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}Hx(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var l=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":l.autoFocus&&n.focus();break;case"img":l.src&&(n.src=l.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Dc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(W(163))}zt||e.flags&512&&Lg(e)}catch(m){it(e,e.return,m)}}if(e===t){re=null;break}if(n=e.sibling,n!==null){n.return=e.return,re=n;break}re=e.return}}function a_(t){for(;re!==null;){var e=re;if(e===t){re=null;break}var n=e.sibling;if(n!==null){n.return=e.return,re=n;break}re=e.return}}function l_(t){for(;re!==null;){var e=re;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{xf(4,e)}catch(l){it(e,n,l)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(l){it(e,s,l)}}var i=e.return;try{Lg(e)}catch(l){it(e,i,l)}break;case 5:var o=e.return;try{Lg(e)}catch(l){it(e,o,l)}}}catch(l){it(e,e.return,l)}if(e===t){re=null;break}var a=e.sibling;if(a!==null){a.return=e.return,re=a;break}re=e.return}}var cO=Math.ceil,bh=ws.ReactCurrentDispatcher,Sv=ws.ReactCurrentOwner,Mn=ws.ReactCurrentBatchConfig,ke=0,Nt=null,ht=null,Dt=0,vn=0,da=Di(0),wt=0,Hc=null,mo=0,_f=0,Iv=0,gc=null,cn=null,Cv=0,Ha=1/0,Kr=null,Th=!1,Ug=null,ci=null,ud=!1,ti=null,Sh=0,yc=0,$g=null,Ud=-1,$d=0;function Zt(){return ke&6?ct():Ud!==-1?Ud:Ud=ct()}function ui(t){return t.mode&1?ke&2&&Dt!==0?Dt&-Dt:qD.transition!==null?($d===0&&($d=Bb()),$d):(t=Fe,t!==0||(t=window.event,t=t===void 0?16:Qb(t.type)),t):1}function nr(t,e,n,r){if(50<yc)throw yc=0,$g=null,Error(W(185));mu(t,n,r),(!(ke&2)||t!==Nt)&&(t===Nt&&(!(ke&2)&&(_f|=n),wt===4&&zs(t,Dt)),pn(t,r),n===1&&ke===0&&!(e.mode&1)&&(Ha=ct()+500,yf&&Oi()))}function pn(t,e){var n=t.callbackNode;q2(t,e);var r=lh(t,t===Nt?Dt:0);if(r===0)n!==null&&yx(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&yx(n),e===1)t.tag===0?WD(c_.bind(null,t)):pT(c_.bind(null,t)),$D(function(){!(ke&6)&&Oi()}),n=null;else{switch(zb(r)){case 1:n=Zy;break;case 4:n=Ub;break;case 16:n=ah;break;case 536870912:n=$b;break;default:n=ah}n=hS(n,iS.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function iS(t,e){if(Ud=-1,$d=0,ke&6)throw Error(W(327));var n=t.callbackNode;if(va()&&t.callbackNode!==n)return null;var r=lh(t,t===Nt?Dt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=Ih(t,r);else{e=r;var s=ke;ke|=2;var i=aS();(Nt!==t||Dt!==e)&&(Kr=null,Ha=ct()+500,ao(t,e));do try{hO();break}catch(a){oS(t,a)}while(!0);hv(),bh.current=i,ke=s,ht!==null?e=0:(Nt=null,Dt=0,e=wt)}if(e!==0){if(e===2&&(s=pg(t),s!==0&&(r=s,e=Bg(t,s))),e===1)throw n=Hc,ao(t,0),zs(t,r),pn(t,ct()),n;if(e===6)zs(t,r);else{if(s=t.current.alternate,!(r&30)&&!uO(s)&&(e=Ih(t,r),e===2&&(i=pg(t),i!==0&&(r=i,e=Bg(t,i))),e===1))throw n=Hc,ao(t,0),zs(t,r),pn(t,ct()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(W(345));case 2:Gi(t,cn,Kr);break;case 3:if(zs(t,r),(r&130023424)===r&&(e=Cv+500-ct(),10<e)){if(lh(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){Zt(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=Eg(Gi.bind(null,t,cn,Kr),e);break}Gi(t,cn,Kr);break;case 4:if(zs(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-tr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=ct()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*cO(r/1960))-r,10<r){t.timeoutHandle=Eg(Gi.bind(null,t,cn,Kr),r);break}Gi(t,cn,Kr);break;case 5:Gi(t,cn,Kr);break;default:throw Error(W(329))}}}return pn(t,ct()),t.callbackNode===n?iS.bind(null,t):null}function Bg(t,e){var n=gc;return t.current.memoizedState.isDehydrated&&(ao(t,e).flags|=256),t=Ih(t,e),t!==2&&(e=cn,cn=n,e!==null&&zg(e)),t}function zg(t){cn===null?cn=t:cn.push.apply(cn,t)}function uO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!ir(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function zs(t,e){for(e&=~Iv,e&=~_f,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-tr(e),r=1<<n;t[n]=-1,e&=~r}}function c_(t){if(ke&6)throw Error(W(327));va();var e=lh(t,0);if(!(e&1))return pn(t,ct()),null;var n=Ih(t,e);if(t.tag!==0&&n===2){var r=pg(t);r!==0&&(e=r,n=Bg(t,r))}if(n===1)throw n=Hc,ao(t,0),zs(t,e),pn(t,ct()),n;if(n===6)throw Error(W(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,Gi(t,cn,Kr),pn(t,ct()),null}function Rv(t,e){var n=ke;ke|=1;try{return t(e)}finally{ke=n,ke===0&&(Ha=ct()+500,yf&&Oi())}}function go(t){ti!==null&&ti.tag===0&&!(ke&6)&&va();var e=ke;ke|=1;var n=Mn.transition,r=Fe;try{if(Mn.transition=null,Fe=1,t)return t()}finally{Fe=r,Mn.transition=n,ke=e,!(ke&6)&&Oi()}}function Nv(){vn=da.current,Ge(da)}function ao(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,UD(n)),ht!==null)for(n=ht.return;n!==null;){var r=n;switch(cv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&fh();break;case 3:Ba(),Ge(hn),Ge(Wt),vv();break;case 5:yv(r);break;case 4:Ba();break;case 13:Ge(Je);break;case 19:Ge(Je);break;case 10:fv(r.type._context);break;case 22:case 23:Nv()}n=n.return}if(Nt=t,ht=t=di(t.current,null),Dt=vn=e,wt=0,Hc=null,Iv=_f=mo=0,cn=gc=null,Xi!==null){for(e=0;e<Xi.length;e++)if(n=Xi[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}Xi=null}return t}function oS(t,e){do{var n=ht;try{if(hv(),Ld.current=Eh,_h){for(var r=Ze.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}_h=!1}if(po=0,It=vt=Ze=null,pc=!1,$c=0,Sv.current=null,n===null||n.return===null){wt=1,Hc=e,ht=null;break}e:{var i=t,o=n.return,a=n,l=e;if(e=Dt,a.flags|=32768,l!==null&&typeof l=="object"&&typeof l.then=="function"){var d=l,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var m=h.alternate;m?(h.updateQueue=m.updateQueue,h.memoizedState=m.memoizedState,h.lanes=m.lanes):(h.updateQueue=null,h.memoizedState=null)}var g=Yx(o);if(g!==null){g.flags&=-257,Xx(g,o,a,i,e),g.mode&1&&Qx(i,d,e),e=g,l=d;var T=e.updateQueue;if(T===null){var v=new Set;v.add(l),e.updateQueue=v}else T.add(l);break e}else{if(!(e&1)){Qx(i,d,e),Av();break e}l=Error(W(426))}}else if(Qe&&a.mode&1){var b=Yx(o);if(b!==null){!(b.flags&65536)&&(b.flags|=256),Xx(b,o,a,i,e),uv(za(l,a));break e}}i=l=za(l,a),wt!==4&&(wt=2),gc===null?gc=[i]:gc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=zT(i,l,e);zx(i,_);break e;case 1:a=l;var w=i.type,x=i.stateNode;if(!(i.flags&128)&&(typeof w.getDerivedStateFromError=="function"||x!==null&&typeof x.componentDidCatch=="function"&&(ci===null||!ci.has(x)))){i.flags|=65536,e&=-e,i.lanes|=e;var A=HT(i,a,e);zx(i,A);break e}}i=i.return}while(i!==null)}cS(n)}catch(O){e=O,ht===n&&n!==null&&(ht=n=n.return);continue}break}while(!0)}function aS(){var t=bh.current;return bh.current=Eh,t===null?Eh:t}function Av(){(wt===0||wt===3||wt===2)&&(wt=4),Nt===null||!(mo&268435455)&&!(_f&268435455)||zs(Nt,Dt)}function Ih(t,e){var n=ke;ke|=2;var r=aS();(Nt!==t||Dt!==e)&&(Kr=null,ao(t,e));do try{dO();break}catch(s){oS(t,s)}while(!0);if(hv(),ke=n,bh.current=r,ht!==null)throw Error(W(261));return Nt=null,Dt=0,wt}function dO(){for(;ht!==null;)lS(ht)}function hO(){for(;ht!==null&&!L2();)lS(ht)}function lS(t){var e=dS(t.alternate,t,vn);t.memoizedProps=t.pendingProps,e===null?cS(t):ht=e,Sv.current=null}function cS(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=iO(n,e),n!==null){n.flags&=32767,ht=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{wt=6,ht=null;return}}else if(n=sO(n,e,vn),n!==null){ht=n;return}if(e=e.sibling,e!==null){ht=e;return}ht=e=t}while(e!==null);wt===0&&(wt=5)}function Gi(t,e,n){var r=Fe,s=Mn.transition;try{Mn.transition=null,Fe=1,fO(t,e,n,r)}finally{Mn.transition=s,Fe=r}return null}function fO(t,e,n,r){do va();while(ti!==null);if(ke&6)throw Error(W(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(W(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(K2(t,i),t===Nt&&(ht=Nt=null,Dt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||ud||(ud=!0,hS(ah,function(){return va(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Mn.transition,Mn.transition=null;var o=Fe;Fe=1;var a=ke;ke|=4,Sv.current=null,aO(t,n),rS(n,t),DD(xg),ch=!!wg,xg=wg=null,t.current=n,lO(n),V2(),ke=a,Fe=o,Mn.transition=i}else t.current=n;if(ud&&(ud=!1,ti=t,Sh=s),i=t.pendingLanes,i===0&&(ci=null),$2(n.stateNode),pn(t,ct()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Th)throw Th=!1,t=Ug,Ug=null,t;return Sh&1&&t.tag!==0&&va(),i=t.pendingLanes,i&1?t===$g?yc++:(yc=0,$g=t):yc=0,Oi(),null}function va(){if(ti!==null){var t=zb(Sh),e=Mn.transition,n=Fe;try{if(Mn.transition=null,Fe=16>t?16:t,ti===null)var r=!1;else{if(t=ti,ti=null,Sh=0,ke&6)throw Error(W(331));var s=ke;for(ke|=4,re=t.current;re!==null;){var i=re,o=i.child;if(re.flags&16){var a=i.deletions;if(a!==null){for(var l=0;l<a.length;l++){var d=a[l];for(re=d;re!==null;){var h=re;switch(h.tag){case 0:case 11:case 15:mc(8,h,i)}var f=h.child;if(f!==null)f.return=h,re=f;else for(;re!==null;){h=re;var m=h.sibling,g=h.return;if(eS(h),h===d){re=null;break}if(m!==null){m.return=g,re=m;break}re=g}}}var T=i.alternate;if(T!==null){var v=T.child;if(v!==null){T.child=null;do{var b=v.sibling;v.sibling=null,v=b}while(v!==null)}}re=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,re=o;else e:for(;re!==null;){if(i=re,i.flags&2048)switch(i.tag){case 0:case 11:case 15:mc(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,re=_;break e}re=i.return}}var w=t.current;for(re=w;re!==null;){o=re;var x=o.child;if(o.subtreeFlags&2064&&x!==null)x.return=o,re=x;else e:for(o=w;re!==null;){if(a=re,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:xf(9,a)}}catch(O){it(a,a.return,O)}if(a===o){re=null;break e}var A=a.sibling;if(A!==null){A.return=a.return,re=A;break e}re=a.return}}if(ke=s,Oi(),Rr&&typeof Rr.onPostCommitFiberRoot=="function")try{Rr.onPostCommitFiberRoot(hf,t)}catch{}r=!0}return r}finally{Fe=n,Mn.transition=e}}return!1}function u_(t,e,n){e=za(n,e),e=zT(t,e,1),t=li(t,e,1),e=Zt(),t!==null&&(mu(t,1,e),pn(t,e))}function it(t,e,n){if(t.tag===3)u_(t,t,n);else for(;e!==null;){if(e.tag===3){u_(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(ci===null||!ci.has(r))){t=za(n,t),t=HT(e,t,1),e=li(e,t,1),t=Zt(),e!==null&&(mu(e,1,t),pn(e,t));break}}e=e.return}}function pO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=Zt(),t.pingedLanes|=t.suspendedLanes&n,Nt===t&&(Dt&n)===n&&(wt===4||wt===3&&(Dt&130023424)===Dt&&500>ct()-Cv?ao(t,0):Iv|=n),pn(t,e)}function uS(t,e){e===0&&(t.mode&1?(e=ed,ed<<=1,!(ed&130023424)&&(ed=4194304)):e=1);var n=Zt();t=ls(t,e),t!==null&&(mu(t,e,n),pn(t,n))}function mO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),uS(t,n)}function gO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(W(314))}r!==null&&r.delete(e),uS(t,n)}var dS;dS=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||hn.current)dn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return dn=!1,rO(t,e,n);dn=!!(t.flags&131072)}else dn=!1,Qe&&e.flags&1048576&&mT(e,gh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;Fd(t,e),t=e.pendingProps;var s=Fa(e,Wt.current);ya(e,n),s=xv(null,e,r,t,s,n);var i=_v();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,fn(r)?(i=!0,ph(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,mv(e),s.updater=wf,e.stateNode=s,s._reactInternals=e,Ng(e,r,t,n),e=kg(null,e,r,!0,i,n)):(e.tag=0,Qe&&i&&lv(e),Xt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(Fd(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=vO(r),t=qn(r,t),s){case 0:e=Pg(null,e,r,t,n);break e;case 1:e=e_(null,e,r,t,n);break e;case 11:e=Jx(null,e,r,t,n);break e;case 14:e=Zx(null,e,r,qn(r.type,t),n);break e}throw Error(W(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:qn(r,s),Pg(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:qn(r,s),e_(t,e,r,s,n);case 3:e:{if(GT(e),t===null)throw Error(W(387));r=e.pendingProps,i=e.memoizedState,s=i.element,_T(t,e),wh(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=za(Error(W(423)),e),e=t_(t,e,r,n,s);break e}else if(r!==s){s=za(Error(W(424)),e),e=t_(t,e,r,n,s);break e}else for(xn=ai(e.stateNode.containerInfo.firstChild),En=e,Qe=!0,Jn=null,n=wT(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(Ua(),r===s){e=cs(t,e,n);break e}Xt(t,e,r,n)}e=e.child}return e;case 5:return ET(e),t===null&&Ig(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,_g(r,s)?o=null:i!==null&&_g(r,i)&&(e.flags|=32),KT(t,e),Xt(t,e,o,n),e.child;case 6:return t===null&&Ig(e),null;case 13:return QT(t,e,n);case 4:return gv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=$a(e,null,r,n):Xt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:qn(r,s),Jx(t,e,r,s,n);case 7:return Xt(t,e,e.pendingProps,n),e.child;case 8:return Xt(t,e,e.pendingProps.children,n),e.child;case 12:return Xt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,ze(yh,r._currentValue),r._currentValue=o,i!==null)if(ir(i.value,o)){if(i.children===s.children&&!hn.current){e=cs(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var l=a.firstContext;l!==null;){if(l.context===r){if(i.tag===1){l=ss(-1,n&-n),l.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?l.next=l:(l.next=h.next,h.next=l),d.pending=l}}i.lanes|=n,l=i.alternate,l!==null&&(l.lanes|=n),Cg(i.return,n,e),a.lanes|=n;break}l=l.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(W(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),Cg(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Xt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,ya(e,n),s=Vn(s),r=r(s),e.flags|=1,Xt(t,e,r,n),e.child;case 14:return r=e.type,s=qn(r,e.pendingProps),s=qn(r.type,s),Zx(t,e,r,s,n);case 15:return WT(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:qn(r,s),Fd(t,e),e.tag=1,fn(r)?(t=!0,ph(e)):t=!1,ya(e,n),BT(e,r,s),Ng(e,r,s,n),kg(null,e,r,!0,t,n);case 19:return YT(t,e,n);case 22:return qT(t,e,n)}throw Error(W(156,e.tag))};function hS(t,e){return Fb(t,e)}function yO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function On(t,e,n,r){return new yO(t,e,n,r)}function Pv(t){return t=t.prototype,!(!t||!t.isReactComponent)}function vO(t){if(typeof t=="function")return Pv(t)?1:0;if(t!=null){if(t=t.$$typeof,t===Yy)return 11;if(t===Xy)return 14}return 2}function di(t,e){var n=t.alternate;return n===null?(n=On(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function Bd(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")Pv(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case ta:return lo(n.children,s,i,e);case Qy:o=8,s|=8;break;case Zm:return t=On(12,n,e,s|2),t.elementType=Zm,t.lanes=i,t;case eg:return t=On(13,n,e,s),t.elementType=eg,t.lanes=i,t;case tg:return t=On(19,n,e,s),t.elementType=tg,t.lanes=i,t;case Eb:return Ef(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case xb:o=10;break e;case _b:o=9;break e;case Yy:o=11;break e;case Xy:o=14;break e;case Vs:o=16,r=null;break e}throw Error(W(130,t==null?t:typeof t,""))}return e=On(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function lo(t,e,n,r){return t=On(7,t,r,e),t.lanes=n,t}function Ef(t,e,n,r){return t=On(22,t,r,e),t.elementType=Eb,t.lanes=n,t.stateNode={isHidden:!1},t}function mm(t,e,n){return t=On(6,t,null,e),t.lanes=n,t}function gm(t,e,n){return e=On(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function wO(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Yp(0),this.expirationTimes=Yp(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Yp(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function kv(t,e,n,r,s,i,o,a,l){return t=new wO(t,e,n,a,l),e===1?(e=1,i===!0&&(e|=8)):e=0,i=On(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},mv(i),t}function xO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:ea,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function fS(t){if(!t)return xi;t=t._reactInternals;e:{if(Ao(t)!==t||t.tag!==1)throw Error(W(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(fn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(W(171))}if(t.tag===1){var n=t.type;if(fn(n))return fT(t,n,e)}return e}function pS(t,e,n,r,s,i,o,a,l){return t=kv(n,r,!0,t,s,i,o,a,l),t.context=fS(null),n=t.current,r=Zt(),s=ui(n),i=ss(r,s),i.callback=e??null,li(n,i,s),t.current.lanes=s,mu(t,s,r),pn(t,r),t}function bf(t,e,n,r){var s=e.current,i=Zt(),o=ui(s);return n=fS(n),e.context===null?e.context=n:e.pendingContext=n,e=ss(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=li(s,e,o),t!==null&&(nr(t,s,o,i),jd(t,s,o)),o}function Ch(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function d_(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function Dv(t,e){d_(t,e),(t=t.alternate)&&d_(t,e)}function _O(){return null}var mS=typeof reportError=="function"?reportError:function(t){console.error(t)};function Ov(t){this._internalRoot=t}Tf.prototype.render=Ov.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(W(409));bf(t,e,null,null)};Tf.prototype.unmount=Ov.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;go(function(){bf(null,t,null,null)}),e[as]=null}};function Tf(t){this._internalRoot=t}Tf.prototype.unstable_scheduleHydration=function(t){if(t){var e=qb();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Bs.length&&e!==0&&e<Bs[n].priority;n++);Bs.splice(n,0,t),n===0&&Gb(t)}};function Mv(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Sf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function h_(){}function EO(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=Ch(o);i.call(d)}}var o=pS(e,r,t,0,null,!1,!1,"",h_);return t._reactRootContainer=o,t[as]=o.current,jc(t.nodeType===8?t.parentNode:t),go(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var d=Ch(l);a.call(d)}}var l=kv(t,0,!1,null,null,!1,!1,"",h_);return t._reactRootContainer=l,t[as]=l.current,jc(t.nodeType===8?t.parentNode:t),go(function(){bf(e,l,n,r)}),l}function If(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var l=Ch(o);a.call(l)}}bf(e,o,t,s)}else o=EO(n,e,t,s,r);return Ch(o)}Hb=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=Zl(e.pendingLanes);n!==0&&(ev(e,n|1),pn(e,ct()),!(ke&6)&&(Ha=ct()+500,Oi()))}break;case 13:go(function(){var r=ls(t,1);if(r!==null){var s=Zt();nr(r,t,1,s)}}),Dv(t,1)}};tv=function(t){if(t.tag===13){var e=ls(t,134217728);if(e!==null){var n=Zt();nr(e,t,134217728,n)}Dv(t,134217728)}};Wb=function(t){if(t.tag===13){var e=ui(t),n=ls(t,e);if(n!==null){var r=Zt();nr(n,t,e,r)}Dv(t,e)}};qb=function(){return Fe};Kb=function(t,e){var n=Fe;try{return Fe=t,e()}finally{Fe=n}};dg=function(t,e,n){switch(e){case"input":if(sg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=gf(r);if(!s)throw Error(W(90));Tb(r),sg(r,s)}}}break;case"textarea":Ib(t,n);break;case"select":e=n.value,e!=null&&fa(t,!!n.multiple,e,!1)}};Db=Rv;Ob=go;var bO={usingClientEntryPoint:!1,Events:[yu,ia,gf,Pb,kb,Rv]},Kl={findFiberByHostInstance:Yi,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},TO={bundleType:Kl.bundleType,version:Kl.version,rendererPackageName:Kl.rendererPackageName,rendererConfig:Kl.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ws.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=Lb(t),t===null?null:t.stateNode},findFiberByHostInstance:Kl.findFiberByHostInstance||_O,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var dd=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!dd.isDisabled&&dd.supportsFiber)try{hf=dd.inject(TO),Rr=dd}catch{}}In.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=bO;In.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!Mv(e))throw Error(W(200));return xO(t,e,null,n)};In.createRoot=function(t,e){if(!Mv(t))throw Error(W(299));var n=!1,r="",s=mS;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=kv(t,1,!1,null,null,n,!1,r,s),t[as]=e.current,jc(t.nodeType===8?t.parentNode:t),new Ov(e)};In.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(W(188)):(t=Object.keys(t).join(","),Error(W(268,t)));return t=Lb(e),t=t===null?null:t.stateNode,t};In.flushSync=function(t){return go(t)};In.hydrate=function(t,e,n){if(!Sf(e))throw Error(W(200));return If(null,t,e,!0,n)};In.hydrateRoot=function(t,e,n){if(!Mv(t))throw Error(W(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=mS;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=pS(e,null,t,1,n??null,s,!1,i,o),t[as]=e.current,jc(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Tf(e)};In.render=function(t,e,n){if(!Sf(e))throw Error(W(200));return If(null,t,e,!1,n)};In.unmountComponentAtNode=function(t){if(!Sf(t))throw Error(W(40));return t._reactRootContainer?(go(function(){If(null,null,t,!1,function(){t._reactRootContainer=null,t[as]=null})}),!0):!1};In.unstable_batchedUpdates=Rv;In.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Sf(n))throw Error(W(200));if(t==null||t._reactInternals===void 0)throw Error(W(38));return If(t,e,n,!1,r)};In.version="18.3.1-next-f1338f8080-20240426";function gS(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(gS)}catch(t){console.error(t)}}gS(),gb.exports=In;var Po=gb.exports;const yS=sb(Po);var vS,f_=Po;vS=f_.createRoot,f_.hydrateRoot;const SO=1,IO=1e6;let ym=0;function CO(){return ym=(ym+1)%Number.MAX_SAFE_INTEGER,ym.toString()}const vm=new Map,p_=t=>{if(vm.has(t))return;const e=setTimeout(()=>{vm.delete(t),vc({type:"REMOVE_TOAST",toastId:t})},IO);vm.set(t,e)},RO=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,SO)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?p_(n):t.toasts.forEach(r=>{p_(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},zd=[];let Hd={toasts:[]};function vc(t){Hd=RO(Hd,t),zd.forEach(e=>{e(Hd)})}function NO({...t}){const e=CO(),n=s=>vc({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>vc({type:"DISMISS_TOAST",toastId:e});return vc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function AO(){const[t,e]=p.useState(Hd);return p.useEffect(()=>(zd.push(e),()=>{const n=zd.indexOf(e);n>-1&&zd.splice(n,1)}),[t]),{...t,toast:NO,dismiss:n=>vc({type:"DISMISS_TOAST",toastId:n})}}function ee(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function m_(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Cf(...t){return e=>{let n=!1;const r=t.map(s=>{const i=m_(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():m_(t[s],null)}}}}function je(...t){return p.useCallback(Cf(...t),t)}function PO(t,e){const n=p.createContext(e),r=i=>{const{children:o,...a}=i,l=p.useMemo(()=>a,Object.values(a));return u.jsx(n.Provider,{value:l,children:o})};r.displayName=t+"Provider";function s(i){const o=p.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function xs(t,e=[]){let n=[];function r(i,o){const a=p.createContext(o),l=n.length;n=[...n,o];const d=f=>{var _;const{scope:m,children:g,...T}=f,v=((_=m==null?void 0:m[t])==null?void 0:_[l])||a,b=p.useMemo(()=>T,Object.values(T));return u.jsx(v.Provider,{value:b,children:g})};d.displayName=i+"Provider";function h(f,m){var v;const g=((v=m==null?void 0:m[t])==null?void 0:v[l])||a,T=p.useContext(g);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,h]}const s=()=>{const i=n.map(o=>p.createContext(o));return function(a){const l=(a==null?void 0:a[t])||i;return p.useMemo(()=>({[`__scope${t}`]:{...a,[t]:l}}),[a,l])}};return s.scopeName=t,[r,kO(s,...e)]}function kO(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:l,scopeName:d})=>{const f=l(i)[`__scope${d}`];return{...a,...f}},{});return p.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function yo(t){const e=DO(t),n=p.forwardRef((r,s)=>{const{children:i,...o}=r,a=p.Children.toArray(i),l=a.find(MO);if(l){const d=l.props.children,h=a.map(f=>f===l?p.Children.count(d)>1?p.Children.only(null):p.isValidElement(d)?d.props.children:null:f);return u.jsx(e,{...o,ref:s,children:p.isValidElement(d)?p.cloneElement(d,void 0,h):null})}return u.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var ol=yo("Slot");function DO(t){const e=p.forwardRef((n,r)=>{const{children:s,...i}=n;if(p.isValidElement(s)){const o=LO(s),a=jO(i,s.props);return s.type!==p.Fragment&&(a.ref=r?Cf(r,o):o),p.cloneElement(s,a)}return p.Children.count(s)>1?p.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var wS=Symbol("radix.slottable");function OO(t){const e=({children:n})=>u.jsx(u.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=wS,e}function MO(t){return p.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===wS}function jO(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const l=i(...a);return s(...a),l}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function LO(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function Rf(t){const e=t+"CollectionProvider",[n,r]=xs(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=v=>{const{scope:b,children:_}=v,w=G.useRef(null),x=G.useRef(new Map).current;return u.jsx(s,{scope:b,itemMap:x,collectionRef:w,children:_})};o.displayName=e;const a=t+"CollectionSlot",l=yo(a),d=G.forwardRef((v,b)=>{const{scope:_,children:w}=v,x=i(a,_),A=je(b,x.collectionRef);return u.jsx(l,{ref:A,children:w})});d.displayName=a;const h=t+"CollectionItemSlot",f="data-radix-collection-item",m=yo(h),g=G.forwardRef((v,b)=>{const{scope:_,children:w,...x}=v,A=G.useRef(null),O=je(b,A),M=i(h,_);return G.useEffect(()=>(M.itemMap.set(A,{ref:A,...x}),()=>void M.itemMap.delete(A))),u.jsx(m,{[f]:"",ref:O,children:w})});g.displayName=h;function T(v){const b=i(t+"CollectionConsumer",v);return G.useCallback(()=>{const w=b.collectionRef.current;if(!w)return[];const x=Array.from(w.querySelectorAll(`[${f}]`));return Array.from(b.itemMap.values()).sort((M,I)=>x.indexOf(M.ref.current)-x.indexOf(I.ref.current))},[b.collectionRef,b.itemMap])}return[{Provider:o,Slot:d,ItemSlot:g},T,r]}var VO=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ge=VO.reduce((t,e)=>{const n=yo(`Primitive.${e}`),r=p.forwardRef((s,i)=>{const{asChild:o,...a}=s,l=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),u.jsx(l,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function jv(t,e){t&&Po.flushSync(()=>t.dispatchEvent(e))}function mn(t){const e=p.useRef(t);return p.useEffect(()=>{e.current=t}),p.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function FO(t,e=globalThis==null?void 0:globalThis.document){const n=mn(t);p.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var UO="DismissableLayer",Hg="dismissableLayer.update",$O="dismissableLayer.pointerDownOutside",BO="dismissableLayer.focusOutside",g_,xS=p.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),al=p.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...l}=t,d=p.useContext(xS),[h,f]=p.useState(null),m=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,g]=p.useState({}),T=je(e,I=>f(I)),v=Array.from(d.layers),[b]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),_=v.indexOf(b),w=h?v.indexOf(h):-1,x=d.layersWithOutsidePointerEventsDisabled.size>0,A=w>=_,O=HO(I=>{const S=I.target,P=[...d.branches].some(k=>k.contains(S));!A||P||(s==null||s(I),o==null||o(I),I.defaultPrevented||a==null||a())},m),M=WO(I=>{const S=I.target;[...d.branches].some(k=>k.contains(S))||(i==null||i(I),o==null||o(I),I.defaultPrevented||a==null||a())},m);return FO(I=>{w===d.layers.size-1&&(r==null||r(I),!I.defaultPrevented&&a&&(I.preventDefault(),a()))},m),p.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(g_=m.body.style.pointerEvents,m.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),y_(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(m.body.style.pointerEvents=g_)}},[h,m,n,d]),p.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),y_())},[h,d]),p.useEffect(()=>{const I=()=>g({});return document.addEventListener(Hg,I),()=>document.removeEventListener(Hg,I)},[]),u.jsx(ge.div,{...l,ref:T,style:{pointerEvents:x?A?"auto":"none":void 0,...t.style},onFocusCapture:ee(t.onFocusCapture,M.onFocusCapture),onBlurCapture:ee(t.onBlurCapture,M.onBlurCapture),onPointerDownCapture:ee(t.onPointerDownCapture,O.onPointerDownCapture)})});al.displayName=UO;var zO="DismissableLayerBranch",_S=p.forwardRef((t,e)=>{const n=p.useContext(xS),r=p.useRef(null),s=je(e,r);return p.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),u.jsx(ge.div,{...t,ref:s})});_S.displayName=zO;function HO(t,e=globalThis==null?void 0:globalThis.document){const n=mn(t),r=p.useRef(!1),s=p.useRef(()=>{});return p.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let l=function(){ES($O,n,d,{discrete:!0})};const d={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=l,e.addEventListener("click",s.current,{once:!0})):l()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function WO(t,e=globalThis==null?void 0:globalThis.document){const n=mn(t),r=p.useRef(!1);return p.useEffect(()=>{const s=i=>{i.target&&!r.current&&ES(BO,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function y_(){const t=new CustomEvent(Hg);document.dispatchEvent(t)}function ES(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?jv(s,i):s.dispatchEvent(i)}var qO=al,KO=_S,Mt=globalThis!=null&&globalThis.document?p.useLayoutEffect:()=>{},GO="Portal",wu=p.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=p.useState(!1);Mt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?yS.createPortal(u.jsx(ge.div,{...r,ref:e}),o):null});wu.displayName=GO;function QO(t,e){return p.useReducer((n,r)=>e[n][r]??n,t)}var Ur=t=>{const{present:e,children:n}=t,r=YO(e),s=typeof n=="function"?n({present:r.isPresent}):p.Children.only(n),i=je(r.ref,XO(s));return typeof n=="function"||r.isPresent?p.cloneElement(s,{ref:i}):null};Ur.displayName="Presence";function YO(t){const[e,n]=p.useState(),r=p.useRef(null),s=p.useRef(t),i=p.useRef("none"),o=t?"mounted":"unmounted",[a,l]=QO(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return p.useEffect(()=>{const d=hd(r.current);i.current=a==="mounted"?d:"none"},[a]),Mt(()=>{const d=r.current,h=s.current;if(h!==t){const m=i.current,g=hd(d);t?l("MOUNT"):g==="none"||(d==null?void 0:d.display)==="none"?l("UNMOUNT"):l(h&&m!==g?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,l]),Mt(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,f=g=>{const v=hd(r.current).includes(g.animationName);if(g.target===e&&v&&(l("ANIMATION_END"),!s.current)){const b=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=b)})}},m=g=>{g.target===e&&(i.current=hd(r.current))};return e.addEventListener("animationstart",m),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",m),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else l("ANIMATION_END")},[e,l]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:p.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function hd(t){return(t==null?void 0:t.animationName)||"none"}function XO(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var JO=Wy[" useInsertionEffect ".trim().toString()]||Mt;function vo({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=ZO({defaultProp:e,onChange:n}),a=t!==void 0,l=a?t:s;{const h=p.useRef(t!==void 0);p.useEffect(()=>{const f=h.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=a},[a,r])}const d=p.useCallback(h=>{var f;if(a){const m=eM(h)?h(t):h;m!==t&&((f=o.current)==null||f.call(o,m))}else i(h)},[a,t,i,o]);return[l,d]}function ZO({defaultProp:t,onChange:e}){const[n,r]=p.useState(t),s=p.useRef(n),i=p.useRef(e);return JO(()=>{i.current=e},[e]),p.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function eM(t){return typeof t=="function"}var bS=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),tM="VisuallyHidden",Nf=p.forwardRef((t,e)=>u.jsx(ge.span,{...t,ref:e,style:{...bS,...t.style}}));Nf.displayName=tM;var nM=Nf,Lv="ToastProvider",[Vv,rM,sM]=Rf("Toast"),[TS,fq]=xs("Toast",[sM]),[iM,Af]=TS(Lv),SS=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,l]=p.useState(null),[d,h]=p.useState(0),f=p.useRef(!1),m=p.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${Lv}\`. Expected non-empty \`string\`.`),u.jsx(Vv.Provider,{scope:e,children:u.jsx(iM,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:d,viewport:a,onViewportChange:l,onToastAdd:p.useCallback(()=>h(g=>g+1),[]),onToastRemove:p.useCallback(()=>h(g=>g-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:m,children:o})})};SS.displayName=Lv;var IS="ToastViewport",oM=["F8"],Wg="toast.viewportPause",qg="toast.viewportResume",CS=p.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=oM,label:s="Notifications ({hotkey})",...i}=t,o=Af(IS,n),a=rM(n),l=p.useRef(null),d=p.useRef(null),h=p.useRef(null),f=p.useRef(null),m=je(e,f,o.onViewportChange),g=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=o.toastCount>0;p.useEffect(()=>{const b=_=>{var x;r.length!==0&&r.every(A=>_[A]||_.code===A)&&((x=f.current)==null||x.focus())};return document.addEventListener("keydown",b),()=>document.removeEventListener("keydown",b)},[r]),p.useEffect(()=>{const b=l.current,_=f.current;if(T&&b&&_){const w=()=>{if(!o.isClosePausedRef.current){const M=new CustomEvent(Wg);_.dispatchEvent(M),o.isClosePausedRef.current=!0}},x=()=>{if(o.isClosePausedRef.current){const M=new CustomEvent(qg);_.dispatchEvent(M),o.isClosePausedRef.current=!1}},A=M=>{!b.contains(M.relatedTarget)&&x()},O=()=>{b.contains(document.activeElement)||x()};return b.addEventListener("focusin",w),b.addEventListener("focusout",A),b.addEventListener("pointermove",w),b.addEventListener("pointerleave",O),window.addEventListener("blur",w),window.addEventListener("focus",x),()=>{b.removeEventListener("focusin",w),b.removeEventListener("focusout",A),b.removeEventListener("pointermove",w),b.removeEventListener("pointerleave",O),window.removeEventListener("blur",w),window.removeEventListener("focus",x)}}},[T,o.isClosePausedRef]);const v=p.useCallback(({tabbingDirection:b})=>{const w=a().map(x=>{const A=x.ref.current,O=[A,...wM(A)];return b==="forwards"?O:O.reverse()});return(b==="forwards"?w.reverse():w).flat()},[a]);return p.useEffect(()=>{const b=f.current;if(b){const _=w=>{var O,M,I;const x=w.altKey||w.ctrlKey||w.metaKey;if(w.key==="Tab"&&!x){const S=document.activeElement,P=w.shiftKey;if(w.target===b&&P){(O=d.current)==null||O.focus();return}const C=v({tabbingDirection:P?"backwards":"forwards"}),N=C.findIndex($=>$===S);wm(C.slice(N+1))?w.preventDefault():P?(M=d.current)==null||M.focus():(I=h.current)==null||I.focus()}};return b.addEventListener("keydown",_),()=>b.removeEventListener("keydown",_)}},[a,v]),u.jsxs(KO,{ref:l,role:"region","aria-label":s.replace("{hotkey}",g),tabIndex:-1,style:{pointerEvents:T?void 0:"none"},children:[T&&u.jsx(Kg,{ref:d,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:"forwards"});wm(b)}}),u.jsx(Vv.Slot,{scope:n,children:u.jsx(ge.ol,{tabIndex:-1,...i,ref:m})}),T&&u.jsx(Kg,{ref:h,onFocusFromOutsideViewport:()=>{const b=v({tabbingDirection:"backwards"});wm(b)}})]})});CS.displayName=IS;var RS="ToastFocusProxy",Kg=p.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=Af(RS,n);return u.jsx(Nf,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var d;const a=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(a))&&r()}})});Kg.displayName=RS;var xu="Toast",aM="toast.swipeStart",lM="toast.swipeMove",cM="toast.swipeCancel",uM="toast.swipeEnd",NS=p.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,l]=vo({prop:r,defaultProp:s??!0,onChange:i,caller:xu});return u.jsx(Ur,{present:n||a,children:u.jsx(fM,{open:a,...o,ref:e,onClose:()=>l(!1),onPause:mn(t.onPause),onResume:mn(t.onResume),onSwipeStart:ee(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ee(t.onSwipeMove,d=>{const{x:h,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ee(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ee(t.onSwipeEnd,d=>{const{x:h,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),l(!1)})})})});NS.displayName=xu;var[dM,hM]=TS(xu,{onClose(){}}),fM=p.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:l,onResume:d,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:m,onSwipeEnd:g,...T}=t,v=Af(xu,n),[b,_]=p.useState(null),w=je(e,$=>_($)),x=p.useRef(null),A=p.useRef(null),O=s||v.duration,M=p.useRef(0),I=p.useRef(O),S=p.useRef(0),{onToastAdd:P,onToastRemove:k}=v,D=mn(()=>{var se;(b==null?void 0:b.contains(document.activeElement))&&((se=v.viewport)==null||se.focus()),o()}),C=p.useCallback($=>{!$||$===1/0||(window.clearTimeout(S.current),M.current=new Date().getTime(),S.current=window.setTimeout(D,$))},[D]);p.useEffect(()=>{const $=v.viewport;if($){const se=()=>{C(I.current),d==null||d()},Y=()=>{const ie=new Date().getTime()-M.current;I.current=I.current-ie,window.clearTimeout(S.current),l==null||l()};return $.addEventListener(Wg,Y),$.addEventListener(qg,se),()=>{$.removeEventListener(Wg,Y),$.removeEventListener(qg,se)}}},[v.viewport,O,l,d,C]),p.useEffect(()=>{i&&!v.isClosePausedRef.current&&C(O)},[i,O,v.isClosePausedRef,C]),p.useEffect(()=>(P(),()=>k()),[P,k]);const N=p.useMemo(()=>b?jS(b):null,[b]);return v.viewport?u.jsxs(u.Fragment,{children:[N&&u.jsx(pM,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:N}),u.jsx(dM,{scope:n,onClose:D,children:Po.createPortal(u.jsx(Vv.ItemSlot,{scope:n,children:u.jsx(qO,{asChild:!0,onEscapeKeyDown:ee(a,()=>{v.isFocusedToastEscapeKeyDownRef.current||D(),v.isFocusedToastEscapeKeyDownRef.current=!1}),children:u.jsx(ge.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":v.swipeDirection,...T,ref:w,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ee(t.onKeyDown,$=>{$.key==="Escape"&&(a==null||a($.nativeEvent),$.nativeEvent.defaultPrevented||(v.isFocusedToastEscapeKeyDownRef.current=!0,D()))}),onPointerDown:ee(t.onPointerDown,$=>{$.button===0&&(x.current={x:$.clientX,y:$.clientY})}),onPointerMove:ee(t.onPointerMove,$=>{if(!x.current)return;const se=$.clientX-x.current.x,Y=$.clientY-x.current.y,ie=!!A.current,U=["left","right"].includes(v.swipeDirection),L=["left","up"].includes(v.swipeDirection)?Math.min:Math.max,K=U?L(0,se):0,oe=U?0:L(0,Y),j=$.pointerType==="touch"?10:2,J={x:K,y:oe},Z={originalEvent:$,delta:J};ie?(A.current=J,fd(lM,f,Z,{discrete:!1})):v_(J,v.swipeDirection,j)?(A.current=J,fd(aM,h,Z,{discrete:!1}),$.target.setPointerCapture($.pointerId)):(Math.abs(se)>j||Math.abs(Y)>j)&&(x.current=null)}),onPointerUp:ee(t.onPointerUp,$=>{const se=A.current,Y=$.target;if(Y.hasPointerCapture($.pointerId)&&Y.releasePointerCapture($.pointerId),A.current=null,x.current=null,se){const ie=$.currentTarget,U={originalEvent:$,delta:se};v_(se,v.swipeDirection,v.swipeThreshold)?fd(uM,g,U,{discrete:!0}):fd(cM,m,U,{discrete:!0}),ie.addEventListener("click",L=>L.preventDefault(),{once:!0})}})})})}),v.viewport)})]}):null}),pM=t=>{const{__scopeToast:e,children:n,...r}=t,s=Af(xu,e),[i,o]=p.useState(!1),[a,l]=p.useState(!1);return yM(()=>o(!0)),p.useEffect(()=>{const d=window.setTimeout(()=>l(!0),1e3);return()=>window.clearTimeout(d)},[]),a?null:u.jsx(wu,{asChild:!0,children:u.jsx(Nf,{...r,children:i&&u.jsxs(u.Fragment,{children:[s.label," ",n]})})})},mM="ToastTitle",AS=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(ge.div,{...r,ref:e})});AS.displayName=mM;var gM="ToastDescription",PS=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return u.jsx(ge.div,{...r,ref:e})});PS.displayName=gM;var kS="ToastAction",DS=p.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?u.jsx(MS,{altText:n,asChild:!0,children:u.jsx(Fv,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${kS}\`. Expected non-empty \`string\`.`),null)});DS.displayName=kS;var OS="ToastClose",Fv=p.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=hM(OS,n);return u.jsx(MS,{asChild:!0,children:u.jsx(ge.button,{type:"button",...r,ref:e,onClick:ee(t.onClick,s.onClose)})})});Fv.displayName=OS;var MS=p.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return u.jsx(ge.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function jS(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),vM(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...jS(r))}}),e}function fd(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?jv(s,i):s.dispatchEvent(i)}var v_=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function yM(t=()=>{}){const e=mn(t);Mt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function vM(t){return t.nodeType===t.ELEMENT_NODE}function wM(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function wm(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var xM=SS,LS=CS,VS=NS,FS=AS,US=PS,$S=DS,BS=Fv;function zS(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=zS(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function HS(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=zS(t))&&(r&&(r+=" "),r+=e);return r}const w_=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,x_=HS,ll=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return x_(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(d=>{const h=n==null?void 0:n[d],f=i==null?void 0:i[d];if(h===null)return null;const m=w_(h)||w_(f);return s[d][m]}),a=n&&Object.entries(n).reduce((d,h)=>{let[f,m]=h;return m===void 0||(d[f]=m),d},{}),l=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:f,className:m,...g}=h;return Object.entries(g).every(T=>{let[v,b]=T;return Array.isArray(b)?b.includes({...i,...a}[v]):{...i,...a}[v]===b})?[...d,f,m]:d},[]);return x_(t,o,l,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _M=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),WS=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var EM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const bM=p.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},l)=>p.createElement("svg",{ref:l,...EM,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:WS("lucide",s),...a},[...o.map(([d,h])=>p.createElement(d,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const De=(t,e)=>{const n=p.forwardRef(({className:r,...s},i)=>p.createElement(bM,{ref:i,iconNode:e,className:WS(`lucide-${_M(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const TM=De("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const SM=De("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qS=De("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const KS=De("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const IM=De("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const CM=De("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const RM=De("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const NM=De("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const AM=De("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const GS=De("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Rh=De("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const PM=De("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kM=De("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const DM=De("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const OM=De("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const MM=De("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jM=De("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Nh=De("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const LM=De("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const wa=De("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const VM=De("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Uv=De("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gg=De("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wa=De("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wc=De("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const FM=De("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const QS=De("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pf=De("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YS=De("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qc=De("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const XS=De("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $v=De("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const kf=De("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Bv="-",UM=t=>{const e=BM(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Bv);return a[0]===""&&a.length!==1&&a.shift(),JS(a,e)||$M(o)},getConflictingClassGroupIds:(o,a)=>{const l=n[o]||[];return a&&r[o]?[...l,...r[o]]:l}}},JS=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?JS(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Bv);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},__=/^\[(.+)\]$/,$M=t=>{if(__.test(t)){const e=__.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},BM=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return HM(Object.entries(t.classGroups),n).forEach(([i,o])=>{Qg(o,r,i,e)}),r},Qg=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:E_(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(zM(s)){Qg(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Qg(o,E_(e,i),n,r)})})},E_=(t,e)=>{let n=t;return e.split(Bv).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},zM=t=>t.isThemeGetter,HM=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,WM=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},ZS="!",qM=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const l=[];let d=0,h=0,f;for(let b=0;b<a.length;b++){let _=a[b];if(d===0){if(_===s&&(r||a.slice(b,b+i)===e)){l.push(a.slice(h,b)),h=b+i;continue}if(_==="/"){f=b;continue}}_==="["?d++:_==="]"&&d--}const m=l.length===0?a:a.substring(h),g=m.startsWith(ZS),T=g?m.substring(1):m,v=f&&f>h?f-h:void 0;return{modifiers:l,hasImportantModifier:g,baseClassName:T,maybePostfixModifierPosition:v}};return n?a=>n({className:a,parseClassName:o}):o},KM=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},GM=t=>({cache:WM(t.cacheSize),parseClassName:qM(t),...UM(t)}),QM=/\s+/,YM=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(QM);let a="";for(let l=o.length-1;l>=0;l-=1){const d=o[l],{modifiers:h,hasImportantModifier:f,baseClassName:m,maybePostfixModifierPosition:g}=n(d);let T=!!g,v=r(T?m.substring(0,g):m);if(!v){if(!T){a=d+(a.length>0?" "+a:a);continue}if(v=r(m),!v){a=d+(a.length>0?" "+a:a);continue}T=!1}const b=KM(h).join(":"),_=f?b+ZS:b,w=_+v;if(i.includes(w))continue;i.push(w);const x=s(v,T);for(let A=0;A<x.length;++A){const O=x[A];i.push(_+O)}a=d+(a.length>0?" "+a:a)}return a};function XM(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=eI(e))&&(r&&(r+=" "),r+=n);return r}const eI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=eI(t[r]))&&(n&&(n+=" "),n+=e);return n};function JM(t,...e){let n,r,s,i=o;function o(l){const d=e.reduce((h,f)=>f(h),t());return n=GM(d),r=n.cache.get,s=n.cache.set,i=a,a(l)}function a(l){const d=r(l);if(d)return d;const h=YM(l,n);return s(l,h),h}return function(){return i(XM.apply(null,arguments))}}const We=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},tI=/^\[(?:([a-z-]+):)?(.+)\]$/i,ZM=/^\d+\/\d+$/,ej=new Set(["px","full","screen"]),tj=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,nj=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,rj=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,sj=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,ij=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,Wr=t=>xa(t)||ej.has(t)||ZM.test(t),Ps=t=>cl(t,"length",fj),xa=t=>!!t&&!Number.isNaN(Number(t)),xm=t=>cl(t,"number",xa),Gl=t=>!!t&&Number.isInteger(Number(t)),oj=t=>t.endsWith("%")&&xa(t.slice(0,-1)),ye=t=>tI.test(t),ks=t=>tj.test(t),aj=new Set(["length","size","percentage"]),lj=t=>cl(t,aj,nI),cj=t=>cl(t,"position",nI),uj=new Set(["image","url"]),dj=t=>cl(t,uj,mj),hj=t=>cl(t,"",pj),Ql=()=>!0,cl=(t,e,n)=>{const r=tI.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},fj=t=>nj.test(t)&&!rj.test(t),nI=()=>!1,pj=t=>sj.test(t),mj=t=>ij.test(t),gj=()=>{const t=We("colors"),e=We("spacing"),n=We("blur"),r=We("brightness"),s=We("borderColor"),i=We("borderRadius"),o=We("borderSpacing"),a=We("borderWidth"),l=We("contrast"),d=We("grayscale"),h=We("hueRotate"),f=We("invert"),m=We("gap"),g=We("gradientColorStops"),T=We("gradientColorStopPositions"),v=We("inset"),b=We("margin"),_=We("opacity"),w=We("padding"),x=We("saturate"),A=We("scale"),O=We("sepia"),M=We("skew"),I=We("space"),S=We("translate"),P=()=>["auto","contain","none"],k=()=>["auto","hidden","clip","visible","scroll"],D=()=>["auto",ye,e],C=()=>[ye,e],N=()=>["",Wr,Ps],$=()=>["auto",xa,ye],se=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],Y=()=>["solid","dashed","dotted","double","none"],ie=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],U=()=>["start","end","center","between","around","evenly","stretch"],L=()=>["","0",ye],K=()=>["auto","avoid","all","avoid-page","page","left","right","column"],oe=()=>[xa,ye];return{cacheSize:500,separator:":",theme:{colors:[Ql],spacing:[Wr,Ps],blur:["none","",ks,ye],brightness:oe(),borderColor:[t],borderRadius:["none","","full",ks,ye],borderSpacing:C(),borderWidth:N(),contrast:oe(),grayscale:L(),hueRotate:oe(),invert:L(),gap:C(),gradientColorStops:[t],gradientColorStopPositions:[oj,Ps],inset:D(),margin:D(),opacity:oe(),padding:C(),saturate:oe(),scale:oe(),sepia:L(),skew:oe(),space:C(),translate:C()},classGroups:{aspect:[{aspect:["auto","square","video",ye]}],container:["container"],columns:[{columns:[ks]}],"break-after":[{"break-after":K()}],"break-before":[{"break-before":K()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...se(),ye]}],overflow:[{overflow:k()}],"overflow-x":[{"overflow-x":k()}],"overflow-y":[{"overflow-y":k()}],overscroll:[{overscroll:P()}],"overscroll-x":[{"overscroll-x":P()}],"overscroll-y":[{"overscroll-y":P()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[v]}],"inset-x":[{"inset-x":[v]}],"inset-y":[{"inset-y":[v]}],start:[{start:[v]}],end:[{end:[v]}],top:[{top:[v]}],right:[{right:[v]}],bottom:[{bottom:[v]}],left:[{left:[v]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",Gl,ye]}],basis:[{basis:D()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",ye]}],grow:[{grow:L()}],shrink:[{shrink:L()}],order:[{order:["first","last","none",Gl,ye]}],"grid-cols":[{"grid-cols":[Ql]}],"col-start-end":[{col:["auto",{span:["full",Gl,ye]},ye]}],"col-start":[{"col-start":$()}],"col-end":[{"col-end":$()}],"grid-rows":[{"grid-rows":[Ql]}],"row-start-end":[{row:["auto",{span:[Gl,ye]},ye]}],"row-start":[{"row-start":$()}],"row-end":[{"row-end":$()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",ye]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",ye]}],gap:[{gap:[m]}],"gap-x":[{"gap-x":[m]}],"gap-y":[{"gap-y":[m]}],"justify-content":[{justify:["normal",...U()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...U(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...U(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[w]}],px:[{px:[w]}],py:[{py:[w]}],ps:[{ps:[w]}],pe:[{pe:[w]}],pt:[{pt:[w]}],pr:[{pr:[w]}],pb:[{pb:[w]}],pl:[{pl:[w]}],m:[{m:[b]}],mx:[{mx:[b]}],my:[{my:[b]}],ms:[{ms:[b]}],me:[{me:[b]}],mt:[{mt:[b]}],mr:[{mr:[b]}],mb:[{mb:[b]}],ml:[{ml:[b]}],"space-x":[{"space-x":[I]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[I]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",ye,e]}],"min-w":[{"min-w":[ye,e,"min","max","fit"]}],"max-w":[{"max-w":[ye,e,"none","full","min","max","fit","prose",{screen:[ks]},ks]}],h:[{h:[ye,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[ye,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[ye,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[ye,e,"auto","min","max","fit"]}],"font-size":[{text:["base",ks,Ps]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",xm]}],"font-family":[{font:[Ql]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",ye]}],"line-clamp":[{"line-clamp":["none",xa,xm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",Wr,ye]}],"list-image":[{"list-image":["none",ye]}],"list-style-type":[{list:["none","disc","decimal",ye]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...Y(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",Wr,Ps]}],"underline-offset":[{"underline-offset":["auto",Wr,ye]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:C()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",ye]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",ye]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...se(),cj]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",lj]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},dj]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[g]}],"gradient-via":[{via:[g]}],"gradient-to":[{to:[g]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...Y(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:Y()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...Y()]}],"outline-offset":[{"outline-offset":[Wr,ye]}],"outline-w":[{outline:[Wr,Ps]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:N()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[Wr,Ps]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",ks,hj]}],"shadow-color":[{shadow:[Ql]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...ie(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ie()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[l]}],"drop-shadow":[{"drop-shadow":["","none",ks,ye]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[x]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[l]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[x]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",ye]}],duration:[{duration:oe()}],ease:[{ease:["linear","in","out","in-out",ye]}],delay:[{delay:oe()}],animate:[{animate:["none","spin","ping","pulse","bounce",ye]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[A]}],"scale-x":[{"scale-x":[A]}],"scale-y":[{"scale-y":[A]}],rotate:[{rotate:[Gl,ye]}],"translate-x":[{"translate-x":[S]}],"translate-y":[{"translate-y":[S]}],"skew-x":[{"skew-x":[M]}],"skew-y":[{"skew-y":[M]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",ye]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",ye]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":C()}],"scroll-mx":[{"scroll-mx":C()}],"scroll-my":[{"scroll-my":C()}],"scroll-ms":[{"scroll-ms":C()}],"scroll-me":[{"scroll-me":C()}],"scroll-mt":[{"scroll-mt":C()}],"scroll-mr":[{"scroll-mr":C()}],"scroll-mb":[{"scroll-mb":C()}],"scroll-ml":[{"scroll-ml":C()}],"scroll-p":[{"scroll-p":C()}],"scroll-px":[{"scroll-px":C()}],"scroll-py":[{"scroll-py":C()}],"scroll-ps":[{"scroll-ps":C()}],"scroll-pe":[{"scroll-pe":C()}],"scroll-pt":[{"scroll-pt":C()}],"scroll-pr":[{"scroll-pr":C()}],"scroll-pb":[{"scroll-pb":C()}],"scroll-pl":[{"scroll-pl":C()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",ye]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[Wr,Ps,xm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},yj=JM(gj);function X(...t){return yj(HS(t))}const vj=xM,rI=p.forwardRef(({className:t,...e},n)=>u.jsx(LS,{ref:n,className:X("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));rI.displayName=LS.displayName;const wj=ll("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),sI=p.forwardRef(({className:t,variant:e,...n},r)=>u.jsx(VS,{ref:r,className:X(wj({variant:e}),t),...n}));sI.displayName=VS.displayName;const xj=p.forwardRef(({className:t,...e},n)=>u.jsx($S,{ref:n,className:X("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));xj.displayName=$S.displayName;const iI=p.forwardRef(({className:t,...e},n)=>u.jsx(BS,{ref:n,className:X("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:u.jsx(kf,{className:"h-4 w-4"})}));iI.displayName=BS.displayName;const oI=p.forwardRef(({className:t,...e},n)=>u.jsx(FS,{ref:n,className:X("text-sm font-semibold",t),...e}));oI.displayName=FS.displayName;const aI=p.forwardRef(({className:t,...e},n)=>u.jsx(US,{ref:n,className:X("text-sm opacity-90",t),...e}));aI.displayName=US.displayName;function _j(){const{toasts:t}=AO();return u.jsxs(vj,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return u.jsxs(sI,{...i,children:[u.jsxs("div",{className:"grid gap-1",children:[n&&u.jsx(oI,{children:n}),r&&u.jsx(aI,{children:r})]}),s,u.jsx(iI,{})]},e)}),u.jsx(rI,{})]})}var b_=["light","dark"],Ej="(prefers-color-scheme: dark)",bj=p.createContext(void 0),Tj={setTheme:t=>{},themes:[]},Sj=()=>{var t;return(t=p.useContext(bj))!=null?t:Tj};p.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:l})=>{let d=i==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(T=>`'${T}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?b_.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",m=(T,v=!1,b=!0)=>{let _=o?o[T]:T,w=v?T+"|| ''":`'${_}'`,x="";return s&&b&&!v&&b_.includes(T)&&(x+=`d.style.colorScheme = '${T}';`),n==="class"?v||_?x+=`c.add(${w})`:x+="null":_&&(x+=`d[s](n,${w})`),x},g=t?`!function(){${h}${m(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${d})){var t='${Ej}',m=window.matchMedia(t);if(m.media!==t||m.matches){${m("dark")}}else{${m("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}${d?"":"else{"+m(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${m(o?"x[e]":"e",!0)}}else{${m(i,!1,!1)};}${f}}catch(t){}}();`;return p.createElement("script",{nonce:l,dangerouslySetInnerHTML:{__html:g}})});var Ij=t=>{switch(t){case"success":return Nj;case"info":return Pj;case"warning":return Aj;case"error":return kj;default:return null}},Cj=Array(12).fill(0),Rj=({visible:t,className:e})=>G.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},G.createElement("div",{className:"sonner-spinner"},Cj.map((n,r)=>G.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),Nj=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),Aj=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),Pj=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),kj=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},G.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),Dj=G.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},G.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),G.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),Oj=()=>{let[t,e]=G.useState(document.hidden);return G.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Yg=1,Mj=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Yg++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0,i,o=r.then(async l=>{if(i=["resolve",l],G.isValidElement(l))s=!1,this.create({id:n,type:"default",message:l});else if(Lj(l)&&!l.ok){s=!1;let d=typeof e.error=="function"?await e.error(`HTTP error! status: ${l.status}`):e.error,h=typeof e.description=="function"?await e.description(`HTTP error! status: ${l.status}`):e.description;this.create({id:n,type:"error",message:d,description:h})}else if(e.success!==void 0){s=!1;let d=typeof e.success=="function"?await e.success(l):e.success,h=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"success",message:d,description:h})}}).catch(async l=>{if(i=["reject",l],e.error!==void 0){s=!1;let d=typeof e.error=="function"?await e.error(l):e.error,h=typeof e.description=="function"?await e.description(l):e.description;this.create({id:n,type:"error",message:d,description:h})}}).finally(()=>{var l;s&&(this.dismiss(n),n=void 0),(l=e.finally)==null||l.call(e)}),a=()=>new Promise((l,d)=>o.then(()=>i[0]==="reject"?d(i[1]):l(i[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||Yg++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},an=new Mj,jj=(t,e)=>{let n=(e==null?void 0:e.id)||Yg++;return an.addToast({title:t,...e,id:n}),n},Lj=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",Vj=jj,Fj=()=>an.toasts,Uj=()=>an.getActiveToasts(),le=Object.assign(Vj,{success:an.success,info:an.info,warning:an.warning,error:an.error,custom:an.custom,message:an.message,promise:an.promise,dismiss:an.dismiss,loading:an.loading},{getHistory:Fj,getToasts:Uj});function $j(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}$j(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function pd(t){return t.label!==void 0}var Bj=3,zj="32px",Hj="16px",T_=4e3,Wj=356,qj=14,Kj=20,Gj=200;function Hn(...t){return t.filter(Boolean).join(" ")}function Qj(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var Yj=t=>{var e,n,r,s,i,o,a,l,d,h,f;let{invert:m,toast:g,unstyled:T,interacting:v,setHeights:b,visibleToasts:_,heights:w,index:x,toasts:A,expanded:O,removeToast:M,defaultRichColors:I,closeButton:S,style:P,cancelButtonStyle:k,actionButtonStyle:D,className:C="",descriptionClassName:N="",duration:$,position:se,gap:Y,loadingIcon:ie,expandByDefault:U,classNames:L,icons:K,closeButtonAriaLabel:oe="Close toast",pauseWhenPageIsHidden:j}=t,[J,Z]=G.useState(null),[he,xe]=G.useState(null),[q,we]=G.useState(!1),[Re,Ee]=G.useState(!1),[be,Ne]=G.useState(!1),[ut,Kt]=G.useState(!1),[Br,Rn]=G.useState(!1),[Un,Es]=G.useState(0),[Ye,_t]=G.useState(0),fr=G.useRef(g.duration||$||T_),Mu=G.useRef(null),pr=G.useRef(null),Rp=x===0,$i=x+1<=_,Gt=g.type,zr=g.dismissible!==!1,Il=g.className||"",Np=g.descriptionClassName||"",$o=G.useMemo(()=>w.findIndex(ce=>ce.toastId===g.id)||0,[w,g.id]),ju=G.useMemo(()=>{var ce;return(ce=g.closeButton)!=null?ce:S},[g.closeButton,S]),Cl=G.useMemo(()=>g.duration||$||T_,[g.duration,$]),Hr=G.useRef(0),mr=G.useRef(0),Bo=G.useRef(0),sn=G.useRef(null),[Lu,zo]=se.split("-"),Rl=G.useMemo(()=>w.reduce((ce,Le,$e)=>$e>=$o?ce:ce+Le.height,0),[w,$o]),bs=Oj(),Vu=g.invert||m,gt=Gt==="loading";mr.current=G.useMemo(()=>$o*Y+Rl,[$o,Rl]),G.useEffect(()=>{fr.current=Cl},[Cl]),G.useEffect(()=>{we(!0)},[]),G.useEffect(()=>{let ce=pr.current;if(ce){let Le=ce.getBoundingClientRect().height;return _t(Le),b($e=>[{toastId:g.id,height:Le,position:g.position},...$e]),()=>b($e=>$e.filter(Et=>Et.toastId!==g.id))}},[b,g.id]),G.useLayoutEffect(()=>{if(!q)return;let ce=pr.current,Le=ce.style.height;ce.style.height="auto";let $e=ce.getBoundingClientRect().height;ce.style.height=Le,_t($e),b(Et=>Et.find(gn=>gn.toastId===g.id)?Et.map(gn=>gn.toastId===g.id?{...gn,height:$e}:gn):[{toastId:g.id,height:$e,position:g.position},...Et])},[q,g.title,g.description,b,g.id]);let $n=G.useCallback(()=>{Ee(!0),Es(mr.current),b(ce=>ce.filter(Le=>Le.toastId!==g.id)),setTimeout(()=>{M(g)},Gj)},[g,M,b,mr]);G.useEffect(()=>{if(g.promise&&Gt==="loading"||g.duration===1/0||g.type==="loading")return;let ce;return O||v||j&&bs?(()=>{if(Bo.current<Hr.current){let Le=new Date().getTime()-Hr.current;fr.current=fr.current-Le}Bo.current=new Date().getTime()})():fr.current!==1/0&&(Hr.current=new Date().getTime(),ce=setTimeout(()=>{var Le;(Le=g.onAutoClose)==null||Le.call(g,g),$n()},fr.current)),()=>clearTimeout(ce)},[O,v,g,Gt,j,bs,$n]),G.useEffect(()=>{g.delete&&$n()},[$n,g.delete]);function Bi(){var ce,Le,$e;return K!=null&&K.loading?G.createElement("div",{className:Hn(L==null?void 0:L.loader,(ce=g==null?void 0:g.classNames)==null?void 0:ce.loader,"sonner-loader"),"data-visible":Gt==="loading"},K.loading):ie?G.createElement("div",{className:Hn(L==null?void 0:L.loader,(Le=g==null?void 0:g.classNames)==null?void 0:Le.loader,"sonner-loader"),"data-visible":Gt==="loading"},ie):G.createElement(Rj,{className:Hn(L==null?void 0:L.loader,($e=g==null?void 0:g.classNames)==null?void 0:$e.loader),visible:Gt==="loading"})}return G.createElement("li",{tabIndex:0,ref:pr,className:Hn(C,Il,L==null?void 0:L.toast,(e=g==null?void 0:g.classNames)==null?void 0:e.toast,L==null?void 0:L.default,L==null?void 0:L[Gt],(n=g==null?void 0:g.classNames)==null?void 0:n[Gt]),"data-sonner-toast":"","data-rich-colors":(r=g.richColors)!=null?r:I,"data-styled":!(g.jsx||g.unstyled||T),"data-mounted":q,"data-promise":!!g.promise,"data-swiped":Br,"data-removed":Re,"data-visible":$i,"data-y-position":Lu,"data-x-position":zo,"data-index":x,"data-front":Rp,"data-swiping":be,"data-dismissible":zr,"data-type":Gt,"data-invert":Vu,"data-swipe-out":ut,"data-swipe-direction":he,"data-expanded":!!(O||U&&q),style:{"--index":x,"--toasts-before":x,"--z-index":A.length-x,"--offset":`${Re?Un:mr.current}px`,"--initial-height":U?"auto":`${Ye}px`,...P,...g.style},onDragEnd:()=>{Ne(!1),Z(null),sn.current=null},onPointerDown:ce=>{gt||!zr||(Mu.current=new Date,Es(mr.current),ce.target.setPointerCapture(ce.pointerId),ce.target.tagName!=="BUTTON"&&(Ne(!0),sn.current={x:ce.clientX,y:ce.clientY}))},onPointerUp:()=>{var ce,Le,$e,Et;if(ut||!zr)return;sn.current=null;let gn=Number(((ce=pr.current)==null?void 0:ce.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),gr=Number(((Le=pr.current)==null?void 0:Le.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),Nn=new Date().getTime()-(($e=Mu.current)==null?void 0:$e.getTime()),on=J==="x"?gn:gr,Bn=Math.abs(on)/Nn;if(Math.abs(on)>=Kj||Bn>.11){Es(mr.current),(Et=g.onDismiss)==null||Et.call(g,g),xe(J==="x"?gn>0?"right":"left":gr>0?"down":"up"),$n(),Kt(!0),Rn(!1);return}Ne(!1),Z(null)},onPointerMove:ce=>{var Le,$e,Et,gn;if(!sn.current||!zr||((Le=window.getSelection())==null?void 0:Le.toString().length)>0)return;let gr=ce.clientY-sn.current.y,Nn=ce.clientX-sn.current.x,on=($e=t.swipeDirections)!=null?$e:Qj(se);!J&&(Math.abs(Nn)>1||Math.abs(gr)>1)&&Z(Math.abs(Nn)>Math.abs(gr)?"x":"y");let Bn={x:0,y:0};J==="y"?(on.includes("top")||on.includes("bottom"))&&(on.includes("top")&&gr<0||on.includes("bottom")&&gr>0)&&(Bn.y=gr):J==="x"&&(on.includes("left")||on.includes("right"))&&(on.includes("left")&&Nn<0||on.includes("right")&&Nn>0)&&(Bn.x=Nn),(Math.abs(Bn.x)>0||Math.abs(Bn.y)>0)&&Rn(!0),(Et=pr.current)==null||Et.style.setProperty("--swipe-amount-x",`${Bn.x}px`),(gn=pr.current)==null||gn.style.setProperty("--swipe-amount-y",`${Bn.y}px`)}},ju&&!g.jsx?G.createElement("button",{"aria-label":oe,"data-disabled":gt,"data-close-button":!0,onClick:gt||!zr?()=>{}:()=>{var ce;$n(),(ce=g.onDismiss)==null||ce.call(g,g)},className:Hn(L==null?void 0:L.closeButton,(s=g==null?void 0:g.classNames)==null?void 0:s.closeButton)},(i=K==null?void 0:K.close)!=null?i:Dj):null,g.jsx||p.isValidElement(g.title)?g.jsx?g.jsx:typeof g.title=="function"?g.title():g.title:G.createElement(G.Fragment,null,Gt||g.icon||g.promise?G.createElement("div",{"data-icon":"",className:Hn(L==null?void 0:L.icon,(o=g==null?void 0:g.classNames)==null?void 0:o.icon)},g.promise||g.type==="loading"&&!g.icon?g.icon||Bi():null,g.type!=="loading"?g.icon||(K==null?void 0:K[Gt])||Ij(Gt):null):null,G.createElement("div",{"data-content":"",className:Hn(L==null?void 0:L.content,(a=g==null?void 0:g.classNames)==null?void 0:a.content)},G.createElement("div",{"data-title":"",className:Hn(L==null?void 0:L.title,(l=g==null?void 0:g.classNames)==null?void 0:l.title)},typeof g.title=="function"?g.title():g.title),g.description?G.createElement("div",{"data-description":"",className:Hn(N,Np,L==null?void 0:L.description,(d=g==null?void 0:g.classNames)==null?void 0:d.description)},typeof g.description=="function"?g.description():g.description):null),p.isValidElement(g.cancel)?g.cancel:g.cancel&&pd(g.cancel)?G.createElement("button",{"data-button":!0,"data-cancel":!0,style:g.cancelButtonStyle||k,onClick:ce=>{var Le,$e;pd(g.cancel)&&zr&&(($e=(Le=g.cancel).onClick)==null||$e.call(Le,ce),$n())},className:Hn(L==null?void 0:L.cancelButton,(h=g==null?void 0:g.classNames)==null?void 0:h.cancelButton)},g.cancel.label):null,p.isValidElement(g.action)?g.action:g.action&&pd(g.action)?G.createElement("button",{"data-button":!0,"data-action":!0,style:g.actionButtonStyle||D,onClick:ce=>{var Le,$e;pd(g.action)&&(($e=(Le=g.action).onClick)==null||$e.call(Le,ce),!ce.defaultPrevented&&$n())},className:Hn(L==null?void 0:L.actionButton,(f=g==null?void 0:g.classNames)==null?void 0:f.actionButton)},g.action.label):null))};function S_(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function Xj(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?Hj:zj;function l(d){["top","right","bottom","left"].forEach(h=>{n[`${o}-${h}`]=typeof d=="number"?`${d}px`:d})}typeof r=="number"||typeof r=="string"?l(r):typeof r=="object"?["top","right","bottom","left"].forEach(d=>{r[d]===void 0?n[`${o}-${d}`]=a:n[`${o}-${d}`]=typeof r[d]=="number"?`${r[d]}px`:r[d]}):l(a)}),n}var Jj=p.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:l,mobileOffset:d,theme:h="light",richColors:f,duration:m,style:g,visibleToasts:T=Bj,toastOptions:v,dir:b=S_(),gap:_=qj,loadingIcon:w,icons:x,containerAriaLabel:A="Notifications",pauseWhenPageIsHidden:O}=t,[M,I]=G.useState([]),S=G.useMemo(()=>Array.from(new Set([r].concat(M.filter(j=>j.position).map(j=>j.position)))),[M,r]),[P,k]=G.useState([]),[D,C]=G.useState(!1),[N,$]=G.useState(!1),[se,Y]=G.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ie=G.useRef(null),U=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),L=G.useRef(null),K=G.useRef(!1),oe=G.useCallback(j=>{I(J=>{var Z;return(Z=J.find(he=>he.id===j.id))!=null&&Z.delete||an.dismiss(j.id),J.filter(({id:he})=>he!==j.id)})},[]);return G.useEffect(()=>an.subscribe(j=>{if(j.dismiss){I(J=>J.map(Z=>Z.id===j.id?{...Z,delete:!0}:Z));return}setTimeout(()=>{yS.flushSync(()=>{I(J=>{let Z=J.findIndex(he=>he.id===j.id);return Z!==-1?[...J.slice(0,Z),{...J[Z],...j},...J.slice(Z+1)]:[j,...J]})})})}),[]),G.useEffect(()=>{if(h!=="system"){Y(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?Y("dark"):Y("light")),typeof window>"u")return;let j=window.matchMedia("(prefers-color-scheme: dark)");try{j.addEventListener("change",({matches:J})=>{Y(J?"dark":"light")})}catch{j.addListener(({matches:Z})=>{try{Y(Z?"dark":"light")}catch(he){console.error(he)}})}},[h]),G.useEffect(()=>{M.length<=1&&C(!1)},[M]),G.useEffect(()=>{let j=J=>{var Z,he;s.every(xe=>J[xe]||J.code===xe)&&(C(!0),(Z=ie.current)==null||Z.focus()),J.code==="Escape"&&(document.activeElement===ie.current||(he=ie.current)!=null&&he.contains(document.activeElement))&&C(!1)};return document.addEventListener("keydown",j),()=>document.removeEventListener("keydown",j)},[s]),G.useEffect(()=>{if(ie.current)return()=>{L.current&&(L.current.focus({preventScroll:!0}),L.current=null,K.current=!1)}},[ie.current]),G.createElement("section",{ref:e,"aria-label":`${A} ${U}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},S.map((j,J)=>{var Z;let[he,xe]=j.split("-");return M.length?G.createElement("ol",{key:j,dir:b==="auto"?S_():b,tabIndex:-1,ref:ie,className:a,"data-sonner-toaster":!0,"data-theme":se,"data-y-position":he,"data-lifted":D&&M.length>1&&!i,"data-x-position":xe,style:{"--front-toast-height":`${((Z=P[0])==null?void 0:Z.height)||0}px`,"--width":`${Wj}px`,"--gap":`${_}px`,...g,...Xj(l,d)},onBlur:q=>{K.current&&!q.currentTarget.contains(q.relatedTarget)&&(K.current=!1,L.current&&(L.current.focus({preventScroll:!0}),L.current=null))},onFocus:q=>{q.target instanceof HTMLElement&&q.target.dataset.dismissible==="false"||K.current||(K.current=!0,L.current=q.relatedTarget)},onMouseEnter:()=>C(!0),onMouseMove:()=>C(!0),onMouseLeave:()=>{N||C(!1)},onDragEnd:()=>C(!1),onPointerDown:q=>{q.target instanceof HTMLElement&&q.target.dataset.dismissible==="false"||$(!0)},onPointerUp:()=>$(!1)},M.filter(q=>!q.position&&J===0||q.position===j).map((q,we)=>{var Re,Ee;return G.createElement(Yj,{key:q.id,icons:x,index:we,toast:q,defaultRichColors:f,duration:(Re=v==null?void 0:v.duration)!=null?Re:m,className:v==null?void 0:v.className,descriptionClassName:v==null?void 0:v.descriptionClassName,invert:n,visibleToasts:T,closeButton:(Ee=v==null?void 0:v.closeButton)!=null?Ee:o,interacting:N,position:j,style:v==null?void 0:v.style,unstyled:v==null?void 0:v.unstyled,classNames:v==null?void 0:v.classNames,cancelButtonStyle:v==null?void 0:v.cancelButtonStyle,actionButtonStyle:v==null?void 0:v.actionButtonStyle,removeToast:oe,toasts:M.filter(be=>be.position==q.position),heights:P.filter(be=>be.position==q.position),setHeights:k,expandByDefault:i,gap:_,loadingIcon:w,expanded:D,pauseWhenPageIsHidden:O,swipeDirections:t.swipeDirections})})):null}))});const Zj=({...t})=>{const{theme:e="system"}=Sj();return u.jsx(Jj,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var eL=Wy[" useId ".trim().toString()]||(()=>{}),tL=0;function Ar(t){const[e,n]=p.useState(eL());return Mt(()=>{n(r=>r??String(tL++))},[t]),e?`radix-${e}`:""}const nL=["top","right","bottom","left"],_i=Math.min,wn=Math.max,Ah=Math.round,md=Math.floor,Pr=t=>({x:t,y:t}),rL={left:"right",right:"left",bottom:"top",top:"bottom"},sL={start:"end",end:"start"};function Xg(t,e,n){return wn(t,_i(e,n))}function us(t,e){return typeof t=="function"?t(e):t}function ds(t){return t.split("-")[0]}function ul(t){return t.split("-")[1]}function zv(t){return t==="x"?"y":"x"}function Hv(t){return t==="y"?"height":"width"}const iL=new Set(["top","bottom"]);function Cr(t){return iL.has(ds(t))?"y":"x"}function Wv(t){return zv(Cr(t))}function oL(t,e,n){n===void 0&&(n=!1);const r=ul(t),s=Wv(t),i=Hv(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=Ph(o)),[o,Ph(o)]}function aL(t){const e=Ph(t);return[Jg(t),e,Jg(e)]}function Jg(t){return t.replace(/start|end/g,e=>sL[e])}const I_=["left","right"],C_=["right","left"],lL=["top","bottom"],cL=["bottom","top"];function uL(t,e,n){switch(t){case"top":case"bottom":return n?e?C_:I_:e?I_:C_;case"left":case"right":return e?lL:cL;default:return[]}}function dL(t,e,n,r){const s=ul(t);let i=uL(ds(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Jg)))),i}function Ph(t){return t.replace(/left|right|bottom|top/g,e=>rL[e])}function hL(t){return{top:0,right:0,bottom:0,left:0,...t}}function lI(t){return typeof t!="number"?hL(t):{top:t,right:t,bottom:t,left:t}}function kh(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function R_(t,e,n){let{reference:r,floating:s}=t;const i=Cr(e),o=Wv(e),a=Hv(o),l=ds(e),d=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,m=r[a]/2-s[a]/2;let g;switch(l){case"top":g={x:h,y:r.y-s.height};break;case"bottom":g={x:h,y:r.y+r.height};break;case"right":g={x:r.x+r.width,y:f};break;case"left":g={x:r.x-s.width,y:f};break;default:g={x:r.x,y:r.y}}switch(ul(e)){case"start":g[o]-=m*(n&&d?-1:1);break;case"end":g[o]+=m*(n&&d?-1:1);break}return g}const fL=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),l=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=R_(d,r,l),m=r,g={},T=0;for(let v=0;v<a.length;v++){const{name:b,fn:_}=a[v],{x:w,y:x,data:A,reset:O}=await _({x:h,y:f,initialPlacement:r,placement:m,strategy:s,middlewareData:g,rects:d,platform:o,elements:{reference:t,floating:e}});h=w??h,f=x??f,g={...g,[b]:{...g[b],...A}},O&&T<=50&&(T++,typeof O=="object"&&(O.placement&&(m=O.placement),O.rects&&(d=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):O.rects),{x:h,y:f}=R_(d,m,l)),v=-1)}return{x:h,y:f,placement:m,strategy:s,middlewareData:g}};async function Kc(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:l}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:m=!1,padding:g=0}=us(e,t),T=lI(g),b=a[m?f==="floating"?"reference":"floating":f],_=kh(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(b)))==null||n?b:b.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:d,rootBoundary:h,strategy:l})),w=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,x=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),A=await(i.isElement==null?void 0:i.isElement(x))?await(i.getScale==null?void 0:i.getScale(x))||{x:1,y:1}:{x:1,y:1},O=kh(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:w,offsetParent:x,strategy:l}):w);return{top:(_.top-O.top+T.top)/A.y,bottom:(O.bottom-_.bottom+T.bottom)/A.y,left:(_.left-O.left+T.left)/A.x,right:(O.right-_.right+T.right)/A.x}}const pL=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:l}=e,{element:d,padding:h=0}=us(t,e)||{};if(d==null)return{};const f=lI(h),m={x:n,y:r},g=Wv(s),T=Hv(g),v=await o.getDimensions(d),b=g==="y",_=b?"top":"left",w=b?"bottom":"right",x=b?"clientHeight":"clientWidth",A=i.reference[T]+i.reference[g]-m[g]-i.floating[T],O=m[g]-i.reference[g],M=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let I=M?M[x]:0;(!I||!await(o.isElement==null?void 0:o.isElement(M)))&&(I=a.floating[x]||i.floating[T]);const S=A/2-O/2,P=I/2-v[T]/2-1,k=_i(f[_],P),D=_i(f[w],P),C=k,N=I-v[T]-D,$=I/2-v[T]/2+S,se=Xg(C,$,N),Y=!l.arrow&&ul(s)!=null&&$!==se&&i.reference[T]/2-($<C?k:D)-v[T]/2<0,ie=Y?$<C?$-C:$-N:0;return{[g]:m[g]+ie,data:{[g]:se,centerOffset:$-se-ie,...Y&&{alignmentOffset:ie}},reset:Y}}}),mL=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:l,elements:d}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:m,fallbackStrategy:g="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:v=!0,...b}=us(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=ds(s),w=Cr(a),x=ds(a)===a,A=await(l.isRTL==null?void 0:l.isRTL(d.floating)),O=m||(x||!v?[Ph(a)]:aL(a)),M=T!=="none";!m&&M&&O.push(...dL(a,v,T,A));const I=[a,...O],S=await Kc(e,b),P=[];let k=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&P.push(S[_]),f){const $=oL(s,o,A);P.push(S[$[0]],S[$[1]])}if(k=[...k,{placement:s,overflows:P}],!P.every($=>$<=0)){var D,C;const $=(((D=i.flip)==null?void 0:D.index)||0)+1,se=I[$];if(se&&(!(f==="alignment"?w!==Cr(se):!1)||k.every(U=>U.overflows[0]>0&&Cr(U.placement)===w)))return{data:{index:$,overflows:k},reset:{placement:se}};let Y=(C=k.filter(ie=>ie.overflows[0]<=0).sort((ie,U)=>ie.overflows[1]-U.overflows[1])[0])==null?void 0:C.placement;if(!Y)switch(g){case"bestFit":{var N;const ie=(N=k.filter(U=>{if(M){const L=Cr(U.placement);return L===w||L==="y"}return!0}).map(U=>[U.placement,U.overflows.filter(L=>L>0).reduce((L,K)=>L+K,0)]).sort((U,L)=>U[1]-L[1])[0])==null?void 0:N[0];ie&&(Y=ie);break}case"initialPlacement":Y=a;break}if(s!==Y)return{reset:{placement:Y}}}return{}}}};function N_(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function A_(t){return nL.some(e=>t[e]>=0)}const gL=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=us(t,e);switch(r){case"referenceHidden":{const i=await Kc(e,{...s,elementContext:"reference"}),o=N_(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:A_(o)}}}case"escaped":{const i=await Kc(e,{...s,altBoundary:!0}),o=N_(i,n.floating);return{data:{escapedOffsets:o,escaped:A_(o)}}}default:return{}}}}},cI=new Set(["left","top"]);async function yL(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=ds(n),a=ul(n),l=Cr(n)==="y",d=cI.has(o)?-1:1,h=i&&l?-1:1,f=us(e,t);let{mainAxis:m,crossAxis:g,alignmentAxis:T}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof T=="number"&&(g=a==="end"?T*-1:T),l?{x:g*h,y:m*d}:{x:m*d,y:g*h}}const vL=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,l=await yL(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+l.x,y:i+l.y,data:{...l,placement:o}}}}},wL=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:b=>{let{x:_,y:w}=b;return{x:_,y:w}}},...l}=us(t,e),d={x:n,y:r},h=await Kc(e,l),f=Cr(ds(s)),m=zv(f);let g=d[m],T=d[f];if(i){const b=m==="y"?"top":"left",_=m==="y"?"bottom":"right",w=g+h[b],x=g-h[_];g=Xg(w,g,x)}if(o){const b=f==="y"?"top":"left",_=f==="y"?"bottom":"right",w=T+h[b],x=T-h[_];T=Xg(w,T,x)}const v=a.fn({...e,[m]:g,[f]:T});return{...v,data:{x:v.x-n,y:v.y-r,enabled:{[m]:i,[f]:o}}}}}},xL=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:l=!0,crossAxis:d=!0}=us(t,e),h={x:n,y:r},f=Cr(s),m=zv(f);let g=h[m],T=h[f];const v=us(a,e),b=typeof v=="number"?{mainAxis:v,crossAxis:0}:{mainAxis:0,crossAxis:0,...v};if(l){const x=m==="y"?"height":"width",A=i.reference[m]-i.floating[x]+b.mainAxis,O=i.reference[m]+i.reference[x]-b.mainAxis;g<A?g=A:g>O&&(g=O)}if(d){var _,w;const x=m==="y"?"width":"height",A=cI.has(ds(s)),O=i.reference[f]-i.floating[x]+(A&&((_=o.offset)==null?void 0:_[f])||0)+(A?0:b.crossAxis),M=i.reference[f]+i.reference[x]+(A?0:((w=o.offset)==null?void 0:w[f])||0)-(A?b.crossAxis:0);T<O?T=O:T>M&&(T=M)}return{[m]:g,[f]:T}}}},_L=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:l=()=>{},...d}=us(t,e),h=await Kc(e,d),f=ds(s),m=ul(s),g=Cr(s)==="y",{width:T,height:v}=i.floating;let b,_;f==="top"||f==="bottom"?(b=f,_=m===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(_=f,b=m==="end"?"top":"bottom");const w=v-h.top-h.bottom,x=T-h.left-h.right,A=_i(v-h[b],w),O=_i(T-h[_],x),M=!e.middlewareData.shift;let I=A,S=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(S=x),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(I=w),M&&!m){const k=wn(h.left,0),D=wn(h.right,0),C=wn(h.top,0),N=wn(h.bottom,0);g?S=T-2*(k!==0||D!==0?k+D:wn(h.left,h.right)):I=v-2*(C!==0||N!==0?C+N:wn(h.top,h.bottom))}await l({...e,availableWidth:S,availableHeight:I});const P=await o.getDimensions(a.floating);return T!==P.width||v!==P.height?{reset:{rects:!0}}:{}}}};function Df(){return typeof window<"u"}function dl(t){return uI(t)?(t.nodeName||"").toLowerCase():"#document"}function bn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function $r(t){var e;return(e=(uI(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function uI(t){return Df()?t instanceof Node||t instanceof bn(t).Node:!1}function or(t){return Df()?t instanceof Element||t instanceof bn(t).Element:!1}function Lr(t){return Df()?t instanceof HTMLElement||t instanceof bn(t).HTMLElement:!1}function P_(t){return!Df()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof bn(t).ShadowRoot}const EL=new Set(["inline","contents"]);function _u(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=ar(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!EL.has(s)}const bL=new Set(["table","td","th"]);function TL(t){return bL.has(dl(t))}const SL=[":popover-open",":modal"];function Of(t){return SL.some(e=>{try{return t.matches(e)}catch{return!1}})}const IL=["transform","translate","scale","rotate","perspective"],CL=["transform","translate","scale","rotate","perspective","filter"],RL=["paint","layout","strict","content"];function qv(t){const e=Kv(),n=or(t)?ar(t):t;return IL.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||CL.some(r=>(n.willChange||"").includes(r))||RL.some(r=>(n.contain||"").includes(r))}function NL(t){let e=Ei(t);for(;Lr(e)&&!qa(e);){if(qv(e))return e;if(Of(e))return null;e=Ei(e)}return null}function Kv(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const AL=new Set(["html","body","#document"]);function qa(t){return AL.has(dl(t))}function ar(t){return bn(t).getComputedStyle(t)}function Mf(t){return or(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function Ei(t){if(dl(t)==="html")return t;const e=t.assignedSlot||t.parentNode||P_(t)&&t.host||$r(t);return P_(e)?e.host:e}function dI(t){const e=Ei(t);return qa(e)?t.ownerDocument?t.ownerDocument.body:t.body:Lr(e)&&_u(e)?e:dI(e)}function Gc(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=dI(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=bn(s);if(i){const a=Zg(o);return e.concat(o,o.visualViewport||[],_u(s)?s:[],a&&n?Gc(a):[])}return e.concat(s,Gc(s,[],n))}function Zg(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function hI(t){const e=ar(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Lr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=Ah(n)!==i||Ah(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function Gv(t){return or(t)?t:t.contextElement}function _a(t){const e=Gv(t);if(!Lr(e))return Pr(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=hI(e);let o=(i?Ah(n.width):n.width)/r,a=(i?Ah(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const PL=Pr(0);function fI(t){const e=bn(t);return!Kv()||!e.visualViewport?PL:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function kL(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==bn(t)?!1:e}function wo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=Gv(t);let o=Pr(1);e&&(r?or(r)&&(o=_a(r)):o=_a(t));const a=kL(i,n,r)?fI(i):Pr(0);let l=(s.left+a.x)/o.x,d=(s.top+a.y)/o.y,h=s.width/o.x,f=s.height/o.y;if(i){const m=bn(i),g=r&&or(r)?bn(r):r;let T=m,v=Zg(T);for(;v&&r&&g!==T;){const b=_a(v),_=v.getBoundingClientRect(),w=ar(v),x=_.left+(v.clientLeft+parseFloat(w.paddingLeft))*b.x,A=_.top+(v.clientTop+parseFloat(w.paddingTop))*b.y;l*=b.x,d*=b.y,h*=b.x,f*=b.y,l+=x,d+=A,T=bn(v),v=Zg(T)}}return kh({width:h,height:f,x:l,y:d})}function Qv(t,e){const n=Mf(t).scrollLeft;return e?e.left+n:wo($r(t)).left+n}function pI(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Qv(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function DL(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=$r(r),a=e?Of(e.floating):!1;if(r===o||a&&i)return n;let l={scrollLeft:0,scrollTop:0},d=Pr(1);const h=Pr(0),f=Lr(r);if((f||!f&&!i)&&((dl(r)!=="body"||_u(o))&&(l=Mf(r)),Lr(r))){const g=wo(r);d=_a(r),h.x=g.x+r.clientLeft,h.y=g.y+r.clientTop}const m=o&&!f&&!i?pI(o,l,!0):Pr(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-l.scrollLeft*d.x+h.x+m.x,y:n.y*d.y-l.scrollTop*d.y+h.y+m.y}}function OL(t){return Array.from(t.getClientRects())}function ML(t){const e=$r(t),n=Mf(t),r=t.ownerDocument.body,s=wn(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=wn(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Qv(t);const a=-n.scrollTop;return ar(r).direction==="rtl"&&(o+=wn(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function jL(t,e){const n=bn(t),r=$r(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,l=0;if(s){i=s.width,o=s.height;const d=Kv();(!d||d&&e==="fixed")&&(a=s.offsetLeft,l=s.offsetTop)}return{width:i,height:o,x:a,y:l}}const LL=new Set(["absolute","fixed"]);function VL(t,e){const n=wo(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Lr(t)?_a(t):Pr(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,l=s*i.x,d=r*i.y;return{width:o,height:a,x:l,y:d}}function k_(t,e,n){let r;if(e==="viewport")r=jL(t,n);else if(e==="document")r=ML($r(t));else if(or(e))r=VL(e,n);else{const s=fI(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return kh(r)}function mI(t,e){const n=Ei(t);return n===e||!or(n)||qa(n)?!1:ar(n).position==="fixed"||mI(n,e)}function FL(t,e){const n=e.get(t);if(n)return n;let r=Gc(t,[],!1).filter(a=>or(a)&&dl(a)!=="body"),s=null;const i=ar(t).position==="fixed";let o=i?Ei(t):t;for(;or(o)&&!qa(o);){const a=ar(o),l=qv(o);!l&&a.position==="fixed"&&(s=null),(i?!l&&!s:!l&&a.position==="static"&&!!s&&LL.has(s.position)||_u(o)&&!l&&mI(t,o))?r=r.filter(h=>h!==o):s=a,o=Ei(o)}return e.set(t,r),r}function UL(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?Of(e)?[]:FL(e,this._c):[].concat(n),r],a=o[0],l=o.reduce((d,h)=>{const f=k_(e,h,s);return d.top=wn(f.top,d.top),d.right=_i(f.right,d.right),d.bottom=_i(f.bottom,d.bottom),d.left=wn(f.left,d.left),d},k_(e,a,s));return{width:l.right-l.left,height:l.bottom-l.top,x:l.left,y:l.top}}function $L(t){const{width:e,height:n}=hI(t);return{width:e,height:n}}function BL(t,e,n){const r=Lr(e),s=$r(e),i=n==="fixed",o=wo(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const l=Pr(0);function d(){l.x=Qv(s)}if(r||!r&&!i)if((dl(e)!=="body"||_u(s))&&(a=Mf(e)),r){const g=wo(e,!0,i,e);l.x=g.x+e.clientLeft,l.y=g.y+e.clientTop}else s&&d();i&&!r&&s&&d();const h=s&&!r&&!i?pI(s,a):Pr(0),f=o.left+a.scrollLeft-l.x-h.x,m=o.top+a.scrollTop-l.y-h.y;return{x:f,y:m,width:o.width,height:o.height}}function _m(t){return ar(t).position==="static"}function D_(t,e){if(!Lr(t)||ar(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return $r(t)===n&&(n=n.ownerDocument.body),n}function gI(t,e){const n=bn(t);if(Of(t))return n;if(!Lr(t)){let s=Ei(t);for(;s&&!qa(s);){if(or(s)&&!_m(s))return s;s=Ei(s)}return n}let r=D_(t,e);for(;r&&TL(r)&&_m(r);)r=D_(r,e);return r&&qa(r)&&_m(r)&&!qv(r)?n:r||NL(t)||n}const zL=async function(t){const e=this.getOffsetParent||gI,n=this.getDimensions,r=await n(t.floating);return{reference:BL(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function HL(t){return ar(t).direction==="rtl"}const WL={convertOffsetParentRelativeRectToViewportRelativeRect:DL,getDocumentElement:$r,getClippingRect:UL,getOffsetParent:gI,getElementRects:zL,getClientRects:OL,getDimensions:$L,getScale:_a,isElement:or,isRTL:HL};function yI(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function qL(t,e){let n=null,r;const s=$r(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,l){a===void 0&&(a=!1),l===void 0&&(l=1),i();const d=t.getBoundingClientRect(),{left:h,top:f,width:m,height:g}=d;if(a||e(),!m||!g)return;const T=md(f),v=md(s.clientWidth-(h+m)),b=md(s.clientHeight-(f+g)),_=md(h),x={rootMargin:-T+"px "+-v+"px "+-b+"px "+-_+"px",threshold:wn(0,_i(1,l))||1};let A=!0;function O(M){const I=M[0].intersectionRatio;if(I!==l){if(!A)return o();I?o(!1,I):r=setTimeout(()=>{o(!1,1e-7)},1e3)}I===1&&!yI(d,t.getBoundingClientRect())&&o(),A=!1}try{n=new IntersectionObserver(O,{...x,root:s.ownerDocument})}catch{n=new IntersectionObserver(O,x)}n.observe(t)}return o(!0),i}function KL(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:l=!1}=r,d=Gv(t),h=s||i?[...d?Gc(d):[],...Gc(e)]:[];h.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),i&&_.addEventListener("resize",n)});const f=d&&a?qL(d,n):null;let m=-1,g=null;o&&(g=new ResizeObserver(_=>{let[w]=_;w&&w.target===d&&g&&(g.unobserve(e),cancelAnimationFrame(m),m=requestAnimationFrame(()=>{var x;(x=g)==null||x.observe(e)})),n()}),d&&!l&&g.observe(d),g.observe(e));let T,v=l?wo(t):null;l&&b();function b(){const _=wo(t);v&&!yI(v,_)&&n(),v=_,T=requestAnimationFrame(b)}return n(),()=>{var _;h.forEach(w=>{s&&w.removeEventListener("scroll",n),i&&w.removeEventListener("resize",n)}),f==null||f(),(_=g)==null||_.disconnect(),g=null,l&&cancelAnimationFrame(T)}}const GL=vL,QL=wL,YL=mL,XL=_L,JL=gL,O_=pL,ZL=xL,eV=(t,e,n)=>{const r=new Map,s={platform:WL,...n},i={...s.platform,_c:r};return fL(t,e,{...s,platform:i})};var tV=typeof document<"u",nV=function(){},Wd=tV?p.useLayoutEffect:nV;function Dh(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!Dh(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!Dh(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function vI(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function M_(t,e){const n=vI(t);return Math.round(e*n)/n}function Em(t){const e=p.useRef(t);return Wd(()=>{e.current=t}),e}function rV(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:l,open:d}=t,[h,f]=p.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[m,g]=p.useState(r);Dh(m,r)||g(r);const[T,v]=p.useState(null),[b,_]=p.useState(null),w=p.useCallback(U=>{U!==M.current&&(M.current=U,v(U))},[]),x=p.useCallback(U=>{U!==I.current&&(I.current=U,_(U))},[]),A=i||T,O=o||b,M=p.useRef(null),I=p.useRef(null),S=p.useRef(h),P=l!=null,k=Em(l),D=Em(s),C=Em(d),N=p.useCallback(()=>{if(!M.current||!I.current)return;const U={placement:e,strategy:n,middleware:m};D.current&&(U.platform=D.current),eV(M.current,I.current,U).then(L=>{const K={...L,isPositioned:C.current!==!1};$.current&&!Dh(S.current,K)&&(S.current=K,Po.flushSync(()=>{f(K)}))})},[m,e,n,D,C]);Wd(()=>{d===!1&&S.current.isPositioned&&(S.current.isPositioned=!1,f(U=>({...U,isPositioned:!1})))},[d]);const $=p.useRef(!1);Wd(()=>($.current=!0,()=>{$.current=!1}),[]),Wd(()=>{if(A&&(M.current=A),O&&(I.current=O),A&&O){if(k.current)return k.current(A,O,N);N()}},[A,O,N,k,P]);const se=p.useMemo(()=>({reference:M,floating:I,setReference:w,setFloating:x}),[w,x]),Y=p.useMemo(()=>({reference:A,floating:O}),[A,O]),ie=p.useMemo(()=>{const U={position:n,left:0,top:0};if(!Y.floating)return U;const L=M_(Y.floating,h.x),K=M_(Y.floating,h.y);return a?{...U,transform:"translate("+L+"px, "+K+"px)",...vI(Y.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:L,top:K}},[n,a,Y.floating,h.x,h.y]);return p.useMemo(()=>({...h,update:N,refs:se,elements:Y,floatingStyles:ie}),[h,N,se,Y,ie])}const sV=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?O_({element:r.current,padding:s}).fn(n):{}:r?O_({element:r,padding:s}).fn(n):{}}}},iV=(t,e)=>({...GL(t),options:[t,e]}),oV=(t,e)=>({...QL(t),options:[t,e]}),aV=(t,e)=>({...ZL(t),options:[t,e]}),lV=(t,e)=>({...YL(t),options:[t,e]}),cV=(t,e)=>({...XL(t),options:[t,e]}),uV=(t,e)=>({...JL(t),options:[t,e]}),dV=(t,e)=>({...sV(t),options:[t,e]});var hV="Arrow",wI=p.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return u.jsx(ge.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:u.jsx("polygon",{points:"0,0 30,0 15,10"})})});wI.displayName=hV;var fV=wI;function pV(t){const[e,n]=p.useState(void 0);return Mt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const l=i.borderBoxSize,d=Array.isArray(l)?l[0]:l;o=d.inlineSize,a=d.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Yv="Popper",[xI,hl]=xs(Yv),[mV,_I]=xI(Yv),EI=t=>{const{__scopePopper:e,children:n}=t,[r,s]=p.useState(null);return u.jsx(mV,{scope:e,anchor:r,onAnchorChange:s,children:n})};EI.displayName=Yv;var bI="PopperAnchor",TI=p.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=_I(bI,n),o=p.useRef(null),a=je(e,o);return p.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:u.jsx(ge.div,{...s,ref:a})});TI.displayName=bI;var Xv="PopperContent",[gV,yV]=xI(Xv),SI=p.forwardRef((t,e)=>{var q,we,Re,Ee,be,Ne;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:l=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:m=!1,updatePositionStrategy:g="optimized",onPlaced:T,...v}=t,b=_I(Xv,n),[_,w]=p.useState(null),x=je(e,ut=>w(ut)),[A,O]=p.useState(null),M=pV(A),I=(M==null?void 0:M.width)??0,S=(M==null?void 0:M.height)??0,P=r+(i!=="center"?"-"+i:""),k=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},D=Array.isArray(d)?d:[d],C=D.length>0,N={padding:k,boundary:D.filter(wV),altBoundary:C},{refs:$,floatingStyles:se,placement:Y,isPositioned:ie,middlewareData:U}=rV({strategy:"fixed",placement:P,whileElementsMounted:(...ut)=>KL(...ut,{animationFrame:g==="always"}),elements:{reference:b.anchor},middleware:[iV({mainAxis:s+S,alignmentAxis:o}),l&&oV({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?aV():void 0,...N}),l&&lV({...N}),cV({...N,apply:({elements:ut,rects:Kt,availableWidth:Br,availableHeight:Rn})=>{const{width:Un,height:Es}=Kt.reference,Ye=ut.floating.style;Ye.setProperty("--radix-popper-available-width",`${Br}px`),Ye.setProperty("--radix-popper-available-height",`${Rn}px`),Ye.setProperty("--radix-popper-anchor-width",`${Un}px`),Ye.setProperty("--radix-popper-anchor-height",`${Es}px`)}}),A&&dV({element:A,padding:a}),xV({arrowWidth:I,arrowHeight:S}),m&&uV({strategy:"referenceHidden",...N})]}),[L,K]=RI(Y),oe=mn(T);Mt(()=>{ie&&(oe==null||oe())},[ie,oe]);const j=(q=U.arrow)==null?void 0:q.x,J=(we=U.arrow)==null?void 0:we.y,Z=((Re=U.arrow)==null?void 0:Re.centerOffset)!==0,[he,xe]=p.useState();return Mt(()=>{_&&xe(window.getComputedStyle(_).zIndex)},[_]),u.jsx("div",{ref:$.setFloating,"data-radix-popper-content-wrapper":"",style:{...se,transform:ie?se.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:he,"--radix-popper-transform-origin":[(Ee=U.transformOrigin)==null?void 0:Ee.x,(be=U.transformOrigin)==null?void 0:be.y].join(" "),...((Ne=U.hide)==null?void 0:Ne.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:u.jsx(gV,{scope:n,placedSide:L,onArrowChange:O,arrowX:j,arrowY:J,shouldHideArrow:Z,children:u.jsx(ge.div,{"data-side":L,"data-align":K,...v,ref:x,style:{...v.style,animation:ie?void 0:"none"}})})})});SI.displayName=Xv;var II="PopperArrow",vV={top:"bottom",right:"left",bottom:"top",left:"right"},CI=p.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=yV(II,r),o=vV[i.placedSide];return u.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:u.jsx(fV,{...s,ref:n,style:{...s.style,display:"block"}})})});CI.displayName=II;function wV(t){return t!==null}var xV=t=>({name:"transformOrigin",options:t,fn(e){var b,_,w;const{placement:n,rects:r,middlewareData:s}=e,o=((b=s.arrow)==null?void 0:b.centerOffset)!==0,a=o?0:t.arrowWidth,l=o?0:t.arrowHeight,[d,h]=RI(n),f={start:"0%",center:"50%",end:"100%"}[h],m=(((_=s.arrow)==null?void 0:_.x)??0)+a/2,g=(((w=s.arrow)==null?void 0:w.y)??0)+l/2;let T="",v="";return d==="bottom"?(T=o?f:`${m}px`,v=`${-l}px`):d==="top"?(T=o?f:`${m}px`,v=`${r.floating.height+l}px`):d==="right"?(T=`${-l}px`,v=o?f:`${g}px`):d==="left"&&(T=`${r.floating.width+l}px`,v=o?f:`${g}px`),{data:{x:T,y:v}}}});function RI(t){const[e,n="center"]=t.split("-");return[e,n]}var Jv=EI,Zv=TI,ew=SI,tw=CI,[jf,pq]=xs("Tooltip",[hl]),Lf=hl(),NI="TooltipProvider",_V=700,ey="tooltip.open",[EV,nw]=jf(NI),AI=t=>{const{__scopeTooltip:e,delayDuration:n=_V,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=p.useRef(!0),a=p.useRef(!1),l=p.useRef(0);return p.useEffect(()=>{const d=l.current;return()=>window.clearTimeout(d)},[]),u.jsx(EV,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:p.useCallback(()=>{window.clearTimeout(l.current),o.current=!1},[]),onClose:p.useCallback(()=>{window.clearTimeout(l.current),l.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:p.useCallback(d=>{a.current=d},[]),disableHoverableContent:s,children:i})};AI.displayName=NI;var Qc="Tooltip",[bV,Vf]=jf(Qc),PI=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=t,l=nw(Qc,t.__scopeTooltip),d=Lf(e),[h,f]=p.useState(null),m=Ar(),g=p.useRef(0),T=o??l.disableHoverableContent,v=a??l.delayDuration,b=p.useRef(!1),[_,w]=vo({prop:r,defaultProp:s??!1,onChange:I=>{I?(l.onOpen(),document.dispatchEvent(new CustomEvent(ey))):l.onClose(),i==null||i(I)},caller:Qc}),x=p.useMemo(()=>_?b.current?"delayed-open":"instant-open":"closed",[_]),A=p.useCallback(()=>{window.clearTimeout(g.current),g.current=0,b.current=!1,w(!0)},[w]),O=p.useCallback(()=>{window.clearTimeout(g.current),g.current=0,w(!1)},[w]),M=p.useCallback(()=>{window.clearTimeout(g.current),g.current=window.setTimeout(()=>{b.current=!0,w(!0),g.current=0},v)},[v,w]);return p.useEffect(()=>()=>{g.current&&(window.clearTimeout(g.current),g.current=0)},[]),u.jsx(Jv,{...d,children:u.jsx(bV,{scope:e,contentId:m,open:_,stateAttribute:x,trigger:h,onTriggerChange:f,onTriggerEnter:p.useCallback(()=>{l.isOpenDelayedRef.current?M():A()},[l.isOpenDelayedRef,M,A]),onTriggerLeave:p.useCallback(()=>{T?O():(window.clearTimeout(g.current),g.current=0)},[O,T]),onOpen:A,onClose:O,disableHoverableContent:T,children:n})})};PI.displayName=Qc;var ty="TooltipTrigger",kI=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Vf(ty,n),i=nw(ty,n),o=Lf(n),a=p.useRef(null),l=je(e,a,s.onTriggerChange),d=p.useRef(!1),h=p.useRef(!1),f=p.useCallback(()=>d.current=!1,[]);return p.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),u.jsx(Zv,{asChild:!0,...o,children:u.jsx(ge.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:l,onPointerMove:ee(t.onPointerMove,m=>{m.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:ee(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:ee(t.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ee(t.onFocus,()=>{d.current||s.onOpen()}),onBlur:ee(t.onBlur,s.onClose),onClick:ee(t.onClick,s.onClose)})})});kI.displayName=ty;var TV="TooltipPortal",[mq,SV]=jf(TV,{forceMount:void 0}),Ka="TooltipContent",DI=p.forwardRef((t,e)=>{const n=SV(Ka,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=Vf(Ka,t.__scopeTooltip);return u.jsx(Ur,{present:r||o.open,children:o.disableHoverableContent?u.jsx(OI,{side:s,...i,ref:e}):u.jsx(IV,{side:s,...i,ref:e})})}),IV=p.forwardRef((t,e)=>{const n=Vf(Ka,t.__scopeTooltip),r=nw(Ka,t.__scopeTooltip),s=p.useRef(null),i=je(e,s),[o,a]=p.useState(null),{trigger:l,onClose:d}=n,h=s.current,{onPointerInTransitChange:f}=r,m=p.useCallback(()=>{a(null),f(!1)},[f]),g=p.useCallback((T,v)=>{const b=T.currentTarget,_={x:T.clientX,y:T.clientY},w=PV(_,b.getBoundingClientRect()),x=kV(_,w),A=DV(v.getBoundingClientRect()),O=MV([...x,...A]);a(O),f(!0)},[f]);return p.useEffect(()=>()=>m(),[m]),p.useEffect(()=>{if(l&&h){const T=b=>g(b,h),v=b=>g(b,l);return l.addEventListener("pointerleave",T),h.addEventListener("pointerleave",v),()=>{l.removeEventListener("pointerleave",T),h.removeEventListener("pointerleave",v)}}},[l,h,g,m]),p.useEffect(()=>{if(o){const T=v=>{const b=v.target,_={x:v.clientX,y:v.clientY},w=(l==null?void 0:l.contains(b))||(h==null?void 0:h.contains(b)),x=!OV(_,o);w?m():x&&(m(),d())};return document.addEventListener("pointermove",T),()=>document.removeEventListener("pointermove",T)}},[l,h,o,d,m]),u.jsx(OI,{...t,ref:i})}),[CV,RV]=jf(Qc,{isInside:!1}),NV=OO("TooltipContent"),OI=p.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,l=Vf(Ka,n),d=Lf(n),{onClose:h}=l;return p.useEffect(()=>(document.addEventListener(ey,h),()=>document.removeEventListener(ey,h)),[h]),p.useEffect(()=>{if(l.trigger){const f=m=>{const g=m.target;g!=null&&g.contains(l.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[l.trigger,h]),u.jsx(al,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:u.jsxs(ew,{"data-state":l.stateAttribute,...d,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[u.jsx(NV,{children:r}),u.jsx(CV,{scope:n,isInside:!0,children:u.jsx(nM,{id:l.contentId,role:"tooltip",children:s||r})})]})})});DI.displayName=Ka;var MI="TooltipArrow",AV=p.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=Lf(n);return RV(MI,n).isInside?null:u.jsx(tw,{...s,...r,ref:e})});AV.displayName=MI;function PV(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function kV(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function DV(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function OV(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],d=a.x,h=a.y,f=l.x,m=l.y;h>r!=m>r&&n<(f-d)*(r-h)/(m-h)+d&&(s=!s)}return s}function MV(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),jV(e)}function jV(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var LV=AI,VV=PI,FV=kI,jI=DI;const LI=LV,UV=VV,$V=FV,VI=p.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(jI,{ref:r,sideOffset:e,className:X("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));VI.displayName=jI.displayName;var Ff=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},Uf=typeof window>"u"||"Deno"in globalThis;function Kn(){}function BV(t,e){return typeof t=="function"?t(e):t}function zV(t){return typeof t=="number"&&t>=0&&t!==1/0}function HV(t,e){return Math.max(t+(e||0)-Date.now(),0)}function ny(t,e){return typeof t=="function"?t(e):t}function WV(t,e){return typeof t=="function"?t(e):t}function j_(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==rw(o,e.options))return!1}else if(!Xc(e.queryKey,o))return!1}if(n!=="all"){const l=e.isActive();if(n==="active"&&!l||n==="inactive"&&l)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function L_(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(Yc(e.options.mutationKey)!==Yc(i))return!1}else if(!Xc(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function rw(t,e){return((e==null?void 0:e.queryKeyHashFn)||Yc)(t)}function Yc(t){return JSON.stringify(t,(e,n)=>ry(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function Xc(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>Xc(t[n],e[n])):!1}function FI(t,e){if(t===e)return t;const n=V_(t)&&V_(e);if(n||ry(t)&&ry(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},l=new Set(r);let d=0;for(let h=0;h<o;h++){const f=n?h:i[h];(!n&&l.has(f)||n)&&t[f]===void 0&&e[f]===void 0?(a[f]=void 0,d++):(a[f]=FI(t[f],e[f]),a[f]===t[f]&&t[f]!==void 0&&d++)}return s===o&&d===s?t:a}return e}function V_(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function ry(t){if(!F_(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!F_(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function F_(t){return Object.prototype.toString.call(t)==="[object Object]"}function qV(t){return new Promise(e=>{setTimeout(e,t)})}function KV(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?FI(t,e):e}function GV(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function QV(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var sw=Symbol();function UI(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===sw?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var to,Qs,Aa,YE,YV=(YE=class extends Ff{constructor(){super();Oe(this,to);Oe(this,Qs);Oe(this,Aa);me(this,Aa,e=>{if(!Uf&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){B(this,Qs)||this.setEventListener(B(this,Aa))}onUnsubscribe(){var e;this.hasListeners()||((e=B(this,Qs))==null||e.call(this),me(this,Qs,void 0))}setEventListener(e){var n;me(this,Aa,e),(n=B(this,Qs))==null||n.call(this),me(this,Qs,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){B(this,to)!==e&&(me(this,to,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof B(this,to)=="boolean"?B(this,to):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},to=new WeakMap,Qs=new WeakMap,Aa=new WeakMap,YE),$I=new YV,Pa,Ys,ka,XE,XV=(XE=class extends Ff{constructor(){super();Oe(this,Pa,!0);Oe(this,Ys);Oe(this,ka);me(this,ka,e=>{if(!Uf&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){B(this,Ys)||this.setEventListener(B(this,ka))}onUnsubscribe(){var e;this.hasListeners()||((e=B(this,Ys))==null||e.call(this),me(this,Ys,void 0))}setEventListener(e){var n;me(this,ka,e),(n=B(this,Ys))==null||n.call(this),me(this,Ys,e(this.setOnline.bind(this)))}setOnline(e){B(this,Pa)!==e&&(me(this,Pa,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return B(this,Pa)}},Pa=new WeakMap,Ys=new WeakMap,ka=new WeakMap,XE),Oh=new XV;function JV(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function ZV(t){return Math.min(1e3*2**t,3e4)}function BI(t){return(t??"online")==="online"?Oh.isOnline():!0}var zI=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function bm(t){return t instanceof zI}function HI(t){let e=!1,n=0,r=!1,s;const i=JV(),o=v=>{var b;r||(m(new zI(v)),(b=t.abort)==null||b.call(t))},a=()=>{e=!0},l=()=>{e=!1},d=()=>$I.isFocused()&&(t.networkMode==="always"||Oh.isOnline())&&t.canRun(),h=()=>BI(t.networkMode)&&t.canRun(),f=v=>{var b;r||(r=!0,(b=t.onSuccess)==null||b.call(t,v),s==null||s(),i.resolve(v))},m=v=>{var b;r||(r=!0,(b=t.onError)==null||b.call(t,v),s==null||s(),i.reject(v))},g=()=>new Promise(v=>{var b;s=_=>{(r||d())&&v(_)},(b=t.onPause)==null||b.call(t)}).then(()=>{var v;s=void 0,r||(v=t.onContinue)==null||v.call(t)}),T=()=>{if(r)return;let v;const b=n===0?t.initialPromise:void 0;try{v=b??t.fn()}catch(_){v=Promise.reject(_)}Promise.resolve(v).then(f).catch(_=>{var M;if(r)return;const w=t.retry??(Uf?0:3),x=t.retryDelay??ZV,A=typeof x=="function"?x(n,_):x,O=w===!0||typeof w=="number"&&n<w||typeof w=="function"&&w(n,_);if(e||!O){m(_);return}n++,(M=t.onFail)==null||M.call(t,n,_),qV(A).then(()=>d()?void 0:g()).then(()=>{e?m(_):T()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:l,canStart:h,start:()=>(h()?T():g().then(T),i)}}var e4=t=>setTimeout(t,0);function t4(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=e4;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(l=>{n(l)})})})};return{batch:a=>{let l;e++;try{l=a()}finally{e--,e||o()}return l},batchCalls:a=>(...l)=>{i(()=>{a(...l)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var Jt=t4(),no,JE,WI=(JE=class{constructor(){Oe(this,no)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),zV(this.gcTime)&&me(this,no,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(Uf?1/0:5*60*1e3))}clearGcTimeout(){B(this,no)&&(clearTimeout(B(this,no)),me(this,no,void 0))}},no=new WeakMap,JE),Da,ro,An,so,$t,hu,io,Gn,qr,ZE,n4=(ZE=class extends WI{constructor(n){super();Oe(this,Gn);Oe(this,Da);Oe(this,ro);Oe(this,An);Oe(this,so);Oe(this,$t);Oe(this,hu);Oe(this,io);me(this,io,!1),me(this,hu,n.defaultOptions),this.setOptions(n.options),this.observers=[],me(this,so,n.client),me(this,An,B(this,so).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,me(this,Da,s4(this.options)),this.state=n.state??B(this,Da),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=B(this,$t))==null?void 0:n.promise}setOptions(n){this.options={...B(this,hu),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&B(this,An).remove(this)}setData(n,r){const s=KV(this.state.data,n,this.options);return Lt(this,Gn,qr).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Lt(this,Gn,qr).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=B(this,$t))==null?void 0:s.promise;return(i=B(this,$t))==null||i.cancel(n),r?r.then(Kn).catch(Kn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(B(this,Da))}isActive(){return this.observers.some(n=>WV(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===sw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>ny(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!HV(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=B(this,$t))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=B(this,$t))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),B(this,An).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(B(this,$t)&&(B(this,io)?B(this,$t).cancel({revert:!0}):B(this,$t).cancelRetry()),this.scheduleGc()),B(this,An).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Lt(this,Gn,qr).call(this,{type:"invalidate"})}fetch(n,r){var h,f,m;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(B(this,$t))return B(this,$t).continueRetry(),B(this,$t).promise}if(n&&this.setOptions(n),!this.options.queryFn){const g=this.observers.find(T=>T.options.queryFn);g&&this.setOptions(g.options)}const s=new AbortController,i=g=>{Object.defineProperty(g,"signal",{enumerable:!0,get:()=>(me(this,io,!0),s.signal)})},o=()=>{const g=UI(this.options,r),v=(()=>{const b={client:B(this,so),queryKey:this.queryKey,meta:this.meta};return i(b),b})();return me(this,io,!1),this.options.persister?this.options.persister(g,v,this):g(v)},l=(()=>{const g={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:B(this,so),state:this.state,fetchFn:o};return i(g),g})();(h=this.options.behavior)==null||h.onFetch(l,this),me(this,ro,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=l.fetchOptions)==null?void 0:f.meta))&&Lt(this,Gn,qr).call(this,{type:"fetch",meta:(m=l.fetchOptions)==null?void 0:m.meta});const d=g=>{var T,v,b,_;bm(g)&&g.silent||Lt(this,Gn,qr).call(this,{type:"error",error:g}),bm(g)||((v=(T=B(this,An).config).onError)==null||v.call(T,g,this),(_=(b=B(this,An).config).onSettled)==null||_.call(b,this.state.data,g,this)),this.scheduleGc()};return me(this,$t,HI({initialPromise:r==null?void 0:r.initialPromise,fn:l.fetchFn,abort:s.abort.bind(s),onSuccess:g=>{var T,v,b,_;if(g===void 0){d(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(g)}catch(w){d(w);return}(v=(T=B(this,An).config).onSuccess)==null||v.call(T,g,this),(_=(b=B(this,An).config).onSettled)==null||_.call(b,g,this.state.error,this),this.scheduleGc()},onError:d,onFail:(g,T)=>{Lt(this,Gn,qr).call(this,{type:"failed",failureCount:g,error:T})},onPause:()=>{Lt(this,Gn,qr).call(this,{type:"pause"})},onContinue:()=>{Lt(this,Gn,qr).call(this,{type:"continue"})},retry:l.options.retry,retryDelay:l.options.retryDelay,networkMode:l.options.networkMode,canRun:()=>!0})),B(this,$t).start()}},Da=new WeakMap,ro=new WeakMap,An=new WeakMap,so=new WeakMap,$t=new WeakMap,hu=new WeakMap,io=new WeakMap,Gn=new WeakSet,qr=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...r4(s.data,this.options),fetchMeta:n.meta??null};case"success":return me(this,ro,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return bm(i)&&i.revert&&B(this,ro)?{...B(this,ro),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),Jt.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),B(this,An).notify({query:this,type:"updated",action:n})})},ZE);function r4(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:BI(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function s4(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var Er,eb,i4=(eb=class extends Ff{constructor(e={}){super();Oe(this,Er);this.config=e,me(this,Er,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??rw(s,n);let o=this.get(i);return o||(o=new n4({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){B(this,Er).has(e.queryHash)||(B(this,Er).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=B(this,Er).get(e.queryHash);n&&(e.destroy(),n===e&&B(this,Er).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){Jt.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return B(this,Er).get(e)}getAll(){return[...B(this,Er).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>j_(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>j_(e,r)):n}notify(e){Jt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){Jt.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){Jt.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},Er=new WeakMap,eb),br,Yt,oo,Tr,Ms,tb,o4=(tb=class extends WI{constructor(n){super();Oe(this,Tr);Oe(this,br);Oe(this,Yt);Oe(this,oo);this.mutationId=n.mutationId,me(this,Yt,n.mutationCache),me(this,br,[]),this.state=n.state||a4(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){B(this,br).includes(n)||(B(this,br).push(n),this.clearGcTimeout(),B(this,Yt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){me(this,br,B(this,br).filter(r=>r!==n)),this.scheduleGc(),B(this,Yt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){B(this,br).length||(this.state.status==="pending"?this.scheduleGc():B(this,Yt).remove(this))}continue(){var n;return((n=B(this,oo))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,a,l,d,h,f,m,g,T,v,b,_,w,x,A,O,M,I,S,P;const r=()=>{Lt(this,Tr,Ms).call(this,{type:"continue"})};me(this,oo,HI({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(k,D)=>{Lt(this,Tr,Ms).call(this,{type:"failed",failureCount:k,error:D})},onPause:()=>{Lt(this,Tr,Ms).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>B(this,Yt).canRun(this)}));const s=this.state.status==="pending",i=!B(this,oo).canStart();try{if(s)r();else{Lt(this,Tr,Ms).call(this,{type:"pending",variables:n,isPaused:i}),await((a=(o=B(this,Yt).config).onMutate)==null?void 0:a.call(o,n,this));const D=await((d=(l=this.options).onMutate)==null?void 0:d.call(l,n));D!==this.state.context&&Lt(this,Tr,Ms).call(this,{type:"pending",context:D,variables:n,isPaused:i})}const k=await B(this,oo).start();return await((f=(h=B(this,Yt).config).onSuccess)==null?void 0:f.call(h,k,n,this.state.context,this)),await((g=(m=this.options).onSuccess)==null?void 0:g.call(m,k,n,this.state.context)),await((v=(T=B(this,Yt).config).onSettled)==null?void 0:v.call(T,k,null,this.state.variables,this.state.context,this)),await((_=(b=this.options).onSettled)==null?void 0:_.call(b,k,null,n,this.state.context)),Lt(this,Tr,Ms).call(this,{type:"success",data:k}),k}catch(k){try{throw await((x=(w=B(this,Yt).config).onError)==null?void 0:x.call(w,k,n,this.state.context,this)),await((O=(A=this.options).onError)==null?void 0:O.call(A,k,n,this.state.context)),await((I=(M=B(this,Yt).config).onSettled)==null?void 0:I.call(M,void 0,k,this.state.variables,this.state.context,this)),await((P=(S=this.options).onSettled)==null?void 0:P.call(S,void 0,k,n,this.state.context)),k}finally{Lt(this,Tr,Ms).call(this,{type:"error",error:k})}}finally{B(this,Yt).runNext(this)}}},br=new WeakMap,Yt=new WeakMap,oo=new WeakMap,Tr=new WeakSet,Ms=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),Jt.batch(()=>{B(this,br).forEach(s=>{s.onMutationUpdate(n)}),B(this,Yt).notify({mutation:this,type:"updated",action:n})})},tb);function a4(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var Xr,Qn,fu,nb,l4=(nb=class extends Ff{constructor(e={}){super();Oe(this,Xr);Oe(this,Qn);Oe(this,fu);this.config=e,me(this,Xr,new Set),me(this,Qn,new Map),me(this,fu,0)}build(e,n,r){const s=new o4({mutationCache:this,mutationId:++Gu(this,fu)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){B(this,Xr).add(e);const n=gd(e);if(typeof n=="string"){const r=B(this,Qn).get(n);r?r.push(e):B(this,Qn).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(B(this,Xr).delete(e)){const n=gd(e);if(typeof n=="string"){const r=B(this,Qn).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&B(this,Qn).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=gd(e);if(typeof n=="string"){const r=B(this,Qn).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=gd(e);if(typeof n=="string"){const s=(r=B(this,Qn).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){Jt.batch(()=>{B(this,Xr).forEach(e=>{this.notify({type:"removed",mutation:e})}),B(this,Xr).clear(),B(this,Qn).clear()})}getAll(){return Array.from(B(this,Xr))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>L_(n,r))}findAll(e={}){return this.getAll().filter(n=>L_(e,n))}notify(e){Jt.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return Jt.batch(()=>Promise.all(e.map(n=>n.continue().catch(Kn))))}},Xr=new WeakMap,Qn=new WeakMap,fu=new WeakMap,nb);function gd(t){var e;return(e=t.options.scope)==null?void 0:e.id}function U_(t){return{onFetch:(e,n)=>{var h,f,m,g,T;const r=e.options,s=(m=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:m.direction,i=((g=e.state.data)==null?void 0:g.pages)||[],o=((T=e.state.data)==null?void 0:T.pageParams)||[];let a={pages:[],pageParams:[]},l=0;const d=async()=>{let v=!1;const b=x=>{Object.defineProperty(x,"signal",{enumerable:!0,get:()=>(e.signal.aborted?v=!0:e.signal.addEventListener("abort",()=>{v=!0}),e.signal)})},_=UI(e.options,e.fetchOptions),w=async(x,A,O)=>{if(v)return Promise.reject();if(A==null&&x.pages.length)return Promise.resolve(x);const I=(()=>{const D={client:e.client,queryKey:e.queryKey,pageParam:A,direction:O?"backward":"forward",meta:e.options.meta};return b(D),D})(),S=await _(I),{maxPages:P}=e.options,k=O?QV:GV;return{pages:k(x.pages,S,P),pageParams:k(x.pageParams,A,P)}};if(s&&i.length){const x=s==="backward",A=x?c4:$_,O={pages:i,pageParams:o},M=A(r,O);a=await w(O,M,x)}else{const x=t??i.length;do{const A=l===0?o[0]??r.initialPageParam:$_(r,a);if(l>0&&A==null)break;a=await w(a,A),l++}while(l<x)}return a};e.options.persister?e.fetchFn=()=>{var v,b;return(b=(v=e.options).persister)==null?void 0:b.call(v,d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=d}}}function $_(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function c4(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var st,Xs,Js,Oa,Ma,Zs,ja,La,rb,u4=(rb=class{constructor(t={}){Oe(this,st);Oe(this,Xs);Oe(this,Js);Oe(this,Oa);Oe(this,Ma);Oe(this,Zs);Oe(this,ja);Oe(this,La);me(this,st,t.queryCache||new i4),me(this,Xs,t.mutationCache||new l4),me(this,Js,t.defaultOptions||{}),me(this,Oa,new Map),me(this,Ma,new Map),me(this,Zs,0)}mount(){Gu(this,Zs)._++,B(this,Zs)===1&&(me(this,ja,$I.subscribe(async t=>{t&&(await this.resumePausedMutations(),B(this,st).onFocus())})),me(this,La,Oh.subscribe(async t=>{t&&(await this.resumePausedMutations(),B(this,st).onOnline())})))}unmount(){var t,e;Gu(this,Zs)._--,B(this,Zs)===0&&((t=B(this,ja))==null||t.call(this),me(this,ja,void 0),(e=B(this,La))==null||e.call(this),me(this,La,void 0))}isFetching(t){return B(this,st).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return B(this,Xs).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=B(this,st).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=B(this,st).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(ny(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return B(this,st).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=B(this,st).get(r.queryHash),i=s==null?void 0:s.state.data,o=BV(e,i);if(o!==void 0)return B(this,st).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return Jt.batch(()=>B(this,st).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=B(this,st).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=B(this,st);Jt.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=B(this,st);return Jt.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=Jt.batch(()=>B(this,st).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Kn).catch(Kn)}invalidateQueries(t,e={}){return Jt.batch(()=>(B(this,st).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=Jt.batch(()=>B(this,st).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Kn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Kn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=B(this,st).build(this,e);return n.isStaleByTime(ny(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Kn).catch(Kn)}fetchInfiniteQuery(t){return t.behavior=U_(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Kn).catch(Kn)}ensureInfiniteQueryData(t){return t.behavior=U_(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return Oh.isOnline()?B(this,Xs).resumePausedMutations():Promise.resolve()}getQueryCache(){return B(this,st)}getMutationCache(){return B(this,Xs)}getDefaultOptions(){return B(this,Js)}setDefaultOptions(t){me(this,Js,t)}setQueryDefaults(t,e){B(this,Oa).set(Yc(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...B(this,Oa).values()],n={};return e.forEach(r=>{Xc(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){B(this,Ma).set(Yc(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...B(this,Ma).values()],n={};return e.forEach(r=>{Xc(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...B(this,Js).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=rw(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===sw&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...B(this,Js).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){B(this,st).clear(),B(this,Xs).clear()}},st=new WeakMap,Xs=new WeakMap,Js=new WeakMap,Oa=new WeakMap,Ma=new WeakMap,Zs=new WeakMap,ja=new WeakMap,La=new WeakMap,rb),d4=p.createContext(void 0),h4=({client:t,children:e})=>(p.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),u.jsx(d4.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Jc(){return Jc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Jc.apply(this,arguments)}var ni;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(ni||(ni={}));const B_="popstate";function f4(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return sy("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:Mh(s)}return m4(e,n,null,t)}function et(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function qI(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function p4(){return Math.random().toString(36).substr(2,8)}function z_(t,e){return{usr:t.state,key:t.key,idx:e}}function sy(t,e,n,r){return n===void 0&&(n=null),Jc({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?fl(e):e,{state:n,key:e&&e.key||r||p4()})}function Mh(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function fl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function m4(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=ni.Pop,l=null,d=h();d==null&&(d=0,o.replaceState(Jc({},o.state,{idx:d}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=ni.Pop;let b=h(),_=b==null?null:b-d;d=b,l&&l({action:a,location:v.location,delta:_})}function m(b,_){a=ni.Push;let w=sy(v.location,b,_);d=h()+1;let x=z_(w,d),A=v.createHref(w);try{o.pushState(x,"",A)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(A)}i&&l&&l({action:a,location:v.location,delta:1})}function g(b,_){a=ni.Replace;let w=sy(v.location,b,_);d=h();let x=z_(w,d),A=v.createHref(w);o.replaceState(x,"",A),i&&l&&l({action:a,location:v.location,delta:0})}function T(b){let _=s.location.origin!=="null"?s.location.origin:s.location.href,w=typeof b=="string"?b:Mh(b);return w=w.replace(/ $/,"%20"),et(_,"No window.location.(origin|href) available to create URL for href: "+w),new URL(w,_)}let v={get action(){return a},get location(){return t(s,o)},listen(b){if(l)throw new Error("A history only accepts one active listener");return s.addEventListener(B_,f),l=b,()=>{s.removeEventListener(B_,f),l=null}},createHref(b){return e(s,b)},createURL:T,encodeLocation(b){let _=T(b);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:m,replace:g,go(b){return o.go(b)}};return v}var H_;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(H_||(H_={}));function g4(t,e,n){return n===void 0&&(n="/"),y4(t,e,n,!1)}function y4(t,e,n,r){let s=typeof e=="string"?fl(e):e,i=Ga(s.pathname||"/",n);if(i==null)return null;let o=KI(t);v4(o);let a=null;for(let l=0;a==null&&l<o.length;++l){let d=N4(i);a=C4(o[l],d,r)}return a}function KI(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let l={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};l.relativePath.startsWith("/")&&(et(l.relativePath.startsWith(r),'Absolute route path "'+l.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),l.relativePath=l.relativePath.slice(r.length));let d=hi([r,l.relativePath]),h=n.concat(l);i.children&&i.children.length>0&&(et(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),KI(i.children,e,h,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:S4(d,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let l of GI(i.path))s(i,o,l)}),e}function GI(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=GI(r.join("/")),a=[];return a.push(...o.map(l=>l===""?i:[i,l].join("/"))),s&&a.push(...o),a.map(l=>t.startsWith("/")&&l===""?"/":l)}function v4(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:I4(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const w4=/^:[\w-]+$/,x4=3,_4=2,E4=1,b4=10,T4=-2,W_=t=>t==="*";function S4(t,e){let n=t.split("/"),r=n.length;return n.some(W_)&&(r+=T4),e&&(r+=_4),n.filter(s=>!W_(s)).reduce((s,i)=>s+(w4.test(i)?x4:i===""?E4:b4),r)}function I4(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function C4(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let l=r[a],d=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=jh({path:l.relativePath,caseSensitive:l.caseSensitive,end:d},h),m=l.route;if(!f&&d&&n&&!r[r.length-1].route.index&&(f=jh({path:l.relativePath,caseSensitive:l.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:hi([i,f.pathname]),pathnameBase:D4(hi([i,f.pathnameBase])),route:m}),f.pathnameBase!=="/"&&(i=hi([i,f.pathnameBase]))}return o}function jh(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=R4(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((d,h,f)=>{let{paramName:m,isOptional:g}=h;if(m==="*"){let v=a[f]||"";o=i.slice(0,i.length-v.length).replace(/(.)\/+$/,"$1")}const T=a[f];return g&&!T?d[m]=void 0:d[m]=(T||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function R4(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),qI(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,l)=>(r.push({paramName:a,isOptional:l!=null}),l?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function N4(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return qI(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function Ga(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function A4(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?fl(t):t;return{pathname:n?n.startsWith("/")?n:P4(n,e):e,search:O4(r),hash:M4(s)}}function P4(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function Tm(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function k4(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function iw(t,e){let n=k4(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function ow(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=fl(t):(s=Jc({},t),et(!s.pathname||!s.pathname.includes("?"),Tm("?","pathname","search",s)),et(!s.pathname||!s.pathname.includes("#"),Tm("#","pathname","hash",s)),et(!s.search||!s.search.includes("#"),Tm("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let m=o.split("/");for(;m[0]==="..";)m.shift(),f-=1;s.pathname=m.join("/")}a=f>=0?e[f]:"/"}let l=A4(s,a),d=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!l.pathname.endsWith("/")&&(d||h)&&(l.pathname+="/"),l}const hi=t=>t.join("/").replace(/\/\/+/g,"/"),D4=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),O4=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,M4=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function j4(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const QI=["post","put","patch","delete"];new Set(QI);const L4=["get",...QI];new Set(L4);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Zc(){return Zc=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Zc.apply(this,arguments)}const $f=p.createContext(null),YI=p.createContext(null),_s=p.createContext(null),Bf=p.createContext(null),Mi=p.createContext({outlet:null,matches:[],isDataRoute:!1}),XI=p.createContext(null);function V4(t,e){let{relative:n}=e===void 0?{}:e;pl()||et(!1);let{basename:r,navigator:s}=p.useContext(_s),{hash:i,pathname:o,search:a}=zf(t,{relative:n}),l=o;return r!=="/"&&(l=o==="/"?r:hi([r,o])),s.createHref({pathname:l,search:a,hash:i})}function pl(){return p.useContext(Bf)!=null}function ko(){return pl()||et(!1),p.useContext(Bf).location}function JI(t){p.useContext(_s).static||p.useLayoutEffect(t)}function ml(){let{isDataRoute:t}=p.useContext(Mi);return t?X4():F4()}function F4(){pl()||et(!1);let t=p.useContext($f),{basename:e,future:n,navigator:r}=p.useContext(_s),{matches:s}=p.useContext(Mi),{pathname:i}=ko(),o=JSON.stringify(iw(s,n.v7_relativeSplatPath)),a=p.useRef(!1);return JI(()=>{a.current=!0}),p.useCallback(function(d,h){if(h===void 0&&(h={}),!a.current)return;if(typeof d=="number"){r.go(d);return}let f=ow(d,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:hi([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,i,t])}function zf(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=p.useContext(_s),{matches:s}=p.useContext(Mi),{pathname:i}=ko(),o=JSON.stringify(iw(s,r.v7_relativeSplatPath));return p.useMemo(()=>ow(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function U4(t,e){return $4(t,e)}function $4(t,e,n,r){pl()||et(!1);let{navigator:s}=p.useContext(_s),{matches:i}=p.useContext(Mi),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let l=o?o.pathnameBase:"/";o&&o.route;let d=ko(),h;if(e){var f;let b=typeof e=="string"?fl(e):e;l==="/"||(f=b.pathname)!=null&&f.startsWith(l)||et(!1),h=b}else h=d;let m=h.pathname||"/",g=m;if(l!=="/"){let b=l.replace(/^\//,"").split("/");g="/"+m.replace(/^\//,"").split("/").slice(b.length).join("/")}let T=g4(t,{pathname:g}),v=q4(T&&T.map(b=>Object.assign({},b,{params:Object.assign({},a,b.params),pathname:hi([l,s.encodeLocation?s.encodeLocation(b.pathname).pathname:b.pathname]),pathnameBase:b.pathnameBase==="/"?l:hi([l,s.encodeLocation?s.encodeLocation(b.pathnameBase).pathname:b.pathnameBase])})),i,n,r);return e&&v?p.createElement(Bf.Provider,{value:{location:Zc({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:ni.Pop}},v):v}function B4(){let t=Y4(),e=j4(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return p.createElement(p.Fragment,null,p.createElement("h2",null,"Unexpected Application Error!"),p.createElement("h3",{style:{fontStyle:"italic"}},e),n?p.createElement("pre",{style:s},n):null,null)}const z4=p.createElement(B4,null);class H4 extends p.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?p.createElement(Mi.Provider,{value:this.props.routeContext},p.createElement(XI.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function W4(t){let{routeContext:e,match:n,children:r}=t,s=p.useContext($f);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),p.createElement(Mi.Provider,{value:e},r)}function q4(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||et(!1),o=o.slice(0,Math.min(o.length,h+1))}let l=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=h),f.route.id){let{loaderData:m,errors:g}=n,T=f.route.loader&&m[f.route.id]===void 0&&(!g||g[f.route.id]===void 0);if(f.route.lazy||T){l=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((h,f,m)=>{let g,T=!1,v=null,b=null;n&&(g=a&&f.route.id?a[f.route.id]:void 0,v=f.route.errorElement||z4,l&&(d<0&&m===0?(T=!0,b=null):d===m&&(T=!0,b=f.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,m+1)),w=()=>{let x;return g?x=v:T?x=b:f.route.Component?x=p.createElement(f.route.Component,null):f.route.element?x=f.route.element:x=h,p.createElement(W4,{match:f,routeContext:{outlet:h,matches:_,isDataRoute:n!=null},children:x})};return n&&(f.route.ErrorBoundary||f.route.errorElement||m===0)?p.createElement(H4,{location:n.location,revalidation:n.revalidation,component:v,error:g,children:w(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):w()},null)}var ZI=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(ZI||{}),Lh=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(Lh||{});function K4(t){let e=p.useContext($f);return e||et(!1),e}function G4(t){let e=p.useContext(YI);return e||et(!1),e}function Q4(t){let e=p.useContext(Mi);return e||et(!1),e}function eC(t){let e=Q4(),n=e.matches[e.matches.length-1];return n.route.id||et(!1),n.route.id}function Y4(){var t;let e=p.useContext(XI),n=G4(Lh.UseRouteError),r=eC(Lh.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function X4(){let{router:t}=K4(ZI.UseNavigateStable),e=eC(Lh.UseNavigateStable),n=p.useRef(!1);return JI(()=>{n.current=!0}),p.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,Zc({fromRouteId:e},i)))},[t,e])}function J4(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function Z4(t){let{to:e,replace:n,state:r,relative:s}=t;pl()||et(!1);let{future:i,static:o}=p.useContext(_s),{matches:a}=p.useContext(Mi),{pathname:l}=ko(),d=ml(),h=ow(e,iw(a,i.v7_relativeSplatPath),l,s==="path"),f=JSON.stringify(h);return p.useEffect(()=>d(JSON.parse(f),{replace:n,state:r,relative:s}),[d,f,s,n,r]),null}function Hs(t){et(!1)}function eF(t){let{basename:e="/",children:n=null,location:r,navigationType:s=ni.Pop,navigator:i,static:o=!1,future:a}=t;pl()&&et(!1);let l=e.replace(/^\/*/,"/"),d=p.useMemo(()=>({basename:l,navigator:i,static:o,future:Zc({v7_relativeSplatPath:!1},a)}),[l,a,i,o]);typeof r=="string"&&(r=fl(r));let{pathname:h="/",search:f="",hash:m="",state:g=null,key:T="default"}=r,v=p.useMemo(()=>{let b=Ga(h,l);return b==null?null:{location:{pathname:b,search:f,hash:m,state:g,key:T},navigationType:s}},[l,h,f,m,g,T,s]);return v==null?null:p.createElement(_s.Provider,{value:d},p.createElement(Bf.Provider,{children:n,value:v}))}function tC(t){let{children:e,location:n}=t;return U4(iy(e),n)}new Promise(()=>{});function iy(t,e){e===void 0&&(e=[]);let n=[];return p.Children.forEach(t,(r,s)=>{if(!p.isValidElement(r))return;let i=[...e,s];if(r.type===p.Fragment){n.push.apply(n,iy(r.props.children,i));return}r.type!==Hs&&et(!1),!r.props.index||!r.props.children||et(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=iy(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function Vh(){return Vh=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},Vh.apply(this,arguments)}function nC(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function tF(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function nF(t,e){return t.button===0&&(!e||e==="_self")&&!tF(t)}const rF=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],sF=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],iF="6";try{window.__reactRouterVersion=iF}catch{}const oF=p.createContext({isTransitioning:!1}),aF="startTransition",q_=Wy[aF];function lF(t){let{basename:e,children:n,future:r,window:s}=t,i=p.useRef();i.current==null&&(i.current=f4({window:s,v5Compat:!0}));let o=i.current,[a,l]=p.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},h=p.useCallback(f=>{d&&q_?q_(()=>l(f)):l(f)},[l,d]);return p.useLayoutEffect(()=>o.listen(h),[o,h]),p.useEffect(()=>J4(r),[r]),p.createElement(eF,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const cF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",uF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,dF=p.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:l,to:d,preventScrollReset:h,viewTransition:f}=e,m=nC(e,rF),{basename:g}=p.useContext(_s),T,v=!1;if(typeof d=="string"&&uF.test(d)&&(T=d,cF))try{let x=new URL(window.location.href),A=d.startsWith("//")?new URL(x.protocol+d):new URL(d),O=Ga(A.pathname,g);A.origin===x.origin&&O!=null?d=O+A.search+A.hash:v=!0}catch{}let b=V4(d,{relative:s}),_=pF(d,{replace:o,state:a,target:l,preventScrollReset:h,relative:s,viewTransition:f});function w(x){r&&r(x),x.defaultPrevented||_(x)}return p.createElement("a",Vh({},m,{href:T||b,onClick:v||i?r:w,ref:n,target:l}))}),hF=p.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:a,to:l,viewTransition:d,children:h}=e,f=nC(e,sF),m=zf(l,{relative:f.relative}),g=ko(),T=p.useContext(YI),{navigator:v,basename:b}=p.useContext(_s),_=T!=null&&mF(m)&&d===!0,w=v.encodeLocation?v.encodeLocation(m).pathname:m.pathname,x=g.pathname,A=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;s||(x=x.toLowerCase(),A=A?A.toLowerCase():null,w=w.toLowerCase()),A&&b&&(A=Ga(A,b)||A);const O=w!=="/"&&w.endsWith("/")?w.length-1:w.length;let M=x===w||!o&&x.startsWith(w)&&x.charAt(O)==="/",I=A!=null&&(A===w||!o&&A.startsWith(w)&&A.charAt(w.length)==="/"),S={isActive:M,isPending:I,isTransitioning:_},P=M?r:void 0,k;typeof i=="function"?k=i(S):k=[i,M?"active":null,I?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let D=typeof a=="function"?a(S):a;return p.createElement(dF,Vh({},f,{"aria-current":P,className:k,ref:n,style:D,to:l,viewTransition:d}),typeof h=="function"?h(S):h)});var oy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(oy||(oy={}));var K_;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(K_||(K_={}));function fF(t){let e=p.useContext($f);return e||et(!1),e}function pF(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,l=ml(),d=ko(),h=zf(t,{relative:o});return p.useCallback(f=>{if(nF(f,n)){f.preventDefault();let m=r!==void 0?r:Mh(d)===Mh(h);l(t,{replace:m,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[d,l,h,r,s,n,t,i,o,a])}function mF(t,e){e===void 0&&(e={});let n=p.useContext(oF);n==null&&et(!1);let{basename:r}=fF(oy.useViewTransitionState),s=zf(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=Ga(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=Ga(n.nextLocation.pathname,r)||n.nextLocation.pathname;return jh(s.pathname,o)!=null||jh(s.pathname,i)!=null}const gF=()=>{};var G_={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const rC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},yF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],l=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(l>>10)),e[r++]=String.fromCharCode(56320+(l&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},sC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,l=s+2<t.length,d=l?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let m=(a&15)<<2|d>>6,g=d&63;l||(g=64,o||(m=64)),r.push(n[h],n[f],n[m],n[g])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(rC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):yF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||d==null||f==null)throw new vF;const m=i<<2|a>>4;if(r.push(m),d!==64){const g=a<<4&240|d>>2;if(r.push(g),f!==64){const T=d<<6&192|f;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class vF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const wF=function(t){const e=rC(t);return sC.encodeByteArray(e,!0)},Fh=function(t){return wF(t).replace(/\./g,"")},iC=function(t){try{return sC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _F=()=>xF().__FIREBASE_DEFAULTS__,EF=()=>{if(typeof process>"u"||typeof G_>"u")return;const t=G_.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},bF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&iC(t[1]);return e&&JSON.parse(e)},Hf=()=>{try{return gF()||_F()||EF()||bF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},oC=t=>{var e,n;return(n=(e=Hf())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},TF=t=>{const e=oC(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},aC=()=>{var t;return(t=Hf())==null?void 0:t.config},lC=t=>{var e;return(e=Hf())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SF{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function cC(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function IF(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[Fh(JSON.stringify(n)),Fh(JSON.stringify(o)),""].join(".")}const wc={};function CF(){const t={prod:[],emulator:[]};for(const e of Object.keys(wc))wc[e]?t.emulator.push(e):t.prod.push(e);return t}function RF(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let Q_=!1;function uC(t,e){if(typeof window>"u"||typeof document>"u"||!gl(window.location.host)||wc[t]===e||wc[t]||Q_)return;wc[t]=e;function n(m){return`__firebase__banner__${m}`}const r="__firebase__banner",i=CF().prod.length>0;function o(){const m=document.getElementById(r);m&&m.remove()}function a(m){m.style.display="flex",m.style.background="#7faaf0",m.style.position="fixed",m.style.bottom="5px",m.style.left="5px",m.style.padding=".5em",m.style.borderRadius="5px",m.style.alignItems="center"}function l(m,g){m.setAttribute("width","24"),m.setAttribute("id",g),m.setAttribute("height","24"),m.setAttribute("viewBox","0 0 24 24"),m.setAttribute("fill","none"),m.style.marginLeft="-6px"}function d(){const m=document.createElement("span");return m.style.cursor="pointer",m.style.marginLeft="16px",m.style.fontSize="24px",m.innerHTML=" &times;",m.onclick=()=>{Q_=!0,o()},m}function h(m,g){m.setAttribute("id",g),m.innerText="Learn more",m.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",m.setAttribute("target","__blank"),m.style.paddingLeft="5px",m.style.textDecoration="underline"}function f(){const m=RF(r),g=n("text"),T=document.getElementById(g)||document.createElement("span"),v=n("learnmore"),b=document.getElementById(v)||document.createElement("a"),_=n("preprendIcon"),w=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(m.created){const x=m.element;a(x),h(b,v);const A=d();l(w,_),x.append(w,T,b,A),document.body.appendChild(x)}i?(T.innerText="Preview backend disconnected.",w.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(w.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",g)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function NF(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(qt())}function AF(){var e;const t=(e=Hf())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function PF(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function dC(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function kF(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function DF(){const t=qt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function OF(){return!AF()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function hC(){try{return typeof indexedDB=="object"}catch{return!1}}function fC(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function MF(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jF="FirebaseError";class dr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=jF,Object.setPrototypeOf(this,dr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Do.prototype.create)}}class Do{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?LF(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new dr(s,a,r)}}function LF(t,e){return t.replace(VF,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const VF=/\{\$([^}]+)}/g;function FF(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function bi(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(Y_(i)&&Y_(o)){if(!bi(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function Y_(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Eu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function tc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function nc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function UF(t,e){const n=new $F(t,e);return n.subscribe.bind(n)}class $F{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");BF(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=Sm),s.error===void 0&&(s.error=Sm),s.complete===void 0&&(s.complete=Sm);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function BF(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Sm(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zF=1e3,HF=2,WF=4*60*60*1e3,qF=.5;function X_(t,e=zF,n=HF){const r=e*Math.pow(n,t),s=Math.round(qF*r*(Math.random()-.5)*2);return Math.min(WF,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ot(t){return t&&t._delegate?t._delegate:t}class lr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Qi="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KF{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new SF;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(QF(e))try{this.getOrInitializeService({instanceIdentifier:Qi})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=Qi){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=Qi){return this.instances.has(e)}getOptions(e=Qi){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:GF(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Qi){return this.component?this.component.multipleInstances?e:Qi:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function GF(t){return t===Qi?void 0:t}function QF(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class YF{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new KF(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Te;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Te||(Te={}));const XF={debug:Te.DEBUG,verbose:Te.VERBOSE,info:Te.INFO,warn:Te.WARN,error:Te.ERROR,silent:Te.SILENT},JF=Te.INFO,ZF={[Te.DEBUG]:"log",[Te.VERBOSE]:"log",[Te.INFO]:"info",[Te.WARN]:"warn",[Te.ERROR]:"error"},e5=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=ZF[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class Wf{constructor(e){this.name=e,this._logLevel=JF,this._logHandler=e5,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Te))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?XF[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Te.DEBUG,...e),this._logHandler(this,Te.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Te.VERBOSE,...e),this._logHandler(this,Te.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Te.INFO,...e),this._logHandler(this,Te.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Te.WARN,...e),this._logHandler(this,Te.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Te.ERROR,...e),this._logHandler(this,Te.ERROR,...e)}}const t5=(t,e)=>e.some(n=>t instanceof n);let J_,Z_;function n5(){return J_||(J_=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function r5(){return Z_||(Z_=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const pC=new WeakMap,ay=new WeakMap,mC=new WeakMap,Im=new WeakMap,aw=new WeakMap;function s5(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(fi(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&pC.set(n,t)}).catch(()=>{}),aw.set(e,t),e}function i5(t){if(ay.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});ay.set(t,e)}let ly={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return ay.get(t);if(e==="objectStoreNames")return t.objectStoreNames||mC.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return fi(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function o5(t){ly=t(ly)}function a5(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(Cm(this),e,...n);return mC.set(r,e.sort?e.sort():[e]),fi(r)}:r5().includes(t)?function(...e){return t.apply(Cm(this),e),fi(pC.get(this))}:function(...e){return fi(t.apply(Cm(this),e))}}function l5(t){return typeof t=="function"?a5(t):(t instanceof IDBTransaction&&i5(t),t5(t,n5())?new Proxy(t,ly):t)}function fi(t){if(t instanceof IDBRequest)return s5(t);if(Im.has(t))return Im.get(t);const e=l5(t);return e!==t&&(Im.set(t,e),aw.set(e,t)),e}const Cm=t=>aw.get(t);function gC(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=fi(o);return r&&o.addEventListener("upgradeneeded",l=>{r(fi(o.result),l.oldVersion,l.newVersion,fi(o.transaction),l)}),n&&o.addEventListener("blocked",l=>n(l.oldVersion,l.newVersion,l)),a.then(l=>{i&&l.addEventListener("close",()=>i()),s&&l.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const c5=["get","getKey","getAll","getAllKeys","count"],u5=["put","add","delete","clear"],Rm=new Map;function e1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Rm.get(e))return Rm.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=u5.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||c5.includes(n)))return;const i=async function(o,...a){const l=this.transaction(o,s?"readwrite":"readonly");let d=l.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[n](...a),s&&l.done]))[0]};return Rm.set(e,i),i}o5(t=>({...t,get:(e,n,r)=>e1(e,n)||t.get(e,n,r),has:(e,n)=>!!e1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class d5{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(h5(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function h5(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const cy="@firebase/app",t1="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const hs=new Wf("@firebase/app"),f5="@firebase/app-compat",p5="@firebase/analytics-compat",m5="@firebase/analytics",g5="@firebase/app-check-compat",y5="@firebase/app-check",v5="@firebase/auth",w5="@firebase/auth-compat",x5="@firebase/database",_5="@firebase/data-connect",E5="@firebase/database-compat",b5="@firebase/functions",T5="@firebase/functions-compat",S5="@firebase/installations",I5="@firebase/installations-compat",C5="@firebase/messaging",R5="@firebase/messaging-compat",N5="@firebase/performance",A5="@firebase/performance-compat",P5="@firebase/remote-config",k5="@firebase/remote-config-compat",D5="@firebase/storage",O5="@firebase/storage-compat",M5="@firebase/firestore",j5="@firebase/ai",L5="@firebase/firestore-compat",V5="firebase",F5="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uy="[DEFAULT]",U5={[cy]:"fire-core",[f5]:"fire-core-compat",[m5]:"fire-analytics",[p5]:"fire-analytics-compat",[y5]:"fire-app-check",[g5]:"fire-app-check-compat",[v5]:"fire-auth",[w5]:"fire-auth-compat",[x5]:"fire-rtdb",[_5]:"fire-data-connect",[E5]:"fire-rtdb-compat",[b5]:"fire-fn",[T5]:"fire-fn-compat",[S5]:"fire-iid",[I5]:"fire-iid-compat",[C5]:"fire-fcm",[R5]:"fire-fcm-compat",[N5]:"fire-perf",[A5]:"fire-perf-compat",[P5]:"fire-rc",[k5]:"fire-rc-compat",[D5]:"fire-gcs",[O5]:"fire-gcs-compat",[M5]:"fire-fst",[L5]:"fire-fst-compat",[j5]:"fire-vertex","fire-js":"fire-js",[V5]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uh=new Map,$5=new Map,dy=new Map;function n1(t,e){try{t.container.addComponent(e)}catch(n){hs.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Vr(t){const e=t.name;if(dy.has(e))return hs.debug(`There were multiple attempts to register component ${e}.`),!1;dy.set(e,t);for(const n of Uh.values())n1(n,t);for(const n of $5.values())n1(n,t);return!0}function Oo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Zn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B5={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},pi=new Do("app","Firebase",B5);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class z5{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new lr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw pi.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yl=F5;function yC(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:uy,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw pi.create("bad-app-name",{appName:String(s)});if(n||(n=aC()),!n)throw pi.create("no-options");const i=Uh.get(s);if(i){if(bi(n,i.options)&&bi(r,i.config))return i;throw pi.create("duplicate-app",{appName:s})}const o=new YF(s);for(const l of dy.values())o.addComponent(l);const a=new z5(n,r,o);return Uh.set(s,a),a}function lw(t=uy){const e=Uh.get(t);if(!e&&t===uy&&aC())return yC();if(!e)throw pi.create("no-app",{appName:t});return e}function jn(t,e,n){let r=U5[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),hs.warn(o.join(" "));return}Vr(new lr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H5="firebase-heartbeat-database",W5=1,eu="firebase-heartbeat-store";let Nm=null;function vC(){return Nm||(Nm=gC(H5,W5,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(eu)}catch(n){console.warn(n)}}}}).catch(t=>{throw pi.create("idb-open",{originalErrorMessage:t.message})})),Nm}async function q5(t){try{const n=(await vC()).transaction(eu),r=await n.objectStore(eu).get(wC(t));return await n.done,r}catch(e){if(e instanceof dr)hs.warn(e.message);else{const n=pi.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});hs.warn(n.message)}}}async function r1(t,e){try{const r=(await vC()).transaction(eu,"readwrite");await r.objectStore(eu).put(e,wC(t)),await r.done}catch(n){if(n instanceof dr)hs.warn(n.message);else{const r=pi.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});hs.warn(r.message)}}}function wC(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K5=1024,G5=30;class Q5{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new X5(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=s1();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>G5){const o=J5(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){hs.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=s1(),{heartbeatsToSend:r,unsentEntries:s}=Y5(this._heartbeatsCache.heartbeats),i=Fh(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return hs.warn(n),""}}}function s1(){return new Date().toISOString().substring(0,10)}function Y5(t,e=K5){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),i1(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),i1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class X5{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return hC()?fC().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await q5(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return r1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return r1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function i1(t){return Fh(JSON.stringify({version:2,heartbeats:t})).length}function J5(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Z5(t){Vr(new lr("platform-logger",e=>new d5(e),"PRIVATE")),Vr(new lr("heartbeat",e=>new Q5(e),"PRIVATE")),jn(cy,t1,t),jn(cy,t1,"esm2020"),jn("fire-js","")}Z5("");var e3="firebase",t3="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */jn(e3,t3,"app");const xC="@firebase/installations",cw="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _C=1e4,EC=`w:${cw}`,bC="FIS_v2",n3="https://firebaseinstallations.googleapis.com/v1",r3=60*60*1e3,s3="installations",i3="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const o3={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},xo=new Do(s3,i3,o3);function TC(t){return t instanceof dr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function SC({projectId:t}){return`${n3}/projects/${t}/installations`}function IC(t){return{token:t.token,requestStatus:2,expiresIn:l3(t.expiresIn),creationTime:Date.now()}}async function CC(t,e){const r=(await e.json()).error;return xo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function RC({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function a3(t,{refreshToken:e}){const n=RC(t);return n.append("Authorization",c3(e)),n}async function NC(t){const e=await t();return e.status>=500&&e.status<600?t():e}function l3(t){return Number(t.replace("s","000"))}function c3(t){return`${bC} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u3({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=SC(t),s=RC(t),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={fid:n,authVersion:bC,appId:t.appId,sdkVersion:EC},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await NC(()=>fetch(r,a));if(l.ok){const d=await l.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:IC(d.authToken)}}else throw await CC("Create Installation",l)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AC(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function d3(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const h3=/^[cdef][\w-]{21}$/,hy="";function f3(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=p3(t);return h3.test(n)?n:hy}catch{return hy}}function p3(t){return d3(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qf(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const PC=new Map;function kC(t,e){const n=qf(t);DC(n,e),m3(n,e)}function DC(t,e){const n=PC.get(t);if(n)for(const r of n)r(e)}function m3(t,e){const n=g3();n&&n.postMessage({key:t,fid:e}),y3()}let Zi=null;function g3(){return!Zi&&"BroadcastChannel"in self&&(Zi=new BroadcastChannel("[Firebase] FID Change"),Zi.onmessage=t=>{DC(t.data.key,t.data.fid)}),Zi}function y3(){PC.size===0&&Zi&&(Zi.close(),Zi=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3="firebase-installations-database",w3=1,_o="firebase-installations-store";let Am=null;function uw(){return Am||(Am=gC(v3,w3,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(_o)}}})),Am}async function $h(t,e){const n=qf(t),s=(await uw()).transaction(_o,"readwrite"),i=s.objectStore(_o),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&kC(t,e.fid),e}async function OC(t){const e=qf(t),r=(await uw()).transaction(_o,"readwrite");await r.objectStore(_o).delete(e),await r.done}async function Kf(t,e){const n=qf(t),s=(await uw()).transaction(_o,"readwrite"),i=s.objectStore(_o),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&kC(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dw(t){let e;const n=await Kf(t.appConfig,r=>{const s=x3(r),i=_3(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===hy?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function x3(t){const e=t||{fid:f3(),registrationStatus:0};return MC(e)}function _3(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(xo.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=E3(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:b3(t)}:{installationEntry:e}}async function E3(t,e){try{const n=await u3(t,e);return $h(t.appConfig,n)}catch(n){throw TC(n)&&n.customData.serverCode===409?await OC(t.appConfig):await $h(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function b3(t){let e=await o1(t.appConfig);for(;e.registrationStatus===1;)await AC(100),e=await o1(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await dw(t);return r||n}return e}function o1(t){return Kf(t,e=>{if(!e)throw xo.create("installation-not-found");return MC(e)})}function MC(t){return T3(t)?{fid:t.fid,registrationStatus:0}:t}function T3(t){return t.registrationStatus===1&&t.registrationTime+_C<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function S3({appConfig:t,heartbeatServiceProvider:e},n){const r=I3(t,n),s=a3(t,n),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={installation:{sdkVersion:EC,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},l=await NC(()=>fetch(r,a));if(l.ok){const d=await l.json();return IC(d)}else throw await CC("Generate Auth Token",l)}function I3(t,{fid:e}){return`${SC(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function hw(t,e=!1){let n;const r=await Kf(t.appConfig,i=>{if(!jC(i))throw xo.create("not-registered");const o=i.authToken;if(!e&&N3(o))return i;if(o.requestStatus===1)return n=C3(t,e),i;{if(!navigator.onLine)throw xo.create("app-offline");const a=P3(i);return n=R3(t,a),a}});return n?await n:r.authToken}async function C3(t,e){let n=await a1(t.appConfig);for(;n.authToken.requestStatus===1;)await AC(100),n=await a1(t.appConfig);const r=n.authToken;return r.requestStatus===0?hw(t,e):r}function a1(t){return Kf(t,e=>{if(!jC(e))throw xo.create("not-registered");const n=e.authToken;return k3(n)?{...e,authToken:{requestStatus:0}}:e})}async function R3(t,e){try{const n=await S3(t,e),r={...e,authToken:n};return await $h(t.appConfig,r),n}catch(n){if(TC(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await OC(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await $h(t.appConfig,r)}throw n}}function jC(t){return t!==void 0&&t.registrationStatus===2}function N3(t){return t.requestStatus===2&&!A3(t)}function A3(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+r3}function P3(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function k3(t){return t.requestStatus===1&&t.requestTime+_C<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function D3(t){const e=t,{installationEntry:n,registrationPromise:r}=await dw(e);return r?r.catch(console.error):hw(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function O3(t,e=!1){const n=t;return await M3(n),(await hw(n,e)).token}async function M3(t){const{registrationPromise:e}=await dw(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function j3(t){if(!t||!t.options)throw Pm("App Configuration");if(!t.name)throw Pm("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw Pm(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function Pm(t){return xo.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LC="installations",L3="installations-internal",V3=t=>{const e=t.getProvider("app").getImmediate(),n=j3(e),r=Oo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},F3=t=>{const e=t.getProvider("app").getImmediate(),n=Oo(e,LC).getImmediate();return{getId:()=>D3(n),getToken:s=>O3(n,s)}};function U3(){Vr(new lr(LC,V3,"PUBLIC")),Vr(new lr(L3,F3,"PRIVATE"))}U3();jn(xC,cw);jn(xC,cw,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bh="analytics",$3="firebase_id",B3="origin",z3=60*1e3,H3="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",fw="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const en=new Wf("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W3={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},Tn=new Do("analytics","Analytics",W3);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function q3(t){if(!t.startsWith(fw)){const e=Tn.create("invalid-gtag-resource",{gtagURL:t});return en.warn(e.message),""}return t}function VC(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function K3(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function G3(t,e){const n=K3("firebase-js-sdk-policy",{createScriptURL:q3}),r=document.createElement("script"),s=`${fw}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function Q3(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function Y3(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const l=(await VC(n)).find(d=>d.measurementId===s);l&&await e[l.appId]}}catch(a){en.error(a)}t("config",s,i)}async function X3(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await VC(n);for(const l of o){const d=a.find(f=>f.measurementId===l),h=d&&e[d.appId];if(h)i.push(h);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){en.error(i)}}function J3(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,l]=o;await X3(t,e,n,a,l)}else if(i==="config"){const[a,l]=o;await Y3(t,e,n,r,a,l)}else if(i==="consent"){const[a,l]=o;t("consent",a,l)}else if(i==="get"){const[a,l,d]=o;t("get",a,l,d)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){en.error(a)}}return s}function Z3(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=J3(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function e6(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(fw)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t6=30,n6=1e3;class r6{constructor(e={},n=n6){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const FC=new r6;function s6(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function i6(t){var o;const{appId:e,apiKey:n}=t,r={method:"GET",headers:s6(n)},s=H3.replace("{app-id}",e),i=await fetch(s,r);if(i.status!==200&&i.status!==304){let a="";try{const l=await i.json();(o=l.error)!=null&&o.message&&(a=l.error.message)}catch{}throw Tn.create("config-fetch-failed",{httpStatus:i.status,responseMessage:a})}return i.json()}async function o6(t,e=FC,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw Tn.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw Tn.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new c6;return setTimeout(async()=>{a.abort()},z3),UC({appId:r,apiKey:s,measurementId:i},o,a,e)}async function UC(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=FC){var a;const{appId:i,measurementId:o}=t;try{await a6(r,e)}catch(l){if(o)return en.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${l==null?void 0:l.message}]`),{appId:i,measurementId:o};throw l}try{const l=await i6(t);return s.deleteThrottleMetadata(i),l}catch(l){const d=l;if(!l6(d)){if(s.deleteThrottleMetadata(i),o)return en.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:i,measurementId:o};throw l}const h=Number((a=d==null?void 0:d.customData)==null?void 0:a.httpStatus)===503?X_(n,s.intervalMillis,t6):X_(n,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return s.setThrottleMetadata(i,f),en.debug(`Calling attemptFetch again in ${h} millis`),UC(t,f,r,s)}}function a6(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(Tn.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function l6(t){if(!(t instanceof dr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class c6{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function u6(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o={...r,send_to:i};t("event",n,o)}}async function d6(t,e,n,r){if(r&&r.global){const s={};for(const i of Object.keys(n))s[`user_properties.${i}`]=n[i];return t("set",s),Promise.resolve()}else{const s=await e;t("config",s,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function h6(){if(hC())try{await fC()}catch(t){return en.warn(Tn.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return en.warn(Tn.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function f6(t,e,n,r,s,i,o){const a=o6(t);a.then(m=>{n[m.measurementId]=m.appId,t.options.measurementId&&m.measurementId!==t.options.measurementId&&en.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${m.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(m=>en.error(m)),e.push(a);const l=h6().then(m=>{if(m)return r.getId()}),[d,h]=await Promise.all([a,l]);e6(i)||G3(i,d.measurementId),s("js",new Date);const f=(o==null?void 0:o.config)??{};return f[B3]="firebase",f.update=!0,h!=null&&(f[$3]=h),s("config",d.measurementId,f),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class p6{constructor(e){this.app=e}_delete(){return delete Ea[this.app.options.appId],Promise.resolve()}}let Ea={},l1=[];const c1={};let km="dataLayer",m6="gtag",u1,pw,d1=!1;function g6(){const t=[];if(dC()&&t.push("This is a browser extension environment."),MF()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=Tn.create("invalid-analytics-context",{errorInfo:e});en.warn(n.message)}}function y6(t,e,n){g6();const r=t.options.appId;if(!r)throw Tn.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)en.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw Tn.create("no-api-key");if(Ea[r]!=null)throw Tn.create("already-exists",{id:r});if(!d1){Q3(km);const{wrappedGtag:i,gtagCore:o}=Z3(Ea,l1,c1,km,m6);pw=i,u1=o,d1=!0}return Ea[r]=f6(t,l1,c1,e,u1,km,n),new p6(t)}function v6(t=lw()){t=ot(t);const e=Oo(t,Bh);return e.isInitialized()?e.getImmediate():w6(t)}function w6(t,e={}){const n=Oo(t,Bh);if(n.isInitialized()){const s=n.getImmediate();if(bi(e,n.getOptions()))return s;throw Tn.create("already-initialized")}return n.initialize({options:e})}function x6(t,e,n){t=ot(t),d6(pw,Ea[t.app.options.appId],e,n).catch(r=>en.error(r))}function _6(t,e,n,r){t=ot(t),u6(pw,Ea[t.app.options.appId],e,n,r).catch(s=>en.error(s))}const h1="@firebase/analytics",f1="0.10.19";function E6(){Vr(new lr(Bh,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return y6(r,s,n)},"PUBLIC")),Vr(new lr("analytics-internal",t,"PRIVATE")),jn(h1,f1),jn(h1,f1,"esm2020");function t(e){try{const n=e.getProvider(Bh).getImmediate();return{logEvent:(r,s,i)=>_6(n,r,s,i),setUserProperties:(r,s)=>x6(n,r,s)}}catch(n){throw Tn.create("interop-component-reg-failed",{reason:n})}}}E6();function $C(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const b6=$C,BC=new Do("auth","Firebase",$C());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zh=new Wf("@firebase/auth");function T6(t,...e){zh.logLevel<=Te.WARN&&zh.warn(`Auth (${yl}): ${t}`,...e)}function qd(t,...e){zh.logLevel<=Te.ERROR&&zh.error(`Auth (${yl}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cr(t,...e){throw mw(t,...e)}function kr(t,...e){return mw(t,...e)}function zC(t,e,n){const r={...b6(),[e]:n};return new Do("auth","Firebase",r).create(e,{appName:t.name})}function mi(t){return zC(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function mw(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return BC.create(t,...e)}function ue(t,e,...n){if(!t)throw mw(e,...n)}function es(t){const e="INTERNAL ASSERTION FAILED: "+t;throw qd(e),new Error(e)}function fs(t,e){t||es(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function fy(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function S6(){return p1()==="http:"||p1()==="https:"}function p1(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function I6(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(S6()||dC()||"connection"in navigator)?navigator.onLine:!0}function C6(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bu{constructor(e,n){this.shortDelay=e,this.longDelay=n,fs(n>e,"Short delay should be less than long delay!"),this.isMobile=NF()||kF()}get(){return I6()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gw(t,e){fs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class HC{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;es("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;es("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;es("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const R6={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N6=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],A6=new bu(3e4,6e4);function Mo(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function ji(t,e,n,r,s={}){return WC(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=Eu({key:t.config.apiKey,...o}).slice(1),l=await t._getAdditionalHeaders();l["Content-Type"]="application/json",t.languageCode&&(l["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:l,...i};return PF()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&gl(t.emulatorConfig.host)&&(d.credentials="include"),HC.fetch()(await qC(t,t.config.apiHost,n,a),d)})}async function WC(t,e,n){t._canInitEmulator=!1;const r={...R6,...e};try{const s=new k6(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw yd(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[l,d]=a.split(" : ");if(l==="FEDERATED_USER_ID_ALREADY_LINKED")throw yd(t,"credential-already-in-use",o);if(l==="EMAIL_EXISTS")throw yd(t,"email-already-in-use",o);if(l==="USER_DISABLED")throw yd(t,"user-disabled",o);const h=r[l]||l.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw zC(t,h,d);cr(t,h)}}catch(s){if(s instanceof dr)throw s;cr(t,"network-request-failed",{message:String(s)})}}async function Gf(t,e,n,r,s={}){const i=await ji(t,e,n,r,s);return"mfaPendingCredential"in i&&cr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function qC(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?gw(t.config,s):`${t.config.apiScheme}://${s}`;return N6.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function P6(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class k6{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(kr(this.auth,"network-request-failed")),A6.get())})}}function yd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=kr(t,e,r);return s.customData._tokenResponse=n,s}function m1(t){return t!==void 0&&t.enterprise!==void 0}class D6{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return P6(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function O6(t,e){return ji(t,"GET","/v2/recaptchaConfig",Mo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function M6(t,e){return ji(t,"POST","/v1/accounts:delete",e)}async function Hh(t,e){return ji(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function xc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function j6(t,e=!1){const n=ot(t),r=await n.getIdToken(e),s=yw(r);ue(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:xc(Dm(s.auth_time)),issuedAtTime:xc(Dm(s.iat)),expirationTime:xc(Dm(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function Dm(t){return Number(t)*1e3}function yw(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return qd("JWT malformed, contained fewer than 3 sections"),null;try{const s=iC(n);return s?JSON.parse(s):(qd("Failed to decode base64 JWT payload"),null)}catch(s){return qd("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function g1(t){const e=yw(t);return ue(e,"internal-error"),ue(typeof e.exp<"u","internal-error"),ue(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof dr&&L6(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function L6({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V6{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class py{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=xc(this.lastLoginAt),this.creationTime=xc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wh(t){var f;const e=t.auth,n=await t.getIdToken(),r=await tu(t,Hh(e,{idToken:n}));ue(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?KC(s.providerUserInfo):[],o=U6(t.providerData,i),a=t.isAnonymous,l=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),d=a?l:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new py(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function F6(t){const e=ot(t);await Wh(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function U6(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function KC(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $6(t,e){const n=await WC(t,{},async()=>{const r=Eu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await qC(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const l={method:"POST",headers:a,body:r};return t.emulatorConfig&&gl(t.emulatorConfig.host)&&(l.credentials="include"),HC.fetch()(o,l)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function B6(t,e){return ji(t,"POST","/v2/accounts:revokeToken",Mo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ba{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){ue(e.idToken,"internal-error"),ue(typeof e.idToken<"u","internal-error"),ue(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):g1(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){ue(e.length!==0,"internal-error");const n=g1(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(ue(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await $6(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new ba;return r&&(ue(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(ue(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(ue(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new ba,this.toJSON())}_performRefresh(){return es("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Ds(t,e){ue(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class er{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new V6(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new py(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await tu(this,this.stsTokenManager.getToken(this.auth,e));return ue(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return j6(this,e)}reload(){return F6(this)}_assign(e){this!==e&&(ue(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new er({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){ue(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await Wh(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Zn(this.auth.app))return Promise.reject(mi(this.auth));const e=await this.getIdToken();return await tu(this,M6(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,l=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:m,isAnonymous:g,providerData:T,stsTokenManager:v}=n;ue(f&&v,e,"internal-error");const b=ba.fromJSON(this.name,v);ue(typeof f=="string",e,"internal-error"),Ds(r,e.name),Ds(s,e.name),ue(typeof m=="boolean",e,"internal-error"),ue(typeof g=="boolean",e,"internal-error"),Ds(i,e.name),Ds(o,e.name),Ds(a,e.name),Ds(l,e.name),Ds(d,e.name),Ds(h,e.name);const _=new er({uid:f,auth:e,email:s,emailVerified:m,displayName:r,isAnonymous:g,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:b,createdAt:d,lastLoginAt:h});return T&&Array.isArray(T)&&(_.providerData=T.map(w=>({...w}))),l&&(_._redirectEventId=l),_}static async _fromIdTokenResponse(e,n,r=!1){const s=new ba;s.updateFromServerResponse(n);const i=new er({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await Wh(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];ue(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?KC(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new ba;a.updateFromIdToken(r);const l=new er({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new py(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(l,d),l}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y1=new Map;function ts(t){fs(t instanceof Function,"Expected a class definition");let e=y1.get(t);return e?(fs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,y1.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GC{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}GC.type="NONE";const v1=GC;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Kd(t,e,n){return`firebase:${t}:${e}:${n}`}class Ta{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=Kd(this.userKey,s.apiKey,i),this.fullPersistenceKey=Kd("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await Hh(this.auth,{idToken:e}).catch(()=>{});return n?er._fromGetAccountInfoResponse(this.auth,n,e):null}return er._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new Ta(ts(v1),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||ts(v1);const o=Kd(r,e.config.apiKey,e.name);let a=null;for(const d of n)try{const h=await d._get(o);if(h){let f;if(typeof h=="string"){const m=await Hh(e,{idToken:h}).catch(()=>{});if(!m)break;f=await er._fromGetAccountInfoResponse(e,m,h)}else f=er._fromJSON(e,h);d!==i&&(a=f),i=d;break}}catch{}const l=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!l.length?new Ta(i,e,r):(i=l[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new Ta(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function w1(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(JC(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(QC(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(eR(e))return"Blackberry";if(tR(e))return"Webos";if(YC(e))return"Safari";if((e.includes("chrome/")||XC(e))&&!e.includes("edge/"))return"Chrome";if(ZC(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function QC(t=qt()){return/firefox\//i.test(t)}function YC(t=qt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function XC(t=qt()){return/crios\//i.test(t)}function JC(t=qt()){return/iemobile/i.test(t)}function ZC(t=qt()){return/android/i.test(t)}function eR(t=qt()){return/blackberry/i.test(t)}function tR(t=qt()){return/webos/i.test(t)}function vw(t=qt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function z6(t=qt()){var e;return vw(t)&&!!((e=window.navigator)!=null&&e.standalone)}function H6(){return DF()&&document.documentMode===10}function nR(t=qt()){return vw(t)||ZC(t)||tR(t)||eR(t)||/windows phone/i.test(t)||JC(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function rR(t,e=[]){let n;switch(t){case"Browser":n=w1(qt());break;case"Worker":n=`${w1(qt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${yl}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W6{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const l=e(i);o(l)}catch(l){a(l)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function q6(t,e={}){return ji(t,"GET","/v2/passwordPolicy",Mo(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6=6;class G6{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??K6,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Q6{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new x1(this),this.idTokenSubscription=new x1(this),this.beforeStateQueue=new W6(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=BC,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ts(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await Ta.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await Hh(this,{idToken:e}),r=await er._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Zn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,l=await this.tryRedirectSignIn(e);(!o||o===a)&&(l!=null&&l.user)&&(r=l.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return ue(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await Wh(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=C6()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Zn(this.app))return Promise.reject(mi(this));const n=e?ot(e):null;return n&&ue(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&ue(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Zn(this.app)?Promise.reject(mi(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Zn(this.app)?Promise.reject(mi(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ts(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await q6(this),n=new G6(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Do("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await B6(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ts(e)||this._popupRedirectResolver;ue(n,this,"argument-error"),this.redirectPersistenceManager=await Ta.create(this,[ts(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(ue(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const l=e.addObserver(n,r,s);return()=>{o=!0,l()}}else{const l=e.addObserver(n);return()=>{o=!0,l()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return ue(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=rR(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Zn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&T6(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function vl(t){return ot(t)}class x1{constructor(e){this.auth=e,this.observer=null,this.addObserver=UF(n=>this.observer=n)}get next(){return ue(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Qf={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Y6(t){Qf=t}function sR(t){return Qf.loadJS(t)}function X6(){return Qf.recaptchaEnterpriseScript}function J6(){return Qf.gapiScript}function Z6(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class e9{constructor(){this.enterprise=new t9}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class t9{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const n9="recaptcha-enterprise",iR="NO_RECAPTCHA";class r9{constructor(e){this.type=n9,this.auth=vl(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{O6(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(l=>{if(l.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const d=new D6(l);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(l=>{a(l)})})}function s(i,o,a){const l=window.grecaptcha;m1(l)?l.enterprise.ready(()=>{l.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(iR)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new e9().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&m1(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let l=X6();l.length!==0&&(l+=a),sR(l).then(()=>{s(a,i,o)}).catch(d=>{o(d)})}}).catch(a=>{o(a)})})}}async function _1(t,e,n,r=!1,s=!1){const i=new r9(t);let o;if(s)o=iR;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const l=a.phoneEnrollmentInfo.phoneNumber,d=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:l,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const l=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:l,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function E1(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await _1(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await _1(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s9(t,e){const n=Oo(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(bi(i,e??{}))return s;cr(s,"already-initialized")}return n.initialize({options:e})}function i9(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ts);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function o9(t,e,n){const r=vl(t);ue(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=oR(e),{host:o,port:a}=a9(e),l=a===null?"":`:${a}`,d={url:`${i}//${o}${l}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){ue(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),ue(bi(d,r.config.emulator)&&bi(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,gl(o)?(cC(`${i}//${o}${l}`),uC("Auth",!0)):l9()}function oR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function a9(t){const e=oR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:b1(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:b1(o)}}}function b1(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function l9(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ww{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return es("not implemented")}_getIdTokenResponse(e){return es("not implemented")}_linkToIdToken(e,n){return es("not implemented")}_getReauthenticationResolver(e){return es("not implemented")}}async function c9(t,e){return ji(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u9(t,e){return Gf(t,"POST","/v1/accounts:signInWithPassword",Mo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function d9(t,e){return Gf(t,"POST","/v1/accounts:signInWithEmailLink",Mo(t,e))}async function h9(t,e){return Gf(t,"POST","/v1/accounts:signInWithEmailLink",Mo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nu extends ww{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new nu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new nu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return E1(e,n,"signInWithPassword",u9);case"emailLink":return d9(e,{email:this._email,oobCode:this._password});default:cr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return E1(e,r,"signUpPassword",c9);case"emailLink":return h9(e,{idToken:n,email:this._email,oobCode:this._password});default:cr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Sa(t,e){return Gf(t,"POST","/v1/accounts:signInWithIdp",Mo(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f9="http://localhost";class Eo extends ww{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Eo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):cr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Eo(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Sa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Sa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Sa(e,n)}buildRequest(){const e={requestUri:f9,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=Eu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function p9(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function m9(t){const e=tc(nc(t)).link,n=e?tc(nc(e)).deep_link_id:null,r=tc(nc(t)).deep_link_id;return(r?tc(nc(r)).link:null)||r||n||e||t}class xw{constructor(e){const n=tc(nc(e)),r=n.apiKey??null,s=n.oobCode??null,i=p9(n.mode??null);ue(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=m9(e);try{return new xw(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wl{constructor(){this.providerId=wl.PROVIDER_ID}static credential(e,n){return nu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=xw.parseLink(n);return ue(r,"argument-error"),nu._fromEmailAndCode(e,r.code,r.tenantId)}}wl.PROVIDER_ID="password";wl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";wl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu extends aR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ws extends Tu{constructor(){super("facebook.com")}static credential(e){return Eo._fromParams({providerId:Ws.PROVIDER_ID,signInMethod:Ws.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ws.credentialFromTaggedObject(e)}static credentialFromError(e){return Ws.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ws.credential(e.oauthAccessToken)}catch{return null}}}Ws.FACEBOOK_SIGN_IN_METHOD="facebook.com";Ws.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qs extends Tu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Eo._fromParams({providerId:qs.PROVIDER_ID,signInMethod:qs.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return qs.credentialFromTaggedObject(e)}static credentialFromError(e){return qs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return qs.credential(n,r)}catch{return null}}}qs.GOOGLE_SIGN_IN_METHOD="google.com";qs.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ks extends Tu{constructor(){super("github.com")}static credential(e){return Eo._fromParams({providerId:Ks.PROVIDER_ID,signInMethod:Ks.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return Ks.credentialFromTaggedObject(e)}static credentialFromError(e){return Ks.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return Ks.credential(e.oauthAccessToken)}catch{return null}}}Ks.GITHUB_SIGN_IN_METHOD="github.com";Ks.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gs extends Tu{constructor(){super("twitter.com")}static credential(e,n){return Eo._fromParams({providerId:Gs.PROVIDER_ID,signInMethod:Gs.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return Gs.credentialFromTaggedObject(e)}static credentialFromError(e){return Gs.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return Gs.credential(n,r)}catch{return null}}}Gs.TWITTER_SIGN_IN_METHOD="twitter.com";Gs.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qa{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await er._fromIdTokenResponse(e,r,s),o=T1(r);return new Qa({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=T1(r);return new Qa({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function T1(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qh extends dr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,qh.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new qh(e,n,r,s)}}function lR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?qh._fromErrorAndOperation(t,i,e,r):i})}async function g9(t,e,n=!1){const r=await tu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Qa._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function y9(t,e,n=!1){const{auth:r}=t;if(Zn(r.app))return Promise.reject(mi(r));const s="reauthenticate";try{const i=await tu(t,lR(r,s,e,t),n);ue(i.idToken,r,"internal-error");const o=yw(i.idToken);ue(o,r,"internal-error");const{sub:a}=o;return ue(t.uid===a,r,"user-mismatch"),Qa._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&cr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function cR(t,e,n=!1){if(Zn(t.app))return Promise.reject(mi(t));const r="signIn",s=await lR(t,r,e),i=await Qa._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function v9(t,e){return cR(vl(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function w9(t){const e=vl(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}function x9(t,e,n){return Zn(t.app)?Promise.reject(mi(t)):v9(ot(t),wl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&w9(t),r})}function _9(t,e,n,r){return ot(t).onIdTokenChanged(e,n,r)}function E9(t,e,n){return ot(t).beforeAuthStateChanged(e,n)}function b9(t,e,n,r){return ot(t).onAuthStateChanged(e,n,r)}function T9(t){return ot(t).signOut()}const Kh="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Kh,"1"),this.storage.removeItem(Kh),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S9=1e3,I9=10;class dR extends uR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=nR(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,l)=>{this.notifyListeners(o,l)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);H6()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,I9):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},S9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}dR.type="LOCAL";const C9=dR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hR extends uR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}hR.type="SESSION";const fR=hR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R9(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yf{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new Yf(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async d=>d(n.origin,i)),l=await R9(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:l})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}Yf.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function _w(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class N9{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,l)=>{const d=_w("",20);s.port1.start();const h=setTimeout(()=>{l(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const m=f;if(m.data.eventId===d)switch(m.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{l(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(m.data.response);break;default:clearTimeout(h),clearTimeout(i),l(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Dr(){return window}function A9(t){Dr().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pR(){return typeof Dr().WorkerGlobalScope<"u"&&typeof Dr().importScripts=="function"}async function P9(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function k9(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function D9(){return pR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mR="firebaseLocalStorageDb",O9=1,Gh="firebaseLocalStorage",gR="fbase_key";class Su{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function Xf(t,e){return t.transaction([Gh],e?"readwrite":"readonly").objectStore(Gh)}function M9(){const t=indexedDB.deleteDatabase(mR);return new Su(t).toPromise()}function my(){const t=indexedDB.open(mR,O9);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(Gh,{keyPath:gR})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(Gh)?e(r):(r.close(),await M9(),e(await my()))})})}async function S1(t,e,n){const r=Xf(t,!0).put({[gR]:e,value:n});return new Su(r).toPromise()}async function j9(t,e){const n=Xf(t,!1).get(e),r=await new Su(n).toPromise();return r===void 0?null:r.value}function I1(t,e){const n=Xf(t,!0).delete(e);return new Su(n).toPromise()}const L9=800,V9=3;class yR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await my(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>V9)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return pR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=Yf._getInstance(D9()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await P9(),!this.activeServiceWorker)return;this.sender=new N9(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||k9()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await my();return await S1(e,Kh,"1"),await I1(e,Kh),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>S1(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>j9(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>I1(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=Xf(s,!1).getAll();return new Su(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),L9)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}yR.type="LOCAL";const F9=yR;new bu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function U9(t,e){return e?ts(e):(ue(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ew extends ww{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Sa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Sa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Sa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function $9(t){return cR(t.auth,new Ew(t),t.bypassAuthState)}function B9(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),y9(n,new Ew(t),t.bypassAuthState)}async function z9(t){const{auth:e,user:n}=t;return ue(n,e,"internal-error"),g9(n,new Ew(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vR{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const l={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(l))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return $9;case"linkViaPopup":case"linkViaRedirect":return z9;case"reauthViaPopup":case"reauthViaRedirect":return B9;default:cr(this.auth,"internal-error")}}resolve(e){fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){fs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const H9=new bu(2e3,1e4);class ha extends vR{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,ha.currentPopupAction&&ha.currentPopupAction.cancel(),ha.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return ue(e,this.auth,"internal-error"),e}async onExecution(){fs(this.filter.length===1,"Popup operations only handle one event");const e=_w();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject(kr(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject(kr(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ha.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject(kr(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,H9.get())};e()}}ha.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const W9="pendingRedirect",Gd=new Map;class q9 extends vR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=Gd.get(this.auth._key());if(!e){try{const r=await K9(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}Gd.set(this.auth._key(),e)}return this.bypassAuthState||Gd.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function K9(t,e){const n=Y9(e),r=Q9(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function G9(t,e){Gd.set(t._key(),e)}function Q9(t){return ts(t._redirectPersistence)}function Y9(t){return Kd(W9,t.config.apiKey,t.name)}async function X9(t,e,n=!1){if(Zn(t.app))return Promise.reject(mi(t));const r=vl(t),s=U9(r,e),o=await new q9(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const J9=10*60*1e3;class Z9{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!eU(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!wR(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError(kr(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=J9&&this.cachedEventUids.clear(),this.cachedEventUids.has(C1(e))}saveEventToCache(e){this.cachedEventUids.add(C1(e)),this.lastProcessedEventTime=Date.now()}}function C1(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function wR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function eU(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return wR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function tU(t,e={}){return ji(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nU=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,rU=/^https?/;async function sU(t){if(t.config.emulator)return;const{authorizedDomains:e}=await tU(t);for(const n of e)try{if(iU(n))return}catch{}cr(t,"unauthorized-domain")}function iU(t){const e=fy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!rU.test(n))return!1;if(nU.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oU=new bu(3e4,6e4);function R1(){const t=Dr().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function aU(t){return new Promise((e,n)=>{var s,i,o;function r(){R1(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{R1(),n(kr(t,"network-request-failed"))},timeout:oU.get()})}if((i=(s=Dr().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=Dr().gapi)!=null&&o.load)r();else{const a=Z6("iframefcb");return Dr()[a]=()=>{gapi.load?r():n(kr(t,"network-request-failed"))},sR(`${J6()}?onload=${a}`).catch(l=>n(l))}}).catch(e=>{throw Qd=null,e})}let Qd=null;function lU(t){return Qd=Qd||aU(t),Qd}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cU=new bu(5e3,15e3),uU="__/auth/iframe",dU="emulator/auth/iframe",hU={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},fU=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function pU(t){const e=t.config;ue(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?gw(e,dU):`https://${t.config.authDomain}/${uU}`,r={apiKey:e.apiKey,appName:t.name,v:yl},s=fU.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${Eu(r).slice(1)}`}async function mU(t){const e=await lU(t),n=Dr().gapi;return ue(n,t,"internal-error"),e.open({where:document.body,url:pU(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:hU,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=kr(t,"network-request-failed"),a=Dr().setTimeout(()=>{i(o)},cU.get());function l(){Dr().clearTimeout(a),s(r)}r.ping(l).then(l,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gU={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},yU=500,vU=600,wU="_blank",xU="http://localhost";class N1{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function _U(t,e,n,r=yU,s=vU){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const l={...gU,width:r.toString(),height:s.toString(),top:i,left:o},d=qt().toLowerCase();n&&(a=XC(d)?wU:n),QC(d)&&(e=e||xU,l.scrollbars="yes");const h=Object.entries(l).reduce((m,[g,T])=>`${m}${g}=${T},`,"");if(z6(d)&&a!=="_self")return EU(e||"",a),new N1(null);const f=window.open(e||"",a,h);ue(f,t,"popup-blocked");try{f.focus()}catch{}return new N1(f)}function EU(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bU="__/auth/handler",TU="emulator/auth/handler",SU=encodeURIComponent("fac");async function A1(t,e,n,r,s,i){ue(t.config.authDomain,t,"auth-domain-config-required"),ue(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:yl,eventId:s};if(e instanceof aR){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",FF(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Tu){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const l=await t._getAppCheckToken(),d=l?`#${SU}=${encodeURIComponent(l)}`:"";return`${IU(t)}?${Eu(a).slice(1)}${d}`}function IU({config:t}){return t.emulator?gw(t,TU):`https://${t.authDomain}/${bU}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Om="webStorageSupport";class CU{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=fR,this._completeRedirectFn=X9,this._overrideRedirectResult=G9}async _openPopup(e,n,r,s){var o;fs((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await A1(e,n,r,fy(),s);return _U(e,i,_w())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await A1(e,n,r,fy(),s);return A9(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(fs(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await mU(e),r=new Z9(e);return n.register("authEvent",s=>(ue(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Om,{type:Om},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[Om];i!==void 0&&n(!!i),cr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=sU(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return nR()||YC()||vw()}}const RU=CU;var P1="@firebase/auth",k1="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NU{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){ue(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function AU(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function PU(t){Vr(new lr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;ue(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const l={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:rR(t)},d=new Q6(r,s,i,l);return i9(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Vr(new lr("auth-internal",e=>{const n=vl(e.getProvider("auth").getImmediate());return(r=>new NU(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),jn(P1,k1,AU(t)),jn(P1,k1,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const kU=5*60,DU=lC("authIdTokenMaxAge")||kU;let D1=null;const OU=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>DU)return;const s=n==null?void 0:n.token;D1!==s&&(D1=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function MU(t=lw()){const e=Oo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=s9(t,{popupRedirectResolver:RU,persistence:[F9,C9,fR]}),r=lC("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=OU(i.toString());E9(n,o,()=>o(n.currentUser)),_9(n,a=>o(a))}}const s=oC("auth");return s&&o9(n,`http://${s}`),n}function jU(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}Y6({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=kr("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",jU().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});PU("Browser");var O1=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var gi,xR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(I,S){function P(){}P.prototype=S.prototype,I.F=S.prototype,I.prototype=new P,I.prototype.constructor=I,I.D=function(k,D,C){for(var N=Array(arguments.length-2),$=2;$<arguments.length;$++)N[$-2]=arguments[$];return S.prototype[D].apply(k,N)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(I,S,P){P||(P=0);const k=Array(16);if(typeof S=="string")for(var D=0;D<16;++D)k[D]=S.charCodeAt(P++)|S.charCodeAt(P++)<<8|S.charCodeAt(P++)<<16|S.charCodeAt(P++)<<24;else for(D=0;D<16;++D)k[D]=S[P++]|S[P++]<<8|S[P++]<<16|S[P++]<<24;S=I.g[0],P=I.g[1],D=I.g[2];let C=I.g[3],N;N=S+(C^P&(D^C))+k[0]+3614090360&4294967295,S=P+(N<<7&4294967295|N>>>25),N=C+(D^S&(P^D))+k[1]+3905402710&4294967295,C=S+(N<<12&4294967295|N>>>20),N=D+(P^C&(S^P))+k[2]+606105819&4294967295,D=C+(N<<17&4294967295|N>>>15),N=P+(S^D&(C^S))+k[3]+3250441966&4294967295,P=D+(N<<22&4294967295|N>>>10),N=S+(C^P&(D^C))+k[4]+4118548399&4294967295,S=P+(N<<7&4294967295|N>>>25),N=C+(D^S&(P^D))+k[5]+1200080426&4294967295,C=S+(N<<12&4294967295|N>>>20),N=D+(P^C&(S^P))+k[6]+2821735955&4294967295,D=C+(N<<17&4294967295|N>>>15),N=P+(S^D&(C^S))+k[7]+4249261313&4294967295,P=D+(N<<22&4294967295|N>>>10),N=S+(C^P&(D^C))+k[8]+1770035416&4294967295,S=P+(N<<7&4294967295|N>>>25),N=C+(D^S&(P^D))+k[9]+2336552879&4294967295,C=S+(N<<12&4294967295|N>>>20),N=D+(P^C&(S^P))+k[10]+4294925233&4294967295,D=C+(N<<17&4294967295|N>>>15),N=P+(S^D&(C^S))+k[11]+2304563134&4294967295,P=D+(N<<22&4294967295|N>>>10),N=S+(C^P&(D^C))+k[12]+1804603682&4294967295,S=P+(N<<7&4294967295|N>>>25),N=C+(D^S&(P^D))+k[13]+4254626195&4294967295,C=S+(N<<12&4294967295|N>>>20),N=D+(P^C&(S^P))+k[14]+2792965006&4294967295,D=C+(N<<17&4294967295|N>>>15),N=P+(S^D&(C^S))+k[15]+1236535329&4294967295,P=D+(N<<22&4294967295|N>>>10),N=S+(D^C&(P^D))+k[1]+4129170786&4294967295,S=P+(N<<5&4294967295|N>>>27),N=C+(P^D&(S^P))+k[6]+3225465664&4294967295,C=S+(N<<9&4294967295|N>>>23),N=D+(S^P&(C^S))+k[11]+643717713&4294967295,D=C+(N<<14&4294967295|N>>>18),N=P+(C^S&(D^C))+k[0]+3921069994&4294967295,P=D+(N<<20&4294967295|N>>>12),N=S+(D^C&(P^D))+k[5]+3593408605&4294967295,S=P+(N<<5&4294967295|N>>>27),N=C+(P^D&(S^P))+k[10]+38016083&4294967295,C=S+(N<<9&4294967295|N>>>23),N=D+(S^P&(C^S))+k[15]+3634488961&4294967295,D=C+(N<<14&4294967295|N>>>18),N=P+(C^S&(D^C))+k[4]+3889429448&4294967295,P=D+(N<<20&4294967295|N>>>12),N=S+(D^C&(P^D))+k[9]+568446438&4294967295,S=P+(N<<5&4294967295|N>>>27),N=C+(P^D&(S^P))+k[14]+3275163606&4294967295,C=S+(N<<9&4294967295|N>>>23),N=D+(S^P&(C^S))+k[3]+4107603335&4294967295,D=C+(N<<14&4294967295|N>>>18),N=P+(C^S&(D^C))+k[8]+1163531501&4294967295,P=D+(N<<20&4294967295|N>>>12),N=S+(D^C&(P^D))+k[13]+2850285829&4294967295,S=P+(N<<5&4294967295|N>>>27),N=C+(P^D&(S^P))+k[2]+4243563512&4294967295,C=S+(N<<9&4294967295|N>>>23),N=D+(S^P&(C^S))+k[7]+1735328473&4294967295,D=C+(N<<14&4294967295|N>>>18),N=P+(C^S&(D^C))+k[12]+2368359562&4294967295,P=D+(N<<20&4294967295|N>>>12),N=S+(P^D^C)+k[5]+4294588738&4294967295,S=P+(N<<4&4294967295|N>>>28),N=C+(S^P^D)+k[8]+2272392833&4294967295,C=S+(N<<11&4294967295|N>>>21),N=D+(C^S^P)+k[11]+1839030562&4294967295,D=C+(N<<16&4294967295|N>>>16),N=P+(D^C^S)+k[14]+4259657740&4294967295,P=D+(N<<23&4294967295|N>>>9),N=S+(P^D^C)+k[1]+2763975236&4294967295,S=P+(N<<4&4294967295|N>>>28),N=C+(S^P^D)+k[4]+1272893353&4294967295,C=S+(N<<11&4294967295|N>>>21),N=D+(C^S^P)+k[7]+4139469664&4294967295,D=C+(N<<16&4294967295|N>>>16),N=P+(D^C^S)+k[10]+3200236656&4294967295,P=D+(N<<23&4294967295|N>>>9),N=S+(P^D^C)+k[13]+681279174&4294967295,S=P+(N<<4&4294967295|N>>>28),N=C+(S^P^D)+k[0]+3936430074&4294967295,C=S+(N<<11&4294967295|N>>>21),N=D+(C^S^P)+k[3]+3572445317&4294967295,D=C+(N<<16&4294967295|N>>>16),N=P+(D^C^S)+k[6]+76029189&4294967295,P=D+(N<<23&4294967295|N>>>9),N=S+(P^D^C)+k[9]+3654602809&4294967295,S=P+(N<<4&4294967295|N>>>28),N=C+(S^P^D)+k[12]+3873151461&4294967295,C=S+(N<<11&4294967295|N>>>21),N=D+(C^S^P)+k[15]+530742520&4294967295,D=C+(N<<16&4294967295|N>>>16),N=P+(D^C^S)+k[2]+3299628645&4294967295,P=D+(N<<23&4294967295|N>>>9),N=S+(D^(P|~C))+k[0]+4096336452&4294967295,S=P+(N<<6&4294967295|N>>>26),N=C+(P^(S|~D))+k[7]+1126891415&4294967295,C=S+(N<<10&4294967295|N>>>22),N=D+(S^(C|~P))+k[14]+2878612391&4294967295,D=C+(N<<15&4294967295|N>>>17),N=P+(C^(D|~S))+k[5]+4237533241&4294967295,P=D+(N<<21&4294967295|N>>>11),N=S+(D^(P|~C))+k[12]+1700485571&4294967295,S=P+(N<<6&4294967295|N>>>26),N=C+(P^(S|~D))+k[3]+2399980690&4294967295,C=S+(N<<10&4294967295|N>>>22),N=D+(S^(C|~P))+k[10]+4293915773&4294967295,D=C+(N<<15&4294967295|N>>>17),N=P+(C^(D|~S))+k[1]+2240044497&4294967295,P=D+(N<<21&4294967295|N>>>11),N=S+(D^(P|~C))+k[8]+1873313359&4294967295,S=P+(N<<6&4294967295|N>>>26),N=C+(P^(S|~D))+k[15]+4264355552&4294967295,C=S+(N<<10&4294967295|N>>>22),N=D+(S^(C|~P))+k[6]+2734768916&4294967295,D=C+(N<<15&4294967295|N>>>17),N=P+(C^(D|~S))+k[13]+1309151649&4294967295,P=D+(N<<21&4294967295|N>>>11),N=S+(D^(P|~C))+k[4]+4149444226&4294967295,S=P+(N<<6&4294967295|N>>>26),N=C+(P^(S|~D))+k[11]+3174756917&4294967295,C=S+(N<<10&4294967295|N>>>22),N=D+(S^(C|~P))+k[2]+718787259&4294967295,D=C+(N<<15&4294967295|N>>>17),N=P+(C^(D|~S))+k[9]+3951481745&4294967295,I.g[0]=I.g[0]+S&4294967295,I.g[1]=I.g[1]+(D+(N<<21&4294967295|N>>>11))&4294967295,I.g[2]=I.g[2]+D&4294967295,I.g[3]=I.g[3]+C&4294967295}r.prototype.v=function(I,S){S===void 0&&(S=I.length);const P=S-this.blockSize,k=this.C;let D=this.h,C=0;for(;C<S;){if(D==0)for(;C<=P;)s(this,I,C),C+=this.blockSize;if(typeof I=="string"){for(;C<S;)if(k[D++]=I.charCodeAt(C++),D==this.blockSize){s(this,k),D=0;break}}else for(;C<S;)if(k[D++]=I[C++],D==this.blockSize){s(this,k),D=0;break}}this.h=D,this.o+=S},r.prototype.A=function(){var I=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);I[0]=128;for(var S=1;S<I.length-8;++S)I[S]=0;S=this.o*8;for(var P=I.length-8;P<I.length;++P)I[P]=S&255,S/=256;for(this.v(I),I=Array(16),S=0,P=0;P<4;++P)for(let k=0;k<32;k+=8)I[S++]=this.g[P]>>>k&255;return I};function i(I,S){var P=a;return Object.prototype.hasOwnProperty.call(P,I)?P[I]:P[I]=S(I)}function o(I,S){this.h=S;const P=[];let k=!0;for(let D=I.length-1;D>=0;D--){const C=I[D]|0;k&&C==S||(P[D]=C,k=!1)}this.g=P}var a={};function l(I){return-128<=I&&I<128?i(I,function(S){return new o([S|0],S<0?-1:0)}):new o([I|0],I<0?-1:0)}function d(I){if(isNaN(I)||!isFinite(I))return f;if(I<0)return b(d(-I));const S=[];let P=1;for(let k=0;I>=P;k++)S[k]=I/P|0,P*=4294967296;return new o(S,0)}function h(I,S){if(I.length==0)throw Error("number format error: empty string");if(S=S||10,S<2||36<S)throw Error("radix out of range: "+S);if(I.charAt(0)=="-")return b(h(I.substring(1),S));if(I.indexOf("-")>=0)throw Error('number format error: interior "-" character');const P=d(Math.pow(S,8));let k=f;for(let C=0;C<I.length;C+=8){var D=Math.min(8,I.length-C);const N=parseInt(I.substring(C,C+D),S);D<8?(D=d(Math.pow(S,D)),k=k.j(D).add(d(N))):(k=k.j(P),k=k.add(d(N)))}return k}var f=l(0),m=l(1),g=l(16777216);t=o.prototype,t.m=function(){if(v(this))return-b(this).m();let I=0,S=1;for(let P=0;P<this.g.length;P++){const k=this.i(P);I+=(k>=0?k:4294967296+k)*S,S*=4294967296}return I},t.toString=function(I){if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(T(this))return"0";if(v(this))return"-"+b(this).toString(I);const S=d(Math.pow(I,6));var P=this;let k="";for(;;){const D=A(P,S).g;P=_(P,D.j(S));let C=((P.g.length>0?P.g[0]:P.h)>>>0).toString(I);if(P=D,T(P))return C+k;for(;C.length<6;)C="0"+C;k=C+k}},t.i=function(I){return I<0?0:I<this.g.length?this.g[I]:this.h};function T(I){if(I.h!=0)return!1;for(let S=0;S<I.g.length;S++)if(I.g[S]!=0)return!1;return!0}function v(I){return I.h==-1}t.l=function(I){return I=_(this,I),v(I)?-1:T(I)?0:1};function b(I){const S=I.g.length,P=[];for(let k=0;k<S;k++)P[k]=~I.g[k];return new o(P,~I.h).add(m)}t.abs=function(){return v(this)?b(this):this},t.add=function(I){const S=Math.max(this.g.length,I.g.length),P=[];let k=0;for(let D=0;D<=S;D++){let C=k+(this.i(D)&65535)+(I.i(D)&65535),N=(C>>>16)+(this.i(D)>>>16)+(I.i(D)>>>16);k=N>>>16,C&=65535,N&=65535,P[D]=N<<16|C}return new o(P,P[P.length-1]&-2147483648?-1:0)};function _(I,S){return I.add(b(S))}t.j=function(I){if(T(this)||T(I))return f;if(v(this))return v(I)?b(this).j(b(I)):b(b(this).j(I));if(v(I))return b(this.j(b(I)));if(this.l(g)<0&&I.l(g)<0)return d(this.m()*I.m());const S=this.g.length+I.g.length,P=[];for(var k=0;k<2*S;k++)P[k]=0;for(k=0;k<this.g.length;k++)for(let D=0;D<I.g.length;D++){const C=this.i(k)>>>16,N=this.i(k)&65535,$=I.i(D)>>>16,se=I.i(D)&65535;P[2*k+2*D]+=N*se,w(P,2*k+2*D),P[2*k+2*D+1]+=C*se,w(P,2*k+2*D+1),P[2*k+2*D+1]+=N*$,w(P,2*k+2*D+1),P[2*k+2*D+2]+=C*$,w(P,2*k+2*D+2)}for(I=0;I<S;I++)P[I]=P[2*I+1]<<16|P[2*I];for(I=S;I<2*S;I++)P[I]=0;return new o(P,0)};function w(I,S){for(;(I[S]&65535)!=I[S];)I[S+1]+=I[S]>>>16,I[S]&=65535,S++}function x(I,S){this.g=I,this.h=S}function A(I,S){if(T(S))throw Error("division by zero");if(T(I))return new x(f,f);if(v(I))return S=A(b(I),S),new x(b(S.g),b(S.h));if(v(S))return S=A(I,b(S)),new x(b(S.g),S.h);if(I.g.length>30){if(v(I)||v(S))throw Error("slowDivide_ only works with positive integers.");for(var P=m,k=S;k.l(I)<=0;)P=O(P),k=O(k);var D=M(P,1),C=M(k,1);for(k=M(k,2),P=M(P,2);!T(k);){var N=C.add(k);N.l(I)<=0&&(D=D.add(P),C=N),k=M(k,1),P=M(P,1)}return S=_(I,D.j(S)),new x(D,S)}for(D=f;I.l(S)>=0;){for(P=Math.max(1,Math.floor(I.m()/S.m())),k=Math.ceil(Math.log(P)/Math.LN2),k=k<=48?1:Math.pow(2,k-48),C=d(P),N=C.j(S);v(N)||N.l(I)>0;)P-=k,C=d(P),N=C.j(S);T(C)&&(C=m),D=D.add(C),I=_(I,N)}return new x(D,I)}t.B=function(I){return A(this,I).h},t.and=function(I){const S=Math.max(this.g.length,I.g.length),P=[];for(let k=0;k<S;k++)P[k]=this.i(k)&I.i(k);return new o(P,this.h&I.h)},t.or=function(I){const S=Math.max(this.g.length,I.g.length),P=[];for(let k=0;k<S;k++)P[k]=this.i(k)|I.i(k);return new o(P,this.h|I.h)},t.xor=function(I){const S=Math.max(this.g.length,I.g.length),P=[];for(let k=0;k<S;k++)P[k]=this.i(k)^I.i(k);return new o(P,this.h^I.h)};function O(I){const S=I.g.length+1,P=[];for(let k=0;k<S;k++)P[k]=I.i(k)<<1|I.i(k-1)>>>31;return new o(P,I.h)}function M(I,S){const P=S>>5;S%=32;const k=I.g.length-P,D=[];for(let C=0;C<k;C++)D[C]=S>0?I.i(C+P)>>>S|I.i(C+P+1)<<32-S:I.i(C+P);return new o(D,I.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,xR=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,gi=o}).apply(typeof O1<"u"?O1:typeof self<"u"?self:typeof window<"u"?window:{});var vd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var _R,rc,ER,Yd,gy,bR,TR,SR;(function(){var t,e=Object.defineProperty;function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof vd=="object"&&vd];for(var y=0;y<c.length;++y){var E=c[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function s(c,y){if(y)e:{var E=r;c=c.split(".");for(var R=0;R<c.length-1;R++){var V=c[R];if(!(V in E))break e;E=E[V]}c=c[c.length-1],R=E[c],y=y(R),y!=R&&y!=null&&e(E,c,{configurable:!0,writable:!0,value:y})}}s("Symbol.dispose",function(c){return c||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(c){return c||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(c){return c||function(y){var E=[],R;for(R in y)Object.prototype.hasOwnProperty.call(y,R)&&E.push([R,y[R]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(c){var y=typeof c;return y=="object"&&c!=null||y=="function"}function l(c,y,E){return c.call.apply(c.bind,arguments)}function d(c,y,E){return d=l,d.apply(null,arguments)}function h(c,y){var E=Array.prototype.slice.call(arguments,1);return function(){var R=E.slice();return R.push.apply(R,arguments),c.apply(this,R)}}function f(c,y){function E(){}E.prototype=y.prototype,c.Z=y.prototype,c.prototype=new E,c.prototype.constructor=c,c.Ob=function(R,V,F){for(var Q=Array(arguments.length-2),ve=2;ve<arguments.length;ve++)Q[ve-2]=arguments[ve];return y.prototype[V].apply(R,Q)}}var m=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?c=>c&&AsyncContext.Snapshot.wrap(c):c=>c;function g(c){const y=c.length;if(y>0){const E=Array(y);for(let R=0;R<y;R++)E[R]=c[R];return E}return[]}function T(c,y){for(let R=1;R<arguments.length;R++){const V=arguments[R];var E=typeof V;if(E=E!="object"?E:V?Array.isArray(V)?"array":E:"null",E=="array"||E=="object"&&typeof V.length=="number"){E=c.length||0;const F=V.length||0;c.length=E+F;for(let Q=0;Q<F;Q++)c[E+Q]=V[Q]}else c.push(V)}}class v{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function b(c){o.setTimeout(()=>{throw c},0)}function _(){var c=I;let y=null;return c.g&&(y=c.g,c.g=c.g.next,c.g||(c.h=null),y.next=null),y}class w{constructor(){this.h=this.g=null}add(y,E){const R=x.get();R.set(y,E),this.h?this.h.next=R:this.g=R,this.h=R}}var x=new v(()=>new A,c=>c.reset());class A{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let O,M=!1,I=new w,S=()=>{const c=Promise.resolve(void 0);O=()=>{c.then(P)}};function P(){for(var c;c=_();){try{c.h.call(c.g)}catch(E){b(E)}var y=x;y.j(c),y.h<100&&(y.h++,c.next=y.g,y.g=c)}M=!1}function k(){this.u=this.u,this.C=this.C}k.prototype.u=!1,k.prototype.dispose=function(){this.u||(this.u=!0,this.N())},k.prototype[Symbol.dispose]=function(){this.dispose()},k.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function D(c,y){this.type=c,this.g=this.target=y,this.defaultPrevented=!1}D.prototype.h=function(){this.defaultPrevented=!0};var C=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var c=!1,y=Object.defineProperty({},"passive",{get:function(){c=!0}});try{const E=()=>{};o.addEventListener("test",E,y),o.removeEventListener("test",E,y)}catch{}return c}();function N(c){return/^[\s\xa0]*$/.test(c)}function $(c,y){D.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c&&this.init(c,y)}f($,D),$.prototype.init=function(c,y){const E=this.type=c.type,R=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;this.target=c.target||c.srcElement,this.g=y,y=c.relatedTarget,y||(E=="mouseover"?y=c.fromElement:E=="mouseout"&&(y=c.toElement)),this.relatedTarget=y,R?(this.clientX=R.clientX!==void 0?R.clientX:R.pageX,this.clientY=R.clientY!==void 0?R.clientY:R.pageY,this.screenX=R.screenX||0,this.screenY=R.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=c.pointerType,this.state=c.state,this.i=c,c.defaultPrevented&&$.Z.h.call(this)},$.prototype.h=function(){$.Z.h.call(this);const c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var se="closure_listenable_"+(Math.random()*1e6|0),Y=0;function ie(c,y,E,R,V){this.listener=c,this.proxy=null,this.src=y,this.type=E,this.capture=!!R,this.ha=V,this.key=++Y,this.da=this.fa=!1}function U(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function L(c,y,E){for(const R in c)y.call(E,c[R],R,c)}function K(c,y){for(const E in c)y.call(void 0,c[E],E,c)}function oe(c){const y={};for(const E in c)y[E]=c[E];return y}const j="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function J(c,y){let E,R;for(let V=1;V<arguments.length;V++){R=arguments[V];for(E in R)c[E]=R[E];for(let F=0;F<j.length;F++)E=j[F],Object.prototype.hasOwnProperty.call(R,E)&&(c[E]=R[E])}}function Z(c){this.src=c,this.g={},this.h=0}Z.prototype.add=function(c,y,E,R,V){const F=c.toString();c=this.g[F],c||(c=this.g[F]=[],this.h++);const Q=xe(c,y,R,V);return Q>-1?(y=c[Q],E||(y.fa=!1)):(y=new ie(y,this.src,F,!!R,V),y.fa=E,c.push(y)),y};function he(c,y){const E=y.type;if(E in c.g){var R=c.g[E],V=Array.prototype.indexOf.call(R,y,void 0),F;(F=V>=0)&&Array.prototype.splice.call(R,V,1),F&&(U(y),c.g[E].length==0&&(delete c.g[E],c.h--))}}function xe(c,y,E,R){for(let V=0;V<c.length;++V){const F=c[V];if(!F.da&&F.listener==y&&F.capture==!!E&&F.ha==R)return V}return-1}var q="closure_lm_"+(Math.random()*1e6|0),we={};function Re(c,y,E,R,V){if(Array.isArray(y)){for(let F=0;F<y.length;F++)Re(c,y[F],E,R,V);return null}return E=Es(E),c&&c[se]?c.J(y,E,a(R)?!!R.capture:!!R,V):Ee(c,y,E,!1,R,V)}function Ee(c,y,E,R,V,F){if(!y)throw Error("Invalid event type");const Q=a(V)?!!V.capture:!!V;let ve=Rn(c);if(ve||(c[q]=ve=new Z(c)),E=ve.add(y,E,R,Q,F),E.proxy)return E;if(R=be(),E.proxy=R,R.src=c,R.listener=E,c.addEventListener)C||(V=Q),V===void 0&&(V=!1),c.addEventListener(y.toString(),R,V);else if(c.attachEvent)c.attachEvent(Kt(y.toString()),R);else if(c.addListener&&c.removeListener)c.addListener(R);else throw Error("addEventListener and attachEvent are unavailable.");return E}function be(){function c(E){return y.call(c.src,c.listener,E)}const y=Br;return c}function Ne(c,y,E,R,V){if(Array.isArray(y))for(var F=0;F<y.length;F++)Ne(c,y[F],E,R,V);else R=a(R)?!!R.capture:!!R,E=Es(E),c&&c[se]?(c=c.i,F=String(y).toString(),F in c.g&&(y=c.g[F],E=xe(y,E,R,V),E>-1&&(U(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete c.g[F],c.h--)))):c&&(c=Rn(c))&&(y=c.g[y.toString()],c=-1,y&&(c=xe(y,E,R,V)),(E=c>-1?y[c]:null)&&ut(E))}function ut(c){if(typeof c!="number"&&c&&!c.da){var y=c.src;if(y&&y[se])he(y.i,c);else{var E=c.type,R=c.proxy;y.removeEventListener?y.removeEventListener(E,R,c.capture):y.detachEvent?y.detachEvent(Kt(E),R):y.addListener&&y.removeListener&&y.removeListener(R),(E=Rn(y))?(he(E,c),E.h==0&&(E.src=null,y[q]=null)):U(c)}}}function Kt(c){return c in we?we[c]:we[c]="on"+c}function Br(c,y){if(c.da)c=!0;else{y=new $(y,this);const E=c.listener,R=c.ha||c.src;c.fa&&ut(c),c=E.call(R,y)}return c}function Rn(c){return c=c[q],c instanceof Z?c:null}var Un="__closure_events_fn_"+(Math.random()*1e9>>>0);function Es(c){return typeof c=="function"?c:(c[Un]||(c[Un]=function(y){return c.handleEvent(y)}),c[Un])}function Ye(){k.call(this),this.i=new Z(this),this.M=this,this.G=null}f(Ye,k),Ye.prototype[se]=!0,Ye.prototype.removeEventListener=function(c,y,E,R){Ne(this,c,y,E,R)};function _t(c,y){var E,R=c.G;if(R)for(E=[];R;R=R.G)E.push(R);if(c=c.M,R=y.type||y,typeof y=="string")y=new D(y,c);else if(y instanceof D)y.target=y.target||c;else{var V=y;y=new D(R,c),J(y,V)}V=!0;let F,Q;if(E)for(Q=E.length-1;Q>=0;Q--)F=y.g=E[Q],V=fr(F,R,!0,y)&&V;if(F=y.g=c,V=fr(F,R,!0,y)&&V,V=fr(F,R,!1,y)&&V,E)for(Q=0;Q<E.length;Q++)F=y.g=E[Q],V=fr(F,R,!1,y)&&V}Ye.prototype.N=function(){if(Ye.Z.N.call(this),this.i){var c=this.i;for(const y in c.g){const E=c.g[y];for(let R=0;R<E.length;R++)U(E[R]);delete c.g[y],c.h--}}this.G=null},Ye.prototype.J=function(c,y,E,R){return this.i.add(String(c),y,!1,E,R)},Ye.prototype.K=function(c,y,E,R){return this.i.add(String(c),y,!0,E,R)};function fr(c,y,E,R){if(y=c.i.g[String(y)],!y)return!0;y=y.concat();let V=!0;for(let F=0;F<y.length;++F){const Q=y[F];if(Q&&!Q.da&&Q.capture==E){const ve=Q.listener,yt=Q.ha||Q.src;Q.fa&&he(c.i,Q),V=ve.call(yt,R)!==!1&&V}}return V&&!R.defaultPrevented}function Mu(c,y){if(typeof c!="function")if(c&&typeof c.handleEvent=="function")c=d(c.handleEvent,c);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:o.setTimeout(c,y||0)}function pr(c){c.g=Mu(()=>{c.g=null,c.i&&(c.i=!1,pr(c))},c.l);const y=c.h;c.h=null,c.m.apply(null,y)}class Rp extends k{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:pr(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function $i(c){k.call(this),this.h=c,this.g={}}f($i,k);var Gt=[];function zr(c){L(c.g,function(y,E){this.g.hasOwnProperty(E)&&ut(y)},c),c.g={}}$i.prototype.N=function(){$i.Z.N.call(this),zr(this)},$i.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Il=o.JSON.stringify,Np=o.JSON.parse,$o=class{stringify(c){return o.JSON.stringify(c,void 0)}parse(c){return o.JSON.parse(c,void 0)}};function ju(){}function Cl(){}var Hr={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function mr(){D.call(this,"d")}f(mr,D);function Bo(){D.call(this,"c")}f(Bo,D);var sn={},Lu=null;function zo(){return Lu=Lu||new Ye}sn.Ia="serverreachability";function Rl(c){D.call(this,sn.Ia,c)}f(Rl,D);function bs(c){const y=zo();_t(y,new Rl(y))}sn.STAT_EVENT="statevent";function Vu(c,y){D.call(this,sn.STAT_EVENT,c),this.stat=y}f(Vu,D);function gt(c){const y=zo();_t(y,new Vu(y,c))}sn.Ja="timingevent";function $n(c,y){D.call(this,sn.Ja,c),this.size=y}f($n,D);function Bi(c,y){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){c()},y)}function ce(){this.g=!0}ce.prototype.ua=function(){this.g=!1};function Le(c,y,E,R,V,F){c.info(function(){if(c.g)if(F){var Q="",ve=F.split("&");for(let Ue=0;Ue<ve.length;Ue++){var yt=ve[Ue].split("=");if(yt.length>1){const bt=yt[0];yt=yt[1];const vr=bt.split("_");Q=vr.length>=2&&vr[1]=="type"?Q+(bt+"="+yt+"&"):Q+(bt+"=redacted&")}}}else Q=null;else Q=F;return"XMLHTTP REQ ("+R+") [attempt "+V+"]: "+y+`
`+E+`
`+Q})}function $e(c,y,E,R,V,F,Q){c.info(function(){return"XMLHTTP RESP ("+R+") [ attempt "+V+"]: "+y+`
`+E+`
`+F+" "+Q})}function Et(c,y,E,R){c.info(function(){return"XMLHTTP TEXT ("+y+"): "+gr(c,E)+(R?" "+R:"")})}function gn(c,y){c.info(function(){return"TIMEOUT: "+y})}ce.prototype.info=function(){};function gr(c,y){if(!c.g)return y;if(!y)return null;try{const F=JSON.parse(y);if(F){for(c=0;c<F.length;c++)if(Array.isArray(F[c])){var E=F[c];if(!(E.length<2)){var R=E[1];if(Array.isArray(R)&&!(R.length<1)){var V=R[0];if(V!="noop"&&V!="stop"&&V!="close")for(let Q=1;Q<R.length;Q++)R[Q]=""}}}}return Il(F)}catch{return y}}var Nn={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},on={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Bn;function Ap(){}f(Ap,ju),Ap.prototype.g=function(){return new XMLHttpRequest},Bn=new Ap;function Nl(c){return encodeURIComponent(String(c))}function Mk(c){var y=1;c=c.split(":");const E=[];for(;y>0&&c.length;)E.push(c.shift()),y--;return c.length&&E.push(c.join(":")),E}function Ts(c,y,E,R){this.j=c,this.i=y,this.l=E,this.S=R||1,this.V=new $i(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new _0}function _0(){this.i=null,this.g="",this.h=!1}var E0={},Pp={};function kp(c,y,E){c.M=1,c.A=Uu(yr(y)),c.u=E,c.R=!0,b0(c,null)}function b0(c,y){c.F=Date.now(),Fu(c),c.B=yr(c.A);var E=c.B,R=c.S;Array.isArray(R)||(R=[String(R)]),j0(E.i,"t",R),c.C=0,E=c.j.L,c.h=new _0,c.g=ex(c.j,E?y:null,!c.u),c.P>0&&(c.O=new Rp(d(c.Y,c,c.g),c.P)),y=c.V,E=c.g,R=c.ba;var V="readystatechange";Array.isArray(V)||(V&&(Gt[0]=V.toString()),V=Gt);for(let F=0;F<V.length;F++){const Q=Re(E,V[F],R||y.handleEvent,!1,y.h||y);if(!Q)break;y.g[Q.key]=Q}y=c.J?oe(c.J):{},c.u?(c.v||(c.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.B,c.v,c.u,y)):(c.v="GET",c.g.ea(c.B,c.v,null,y)),bs(),Le(c.i,c.v,c.B,c.l,c.S,c.u)}Ts.prototype.ba=function(c){c=c.target;const y=this.O;y&&Cs(c)==3?y.j():this.Y(c)},Ts.prototype.Y=function(c){try{if(c==this.g)e:{const ve=Cs(this.g),yt=this.g.ya(),Ue=this.g.ca();if(!(ve<3)&&(ve!=3||this.g&&(this.h.h||this.g.la()||z0(this.g)))){this.K||ve!=4||yt==7||(yt==8||Ue<=0?bs(3):bs(2)),Dp(this);var y=this.g.ca();this.X=y;var E=jk(this);if(this.o=y==200,$e(this.i,this.v,this.B,this.l,this.S,ve,y),this.o){if(this.U&&!this.L){t:{if(this.g){var R,V=this.g;if((R=V.g?V.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!N(R)){var F=R;break t}}F=null}if(c=F)Et(this.i,this.l,c,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,Op(this,c);else{this.o=!1,this.m=3,gt(12),zi(this),Al(this);break e}}if(this.R){c=!0;let bt;for(;!this.K&&this.C<E.length;)if(bt=Lk(this,E),bt==Pp){ve==4&&(this.m=4,gt(14),c=!1),Et(this.i,this.l,null,"[Incomplete Response]");break}else if(bt==E0){this.m=4,gt(15),Et(this.i,this.l,E,"[Invalid Chunk]"),c=!1;break}else Et(this.i,this.l,bt,null),Op(this,bt);if(T0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ve!=4||E.length!=0||this.h.h||(this.m=1,gt(16),c=!1),this.o=this.o&&c,!c)Et(this.i,this.l,E,"[Invalid Chunked Response]"),zi(this),Al(this);else if(E.length>0&&!this.W){this.W=!0;var Q=this.j;Q.g==this&&Q.aa&&!Q.P&&(Q.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),Bp(Q),Q.P=!0,gt(11))}}else Et(this.i,this.l,E,null),Op(this,E);ve==4&&zi(this),this.o&&!this.K&&(ve==4?Y0(this.j,this):(this.o=!1,Fu(this)))}else Xk(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,gt(12)):(this.m=0,gt(13)),zi(this),Al(this)}}}catch{}finally{}};function jk(c){if(!T0(c))return c.g.la();const y=z0(c.g);if(y==="")return"";let E="";const R=y.length,V=Cs(c.g)==4;if(!c.h.i){if(typeof TextDecoder>"u")return zi(c),Al(c),"";c.h.i=new o.TextDecoder}for(let F=0;F<R;F++)c.h.h=!0,E+=c.h.i.decode(y[F],{stream:!(V&&F==R-1)});return y.length=0,c.h.g+=E,c.C=0,c.h.g}function T0(c){return c.g?c.v=="GET"&&c.M!=2&&c.j.Aa:!1}function Lk(c,y){var E=c.C,R=y.indexOf(`
`,E);return R==-1?Pp:(E=Number(y.substring(E,R)),isNaN(E)?E0:(R+=1,R+E>y.length?Pp:(y=y.slice(R,R+E),c.C=R+E,y)))}Ts.prototype.cancel=function(){this.K=!0,zi(this)};function Fu(c){c.T=Date.now()+c.H,S0(c,c.H)}function S0(c,y){if(c.D!=null)throw Error("WatchDog timer not null");c.D=Bi(d(c.aa,c),y)}function Dp(c){c.D&&(o.clearTimeout(c.D),c.D=null)}Ts.prototype.aa=function(){this.D=null;const c=Date.now();c-this.T>=0?(gn(this.i,this.B),this.M!=2&&(bs(),gt(17)),zi(this),this.m=2,Al(this)):S0(this,this.T-c)};function Al(c){c.j.I==0||c.K||Y0(c.j,c)}function zi(c){Dp(c);var y=c.O;y&&typeof y.dispose=="function"&&y.dispose(),c.O=null,zr(c.V),c.g&&(y=c.g,c.g=null,y.abort(),y.dispose())}function Op(c,y){try{var E=c.j;if(E.I!=0&&(E.g==c||Mp(E.h,c))){if(!c.L&&Mp(E.h,c)&&E.I==3){try{var R=E.Ba.g.parse(y)}catch{R=null}if(Array.isArray(R)&&R.length==3){var V=R;if(V[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<c.F)Wu(E),zu(E);else break e;$p(E),gt(18)}}else E.xa=V[1],0<E.xa-E.K&&V[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=Bi(d(E.Va,E),6e3));R0(E.h)<=1&&E.ta&&(E.ta=void 0)}else Wi(E,11)}else if((c.L||E.g==c)&&Wu(E),!N(y))for(V=E.Ba.g.parse(y),y=0;y<V.length;y++){let Ue=V[y];const bt=Ue[0];if(!(bt<=E.K))if(E.K=bt,Ue=Ue[1],E.I==2)if(Ue[0]=="c"){E.M=Ue[1],E.ba=Ue[2];const vr=Ue[3];vr!=null&&(E.ka=vr,E.j.info("VER="+E.ka));const qi=Ue[4];qi!=null&&(E.za=qi,E.j.info("SVER="+E.za));const Rs=Ue[5];Rs!=null&&typeof Rs=="number"&&Rs>0&&(R=1.5*Rs,E.O=R,E.j.info("backChannelRequestTimeoutMs_="+R)),R=E;const Ns=c.g;if(Ns){const Ku=Ns.g?Ns.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ku){var F=R.h;F.g||Ku.indexOf("spdy")==-1&&Ku.indexOf("quic")==-1&&Ku.indexOf("h2")==-1||(F.j=F.l,F.g=new Set,F.h&&(jp(F,F.h),F.h=null))}if(R.G){const zp=Ns.g?Ns.g.getResponseHeader("X-HTTP-Session-Id"):null;zp&&(R.wa=zp,He(R.J,R.G,zp))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-c.F,E.j.info("Handshake RTT: "+E.T+"ms")),R=E;var Q=c;if(R.na=Z0(R,R.L?R.ba:null,R.W),Q.L){N0(R.h,Q);var ve=Q,yt=R.O;yt&&(ve.H=yt),ve.D&&(Dp(ve),Fu(ve)),R.g=Q}else G0(R);E.i.length>0&&Hu(E)}else Ue[0]!="stop"&&Ue[0]!="close"||Wi(E,7);else E.I==3&&(Ue[0]=="stop"||Ue[0]=="close"?Ue[0]=="stop"?Wi(E,7):Up(E):Ue[0]!="noop"&&E.l&&E.l.qa(Ue),E.A=0)}}bs(4)}catch{}}var Vk=class{constructor(c,y){this.g=c,this.map=y}};function I0(c){this.l=c||10,o.PerformanceNavigationTiming?(c=o.performance.getEntriesByType("navigation"),c=c.length>0&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function C0(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function R0(c){return c.h?1:c.g?c.g.size:0}function Mp(c,y){return c.h?c.h==y:c.g?c.g.has(y):!1}function jp(c,y){c.g?c.g.add(y):c.h=y}function N0(c,y){c.h&&c.h==y?c.h=null:c.g&&c.g.has(y)&&c.g.delete(y)}I0.prototype.cancel=function(){if(this.i=A0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const c of this.g.values())c.cancel();this.g.clear()}};function A0(c){if(c.h!=null)return c.i.concat(c.h.G);if(c.g!=null&&c.g.size!==0){let y=c.i;for(const E of c.g.values())y=y.concat(E.G);return y}return g(c.i)}var P0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Fk(c,y){if(c){c=c.split("&");for(let E=0;E<c.length;E++){const R=c[E].indexOf("=");let V,F=null;R>=0?(V=c[E].substring(0,R),F=c[E].substring(R+1)):V=c[E],y(V,F?decodeURIComponent(F.replace(/\+/g," ")):"")}}}function Ss(c){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;c instanceof Ss?(this.l=c.l,Pl(this,c.j),this.o=c.o,this.g=c.g,kl(this,c.u),this.h=c.h,Lp(this,L0(c.i)),this.m=c.m):c&&(y=String(c).match(P0))?(this.l=!1,Pl(this,y[1]||"",!0),this.o=Dl(y[2]||""),this.g=Dl(y[3]||"",!0),kl(this,y[4]),this.h=Dl(y[5]||"",!0),Lp(this,y[6]||"",!0),this.m=Dl(y[7]||"")):(this.l=!1,this.i=new Ml(null,this.l))}Ss.prototype.toString=function(){const c=[];var y=this.j;y&&c.push(Ol(y,k0,!0),":");var E=this.g;return(E||y=="file")&&(c.push("//"),(y=this.o)&&c.push(Ol(y,k0,!0),"@"),c.push(Nl(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&c.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&c.push("/"),c.push(Ol(E,E.charAt(0)=="/"?Bk:$k,!0))),(E=this.i.toString())&&c.push("?",E),(E=this.m)&&c.push("#",Ol(E,Hk)),c.join("")},Ss.prototype.resolve=function(c){const y=yr(this);let E=!!c.j;E?Pl(y,c.j):E=!!c.o,E?y.o=c.o:E=!!c.g,E?y.g=c.g:E=c.u!=null;var R=c.h;if(E)kl(y,c.u);else if(E=!!c.h){if(R.charAt(0)!="/")if(this.g&&!this.h)R="/"+R;else{var V=y.h.lastIndexOf("/");V!=-1&&(R=y.h.slice(0,V+1)+R)}if(V=R,V==".."||V==".")R="";else if(V.indexOf("./")!=-1||V.indexOf("/.")!=-1){R=V.lastIndexOf("/",0)==0,V=V.split("/");const F=[];for(let Q=0;Q<V.length;){const ve=V[Q++];ve=="."?R&&Q==V.length&&F.push(""):ve==".."?((F.length>1||F.length==1&&F[0]!="")&&F.pop(),R&&Q==V.length&&F.push("")):(F.push(ve),R=!0)}R=F.join("/")}else R=V}return E?y.h=R:E=c.i.toString()!=="",E?Lp(y,L0(c.i)):E=!!c.m,E&&(y.m=c.m),y};function yr(c){return new Ss(c)}function Pl(c,y,E){c.j=E?Dl(y,!0):y,c.j&&(c.j=c.j.replace(/:$/,""))}function kl(c,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);c.u=y}else c.u=null}function Lp(c,y,E){y instanceof Ml?(c.i=y,Wk(c.i,c.l)):(E||(y=Ol(y,zk)),c.i=new Ml(y,c.l))}function He(c,y,E){c.i.set(y,E)}function Uu(c){return He(c,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),c}function Dl(c,y){return c?y?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function Ol(c,y,E){return typeof c=="string"?(c=encodeURI(c).replace(y,Uk),E&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function Uk(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var k0=/[#\/\?@]/g,$k=/[#\?:]/g,Bk=/[#\?]/g,zk=/[#\?@]/g,Hk=/#/g;function Ml(c,y){this.h=this.g=null,this.i=c||null,this.j=!!y}function Hi(c){c.g||(c.g=new Map,c.h=0,c.i&&Fk(c.i,function(y,E){c.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}t=Ml.prototype,t.add=function(c,y){Hi(this),this.i=null,c=Ho(this,c);let E=this.g.get(c);return E||this.g.set(c,E=[]),E.push(y),this.h+=1,this};function D0(c,y){Hi(c),y=Ho(c,y),c.g.has(y)&&(c.i=null,c.h-=c.g.get(y).length,c.g.delete(y))}function O0(c,y){return Hi(c),y=Ho(c,y),c.g.has(y)}t.forEach=function(c,y){Hi(this),this.g.forEach(function(E,R){E.forEach(function(V){c.call(y,V,R,this)},this)},this)};function M0(c,y){Hi(c);let E=[];if(typeof y=="string")O0(c,y)&&(E=E.concat(c.g.get(Ho(c,y))));else for(c=Array.from(c.g.values()),y=0;y<c.length;y++)E=E.concat(c[y]);return E}t.set=function(c,y){return Hi(this),this.i=null,c=Ho(this,c),O0(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[y]),this.h+=1,this},t.get=function(c,y){return c?(c=M0(this,c),c.length>0?String(c[0]):y):y};function j0(c,y,E){D0(c,y),E.length>0&&(c.i=null,c.g.set(Ho(c,y),g(E)),c.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const c=[],y=Array.from(this.g.keys());for(let R=0;R<y.length;R++){var E=y[R];const V=Nl(E);E=M0(this,E);for(let F=0;F<E.length;F++){let Q=V;E[F]!==""&&(Q+="="+Nl(E[F])),c.push(Q)}}return this.i=c.join("&")};function L0(c){const y=new Ml;return y.i=c.i,c.g&&(y.g=new Map(c.g),y.h=c.h),y}function Ho(c,y){return y=String(y),c.j&&(y=y.toLowerCase()),y}function Wk(c,y){y&&!c.j&&(Hi(c),c.i=null,c.g.forEach(function(E,R){const V=R.toLowerCase();R!=V&&(D0(this,R),j0(this,V,E))},c)),c.j=y}function qk(c,y){const E=new ce;if(o.Image){const R=new Image;R.onload=h(Is,E,"TestLoadImage: loaded",!0,y,R),R.onerror=h(Is,E,"TestLoadImage: error",!1,y,R),R.onabort=h(Is,E,"TestLoadImage: abort",!1,y,R),R.ontimeout=h(Is,E,"TestLoadImage: timeout",!1,y,R),o.setTimeout(function(){R.ontimeout&&R.ontimeout()},1e4),R.src=c}else y(!1)}function Kk(c,y){const E=new ce,R=new AbortController,V=setTimeout(()=>{R.abort(),Is(E,"TestPingServer: timeout",!1,y)},1e4);fetch(c,{signal:R.signal}).then(F=>{clearTimeout(V),F.ok?Is(E,"TestPingServer: ok",!0,y):Is(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(V),Is(E,"TestPingServer: error",!1,y)})}function Is(c,y,E,R,V){try{V&&(V.onload=null,V.onerror=null,V.onabort=null,V.ontimeout=null),R(E)}catch{}}function Gk(){this.g=new $o}function Vp(c){this.i=c.Sb||null,this.h=c.ab||!1}f(Vp,ju),Vp.prototype.g=function(){return new $u(this.i,this.h)};function $u(c,y){Ye.call(this),this.H=c,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f($u,Ye),t=$u.prototype,t.open=function(c,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=c,this.D=y,this.readyState=1,Ll(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};c&&(y.body=c),(this.H||o).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,jl(this)),this.readyState=0},t.Pa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Ll(this)),this.g&&(this.readyState=3,Ll(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;V0(this)}else c.text().then(this.Oa.bind(this),this.ga.bind(this))};function V0(c){c.j.read().then(c.Ma.bind(c)).catch(c.ga.bind(c))}t.Ma=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var y=c.value?c.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!c.done}))&&(this.response=this.responseText+=y)}c.done?jl(this):Ll(this),this.readyState==3&&V0(this)}},t.Oa=function(c){this.g&&(this.response=this.responseText=c,jl(this))},t.Na=function(c){this.g&&(this.response=c,jl(this))},t.ga=function(){this.g&&jl(this)};function jl(c){c.readyState=4,c.l=null,c.j=null,c.B=null,Ll(c)}t.setRequestHeader=function(c,y){this.A.append(c,y)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const c=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,c.push(E[0]+": "+E[1]),E=y.next();return c.join(`\r
`)};function Ll(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty($u.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function F0(c){let y="";return L(c,function(E,R){y+=R,y+=":",y+=E,y+=`\r
`}),y}function Fp(c,y,E){e:{for(R in E){var R=!1;break e}R=!0}R||(E=F0(E),typeof c=="string"?E!=null&&Nl(E):He(c,y,E))}function rt(c){Ye.call(this),this.headers=new Map,this.L=c||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(rt,Ye);var Qk=/^https?$/i,Yk=["POST","PUT"];t=rt.prototype,t.Fa=function(c){this.H=c},t.ea=function(c,y,E,R){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);y=y?y.toUpperCase():"GET",this.D=c,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Bn.g(),this.g.onreadystatechange=m(d(this.Ca,this));try{this.B=!0,this.g.open(y,String(c),!0),this.B=!1}catch(F){U0(this,F);return}if(c=E||"",E=new Map(this.headers),R)if(Object.getPrototypeOf(R)===Object.prototype)for(var V in R)E.set(V,R[V]);else if(typeof R.keys=="function"&&typeof R.get=="function")for(const F of R.keys())E.set(F,R.get(F));else throw Error("Unknown input type for opt_headers: "+String(R));R=Array.from(E.keys()).find(F=>F.toLowerCase()=="content-type"),V=o.FormData&&c instanceof o.FormData,!(Array.prototype.indexOf.call(Yk,y,void 0)>=0)||R||V||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[F,Q]of E)this.g.setRequestHeader(F,Q);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(c),this.v=!1}catch(F){U0(this,F)}};function U0(c,y){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=y,c.o=5,$0(c),Bu(c)}function $0(c){c.A||(c.A=!0,_t(c,"complete"),_t(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=c||7,_t(this,"complete"),_t(this,"abort"),Bu(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),Bu(this,!0)),rt.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?B0(this):this.Xa())},t.Xa=function(){B0(this)};function B0(c){if(c.h&&typeof i<"u"){if(c.v&&Cs(c)==4)setTimeout(c.Ca.bind(c),0);else if(_t(c,"readystatechange"),Cs(c)==4){c.h=!1;try{const F=c.ca();e:switch(F){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var R;if(R=F===0){let Q=String(c.D).match(P0)[1]||null;!Q&&o.self&&o.self.location&&(Q=o.self.location.protocol.slice(0,-1)),R=!Qk.test(Q?Q.toLowerCase():"")}E=R}if(E)_t(c,"complete"),_t(c,"success");else{c.o=6;try{var V=Cs(c)>2?c.g.statusText:""}catch{V=""}c.l=V+" ["+c.ca()+"]",$0(c)}}finally{Bu(c)}}}}function Bu(c,y){if(c.g){c.m&&(clearTimeout(c.m),c.m=null);const E=c.g;c.g=null,y||_t(c,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Cs(c){return c.g?c.g.readyState:0}t.ca=function(){try{return Cs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(c){if(this.g){var y=this.g.responseText;return c&&y.indexOf(c)==0&&(y=y.substring(c.length)),Np(y)}};function z0(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.F){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function Xk(c){const y={};c=(c.g&&Cs(c)>=2&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let R=0;R<c.length;R++){if(N(c[R]))continue;var E=Mk(c[R]);const V=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const F=y[V]||[];y[V]=F,F.push(E)}K(y,function(R){return R.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Vl(c,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[c]||y}function H0(c){this.za=0,this.i=[],this.j=new ce,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Vl("failFast",!1,c),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Vl("baseRetryDelayMs",5e3,c),this.Za=Vl("retryDelaySeedMs",1e4,c),this.Ta=Vl("forwardChannelMaxRetries",2,c),this.va=Vl("forwardChannelRequestTimeoutMs",2e4,c),this.ma=c&&c.xmlHttpFactory||void 0,this.Ua=c&&c.Rb||void 0,this.Aa=c&&c.useFetchStreams||!1,this.O=void 0,this.L=c&&c.supportsCrossDomainXhr||!1,this.M="",this.h=new I0(c&&c.concurrentRequestLimit),this.Ba=new Gk,this.S=c&&c.fastHandshake||!1,this.R=c&&c.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=c&&c.Pb||!1,c&&c.ua&&this.j.ua(),c&&c.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&c&&c.detectBufferingProxy||!1,this.ia=void 0,c&&c.longPollingTimeout&&c.longPollingTimeout>0&&(this.ia=c.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=H0.prototype,t.ka=8,t.I=1,t.connect=function(c,y,E,R){gt(0),this.W=c,this.H=y||{},E&&R!==void 0&&(this.H.OSID=E,this.H.OAID=R),this.F=this.X,this.J=Z0(this,null,this.W),Hu(this)};function Up(c){if(W0(c),c.I==3){var y=c.V++,E=yr(c.J);if(He(E,"SID",c.M),He(E,"RID",y),He(E,"TYPE","terminate"),Fl(c,E),y=new Ts(c,c.j,y),y.M=2,y.A=Uu(yr(E)),E=!1,o.navigator&&o.navigator.sendBeacon)try{E=o.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&o.Image&&(new Image().src=y.A,E=!0),E||(y.g=ex(y.j,null),y.g.ea(y.A)),y.F=Date.now(),Fu(y)}J0(c)}function zu(c){c.g&&(Bp(c),c.g.cancel(),c.g=null)}function W0(c){zu(c),c.v&&(o.clearTimeout(c.v),c.v=null),Wu(c),c.h.cancel(),c.m&&(typeof c.m=="number"&&o.clearTimeout(c.m),c.m=null)}function Hu(c){if(!C0(c.h)&&!c.m){c.m=!0;var y=c.Ea;O||S(),M||(O(),M=!0),I.add(y,c),c.D=0}}function Jk(c,y){return R0(c.h)>=c.h.j-(c.m?1:0)?!1:c.m?(c.i=y.G.concat(c.i),!0):c.I==1||c.I==2||c.D>=(c.Sa?0:c.Ta)?!1:(c.m=Bi(d(c.Ea,c,y),X0(c,c.D)),c.D++,!0)}t.Ea=function(c){if(this.m)if(this.m=null,this.I==1){if(!c){this.V=Math.floor(Math.random()*1e5),c=this.V++;const V=new Ts(this,this.j,c);let F=this.o;if(this.U&&(F?(F=oe(F),J(F,this.U)):F=this.U),this.u!==null||this.R||(V.J=F,F=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var R=this.i[E];if("__data__"in R.map&&(R=R.map.__data__,typeof R=="string")){R=R.length;break t}R=void 0}if(R===void 0)break;if(y+=R,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=K0(this,V,y),E=yr(this.J),He(E,"RID",c),He(E,"CVER",22),this.G&&He(E,"X-HTTP-Session-Id",this.G),Fl(this,E),F&&(this.R?y="headers="+Nl(F0(F))+"&"+y:this.u&&Fp(E,this.u,F)),jp(this.h,V),this.Ra&&He(E,"TYPE","init"),this.S?(He(E,"$req",y),He(E,"SID","null"),V.U=!0,kp(V,E,null)):kp(V,E,y),this.I=2}}else this.I==3&&(c?q0(this,c):this.i.length==0||C0(this.h)||q0(this))};function q0(c,y){var E;y?E=y.l:E=c.V++;const R=yr(c.J);He(R,"SID",c.M),He(R,"RID",E),He(R,"AID",c.K),Fl(c,R),c.u&&c.o&&Fp(R,c.u,c.o),E=new Ts(c,c.j,E,c.D+1),c.u===null&&(E.J=c.o),y&&(c.i=y.G.concat(c.i)),y=K0(c,E,1e3),E.H=Math.round(c.va*.5)+Math.round(c.va*.5*Math.random()),jp(c.h,E),kp(E,R,y)}function Fl(c,y){c.H&&L(c.H,function(E,R){He(y,R,E)}),c.l&&L({},function(E,R){He(y,R,E)})}function K0(c,y,E){E=Math.min(c.i.length,E);const R=c.l?d(c.l.Ka,c.l,c):null;e:{var V=c.i;let ve=-1;for(;;){const yt=["count="+E];ve==-1?E>0?(ve=V[0].g,yt.push("ofs="+ve)):ve=0:yt.push("ofs="+ve);let Ue=!0;for(let bt=0;bt<E;bt++){var F=V[bt].g;const vr=V[bt].map;if(F-=ve,F<0)ve=Math.max(0,V[bt].g-100),Ue=!1;else try{F="req"+F+"_"||"";try{var Q=vr instanceof Map?vr:Object.entries(vr);for(const[qi,Rs]of Q){let Ns=Rs;a(Rs)&&(Ns=Il(Rs)),yt.push(F+qi+"="+encodeURIComponent(Ns))}}catch(qi){throw yt.push(F+"type="+encodeURIComponent("_badmap")),qi}}catch{R&&R(vr)}}if(Ue){Q=yt.join("&");break e}}Q=void 0}return c=c.i.splice(0,E),y.G=c,Q}function G0(c){if(!c.g&&!c.v){c.Y=1;var y=c.Da;O||S(),M||(O(),M=!0),I.add(y,c),c.A=0}}function $p(c){return c.g||c.v||c.A>=3?!1:(c.Y++,c.v=Bi(d(c.Da,c),X0(c,c.A)),c.A++,!0)}t.Da=function(){if(this.v=null,Q0(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var c=4*this.T;this.j.info("BP detection timer enabled: "+c),this.B=Bi(d(this.Wa,this),c)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,gt(10),zu(this),Q0(this))};function Bp(c){c.B!=null&&(o.clearTimeout(c.B),c.B=null)}function Q0(c){c.g=new Ts(c,c.j,"rpc",c.Y),c.u===null&&(c.g.J=c.o),c.g.P=0;var y=yr(c.na);He(y,"RID","rpc"),He(y,"SID",c.M),He(y,"AID",c.K),He(y,"CI",c.F?"0":"1"),!c.F&&c.ia&&He(y,"TO",c.ia),He(y,"TYPE","xmlhttp"),Fl(c,y),c.u&&c.o&&Fp(y,c.u,c.o),c.O&&(c.g.H=c.O);var E=c.g;c=c.ba,E.M=1,E.A=Uu(yr(y)),E.u=null,E.R=!0,b0(E,c)}t.Va=function(){this.C!=null&&(this.C=null,zu(this),$p(this),gt(19))};function Wu(c){c.C!=null&&(o.clearTimeout(c.C),c.C=null)}function Y0(c,y){var E=null;if(c.g==y){Wu(c),Bp(c),c.g=null;var R=2}else if(Mp(c.h,y))E=y.G,N0(c.h,y),R=1;else return;if(c.I!=0){if(y.o)if(R==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var V=c.D;R=zo(),_t(R,new $n(R,E)),Hu(c)}else G0(c);else if(V=y.m,V==3||V==0&&y.X>0||!(R==1&&Jk(c,y)||R==2&&$p(c)))switch(E&&E.length>0&&(y=c.h,y.i=y.i.concat(E)),V){case 1:Wi(c,5);break;case 4:Wi(c,10);break;case 3:Wi(c,6);break;default:Wi(c,2)}}}function X0(c,y){let E=c.Qa+Math.floor(Math.random()*c.Za);return c.isActive()||(E*=2),E*y}function Wi(c,y){if(c.j.info("Error code "+y),y==2){var E=d(c.bb,c),R=c.Ua;const V=!R;R=new Ss(R||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Pl(R,"https"),Uu(R),V?qk(R.toString(),E):Kk(R.toString(),E)}else gt(2);c.I=0,c.l&&c.l.pa(y),J0(c),W0(c)}t.bb=function(c){c?(this.j.info("Successfully pinged google.com"),gt(2)):(this.j.info("Failed to ping google.com"),gt(1))};function J0(c){if(c.I=0,c.ja=[],c.l){const y=A0(c.h);(y.length!=0||c.i.length!=0)&&(T(c.ja,y),T(c.ja,c.i),c.h.i.length=0,g(c.i),c.i.length=0),c.l.oa()}}function Z0(c,y,E){var R=E instanceof Ss?yr(E):new Ss(E);if(R.g!="")y&&(R.g=y+"."+R.g),kl(R,R.u);else{var V=o.location;R=V.protocol,y=y?y+"."+V.hostname:V.hostname,V=+V.port;const F=new Ss(null);R&&Pl(F,R),y&&(F.g=y),V&&kl(F,V),E&&(F.h=E),R=F}return E=c.G,y=c.wa,E&&y&&He(R,E,y),He(R,"VER",c.ka),Fl(c,R),R}function ex(c,y,E){if(y&&!c.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=c.Aa&&!c.ma?new rt(new Vp({ab:E})):new rt(c.ma),y.Fa(c.L),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function tx(){}t=tx.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function qu(){}qu.prototype.g=function(c,y){return new yn(c,y)};function yn(c,y){Ye.call(this),this.g=new H0(y),this.l=c,this.h=y&&y.messageUrlParams||null,c=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(c?c["X-WebChannel-Content-Type"]=y.messageContentType:c={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(c?c["X-WebChannel-Client-Profile"]=y.sa:c={"X-WebChannel-Client-Profile":y.sa}),this.g.U=c,(c=y&&y.Qb)&&!N(c)&&(this.g.u=c),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!N(y)&&(this.g.G=y,c=this.h,c!==null&&y in c&&(c=this.h,y in c&&delete c[y])),this.j=new Wo(this)}f(yn,Ye),yn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},yn.prototype.close=function(){Up(this.g)},yn.prototype.o=function(c){var y=this.g;if(typeof c=="string"){var E={};E.__data__=c,c=E}else this.v&&(E={},E.__data__=Il(c),c=E);y.i.push(new Vk(y.Ya++,c)),y.I==3&&Hu(y)},yn.prototype.N=function(){this.g.l=null,delete this.j,Up(this.g),delete this.g,yn.Z.N.call(this)};function nx(c){mr.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var y=c.__sm__;if(y){e:{for(const E in y){c=E;break e}c=void 0}(this.i=c)&&(c=this.i,y=y!==null&&c in y?y[c]:void 0),this.data=y}else this.data=c}f(nx,mr);function rx(){Bo.call(this),this.status=1}f(rx,Bo);function Wo(c){this.g=c}f(Wo,tx),Wo.prototype.ra=function(){_t(this.g,"a")},Wo.prototype.qa=function(c){_t(this.g,new nx(c))},Wo.prototype.pa=function(c){_t(this.g,new rx)},Wo.prototype.oa=function(){_t(this.g,"b")},qu.prototype.createWebChannel=qu.prototype.g,yn.prototype.send=yn.prototype.o,yn.prototype.open=yn.prototype.m,yn.prototype.close=yn.prototype.close,SR=function(){return new qu},TR=function(){return zo()},bR=sn,gy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},Nn.NO_ERROR=0,Nn.TIMEOUT=8,Nn.HTTP_ERROR=6,Yd=Nn,on.COMPLETE="complete",ER=on,Cl.EventType=Hr,Hr.OPEN="a",Hr.CLOSE="b",Hr.ERROR="c",Hr.MESSAGE="d",Ye.prototype.listen=Ye.prototype.J,rc=Cl,rt.prototype.listenOnce=rt.prototype.K,rt.prototype.getLastError=rt.prototype.Ha,rt.prototype.getLastErrorCode=rt.prototype.ya,rt.prototype.getStatus=rt.prototype.ca,rt.prototype.getResponseJson=rt.prototype.La,rt.prototype.getResponseText=rt.prototype.la,rt.prototype.send=rt.prototype.ea,rt.prototype.setWithCredentials=rt.prototype.Fa,_R=rt}).apply(typeof vd<"u"?vd:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Bt{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Bt.UNAUTHENTICATED=new Bt(null),Bt.GOOGLE_CREDENTIALS=new Bt("google-credentials-uid"),Bt.FIRST_PARTY=new Bt("first-party-uid"),Bt.MOCK_USER=new Bt("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xl="12.9.0";function LU(t){xl=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const bo=new Wf("@firebase/firestore");function Yo(){return bo.logLevel}function ne(t,...e){if(bo.logLevel<=Te.DEBUG){const n=e.map(bw);bo.debug(`Firestore (${xl}): ${t}`,...n)}}function ps(t,...e){if(bo.logLevel<=Te.ERROR){const n=e.map(bw);bo.error(`Firestore (${xl}): ${t}`,...n)}}function To(t,...e){if(bo.logLevel<=Te.WARN){const n=e.map(bw);bo.warn(`Firestore (${xl}): ${t}`,...n)}}function bw(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function de(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,IR(t,r,n)}function IR(t,e,n){let r=`FIRESTORE (${xl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw ps(r),new Error(r)}function Ve(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||IR(e,s,r)}function pe(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends dr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class co{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class CR{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class VU{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Bt.UNAUTHENTICATED))}shutdown(){}}class FU{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class UU{constructor(e){this.t=e,this.currentUser=Bt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ve(this.o===void 0,42304);let r=this.i;const s=l=>this.i!==r?(r=this.i,n(l)):Promise.resolve();let i=new co;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new co,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const l=i;e.enqueueRetryable(async()=>{await l.promise,await s(this.currentUser)})},a=l=>{ne("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=l,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(l=>a(l)),setTimeout(()=>{if(!this.auth){const l=this.t.getImmediate({optional:!0});l?a(l):(ne("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new co)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(ne("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ve(typeof r.accessToken=="string",31837,{l:r}),new CR(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string",2055,{h:e}),new Bt(e)}}class $U{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Bt.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class BU{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new $U(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Bt.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class M1{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class zU{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Zn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ve(this.o===void 0,3512);const r=i=>{i.error!=null&&ne("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,ne("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{ne("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):ne("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new M1(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ve(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new M1(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HU(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tw{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=HU(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Ie(t,e){return t<e?-1:t>e?1:0}function yy(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return Mm(s)===Mm(i)?Ie(s,i):Mm(s)?1:-1}return Ie(t.length,e.length)}const WU=55296,qU=57343;function Mm(t){const e=t.charCodeAt(0);return e>=WU&&e<=qU}function Ya(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const j1="__name__";class _r{constructor(e,n,r){n===void 0?n=0:n>e.length&&de(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&de(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return _r.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof _r?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=_r.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Ie(e.length,n.length)}static compareSegments(e,n){const r=_r.isNumericId(e),s=_r.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?_r.extractNumericId(e).compare(_r.extractNumericId(n)):yy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return gi.fromString(e.substring(4,e.length-2))}}class Be extends _r{construct(e,n,r){return new Be(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new Be(n)}static emptyPath(){return new Be([])}}const KU=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class kt extends _r{construct(e,n,r){return new kt(e,n,r)}static isValidIdentifier(e){return KU.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),kt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===j1}static keyField(){return new kt([j1])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new te(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new te(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const l=e[s+1];if(l!=="\\"&&l!=="."&&l!=="`")throw new te(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=l,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new te(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new kt(n)}static emptyPath(){return new kt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ae{constructor(e){this.path=e}static fromPath(e){return new ae(Be.fromString(e))}static fromName(e){return new ae(Be.fromString(e).popFirst(5))}static empty(){return new ae(Be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return Be.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new ae(new Be(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function RR(t,e,n){if(!n)throw new te(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function GU(t,e,n,r){if(e===!0&&r===!0)throw new te(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function L1(t){if(!ae.isDocumentKey(t))throw new te(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function V1(t){if(ae.isDocumentKey(t))throw new te(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function NR(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Jf(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":de(12329,{type:typeof t})}function yi(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Jf(t);throw new te(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function pt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Iu(t,e){if(!NR(t))throw new te(z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new te(z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F1=-62135596800,U1=1e6;class Ke{static now(){return Ke.fromMillis(Date.now())}static fromDate(e){return Ke.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*U1);return new Ke(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<F1)throw new te(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/U1}_compareTo(e){return this.seconds===e.seconds?Ie(this.nanoseconds,e.nanoseconds):Ie(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Ke._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Iu(e,Ke._jsonSchema))return new Ke(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-F1;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Ke._jsonSchemaVersion="firestore/timestamp/1.0",Ke._jsonSchema={type:pt("string",Ke._jsonSchemaVersion),seconds:pt("number"),nanoseconds:pt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{static fromTimestamp(e){return new fe(e)}static min(){return new fe(new Ke(0,0))}static max(){return new fe(new Ke(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ru=-1;function QU(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=fe.fromTimestamp(r===1e9?new Ke(n+1,0):new Ke(n,r));return new Ti(s,ae.empty(),e)}function YU(t){return new Ti(t.readTime,t.key,ru)}class Ti{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Ti(fe.min(),ae.empty(),ru)}static max(){return new Ti(fe.max(),ae.empty(),ru)}}function XU(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=ae.comparator(t.documentKey,e.documentKey),n!==0?n:Ie(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JU="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class ZU{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function _l(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==JU)throw t;ne("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class H{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&de(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new H((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof H?n:H.resolve(n)}catch(n){return H.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):H.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):H.reject(n)}static resolve(e){return new H((n,r)=>{n(e)})}static reject(e){return new H((n,r)=>{r(e)})}static waitFor(e){return new H((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},l=>r(l))}),o=!0,i===s&&n()})}static or(e){let n=H.resolve(!1);for(const r of e)n=n.next(s=>s?H.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new H((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let l=0;l<i;l++){const d=l;n(e[d]).next(h=>{o[d]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new H((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function e$(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function El(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zf{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Zf.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sw=-1;function ep(t){return t==null}function Qh(t){return t===0&&1/t==-1/0}function t$(t){return typeof t=="number"&&Number.isInteger(t)&&!Qh(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AR="";function n$(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=$1(e)),e=r$(t.get(n),e);return $1(e)}function r$(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case AR:n+="";break;default:n+=i}}return n}function $1(t){return t+AR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B1(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Li(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function PR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class nt{constructor(e,n){this.comparator=e,this.root=n||Pt.EMPTY}insert(e,n){return new nt(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Pt.BLACK,null,null))}remove(e){return new nt(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Pt.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new wd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new wd(this.root,e,this.comparator,!1)}getReverseIterator(){return new wd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new wd(this.root,e,this.comparator,!0)}}class wd{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Pt{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Pt.RED,this.left=s??Pt.EMPTY,this.right=i??Pt.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Pt(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Pt.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Pt.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Pt.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Pt.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw de(43730,{key:this.key,value:this.value});if(this.right.isRed())throw de(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw de(27949);return e+(this.isRed()?0:1)}}Pt.EMPTY=null,Pt.RED=!0,Pt.BLACK=!1;Pt.EMPTY=new class{constructor(){this.size=0}get key(){throw de(57766)}get value(){throw de(16141)}get color(){throw de(16727)}get left(){throw de(29726)}get right(){throw de(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Pt(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xt{constructor(e){this.comparator=e,this.data=new nt(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new z1(this.data.getIterator())}getIteratorFrom(e){return new z1(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof xt)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new xt(this.comparator);return n.data=e,n}}class z1{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _n{constructor(e){this.fields=e,e.sort(kt.comparator)}static empty(){return new _n([])}unionWith(e){let n=new xt(kt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new _n(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Ya(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jt{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new kR("Invalid base64 string: "+i):i}}(e);return new jt(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new jt(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ie(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}jt.EMPTY_BYTE_STRING=new jt("");const s$=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Si(t){if(Ve(!!t,39018),typeof t=="string"){let e=0;const n=s$.exec(t);if(Ve(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:lt(t.seconds),nanos:lt(t.nanos)}}function lt(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Ii(t){return typeof t=="string"?jt.fromBase64String(t):jt.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const DR="server_timestamp",OR="__type__",MR="__previous_value__",jR="__local_write_time__";function Iw(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[OR])==null?void 0:r.stringValue)===DR}function tp(t){const e=t.mapValue.fields[MR];return Iw(e)?tp(e):e}function su(t){const e=Si(t.mapValue.fields[jR].timestampValue);return new Ke(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(e,n,r,s,i,o,a,l,d,h,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=l,this.useFetchStreams=d,this.isUsingEmulator=h,this.apiKey=f}}const Yh="(default)";class iu{constructor(e,n){this.projectId=e,this.database=n||Yh}static empty(){return new iu("","")}get isDefaultDatabase(){return this.database===Yh}isEqual(e){return e instanceof iu&&e.projectId===this.projectId&&e.database===this.database}}function o$(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new te(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new iu(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const LR="__type__",VR="__max__",xd={mapValue:{fields:{__type__:{stringValue:VR}}}},FR="__vector__",Xh="value";function Ci(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?Iw(t)?4:l$(t)?9007199254740991:a$(t)?10:11:de(28295,{value:t})}function Fr(t,e){if(t===e)return!0;const n=Ci(t);if(n!==Ci(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return su(t).isEqual(su(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Si(s.timestampValue),a=Si(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Ii(s.bytesValue).isEqual(Ii(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return lt(s.geoPointValue.latitude)===lt(i.geoPointValue.latitude)&&lt(s.geoPointValue.longitude)===lt(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return lt(s.integerValue)===lt(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=lt(s.doubleValue),a=lt(i.doubleValue);return o===a?Qh(o)===Qh(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return Ya(t.arrayValue.values||[],e.arrayValue.values||[],Fr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(B1(o)!==B1(a))return!1;for(const l in o)if(o.hasOwnProperty(l)&&(a[l]===void 0||!Fr(o[l],a[l])))return!1;return!0}(t,e);default:return de(52216,{left:t})}}function ou(t,e){return(t.values||[]).find(n=>Fr(n,e))!==void 0}function Xa(t,e){if(t===e)return 0;const n=Ci(t),r=Ci(e);if(n!==r)return Ie(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ie(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=lt(i.integerValue||i.doubleValue),l=lt(o.integerValue||o.doubleValue);return a<l?-1:a>l?1:a===l?0:isNaN(a)?isNaN(l)?0:-1:1}(t,e);case 3:return H1(t.timestampValue,e.timestampValue);case 4:return H1(su(t),su(e));case 5:return yy(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Ii(i),l=Ii(o);return a.compareTo(l)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),l=o.split("/");for(let d=0;d<a.length&&d<l.length;d++){const h=Ie(a[d],l[d]);if(h!==0)return h}return Ie(a.length,l.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Ie(lt(i.latitude),lt(o.latitude));return a!==0?a:Ie(lt(i.longitude),lt(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return W1(t.arrayValue,e.arrayValue);case 10:return function(i,o){var m,g,T,v;const a=i.fields||{},l=o.fields||{},d=(m=a[Xh])==null?void 0:m.arrayValue,h=(g=l[Xh])==null?void 0:g.arrayValue,f=Ie(((T=d==null?void 0:d.values)==null?void 0:T.length)||0,((v=h==null?void 0:h.values)==null?void 0:v.length)||0);return f!==0?f:W1(d,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===xd.mapValue&&o===xd.mapValue)return 0;if(i===xd.mapValue)return 1;if(o===xd.mapValue)return-1;const a=i.fields||{},l=Object.keys(a),d=o.fields||{},h=Object.keys(d);l.sort(),h.sort();for(let f=0;f<l.length&&f<h.length;++f){const m=yy(l[f],h[f]);if(m!==0)return m;const g=Xa(a[l[f]],d[h[f]]);if(g!==0)return g}return Ie(l.length,h.length)}(t.mapValue,e.mapValue);default:throw de(23264,{he:n})}}function H1(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ie(t,e);const n=Si(t),r=Si(e),s=Ie(n.seconds,r.seconds);return s!==0?s:Ie(n.nanos,r.nanos)}function W1(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=Xa(n[s],r[s]);if(i)return i}return Ie(n.length,r.length)}function Ja(t){return vy(t)}function vy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Si(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Ii(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return ae.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=vy(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${vy(n.fields[o])}`;return s+"}"}(t.mapValue):de(61005,{value:t})}function Xd(t){switch(Ci(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=tp(t);return e?16+Xd(e):16;case 5:return 2*t.stringValue.length;case 6:return Ii(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Xd(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Li(r.fields,(i,o)=>{s+=i.length+Xd(o)}),s}(t.mapValue);default:throw de(13486,{value:t})}}function q1(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function wy(t){return!!t&&"integerValue"in t}function Cw(t){return!!t&&"arrayValue"in t}function K1(t){return!!t&&"nullValue"in t}function G1(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Jd(t){return!!t&&"mapValue"in t}function a$(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[LR])==null?void 0:r.stringValue)===FR}function _c(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Li(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=_c(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=_c(t.arrayValue.values[n]);return e}return{...t}}function l$(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===VR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class un{constructor(e){this.value=e}static empty(){return new un({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Jd(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=_c(n)}setAll(e){let n=kt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const l=this.getFieldsMap(n);this.applyChanges(l,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=_c(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Jd(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Fr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Jd(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Li(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new un(_c(this.value))}}function UR(t){const e=[];return Li(t.fields,(n,r)=>{const s=new kt([n]);if(Jd(r)){const i=UR(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new _n(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Ht(e,0,fe.min(),fe.min(),fe.min(),un.empty(),0)}static newFoundDocument(e,n,r,s){return new Ht(e,1,n,fe.min(),r,s,0)}static newNoDocument(e,n){return new Ht(e,2,n,fe.min(),fe.min(),un.empty(),0)}static newUnknownDocument(e,n){return new Ht(e,3,n,fe.min(),fe.min(),un.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=un.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=un.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Ht&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Ht(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jh{constructor(e,n){this.position=e,this.inclusive=n}}function Q1(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=ae.comparator(ae.fromName(o.referenceValue),n.key):r=Xa(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function Y1(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Fr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class au{constructor(e,n="asc"){this.field=e,this.dir=n}}function c$(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $R{}class ft extends $R{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new d$(e,n,r):n==="array-contains"?new p$(e,r):n==="in"?new m$(e,r):n==="not-in"?new g$(e,r):n==="array-contains-any"?new y$(e,r):new ft(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new h$(e,r):new f$(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(Xa(n,this.value)):n!==null&&Ci(this.value)===Ci(n)&&this.matchesComparison(Xa(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return de(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class ur extends $R{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new ur(e,n)}matches(e){return BR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function BR(t){return t.op==="and"}function zR(t){return u$(t)&&BR(t)}function u$(t){for(const e of t.filters)if(e instanceof ur)return!1;return!0}function xy(t){if(t instanceof ft)return t.field.canonicalString()+t.op.toString()+Ja(t.value);if(zR(t))return t.filters.map(e=>xy(e)).join(",");{const e=t.filters.map(n=>xy(n)).join(",");return`${t.op}(${e})`}}function HR(t,e){return t instanceof ft?function(r,s){return s instanceof ft&&r.op===s.op&&r.field.isEqual(s.field)&&Fr(r.value,s.value)}(t,e):t instanceof ur?function(r,s){return s instanceof ur&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&HR(o,s.filters[a]),!0):!1}(t,e):void de(19439)}function WR(t){return t instanceof ft?function(n){return`${n.field.canonicalString()} ${n.op} ${Ja(n.value)}`}(t):t instanceof ur?function(n){return n.op.toString()+" {"+n.getFilters().map(WR).join(" ,")+"}"}(t):"Filter"}class d$ extends ft{constructor(e,n,r){super(e,n,r),this.key=ae.fromName(r.referenceValue)}matches(e){const n=ae.comparator(e.key,this.key);return this.matchesComparison(n)}}class h$ extends ft{constructor(e,n){super(e,"in",n),this.keys=qR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class f$ extends ft{constructor(e,n){super(e,"not-in",n),this.keys=qR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function qR(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>ae.fromName(r.referenceValue))}class p$ extends ft{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return Cw(n)&&ou(n.arrayValue,this.value)}}class m$ extends ft{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&ou(this.value.arrayValue,n)}}class g$ extends ft{constructor(e,n){super(e,"not-in",n)}matches(e){if(ou(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!ou(this.value.arrayValue,n)}}class y$ extends ft{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!Cw(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ou(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v${constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function X1(t,e=null,n=[],r=[],s=null,i=null,o=null){return new v$(t,e,n,r,s,i,o)}function Rw(t){const e=pe(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>xy(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),ep(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ja(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ja(r)).join(",")),e.Te=n}return e.Te}function Nw(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!c$(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!HR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!Y1(t.startAt,e.startAt)&&Y1(t.endAt,e.endAt)}function _y(t){return ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bl{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,l=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=l,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function w$(t,e,n,r,s,i,o,a){return new bl(t,e,n,r,s,i,o,a)}function Aw(t){return new bl(t)}function J1(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function x$(t){return ae.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function KR(t){return t.collectionGroup!==null}function Ec(t){const e=pe(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new xt(kt.comparator);return o.filters.forEach(l=>{l.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new au(i,r))}),n.has(kt.keyField().canonicalString())||e.Ie.push(new au(kt.keyField(),r))}return e.Ie}function Or(t){const e=pe(t);return e.Ee||(e.Ee=_$(e,Ec(t))),e.Ee}function _$(t,e){if(t.limitType==="F")return X1(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new au(s.field,i)});const n=t.endAt?new Jh(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Jh(t.startAt.position,t.startAt.inclusive):null;return X1(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function Ey(t,e){const n=t.filters.concat([e]);return new bl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function E$(t,e){const n=t.explicitOrderBy.concat([e]);return new bl(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function by(t,e,n){return new bl(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function np(t,e){return Nw(Or(t),Or(e))&&t.limitType===e.limitType}function GR(t){return`${Rw(Or(t))}|lt:${t.limitType}`}function Xo(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>WR(s)).join(", ")}]`),ep(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>Ja(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>Ja(s)).join(",")),`Target(${r})`}(Or(t))}; limitType=${t.limitType})`}function rp(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):ae.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Ec(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,l){const d=Q1(o,a,l);return o.inclusive?d<=0:d<0}(r.startAt,Ec(r),s)||r.endAt&&!function(o,a,l){const d=Q1(o,a,l);return o.inclusive?d>=0:d>0}(r.endAt,Ec(r),s))}(t,e)}function b$(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function QR(t){return(e,n)=>{let r=!1;for(const s of Ec(t)){const i=T$(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function T$(t,e,n){const r=t.field.isKeyField()?ae.comparator(e.key,n.key):function(i,o,a){const l=o.data.field(i),d=a.data.field(i);return l!==null&&d!==null?Xa(l,d):de(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return de(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jo{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Li(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return PR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const S$=new nt(ae.comparator);function ms(){return S$}const YR=new nt(ae.comparator);function sc(...t){let e=YR;for(const n of t)e=e.insert(n.key,n);return e}function XR(t){let e=YR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function eo(){return bc()}function JR(){return bc()}function bc(){return new jo(t=>t.toString(),(t,e)=>t.isEqual(e))}const I$=new nt(ae.comparator),C$=new xt(ae.comparator);function Ce(...t){let e=C$;for(const n of t)e=e.add(n);return e}const R$=new xt(Ie);function N$(){return R$}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pw(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Qh(e)?"-0":e}}function ZR(t){return{integerValue:""+t}}function A$(t,e){return t$(e)?ZR(e):Pw(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sp{constructor(){this._=void 0}}function P$(t,e,n){return t instanceof Zh?function(s,i){const o={fields:{[OR]:{stringValue:DR},[jR]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&Iw(i)&&(i=tp(i)),i&&(o.fields[MR]=i),{mapValue:o}}(n,e):t instanceof lu?tN(t,e):t instanceof cu?nN(t,e):function(s,i){const o=eN(s,i),a=Z1(o)+Z1(s.Ae);return wy(o)&&wy(s.Ae)?ZR(a):Pw(s.serializer,a)}(t,e)}function k$(t,e,n){return t instanceof lu?tN(t,e):t instanceof cu?nN(t,e):n}function eN(t,e){return t instanceof ef?function(r){return wy(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Zh extends sp{}class lu extends sp{constructor(e){super(),this.elements=e}}function tN(t,e){const n=rN(e);for(const r of t.elements)n.some(s=>Fr(s,r))||n.push(r);return{arrayValue:{values:n}}}class cu extends sp{constructor(e){super(),this.elements=e}}function nN(t,e){let n=rN(e);for(const r of t.elements)n=n.filter(s=>!Fr(s,r));return{arrayValue:{values:n}}}class ef extends sp{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Z1(t){return lt(t.integerValue||t.doubleValue)}function rN(t){return Cw(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function D$(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof lu&&s instanceof lu||r instanceof cu&&s instanceof cu?Ya(r.elements,s.elements,Fr):r instanceof ef&&s instanceof ef?Fr(r.Ae,s.Ae):r instanceof Zh&&s instanceof Zh}(t.transform,e.transform)}class O${constructor(e,n){this.version=e,this.transformResults=n}}class rr{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new rr}static exists(e){return new rr(void 0,e)}static updateTime(e){return new rr(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Zd(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class ip{}function sN(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new kw(t.key,rr.none()):new Cu(t.key,t.data,rr.none());{const n=t.data,r=un.empty();let s=new xt(kt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Vi(t.key,r,new _n(s.toArray()),rr.none())}}function M$(t,e,n){t instanceof Cu?function(s,i,o){const a=s.value.clone(),l=tE(s.fieldTransforms,i,o.transformResults);a.setAll(l),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Vi?function(s,i,o){if(!Zd(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=tE(s.fieldTransforms,i,o.transformResults),l=i.data;l.setAll(iN(s)),l.setAll(a),i.convertToFoundDocument(o.version,l).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Tc(t,e,n,r){return t instanceof Cu?function(i,o,a,l){if(!Zd(i.precondition,o))return a;const d=i.value.clone(),h=nE(i.fieldTransforms,l,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Vi?function(i,o,a,l){if(!Zd(i.precondition,o))return a;const d=nE(i.fieldTransforms,l,o),h=o.data;return h.setAll(iN(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return Zd(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function j$(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=eN(r.transform,s||null);i!=null&&(n===null&&(n=un.empty()),n.set(r.field,i))}return n||null}function eE(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&Ya(r,s,(i,o)=>D$(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Cu extends ip{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Vi extends ip{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function iN(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function tE(t,e,n){const r=new Map;Ve(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,k$(o,a,n[s]))}return r}function nE(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,P$(i,o,e))}return r}class kw extends ip{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class L$ extends ip{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class V${constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&M$(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Tc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Tc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=JR();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const l=sN(o,a);l!==null&&r.set(s.key,l),o.isValidDocument()||o.convertToNoDocument(fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Ce())}isEqual(e){return this.batchId===e.batchId&&Ya(this.mutations,e.mutations,(n,r)=>eE(n,r))&&Ya(this.baseMutations,e.baseMutations,(n,r)=>eE(n,r))}}class Dw{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ve(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return I$}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new Dw(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let F$=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U${constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var dt,Pe;function $$(t){switch(t){case z.OK:return de(64938);case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0;default:return de(15467,{code:t})}}function oN(t){if(t===void 0)return ps("GRPC error has no .code"),z.UNKNOWN;switch(t){case dt.OK:return z.OK;case dt.CANCELLED:return z.CANCELLED;case dt.UNKNOWN:return z.UNKNOWN;case dt.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case dt.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case dt.INTERNAL:return z.INTERNAL;case dt.UNAVAILABLE:return z.UNAVAILABLE;case dt.UNAUTHENTICATED:return z.UNAUTHENTICATED;case dt.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case dt.NOT_FOUND:return z.NOT_FOUND;case dt.ALREADY_EXISTS:return z.ALREADY_EXISTS;case dt.PERMISSION_DENIED:return z.PERMISSION_DENIED;case dt.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case dt.ABORTED:return z.ABORTED;case dt.OUT_OF_RANGE:return z.OUT_OF_RANGE;case dt.UNIMPLEMENTED:return z.UNIMPLEMENTED;case dt.DATA_LOSS:return z.DATA_LOSS;default:return de(39323,{code:t})}}(Pe=dt||(dt={}))[Pe.OK=0]="OK",Pe[Pe.CANCELLED=1]="CANCELLED",Pe[Pe.UNKNOWN=2]="UNKNOWN",Pe[Pe.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Pe[Pe.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Pe[Pe.NOT_FOUND=5]="NOT_FOUND",Pe[Pe.ALREADY_EXISTS=6]="ALREADY_EXISTS",Pe[Pe.PERMISSION_DENIED=7]="PERMISSION_DENIED",Pe[Pe.UNAUTHENTICATED=16]="UNAUTHENTICATED",Pe[Pe.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Pe[Pe.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Pe[Pe.ABORTED=10]="ABORTED",Pe[Pe.OUT_OF_RANGE=11]="OUT_OF_RANGE",Pe[Pe.UNIMPLEMENTED=12]="UNIMPLEMENTED",Pe[Pe.INTERNAL=13]="INTERNAL",Pe[Pe.UNAVAILABLE=14]="UNAVAILABLE",Pe[Pe.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function B$(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z$=new gi([4294967295,4294967295],0);function rE(t){const e=B$().encode(t),n=new xR;return n.update(e),new Uint8Array(n.digest())}function sE(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new gi([n,r],0),new gi([s,i],0)]}class Ow{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new ic(`Invalid padding: ${n}`);if(r<0)throw new ic(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new ic(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new ic(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=gi.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(gi.fromNumber(r)));return s.compare(z$)===1&&(s=new gi([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=rE(e),[r,s]=sE(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new Ow(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=rE(e),[r,s]=sE(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class ic extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class op{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Ru.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new op(fe.min(),s,new nt(Ie),ms(),Ce())}}class Ru{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Ru(r,n,Ce(),Ce(),Ce())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class eh{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=s}}class aN{constructor(e,n){this.targetId=e,this.Ce=n}}class lN{constructor(e,n,r=jt.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class iE{constructor(){this.ve=0,this.Fe=oE(),this.Me=jt.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Ce(),n=Ce(),r=Ce();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:de(38017,{changeType:i})}}),new Ru(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=oE()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ve(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class H${constructor(e){this.Ge=e,this.ze=new Map,this.je=ms(),this.He=_d(),this.Je=_d(),this.Ze=new nt(Ie)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:de(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(_y(i))if(r===0){const o=new ae(i.path);this.et(n,o,Ht.newNoDocument(o,fe.min()))}else Ve(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),l=a?this.ct(a,e,o):1;if(l!==0){this.it(n);const d=l===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Ii(r).toUint8Array()}catch(l){if(l instanceof kR)return To("Decoding the base64 bloom filter in existence filter failed ("+l.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw l}try{a=new Ow(o,s,i)}catch(l){return To(l instanceof ic?"BloomFilter error: ":"Applying bloom filter failed: ",l),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&_y(a.target)){const l=new ae(a.target.path);this.It(l).has(o)||this.Et(o,l)||this.et(o,l,Ht.newNoDocument(l,e))}i.Be&&(n.set(o,i.ke()),i.Ke())}});let r=Ce();this.Je.forEach((i,o)=>{let a=!0;o.forEachWhile(l=>{const d=this.ot(l);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new op(e,n,this.Ze,this.je,r);return this.je=ms(),this.He=_d(),this.Je=_d(),this.Ze=new nt(Ie),s}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.qe(n,1):s.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new iE,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new xt(Ie),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new xt(Ie),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||ne("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new iE),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function _d(){return new nt(ae.comparator)}function oE(){return new nt(ae.comparator)}const W$={asc:"ASCENDING",desc:"DESCENDING"},q$={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},K$={and:"AND",or:"OR"};class G${constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function Ty(t,e){return t.useProto3Json||ep(e)?e:{value:e}}function tf(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function cN(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Q$(t,e){return tf(t,e.toTimestamp())}function Mr(t){return Ve(!!t,49232),fe.fromTimestamp(function(n){const r=Si(n);return new Ke(r.seconds,r.nanos)}(t))}function Mw(t,e){return Sy(t,e).canonicalString()}function Sy(t,e){const n=function(s){return new Be(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function uN(t){const e=Be.fromString(t);return Ve(mN(e),10190,{key:e.toString()}),e}function Iy(t,e){return Mw(t.databaseId,e.path)}function jm(t,e){const n=uN(e);if(n.get(1)!==t.databaseId.projectId)throw new te(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new ae(hN(n))}function dN(t,e){return Mw(t.databaseId,e)}function Y$(t){const e=uN(t);return e.length===4?Be.emptyPath():hN(e)}function Cy(t){return new Be(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function hN(t){return Ve(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function aE(t,e,n){return{name:Iy(t,e),fields:n.value.mapValue.fields}}function X$(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:de(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(Ve(h===void 0||typeof h=="string",58123),jt.fromBase64String(h||"")):(Ve(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),jt.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){const h=d.code===void 0?z.UNKNOWN:oN(d.code);return new te(h,d.message||"")}(o);n=new lN(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=jm(t,r.document.name),i=Mr(r.document.updateTime),o=r.document.createTime?Mr(r.document.createTime):fe.min(),a=new un({mapValue:{fields:r.document.fields}}),l=Ht.newFoundDocument(s,i,o,a),d=r.targetIds||[],h=r.removedTargetIds||[];n=new eh(d,h,l.key,l)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=jm(t,r.document),i=r.readTime?Mr(r.readTime):fe.min(),o=Ht.newNoDocument(s,i),a=r.removedTargetIds||[];n=new eh([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=jm(t,r.document),i=r.removedTargetIds||[];n=new eh([],i,s,null)}else{if(!("filter"in e))return de(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new U$(s,i),a=r.targetId;n=new aN(a,o)}}return n}function J$(t,e){let n;if(e instanceof Cu)n={update:aE(t,e.key,e.value)};else if(e instanceof kw)n={delete:Iy(t,e.key)};else if(e instanceof Vi)n={update:aE(t,e.key,e.data),updateMask:aB(e.fieldMask)};else{if(!(e instanceof L$))return de(16599,{dt:e.type});n={verify:Iy(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Zh)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof lu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof cu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof ef)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw de(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:Q$(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:de(27497)}(t,e.precondition)),n}function Z$(t,e){return t&&t.length>0?(Ve(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Mr(s.updateTime):Mr(i);return o.isEqual(fe.min())&&(o=Mr(i)),new O$(o,s.transformResults||[])}(n,e))):[]}function eB(t,e){return{documents:[dN(t,e.path)]}}function tB(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=dN(t,s);const i=function(d){if(d.length!==0)return pN(ur.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(h=>function(m){return{field:Jo(m.field),direction:sB(m.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=Ty(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:s}}function nB(t){let e=Y$(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ve(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const m=fN(f);return m instanceof ur&&zR(m)?m.getFilters():[m]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(m=>function(T){return new au(Zo(T.field),function(b){switch(b){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(m))}(n.orderBy));let a=null;n.limit&&(a=function(f){let m;return m=typeof f=="object"?f.value:f,ep(m)?null:m}(n.limit));let l=null;n.startAt&&(l=function(f){const m=!!f.before,g=f.values||[];return new Jh(g,m)}(n.startAt));let d=null;return n.endAt&&(d=function(f){const m=!f.before,g=f.values||[];return new Jh(g,m)}(n.endAt)),w$(e,s,o,i,a,"F",l,d)}function rB(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return de(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function fN(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=Zo(n.unaryFilter.field);return ft.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=Zo(n.unaryFilter.field);return ft.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=Zo(n.unaryFilter.field);return ft.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=Zo(n.unaryFilter.field);return ft.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return de(61313);default:return de(60726)}}(t):t.fieldFilter!==void 0?function(n){return ft.create(Zo(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return de(58110);default:return de(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return ur.create(n.compositeFilter.filters.map(r=>fN(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return de(1026)}}(n.compositeFilter.op))}(t):de(30097,{filter:t})}function sB(t){return W$[t]}function iB(t){return q$[t]}function oB(t){return K$[t]}function Jo(t){return{fieldPath:t.canonicalString()}}function Zo(t){return kt.fromServerFormat(t.fieldPath)}function pN(t){return t instanceof ft?function(n){if(n.op==="=="){if(G1(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NAN"}};if(K1(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(G1(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NOT_NAN"}};if(K1(n.value))return{unaryFilter:{field:Jo(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Jo(n.field),op:iB(n.op),value:n.value}}}(t):t instanceof ur?function(n){const r=n.getFilters().map(s=>pN(s));return r.length===1?r[0]:{compositeFilter:{op:oB(n.op),filters:r}}}(t):de(54877,{filter:t})}function aB(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function mN(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function gN(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri{constructor(e,n,r,s,i=fe.min(),o=fe.min(),a=jt.EMPTY_BYTE_STRING,l=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=l}withSequenceNumber(e){return new ri(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new ri(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new ri(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lB{constructor(e){this.yt=e}}function cB(t){const e=nB({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?by(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class uB{constructor(){this.Sn=new dB}addToCollectionParentIndex(e,n){return this.Sn.add(n),H.resolve()}getCollectionParents(e,n){return H.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return H.resolve()}deleteFieldIndex(e,n){return H.resolve()}deleteAllFieldIndexes(e){return H.resolve()}createTargetIndexes(e,n){return H.resolve()}getDocumentsMatchingTarget(e,n){return H.resolve(null)}getIndexType(e,n){return H.resolve(0)}getFieldIndexes(e,n){return H.resolve([])}getNextCollectionGroupToUpdate(e){return H.resolve(null)}getMinOffset(e,n){return H.resolve(Ti.min())}getMinOffsetFromCollectionGroup(e,n){return H.resolve(Ti.min())}updateCollectionGroup(e,n,r){return H.resolve()}updateIndexEntries(e,n){return H.resolve()}}class dB{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new xt(Be.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new xt(Be.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lE={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},yN=41943040;class ln{static withCacheSize(e){return new ln(e,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */ln.DEFAULT_COLLECTION_PERCENTILE=10,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ln.DEFAULT=new ln(yN,ln.DEFAULT_COLLECTION_PERCENTILE,ln.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ln.DISABLED=new ln(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Za{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new Za(0)}static ar(){return new Za(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cE="LruGarbageCollector",hB=1048576;function uE([t,e],[n,r]){const s=Ie(t,n);return s===0?Ie(e,r):s}class fB{constructor(e){this.Pr=e,this.buffer=new xt(uE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();uE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class pB{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){ne(cE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){El(n)?ne(cE,"Ignoring IndexedDB error during garbage collection: ",n):await _l(n)}await this.Ar(3e5)})}}class mB{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return H.resolve(Zf.ce);const r=new fB(n);return this.Vr.forEachTarget(e,s=>r.Er(s.sequenceNumber)).next(()=>this.Vr.mr(e,s=>r.Er(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(ne("LruGarbageCollector","Garbage collection skipped; disabled"),H.resolve(lE)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(ne("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),lE):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,s,i,o,a,l,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(ne("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,l=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(d=Date.now(),Yo()<=Te.DEBUG&&ne("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(l-a)+`ms
	Removed ${f} documents in `+(d-l)+`ms
Total Duration: ${d-h}ms`),H.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function gB(t,e){return new mB(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yB{constructor(){this.changes=new jo(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Ht.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?H.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vB{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wB{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Tc(r.mutation,s,_n.empty(),Ke.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Ce()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Ce()){const s=eo();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=sc();return i.forEach((a,l)=>{o=o.insert(a,l.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=eo();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Ce()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=ms();const o=bc(),a=function(){return bc()}();return n.forEach((l,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof Vi)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),Tc(h.mutation,d,h.mutation.getFieldMask(),Ke.now())):o.set(d.key,_n.empty())}),this.recalculateAndSaveOverlays(e,i).next(l=>(l.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>a.set(d,new vB(h,o.get(d)??null))),a))}recalculateAndSaveOverlays(e,n){const r=bc();let s=new nt((o,a)=>o-a),i=Ce();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(l=>{const d=n.get(l);if(d===null)return;let h=r.get(l)||_n.empty();h=a.applyToLocalView(d,h),r.set(l,h);const f=(s.get(a.batchId)||Ce()).add(l);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const l=a.getNext(),d=l.key,h=l.value,f=JR();h.forEach(m=>{if(!i.has(m)){const g=sN(n.get(m),r.get(m));g!==null&&f.set(m,g),i=i.add(m)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,f))}return H.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return x$(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):KR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):H.resolve(eo());let a=ru,l=i;return o.next(d=>H.forEach(d,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?H.resolve():this.remoteDocumentCache.getEntry(e,h).next(m=>{l=l.insert(h,m)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,l,d,Ce())).next(h=>({batchId:a,changes:XR(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new ae(n)).next(r=>{let s=sc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=sc();return this.indexManager.getCollectionParents(e,i).next(a=>H.forEach(a,l=>{const d=function(f,m){return new bl(m,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,l.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((f,m)=>{o=o.insert(f,m)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((l,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,Ht.newInvalidDocument(h)))});let a=sc();return o.forEach((l,d)=>{const h=i.get(l);h!==void 0&&Tc(h.mutation,d,_n.empty(),Ke.now()),rp(n,d)&&(a=a.insert(l,d))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class xB{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return H.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Mr(s.createTime)}}(n)),H.resolve()}getNamedQuery(e,n){return H.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(s){return{name:s.name,query:cB(s.bundledQuery),readTime:Mr(s.readTime)}}(n)),H.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _B{constructor(){this.overlays=new nt(ae.comparator),this.Lr=new Map}getOverlay(e,n){return H.resolve(this.overlays.get(n))}getOverlays(e,n){const r=eo();return H.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.bt(e,n,i)}),H.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Lr.delete(r)),H.resolve()}getOverlaysForCollection(e,n,r){const s=eo(),i=n.length+1,o=new ae(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const l=a.getNext().value,d=l.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&l.largestBatchId>r&&s.set(l.getKey(),l)}return H.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new nt((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=eo(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const a=eo(),l=i.getIterator();for(;l.hasNext()&&(l.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=s)););return H.resolve(a)}bt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new F$(n,r));let i=this.Lr.get(n);i===void 0&&(i=Ce(),this.Lr.set(n,i)),this.Lr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class EB{constructor(){this.sessionToken=jt.EMPTY_BYTE_STRING}getSessionToken(e){return H.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,H.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jw{constructor(){this.kr=new xt(St.Kr),this.qr=new xt(St.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new St(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new St(e,n))}Qr(e,n){e.forEach(r=>this.removeReference(r,n))}Gr(e){const n=new ae(new Be([])),r=new St(n,e),s=new St(n,e+1),i=[];return this.qr.forEachInRange([r,s],o=>{this.Wr(o),i.push(o.key)}),i}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new ae(new Be([])),r=new St(n,e),s=new St(n,e+1);let i=Ce();return this.qr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new St(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class St{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return ae.comparator(e.key,n.key)||Ie(e.Hr,n.Hr)}static Ur(e,n){return Ie(e.Hr,n.Hr)||ae.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bB{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new xt(St.Kr)}checkEmpty(e){return H.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new V$(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Jr=this.Jr.add(new St(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return H.resolve(o)}lookupMutationBatch(e,n){return H.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),i=s<0?0:s;return H.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return H.resolve(this.mutationQueue.length===0?Sw:this.Yn-1)}getAllMutationBatches(e){return H.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new St(n,0),s=new St(n,Number.POSITIVE_INFINITY),i=[];return this.Jr.forEachInRange([r,s],o=>{const a=this.Zr(o.Hr);i.push(a)}),H.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new xt(Ie);return n.forEach(s=>{const i=new St(s,0),o=new St(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([i,o],a=>{r=r.add(a.Hr)})}),H.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;ae.isDocumentKey(i)||(i=i.child(""));const o=new St(new ae(i),0);let a=new xt(Ie);return this.Jr.forEachWhile(l=>{const d=l.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(a=a.add(l.Hr)),!0)},o),H.resolve(this.Yr(a))}Yr(e){const n=[];return e.forEach(r=>{const s=this.Zr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ve(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return H.forEach(n.mutations,s=>{const i=new St(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Jr=r})}nr(e){}containsKey(e,n){const r=new St(n,0),s=this.Jr.firstAfterOrEqual(r);return H.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,H.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class TB{constructor(e){this.ti=e,this.docs=function(){return new nt(ae.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return H.resolve(r?r.document.mutableCopy():Ht.newInvalidDocument(n))}getEntries(e,n){let r=ms();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Ht.newInvalidDocument(s))}),H.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=ms();const o=n.path,a=new ae(o.child("__id-9223372036854775808__")),l=this.docs.getIteratorFrom(a);for(;l.hasNext();){const{key:d,value:{document:h}}=l.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||XU(YU(h),r)<=0||(s.has(h.key)||rp(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return H.resolve(i)}getAllFromCollectionGroup(e,n,r,s){de(9500)}ni(e,n){return H.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new SB(this)}getSize(e){return H.resolve(this.size)}}class SB extends yB{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(r)}),H.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class IB{constructor(e){this.persistence=e,this.ri=new jo(n=>Rw(n),Nw),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.ii=0,this.si=new jw,this.targetCount=0,this.oi=Za._r()}forEachTarget(e,n){return this.ri.forEach((r,s)=>n(s)),H.resolve()}getLastRemoteSnapshotVersion(e){return H.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return H.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),H.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),H.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new Za(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,H.resolve()}updateTargetData(e,n){return this.lr(n),H.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,H.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.ri.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ri.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),H.waitFor(i).next(()=>s)}getTargetCount(e){return H.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return H.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),H.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),H.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),H.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return H.resolve(r)}containsKey(e,n){return H.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vN{constructor(e,n){this._i={},this.overlays={},this.ai=new Zf(0),this.ui=!1,this.ui=!0,this.ci=new EB,this.referenceDelegate=e(this),this.li=new IB(this),this.indexManager=new uB,this.remoteDocumentCache=function(s){return new TB(s)}(r=>this.referenceDelegate.hi(r)),this.serializer=new lB(n),this.Pi=new xB(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new _B,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new bB(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){ne("MemoryPersistence","Starting transaction:",e);const s=new CB(this.ai.next());return this.referenceDelegate.Ti(),r(s).next(i=>this.referenceDelegate.Ii(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ei(e,n){return H.or(Object.values(this._i).map(r=>()=>r.containsKey(e,n)))}}class CB extends ZU{constructor(e){super(),this.currentSequenceNumber=e}}class Lw{constructor(e){this.persistence=e,this.Ri=new jw,this.Ai=null}static Vi(e){return new Lw(e)}get di(){if(this.Ai)return this.Ai;throw de(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),H.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),H.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),H.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(s=>this.di.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.di.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return H.forEach(this.di,r=>{const s=ae.fromPath(r);return this.mi(e,s).next(i=>{i||n.removeEntry(s,fe.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return H.or([()=>H.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class nf{constructor(e,n){this.persistence=e,this.fi=new jo(r=>n$(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=gB(this,n)}static Vi(e,n){return new nf(e,n)}Ti(){}Ii(e){return H.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}pr(e){let n=0;return this.mr(e,r=>{n++}).next(()=>n)}mr(e,n){return H.forEach(this.fi,(r,s)=>this.wr(e,r,s).next(i=>i?H.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ni(e,o=>this.wr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,fe.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),H.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),H.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),H.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),H.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Xd(e.data.value)),n}wr(e,n,r){return H.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.fi.get(n);return H.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vw{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=s}static Es(e,n){let r=Ce(),s=Ce();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Vw(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class RB{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NB{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return OF()?8:e$(qt())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.gs(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ps(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new RB;return this.ys(e,n,o).next(a=>{if(i.result=a,this.As)return this.ws(e,n,o,a.size)})}).next(()=>i.result)}ws(e,n,r,s){return r.documentReadCount<this.Vs?(Yo()<=Te.DEBUG&&ne("QueryEngine","SDK will not create cache indexes for query:",Xo(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),H.resolve()):(Yo()<=Te.DEBUG&&ne("QueryEngine","Query:",Xo(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(Yo()<=Te.DEBUG&&ne("QueryEngine","The SDK decides to create cache indexes for query:",Xo(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Or(n))):H.resolve())}gs(e,n){if(J1(n))return H.resolve(null);let r=Or(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=by(n,null,"F"),r=Or(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Ce(...i);return this.fs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(l=>{const d=this.bs(n,a);return this.Ss(n,d,o,l.readTime)?this.gs(e,by(n,null,"F")):this.Ds(e,d,n,l)}))})))}ps(e,n,r,s){return J1(n)||s.isEqual(fe.min())?H.resolve(null):this.fs.getDocuments(e,r).next(i=>{const o=this.bs(n,i);return this.Ss(n,o,r,s)?H.resolve(null):(Yo()<=Te.DEBUG&&ne("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),Xo(n)),this.Ds(e,o,n,QU(s,ru)).next(a=>a))})}bs(e,n){let r=new xt(QR(e));return n.forEach((s,i)=>{rp(e,i)&&(r=r.add(i))}),r}Ss(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ys(e,n,r){return Yo()<=Te.DEBUG&&ne("QueryEngine","Using full collection scan to execute query:",Xo(n)),this.fs.getDocumentsMatchingQuery(e,n,Ti.min(),r)}Ds(e,n,r,s){return this.fs.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Fw="LocalStore",AB=3e8;class PB{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.vs=new nt(Ie),this.Fs=new jo(i=>Rw(i),Nw),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new wB(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function kB(t,e,n,r){return new PB(t,e,n,r)}async function wN(t,e){const n=pe(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Os(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let l=Ce();for(const d of s){o.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}for(const d of i){a.push(d.batchId);for(const h of d.mutations)l=l.add(h.key)}return n.localDocuments.getDocuments(r,l).next(d=>({Ns:d,removedBatchIds:o,addedBatchIds:a}))})})}function DB(t,e){const n=pe(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.xs.newChangeBuffer({trackRemovals:!0});return function(a,l,d,h){const f=d.batch,m=f.keys();let g=H.resolve();return m.forEach(T=>{g=g.next(()=>h.getEntry(l,T)).next(v=>{const b=d.docVersions.get(T);Ve(b!==null,48541),v.version.compareTo(b)<0&&(f.applyToRemoteDocument(v,d),v.isValidDocument()&&(v.setReadTime(d.commitVersion),h.addEntry(v)))})}),g.next(()=>a.mutationQueue.removeMutationBatch(l,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let l=Ce();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(l=l.add(a.batch.mutations[d].key));return l}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function xN(t){const e=pe(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function OB(t,e){const n=pe(t),r=e.snapshotVersion;let s=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.xs.newChangeBuffer({trackRemovals:!0});s=n.vs;const a=[];e.targetChanges.forEach((h,f)=>{const m=s.get(f);if(!m)return;a.push(n.li.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.li.addMatchingKeys(i,h.addedDocuments,f)));let g=m.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?g=g.withResumeToken(jt.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):h.resumeToken.approximateByteSize()>0&&(g=g.withResumeToken(h.resumeToken,r)),s=s.insert(f,g),function(v,b,_){return v.resumeToken.approximateByteSize()===0||b.snapshotVersion.toMicroseconds()-v.snapshotVersion.toMicroseconds()>=AB?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(m,g,h)&&a.push(n.li.updateTargetData(i,g))});let l=ms(),d=Ce();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(MB(i,o,e.documentUpdates).next(h=>{l=h.Bs,d=h.Ls})),!r.isEqual(fe.min())){const h=n.li.getLastRemoteSnapshotVersion(i).next(f=>n.li.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return H.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,l,d)).next(()=>l)}).then(i=>(n.vs=s,i))}function MB(t,e,n){let r=Ce(),s=Ce();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=ms();return n.forEach((a,l)=>{const d=i.get(a);l.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(a)),l.isNoDocument()&&l.version.isEqual(fe.min())?(e.removeEntry(a,l.readTime),o=o.insert(a,l)):!d.isValidDocument()||l.version.compareTo(d.version)>0||l.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(l),o=o.insert(a,l)):ne(Fw,"Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",l.version)}),{Bs:o,Ls:s}})}function jB(t,e){const n=pe(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=Sw),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function LB(t,e){const n=pe(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.li.getTargetData(r,e).next(i=>i?(s=i,H.resolve(s)):n.li.allocateTargetId(r).next(o=>(s=new ri(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r})}async function Ry(t,e,n){const r=pe(t),s=r.vs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!El(o))throw o;ne(Fw,`Failed to update sequence numbers for target ${e}: ${o}`)}r.vs=r.vs.remove(e),r.Fs.delete(s.target)}function dE(t,e,n){const r=pe(t);let s=fe.min(),i=Ce();return r.persistence.runTransaction("Execute query","readwrite",o=>function(l,d,h){const f=pe(l),m=f.Fs.get(h);return m!==void 0?H.resolve(f.vs.get(m)):f.li.getTargetData(d,h)}(r,o,Or(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(o,a.targetId).next(l=>{i=l})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?s:fe.min(),n?i:Ce())).next(a=>(VB(r,b$(e),a),{documents:a,ks:i})))}function VB(t,e,n){let r=t.Ms.get(e)||fe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ms.set(e,r)}class hE{constructor(){this.activeTargetIds=N$()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class FB{constructor(){this.vo=new hE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new hE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class UB{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fE="ConnectivityMonitor";class pE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){ne(fE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){ne(fE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Ed=null;function Ny(){return Ed===null?Ed=function(){return 268435456+Math.round(2147483648*Math.random())}():Ed++,"0x"+Ed.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Lm="RestConnection",$B={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class BB{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===Yh?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,i){const o=Ny(),a=this.Qo(e,n.toUriEncodedString());ne(Lm,`Sending RPC '${e}' ${o}:`,a,r);const l={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(l,s,i);const{host:d}=new URL(a),h=gl(d);return this.zo(e,a,l,r,h).then(f=>(ne(Lm,`Received RPC '${e}' ${o}: `,f),f),f=>{throw To(Lm,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}jo(e,n,r,s,i,o){return this.Wo(e,n,r,s,i)}Go(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+xl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}Qo(e,n){const r=$B[e];let s=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class zB{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ut="WebChannelConnection",Yl=(t,e,n)=>{t.listen(e,r=>{try{n(r)}catch(s){setTimeout(()=>{throw s},0)}})};class Ia extends BB{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Ia.c_){const e=TR();Yl(e,bR.STAT_EVENT,n=>{n.stat===gy.PROXY?ne(Ut,"STAT_EVENT: detected buffering proxy"):n.stat===gy.NOPROXY&&ne(Ut,"STAT_EVENT: detected no buffering proxy")}),Ia.c_=!0}}zo(e,n,r,s,i){const o=Ny();return new Promise((a,l)=>{const d=new _R;d.setWithCredentials(!0),d.listenOnce(ER.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case Yd.NO_ERROR:const f=d.getResponseJson();ne(Ut,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case Yd.TIMEOUT:ne(Ut,`RPC '${e}' ${o} timed out`),l(new te(z.DEADLINE_EXCEEDED,"Request time out"));break;case Yd.HTTP_ERROR:const m=d.getStatus();if(ne(Ut,`RPC '${e}' ${o} failed with status:`,m,"response text:",d.getResponseText()),m>0){let g=d.getResponseJson();Array.isArray(g)&&(g=g[0]);const T=g==null?void 0:g.error;if(T&&T.status&&T.message){const v=function(_){const w=_.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(w)>=0?w:z.UNKNOWN}(T.status);l(new te(v,T.message))}else l(new te(z.UNKNOWN,"Server responded with status "+d.getStatus()))}else l(new te(z.UNAVAILABLE,"Connection failed."));break;default:de(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{ne(Ut,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);ne(Ut,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",h,r,15)})}T_(e,n,r){const s=Ny(),i=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=this.createWebChannelTransport(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},l=this.longPollingOptions.timeoutSeconds;l!==void 0&&(a.longPollingTimeout=Math.round(1e3*l)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Go(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const d=i.join("");ne(Ut,`Creating RPC '${e}' stream ${s}: ${d}`,a);const h=o.createWebChannel(d,a);this.I_(h);let f=!1,m=!1;const g=new zB({Ho:T=>{m?ne(Ut,`Not sending because RPC '${e}' stream ${s} is closed:`,T):(f||(ne(Ut,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),ne(Ut,`RPC '${e}' stream ${s} sending:`,T),h.send(T))},Jo:()=>h.close()});return Yl(h,rc.EventType.OPEN,()=>{m||(ne(Ut,`RPC '${e}' stream ${s} transport opened.`),g.i_())}),Yl(h,rc.EventType.CLOSE,()=>{m||(m=!0,ne(Ut,`RPC '${e}' stream ${s} transport closed`),g.o_(),this.E_(h))}),Yl(h,rc.EventType.ERROR,T=>{m||(m=!0,To(Ut,`RPC '${e}' stream ${s} transport errored. Name:`,T.name,"Message:",T.message),g.o_(new te(z.UNAVAILABLE,"The operation could not be completed")))}),Yl(h,rc.EventType.MESSAGE,T=>{var v;if(!m){const b=T.data[0];Ve(!!b,16349);const _=b,w=(_==null?void 0:_.error)||((v=_[0])==null?void 0:v.error);if(w){ne(Ut,`RPC '${e}' stream ${s} received error:`,w);const x=w.status;let A=function(I){const S=dt[I];if(S!==void 0)return oN(S)}(x),O=w.message;x==="NOT_FOUND"&&O.includes("database")&&O.includes("does not exist")&&O.includes(this.databaseId.database)&&To(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),A===void 0&&(A=z.INTERNAL,O="Unknown error status: "+x+" with message "+w.message),m=!0,g.o_(new te(A,O)),h.close()}else ne(Ut,`RPC '${e}' stream ${s} received:`,b),g.__(b)}}),Ia.u_(),setTimeout(()=>{g.s_()},0),g}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return SR()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function HB(t){return new Ia(t)}function Vm(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ap(t){return new G$(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ia.c_=!1;class _N{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=s,this.V_=i,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&ne("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mE="PersistentStream";class EN{constructor(e,n,r,s,i,o,a,l){this.Ci=e,this.b_=r,this.S_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=l,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new _N(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(ps(n.toString()),ps("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new te(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.H_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return ne(mE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(ne(mE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class WB extends EN{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=X$(this.serializer,e),r=function(i){if(!("targetChange"in i))return fe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?fe.min():o.readTime?Mr(o.readTime):fe.min()}(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=Cy(this.serializer),n.addTarget=function(i,o){let a;const l=o.target;if(a=_y(l)?{documents:eB(i,l)}:{query:tB(i,l).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=cN(i,o.resumeToken);const d=Ty(i,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(fe.min())>0){a.readTime=tf(i,o.snapshotVersion.toTimestamp());const d=Ty(i,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);const r=rB(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=Cy(this.serializer),n.removeTarget=e,this.K_(n)}}class qB extends EN{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Z$(e.writeResults,e.commitTime),r=Mr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=Cy(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>J$(this.serializer,r))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KB{}class GB extends KB{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new te(z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Wo(e,Sy(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new te(z.UNKNOWN,i.toString())})}jo(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.jo(e,Sy(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new te(z.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function QB(t,e,n,r){return new GB(t,e,n,r)}class YB{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(ps(n),this.aa=!1):ne("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const So="RemoteStore";class XB{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=i,this.Aa.Mo(o=>{r.enqueueAndForget(async()=>{Lo(this)&&(ne(So,"Restarting streams for network reachability change."),await async function(l){const d=pe(l);d.Ea.add(4),await Nu(d),d.Va.set("Unknown"),d.Ea.delete(4),await lp(d)}(this))})}),this.Va=new YB(r,s)}}async function lp(t){if(Lo(t))for(const e of t.Ra)await e(!0)}async function Nu(t){for(const e of t.Ra)await e(!1)}function bN(t,e){const n=pe(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),zw(n)?Bw(n):Tl(n).O_()&&$w(n,e))}function Uw(t,e){const n=pe(t),r=Tl(n);n.Ia.delete(e),r.O_()&&TN(n,e),n.Ia.size===0&&(r.O_()?r.L_():Lo(n)&&n.Va.set("Unknown"))}function $w(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Tl(t).Z_(e)}function TN(t,e){t.da.$e(e),Tl(t).X_(e)}function Bw(t){t.da=new H$({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Tl(t).start(),t.Va.ua()}function zw(t){return Lo(t)&&!Tl(t).x_()&&t.Ia.size>0}function Lo(t){return pe(t).Ea.size===0}function SN(t){t.da=void 0}async function JB(t){t.Va.set("Online")}async function ZB(t){t.Ia.forEach((e,n)=>{$w(t,e)})}async function ez(t,e){SN(t),zw(t)?(t.Va.ha(e),Bw(t)):t.Va.set("Unknown")}async function tz(t,e,n){if(t.Va.set("Online"),e instanceof lN&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.da.removeTarget(a))}(t,e)}catch(r){ne(So,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await rf(t,r)}else if(e instanceof eh?t.da.Xe(e):e instanceof aN?t.da.st(e):t.da.tt(e),!n.isEqual(fe.min()))try{const r=await xN(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.da.Tt(o);return a.targetChanges.forEach((l,d)=>{if(l.resumeToken.approximateByteSize()>0){const h=i.Ia.get(d);h&&i.Ia.set(d,h.withResumeToken(l.resumeToken,o))}}),a.targetMismatches.forEach((l,d)=>{const h=i.Ia.get(l);if(!h)return;i.Ia.set(l,h.withResumeToken(jt.EMPTY_BYTE_STRING,h.snapshotVersion)),TN(i,l);const f=new ri(h.target,l,d,h.sequenceNumber);$w(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){ne(So,"Failed to raise snapshot:",r),await rf(t,r)}}async function rf(t,e,n){if(!El(e))throw e;t.Ea.add(1),await Nu(t),t.Va.set("Offline"),n||(n=()=>xN(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{ne(So,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await lp(t)})}function IN(t,e){return e().catch(n=>rf(t,n,e))}async function cp(t){const e=pe(t),n=Ri(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:Sw;for(;nz(e);)try{const s=await jB(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,rz(e,s)}catch(s){await rf(e,s)}CN(e)&&RN(e)}function nz(t){return Lo(t)&&t.Ta.length<10}function rz(t,e){t.Ta.push(e);const n=Ri(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function CN(t){return Lo(t)&&!Ri(t).x_()&&t.Ta.length>0}function RN(t){Ri(t).start()}async function sz(t){Ri(t).ra()}async function iz(t){const e=Ri(t);for(const n of t.Ta)e.ea(n.mutations)}async function oz(t,e,n){const r=t.Ta.shift(),s=Dw.from(r,e,n);await IN(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await cp(t)}async function az(t,e){e&&Ri(t).Y_&&await async function(r,s){if(function(o){return $$(o)&&o!==z.ABORTED}(s.code)){const i=r.Ta.shift();Ri(r).B_(),await IN(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await cp(r)}}(t,e),CN(t)&&RN(t)}async function gE(t,e){const n=pe(t);n.asyncQueue.verifyOperationInProgress(),ne(So,"RemoteStore received new credentials");const r=Lo(n);n.Ea.add(3),await Nu(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await lp(n)}async function lz(t,e){const n=pe(t);e?(n.Ea.delete(2),await lp(n)):e||(n.Ea.add(2),await Nu(n),n.Va.set("Unknown"))}function Tl(t){return t.ma||(t.ma=function(n,r,s){const i=pe(n);return i.sa(),new WB(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:JB.bind(null,t),Yo:ZB.bind(null,t),t_:ez.bind(null,t),J_:tz.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),zw(t)?Bw(t):t.Va.set("Unknown")):(await t.ma.stop(),SN(t))})),t.ma}function Ri(t){return t.fa||(t.fa=function(n,r,s){const i=pe(n);return i.sa(),new qB(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:sz.bind(null,t),t_:az.bind(null,t),ta:iz.bind(null,t),na:oz.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await cp(t)):(await t.fa.stop(),t.Ta.length>0&&(ne(So,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Hw{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new co,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Hw(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ww(t,e){if(ps("AsyncQueue",`${e}: ${t}`),El(t))return new te(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ca{static emptySet(e){return new Ca(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||ae.comparator(n.key,r.key):(n,r)=>ae.comparator(n.key,r.key),this.keyedMap=sc(),this.sortedSet=new nt(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof Ca)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new Ca;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class yE{constructor(){this.ga=new nt(ae.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):de(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class el{constructor(e,n,r,s,i,o,a,l,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=l,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new el(e,n,Ca.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&np(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class cz{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class uz{constructor(){this.queries=vE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=pe(n),i=s.queries;s.queries=vE(),i.forEach((o,a)=>{for(const l of a.ba)l.onError(r)})})(this,new te(z.ABORTED,"Firestore shutting down"))}}function vE(){return new jo(t=>GR(t),np)}async function dz(t,e){const n=pe(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Sa()&&e.Da()&&(r=2):(i=new cz,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Ww(o,`Initialization of query '${Xo(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.ba.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&qw(n)}async function hz(t,e){const n=pe(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ba.indexOf(e);o>=0&&(i.ba.splice(o,1),i.ba.length===0?s=e.Da()?0:1:!i.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function fz(t,e){const n=pe(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.ba)a.Fa(s)&&(r=!0);o.wa=s}}r&&qw(n)}function pz(t,e,n){const r=pe(t),s=r.queries.get(e);if(s)for(const i of s.ba)i.onError(n);r.queries.delete(e)}function qw(t){t.Ca.forEach(e=>{e.next()})}var Ay,wE;(wE=Ay||(Ay={})).Ma="default",wE.Cache="cache";class mz{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new el(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=el.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==Ay.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NN{constructor(e){this.key=e}}class AN{constructor(e){this.key=e}}class gz{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Ce(),this.mutatedKeys=Ce(),this.eu=QR(e),this.tu=new Ca(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new yE,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const l=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const m=s.get(h),g=rp(this.query,f)?f:null,T=!!m&&this.mutatedKeys.has(m.key),v=!!g&&(g.hasLocalMutations||this.mutatedKeys.has(g.key)&&g.hasCommittedMutations);let b=!1;m&&g?m.data.isEqual(g.data)?T!==v&&(r.track({type:3,doc:g}),b=!0):this.su(m,g)||(r.track({type:2,doc:g}),b=!0,(l&&this.eu(g,l)>0||d&&this.eu(g,d)<0)&&(a=!0)):!m&&g?(r.track({type:0,doc:g}),b=!0):m&&!g&&(r.track({type:1,doc:m}),b=!0,(l||d)&&(a=!0)),b&&(g?(o=o.add(g),i=v?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Ss:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(g,T){const v=b=>{switch(b){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return de(20277,{Vt:b})}};return v(g)-v(T)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],l=this.Ya.size===0&&this.current&&!s?1:0,d=l!==this.Xa;return this.Xa=l,o.length!==0||d?{snapshot:new el(this.query,e.tu,i,o,e.mutatedKeys,l===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new yE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Ce(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new AN(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new NN(r))}),n}cu(e){this.Za=e.ks,this.Ya=Ce();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return el.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const Kw="SyncEngine";class yz{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class vz{constructor(e){this.key=e,this.hu=!1}}class wz{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new jo(a=>GR(a),np),this.Iu=new Map,this.Eu=new Set,this.Ru=new nt(ae.comparator),this.Au=new Map,this.Vu=new jw,this.du={},this.mu=new Map,this.fu=Za.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function xz(t,e,n=!0){const r=jN(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await PN(r,e,n,!0),s}async function _z(t,e){const n=jN(t);await PN(n,e,!0,!1)}async function PN(t,e,n,r){const s=await LB(t.localStore,Or(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await Ez(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&bN(t.remoteStore,s),a}async function Ez(t,e,n,r,s){t.pu=(f,m,g)=>async function(v,b,_,w){let x=b.view.ru(_);x.Ss&&(x=await dE(v.localStore,b.query,!1).then(({documents:I})=>b.view.ru(I,x)));const A=w&&w.targetChanges.get(b.targetId),O=w&&w.targetMismatches.get(b.targetId)!=null,M=b.view.applyChanges(x,v.isPrimaryClient,A,O);return _E(v,b.targetId,M.au),M.snapshot}(t,f,m,g);const i=await dE(t.localStore,e,!0),o=new gz(e,i.ks),a=o.ru(i.documents),l=Ru.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(a,t.isPrimaryClient,l);_E(t,n,d.au);const h=new yz(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function bz(t,e,n){const r=pe(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!np(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await Ry(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Uw(r.remoteStore,s.targetId),Py(r,s.targetId)}).catch(_l)):(Py(r,s.targetId),await Ry(r.localStore,s.targetId,!0))}async function Tz(t,e){const n=pe(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Uw(n.remoteStore,r.targetId))}async function Sz(t,e,n){const r=kz(t);try{const s=await function(o,a){const l=pe(o),d=Ke.now(),h=a.reduce((g,T)=>g.add(T.key),Ce());let f,m;return l.persistence.runTransaction("Locally write mutations","readwrite",g=>{let T=ms(),v=Ce();return l.xs.getEntries(g,h).next(b=>{T=b,T.forEach((_,w)=>{w.isValidDocument()||(v=v.add(_))})}).next(()=>l.localDocuments.getOverlayedDocuments(g,T)).next(b=>{f=b;const _=[];for(const w of a){const x=j$(w,f.get(w.key).overlayedDocument);x!=null&&_.push(new Vi(w.key,x,UR(x.value.mapValue),rr.exists(!0)))}return l.mutationQueue.addMutationBatch(g,d,_,a)}).next(b=>{m=b;const _=b.applyToLocalDocumentSet(f,v);return l.documentOverlayCache.saveOverlays(g,b.batchId,_)})}).then(()=>({batchId:m.batchId,changes:XR(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,l){let d=o.du[o.currentUser.toKey()];d||(d=new nt(Ie)),d=d.insert(a,l),o.du[o.currentUser.toKey()]=d}(r,s.batchId,n),await Au(r,s.changes),await cp(r.remoteStore)}catch(s){const i=Ww(s,"Failed to persist write");n.reject(i)}}async function kN(t,e){const n=pe(t);try{const r=await OB(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Ve(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Ve(o.hu,14607):s.removedDocuments.size>0&&(Ve(o.hu,42227),o.hu=!1))}),await Au(n,r,e)}catch(r){await _l(r)}}function xE(t,e,n){const r=pe(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const l=pe(o);l.onlineState=a;let d=!1;l.queries.forEach((h,f)=>{for(const m of f.ba)m.va(a)&&(d=!0)}),d&&qw(l)}(r.eventManager,e),s.length&&r.Pu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Iz(t,e,n){const r=pe(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new nt(ae.comparator);o=o.insert(i,Ht.newNoDocument(i,fe.min()));const a=Ce().add(i),l=new op(fe.min(),new Map,new nt(Ie),o,a);await kN(r,l),r.Ru=r.Ru.remove(i),r.Au.delete(e),Gw(r)}else await Ry(r.localStore,e,!1).then(()=>Py(r,e,n)).catch(_l)}async function Cz(t,e){const n=pe(t),r=e.batch.batchId;try{const s=await DB(n.localStore,e);ON(n,r,null),DN(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await Au(n,s)}catch(s){await _l(s)}}async function Rz(t,e,n){const r=pe(t);try{const s=await function(o,a){const l=pe(o);return l.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return l.mutationQueue.lookupMutationBatch(d,a).next(f=>(Ve(f!==null,37113),h=f.keys(),l.mutationQueue.removeMutationBatch(d,f))).next(()=>l.mutationQueue.performConsistencyCheck(d)).next(()=>l.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>l.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>l.localDocuments.getDocuments(d,h))})}(r.localStore,e);ON(r,e,n),DN(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await Au(r,s)}catch(s){await _l(s)}}function DN(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function ON(t,e,n){const r=pe(t);let s=r.du[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.du[r.currentUser.toKey()]=s}}function Py(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(r=>{t.Vu.containsKey(r)||MN(t,r)})}function MN(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Uw(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Gw(t))}function _E(t,e,n){for(const r of n)r instanceof NN?(t.Vu.addReference(r.key,e),Nz(t,r)):r instanceof AN?(ne(Kw,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||MN(t,r.key)):de(19791,{wu:r})}function Nz(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(ne(Kw,"New document in limbo: "+n),t.Eu.add(r),Gw(t))}function Gw(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new ae(Be.fromString(e)),r=t.fu.next();t.Au.set(r,new vz(n)),t.Ru=t.Ru.insert(n,r),bN(t.remoteStore,new ri(Or(Aw(n.path)),r,"TargetPurposeLimboResolution",Zf.ce))}}async function Au(t,e,n){const r=pe(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,l)=>{o.push(r.pu(l,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(l.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(l.targetId,f?"current":"not-current")}if(d){s.push(d);const f=Vw.Es(l.targetId,d);i.push(f)}}))}),await Promise.all(o),r.Pu.J_(s),await async function(l,d){const h=pe(l);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>H.forEach(d,m=>H.forEach(m.Ts,g=>h.persistence.referenceDelegate.addReference(f,m.targetId,g)).next(()=>H.forEach(m.Is,g=>h.persistence.referenceDelegate.removeReference(f,m.targetId,g)))))}catch(f){if(!El(f))throw f;ne(Fw,"Failed to update sequence numbers: "+f)}for(const f of d){const m=f.targetId;if(!f.fromCache){const g=h.vs.get(m),T=g.snapshotVersion,v=g.withLastLimboFreeSnapshotVersion(T);h.vs=h.vs.insert(m,v)}}}(r.localStore,i))}async function Az(t,e){const n=pe(t);if(!n.currentUser.isEqual(e)){ne(Kw,"User change. New user:",e.toKey());const r=await wN(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(l=>{l.reject(new te(z.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await Au(n,r.Ns)}}function Pz(t,e){const n=pe(t),r=n.Au.get(e);if(r&&r.hu)return Ce().add(r.key);{let s=Ce();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function jN(t){const e=pe(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=kN.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Pz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Iz.bind(null,e),e.Pu.J_=fz.bind(null,e.eventManager),e.Pu.yu=pz.bind(null,e.eventManager),e}function kz(t){const e=pe(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Cz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Rz.bind(null,e),e}class sf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=ap(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return kB(this.persistence,new NB,e.initialUser,this.serializer)}Cu(e){return new vN(Lw.Vi,this.serializer)}Du(e){return new FB}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}sf.provider={build:()=>new sf};class Dz extends sf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ve(this.persistence.referenceDelegate instanceof nf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new pB(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?ln.withCacheSize(this.cacheSizeBytes):ln.DEFAULT;return new vN(r=>nf.Vi(r,n),this.serializer)}}class ky{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>xE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=Az.bind(null,this.syncEngine),await lz(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new uz}()}createDatastore(e){const n=ap(e.databaseInfo.databaseId),r=HB(e.databaseInfo);return QB(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new XB(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>xE(this.syncEngine,n,0),function(){return pE.v()?new pE:new UB}())}createSyncEngine(e,n){return function(s,i,o,a,l,d,h){const f=new wz(s,i,o,a,l,d);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=pe(s);ne(So,"RemoteStore shutting down."),i.Ea.add(5),await Nu(i),i.Aa.shutdown(),i.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}ky.provider={build:()=>new ky};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Oz{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):ps("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ni="FirestoreClient";class Mz{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=s,this.user=Bt.UNAUTHENTICATED,this.clientId=Tw.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{ne(Ni,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(ne(Ni,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new co;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ww(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function Fm(t,e){t.asyncQueue.verifyOperationInProgress(),ne(Ni,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await wN(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function EE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await jz(t);ne(Ni,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>gE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>gE(e.remoteStore,s)),t._onlineComponents=e}async function jz(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){ne(Ni,"Using user provided OfflineComponentProvider");try{await Fm(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===z.FAILED_PRECONDITION||s.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;To("Error using user provided cache. Falling back to memory cache: "+n),await Fm(t,new sf)}}else ne(Ni,"Using default OfflineComponentProvider"),await Fm(t,new Dz(void 0));return t._offlineComponents}async function LN(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(ne(Ni,"Using user provided OnlineComponentProvider"),await EE(t,t._uninitializedComponentsProvider._online)):(ne(Ni,"Using default OnlineComponentProvider"),await EE(t,new ky))),t._onlineComponents}function Lz(t){return LN(t).then(e=>e.syncEngine)}async function bE(t){const e=await LN(t),n=e.eventManager;return n.onListen=xz.bind(null,e.syncEngine),n.onUnlisten=bz.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=_z.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Tz.bind(null,e.syncEngine),n}function Vz(t,e,n,r){const s=new Oz(r),i=new mz(e,s,n);return t.asyncQueue.enqueueAndForget(async()=>dz(await bE(t),i)),()=>{s.Nu(),t.asyncQueue.enqueueAndForget(async()=>hz(await bE(t),i))}}function Fz(t,e){const n=new co;return t.asyncQueue.enqueueAndForget(async()=>Sz(await Lz(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VN(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uz="ComponentProvider",TE=new Map;function $z(t,e,n,r,s){return new i$(t,e,n,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,VN(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FN="firestore.googleapis.com",SE=!0;class IE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new te(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FN,this.ssl=SE}else this.host=e.host,this.ssl=e.ssl??SE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=yN;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<hB)throw new te(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}GU("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VN(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new te(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new te(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new te(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class up{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new IE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new te(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new te(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new IE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new VU;switch(r.type){case"firstParty":return new BU(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=TE.get(n);r&&(ne(Uz,"Removing Datastore"),TE.delete(n),r.terminate())}(this),Promise.resolve()}}function Bz(t,e,n,r={}){var d;t=yi(t,up);const s=gl(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(cC(`https://${a}`),uC("Firestore",!0)),i.host!==FN&&i.host!==a&&To("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const l={...i,host:a,ssl:s,emulatorOptions:r};if(!bi(l,o)&&(t._setSettings(l),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=Bt.MOCK_USER;else{h=IF(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const m=r.mockUserToken.sub||r.mockUserToken.user_id;if(!m)throw new te(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Bt(m)}t._authCredentials=new FU(new CR(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vo{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Vo(this.firestore,e,this._query)}}class mt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new vi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new mt(this.firestore,e,this._key)}toJSON(){return{type:mt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Iu(n,mt._jsonSchema))return new mt(e,r||null,new ae(Be.fromString(n.referencePath)))}}mt._jsonSchemaVersion="firestore/documentReference/1.0",mt._jsonSchema={type:pt("string",mt._jsonSchemaVersion),referencePath:pt("string")};class vi extends Vo{constructor(e,n,r){super(e,n,Aw(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new mt(this.firestore,null,new ae(e))}withConverter(e){return new vi(this.firestore,e,this._path)}}function Os(t,e,...n){if(t=ot(t),RR("collection","path",e),t instanceof up){const r=Be.fromString(e,...n);return V1(r),new vi(t,null,r)}{if(!(t instanceof mt||t instanceof vi))throw new te(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Be.fromString(e,...n));return V1(r),new vi(t.firestore,null,r)}}function js(t,e,...n){if(t=ot(t),arguments.length===1&&(e=Tw.newId()),RR("doc","path",e),t instanceof up){const r=Be.fromString(e,...n);return L1(r),new mt(t,null,new ae(r))}{if(!(t instanceof mt||t instanceof vi))throw new te(z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(Be.fromString(e,...n));return L1(r),new mt(t.firestore,t instanceof vi?t.converter:null,new ae(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CE="AsyncQueue";class RE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new _N(this,"async_queue_retry"),this._c=()=>{const r=Vm();r&&ne(CE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=Vm();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=Vm();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new co;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!El(e))throw e;ne(CE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,ps("INTERNAL UNHANDLED ERROR: ",NE(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Hw.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&de(47125,{Pc:NE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function NE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class tl extends up{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new RE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new RE(e),this._firestoreClient=void 0,await e}}}function zz(t,e){const n=typeof t=="object"?t:lw(),r=typeof t=="string"?t:Yh,s=Oo(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=TF("firestore");i&&Bz(s,...i)}return s}function UN(t){if(t._terminated)throw new te(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Hz(t),t._firestoreClient}function Hz(t){var r,s,i,o;const e=t._freezeSettings(),n=$z(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(s=t._app)==null?void 0:s.options.apiKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new Mz(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(l){const d=l==null?void 0:l._online.build();return{_offline:l==null?void 0:l._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Dn{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Dn(jt.fromBase64String(e))}catch(n){throw new te(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Dn(jt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Dn._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Iu(e,Dn._jsonSchema))return Dn.fromBase64String(e.bytes)}}Dn._jsonSchemaVersion="firestore/bytes/1.0",Dn._jsonSchema={type:pt("string",Dn._jsonSchemaVersion),bytes:pt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qw{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new kt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yw{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class jr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ie(this._lat,e._lat)||Ie(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:jr._jsonSchemaVersion}}static fromJSON(e){if(Iu(e,jr._jsonSchema))return new jr(e.latitude,e.longitude)}}jr._jsonSchemaVersion="firestore/geoPoint/1.0",jr._jsonSchema={type:pt("string",jr._jsonSchemaVersion),latitude:pt("number"),longitude:pt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class sr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:sr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Iu(e,sr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new sr(e.vectorValues);throw new te(z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}sr._jsonSchemaVersion="firestore/vectorValue/1.0",sr._jsonSchema={type:pt("string",sr._jsonSchemaVersion),vectorValues:pt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Wz=/^__.*__$/;class qz{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Vi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Cu(e,this.data,n,this.fieldTransforms)}}class $N{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Vi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function BN(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw de(40011,{dataSource:t})}}class Xw{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.validatePath(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Xw({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return of(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if(BN(this.dataSource)&&Wz.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class Kz{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||ap(e)}createContext(e,n,r,s=!1){return new Xw({dataSource:e,methodName:n,targetDoc:r,path:kt.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Jw(t){const e=t._freezeSettings(),n=ap(t._databaseId);return new Kz(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Gz(t,e,n,r,s,i={}){const o=t.createContext(i.merge||i.mergeFields?2:0,e,n,s);Zw("Data must be an object, but it was:",o,r);const a=zN(r,o);let l,d;if(i.merge)l=new _n(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const m=nl(e,f,n);if(!o.contains(m))throw new te(z.INVALID_ARGUMENT,`Field '${m}' is specified in your field mask but missing from your input data.`);qN(h,m)||h.push(m)}l=new _n(h),d=o.fieldTransforms.filter(f=>l.covers(f.field))}else l=null,d=o.fieldTransforms;return new qz(new un(a),l,d)}class dp extends Yw{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof dp}}function Qz(t,e,n,r){const s=t.createContext(1,e,n);Zw("Data must be an object, but it was:",s,r);const i=[],o=un.empty();Li(r,(l,d)=>{const h=WN(e,l,n);d=ot(d);const f=s.childContextForFieldPath(h);if(d instanceof dp)i.push(h);else{const m=Pu(d,f);m!=null&&(i.push(h),o.set(h,m))}});const a=new _n(i);return new $N(o,a,s.fieldTransforms)}function Yz(t,e,n,r,s,i){const o=t.createContext(1,e,n),a=[nl(e,r,n)],l=[s];if(i.length%2!=0)throw new te(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let m=0;m<i.length;m+=2)a.push(nl(e,i[m])),l.push(i[m+1]);const d=[],h=un.empty();for(let m=a.length-1;m>=0;--m)if(!qN(d,a[m])){const g=a[m];let T=l[m];T=ot(T);const v=o.childContextForFieldPath(g);if(T instanceof dp)d.push(g);else{const b=Pu(T,v);b!=null&&(d.push(g),h.set(g,b))}}const f=new _n(d);return new $N(h,f,o.fieldTransforms)}function Xz(t,e,n,r=!1){return Pu(n,t.createContext(r?4:3,e))}function Pu(t,e){if(HN(t=ot(t)))return Zw("Unsupported field value:",e,t),zN(t,e);if(t instanceof Yw)return function(r,s){if(!BN(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let l=Pu(a,s.childContextForArray(o));l==null&&(l={nullValue:"NULL_VALUE"}),i.push(l),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=ot(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return A$(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Ke.fromDate(r);return{timestampValue:tf(s.serializer,i)}}if(r instanceof Ke){const i=new Ke(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:tf(s.serializer,i)}}if(r instanceof jr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Dn)return{bytesValue:cN(s.serializer,r._byteString)};if(r instanceof mt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.createError(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:Mw(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof sr)return function(o,a){const l=o instanceof sr?o.toArray():o;return{mapValue:{fields:{[LR]:{stringValue:FR},[Xh]:{arrayValue:{values:l.map(h=>{if(typeof h!="number")throw a.createError("VectorValues must only contain numeric values.");return Pw(a.serializer,h)})}}}}}}(r,s);if(gN(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${Jf(r)}`)}(t,e)}function zN(t,e){const n={};return PR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Li(t,(r,s)=>{const i=Pu(s,e.childContextForField(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function HN(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Ke||t instanceof jr||t instanceof Dn||t instanceof mt||t instanceof Yw||t instanceof sr||gN(t))}function Zw(t,e,n){if(!HN(n)||!NR(n)){const r=Jf(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function nl(t,e,n){if((e=ot(e))instanceof Qw)return e._internalPath;if(typeof e=="string")return WN(t,e);throw of("Field path arguments must be of type string or ",t,!1,void 0,n)}const Jz=new RegExp("[~\\*/\\[\\]]");function WN(t,e,n){if(e.search(Jz)>=0)throw of(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Qw(...e.split("."))._internalPath}catch{throw of(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function of(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let l="";return(i||o)&&(l+=" (found",i&&(l+=` in field ${r}`),o&&(l+=` in document ${s}`),l+=")"),new te(z.INVALID_ARGUMENT,a+t+l)}function qN(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zz{convertValue(e,n="none"){switch(Ci(e)){case 0:return null;case 1:return e.booleanValue;case 2:return lt(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Ii(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw de(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Li(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Xh].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>lt(o.doubleValue));return new sr(n)}convertGeoPoint(e){return new jr(lt(e.latitude),lt(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=tp(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(su(e));default:return null}}convertTimestamp(e){const n=Si(e);return new Ke(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=Be.fromString(e);Ve(mN(r),9688,{name:e});const s=new iu(r.get(1),r.get(3)),i=new ae(r.popFirst(5));return s.isEqual(n)||ps(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class KN extends Zz{constructor(e){super(),this.firestore=e}convertBytes(e){return new Dn(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new mt(this.firestore,null,n)}}const AE="@firebase/firestore",PE="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GN{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new mt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new e7(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(nl("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class e7 extends GN{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t7(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new te(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class e0{}class QN extends e0{}function bd(t,e,...n){let r=[];e instanceof e0&&r.push(e),r=r.concat(n),function(i){const o=i.filter(l=>l instanceof n0).length,a=i.filter(l=>l instanceof t0).length;if(o>1||o>0&&a>0)throw new te(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class t0 extends QN{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t0(e,n,r)}_apply(e){const n=this._parse(e);return YN(e._query,n),new Vo(e.firestore,e.converter,Ey(e._query,n))}_parse(e){const n=Jw(e.firestore);return function(i,o,a,l,d,h,f){let m;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new te(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){OE(f,h);const T=[];for(const v of f)T.push(DE(l,i,v));m={arrayValue:{values:T}}}else m=DE(l,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||OE(f,h),m=Xz(a,o,f,h==="in"||h==="not-in");return ft.create(d,h,m)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}class n0 extends e0{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new n0(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:ur.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const l of a)YN(o,l),o=Ey(o,l)}(e._query,n),new Vo(e.firestore,e.converter,Ey(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class r0 extends QN{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new r0(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new te(z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new te(z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new au(i,o)}(e._query,this._field,this._direction);return new Vo(e.firestore,e.converter,E$(e._query,n))}}function Um(t,e="asc"){const n=e,r=nl("orderBy",t);return r0._create(r,n)}function DE(t,e,n){if(typeof(n=ot(n))=="string"){if(n==="")throw new te(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!KR(e)&&n.indexOf("/")!==-1)throw new te(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(Be.fromString(n));if(!ae.isDocumentKey(r))throw new te(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return q1(t,new ae(r))}if(n instanceof mt)return q1(t,n._key);throw new te(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Jf(n)}.`)}function OE(t,e){if(!Array.isArray(t)||t.length===0)throw new te(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function YN(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new te(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new te(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function n7(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class oc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class uo extends GN{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new th(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(nl("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new te(z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=uo._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}uo._jsonSchemaVersion="firestore/documentSnapshot/1.0",uo._jsonSchema={type:pt("string",uo._jsonSchemaVersion),bundleSource:pt("string","DocumentSnapshot"),bundleName:pt("string"),bundle:pt("string")};class th extends uo{data(e={}){return super.data(e)}}class Ra{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new oc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new th(this._firestore,this._userDataWriter,r.key,r,new oc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const l=new th(s._firestore,s._userDataWriter,a.doc.key,a.doc,new oc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:l,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const l=new th(s._firestore,s._userDataWriter,a.doc.key,a.doc,new oc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:r7(a.type),doc:l,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new te(z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Ra._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=Tw.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function r7(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return de(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ra._jsonSchemaVersion="firestore/querySnapshot/1.0",Ra._jsonSchema={type:pt("string",Ra._jsonSchemaVersion),bundleSource:pt("string","QuerySnapshot"),bundleName:pt("string"),bundle:pt("string")};function $m(t,e,n,...r){t=yi(t,mt);const s=yi(t.firestore,tl),i=Jw(s);let o;return o=typeof(e=ot(e))=="string"||e instanceof Qw?Yz(i,"updateDoc",t._key,e,n,r):Qz(i,"updateDoc",t._key,e),s0(s,[o.toMutation(t._key,rr.exists(!0))])}function Td(t){return s0(yi(t.firestore,tl),[new kw(t._key,rr.none())])}function Sd(t,e){const n=yi(t.firestore,tl),r=js(t),s=n7(t.converter,e),i=Jw(t.firestore);return s0(n,[Gz(i,"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,rr.exists(!1))]).then(()=>r)}function Id(t,...e){var d,h,f;t=ot(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||kE(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(kE(e[r])){const m=e[r];e[r]=(d=m.next)==null?void 0:d.bind(m),e[r+1]=(h=m.error)==null?void 0:h.bind(m),e[r+2]=(f=m.complete)==null?void 0:f.bind(m)}let i,o,a;if(t instanceof mt)o=yi(t.firestore,tl),a=Aw(t._key.path),i={next:m=>{e[r]&&e[r](s7(o,t,m))},error:e[r+1],complete:e[r+2]};else{const m=yi(t,Vo);o=yi(m.firestore,tl),a=m._query;const g=new KN(o);i={next:T=>{e[r]&&e[r](new Ra(o,g,m,T))},error:e[r+1],complete:e[r+2]},t7(t._query)}const l=UN(o);return Vz(l,a,s,i)}function s0(t,e){const n=UN(t);return Fz(n,e)}function s7(t,e,n){const r=n.docs.get(e._key),s=new KN(t);return new uo(t,s,e._key,r,new oc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){LU(yl),Vr(new lr("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new tl(new UU(r.getProvider("auth-internal")),new zU(o,r.getProvider("app-check-internal")),o$(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),jn(AE,PE,e),jn(AE,PE,"esm2020")})();const i7={apiKey:"AIzaSyBDv80CpV7gRLgmep1EWmec1tp1OWmnZE4",authDomain:"swabhimani-dairy.firebaseapp.com",projectId:"swabhimani-dairy",storageBucket:"swabhimani-dairy.firebasestorage.app",messagingSenderId:"738053918049",appId:"1:738053918049:web:a4be851bffbe2684260920",measurementId:"G-J1DE96TKL5"},i0=yC(i7);v6(i0);const Bm=MU(i0),Qt=zz(i0),XN=p.createContext(void 0);function o7({children:t}){const[e,n]=p.useState(null),[r,s]=p.useState(!0);p.useEffect(()=>{const a=b9(Bm,l=>{n(l?{email:l.email,name:l.displayName||"User",uid:l.uid}:null),s(!1)});return()=>a()},[]);const i=async(a,l)=>{try{return await x9(Bm,a,l),!0}catch(d){return console.error("Login error:",d),!1}},o=async()=>{try{await T9(Bm),n(null)}catch(a){console.error("Logout error:",a)}};return u.jsx(XN.Provider,{value:{user:e,login:i,logout:o,isAuthenticated:!!e,isLoading:r},children:t})}function o0(){const t=p.useContext(XN);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function a7({children:t}){const{isAuthenticated:e,isLoading:n}=o0();return n?u.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-background to-secondary/20",children:u.jsxs("div",{className:"text-center space-y-4",children:[u.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"}),u.jsx("p",{className:"text-muted-foreground text-sm",children:"Loading..."})]})}):e?u.jsx(u.Fragment,{children:t}):u.jsx(Z4,{to:"/login",replace:!0})}const zm=768;function l7(){const[t,e]=p.useState(void 0);return p.useEffect(()=>{const n=window.matchMedia(`(max-width: ${zm-1}px)`),r=()=>{e(window.innerWidth<zm)};return n.addEventListener("change",r),e(window.innerWidth<zm),()=>n.removeEventListener("change",r)},[]),!!t}const c7=ll("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),Me=p.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?ol:"button";return u.jsx(o,{className:X(c7({variant:e,size:n,className:t})),ref:i,...s})});Me.displayName="Button";const Ae=p.forwardRef(({className:t,type:e,...n},r)=>u.jsx("input",{type:e,className:X("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));Ae.displayName="Input";var u7="Separator",ME="horizontal",d7=["horizontal","vertical"],JN=p.forwardRef((t,e)=>{const{decorative:n,orientation:r=ME,...s}=t,i=h7(r)?r:ME,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return u.jsx(ge.div,{"data-orientation":i,...a,...s,ref:e})});JN.displayName=u7;function h7(t){return d7.includes(t)}var ZN=JN;const eA=p.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>u.jsx(ZN,{ref:s,decorative:n,orientation:e,className:X("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));eA.displayName=ZN.displayName;var Hm="focusScope.autoFocusOnMount",Wm="focusScope.autoFocusOnUnmount",jE={bubbles:!1,cancelable:!0},f7="FocusScope",hp=p.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,l]=p.useState(null),d=mn(s),h=mn(i),f=p.useRef(null),m=je(e,v=>l(v)),g=p.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;p.useEffect(()=>{if(r){let v=function(x){if(g.paused||!a)return;const A=x.target;a.contains(A)?f.current=A:Ls(f.current,{select:!0})},b=function(x){if(g.paused||!a)return;const A=x.relatedTarget;A!==null&&(a.contains(A)||Ls(f.current,{select:!0}))},_=function(x){if(document.activeElement===document.body)for(const O of x)O.removedNodes.length>0&&Ls(a)};document.addEventListener("focusin",v),document.addEventListener("focusout",b);const w=new MutationObserver(_);return a&&w.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",v),document.removeEventListener("focusout",b),w.disconnect()}}},[r,a,g.paused]),p.useEffect(()=>{if(a){VE.add(g);const v=document.activeElement;if(!a.contains(v)){const _=new CustomEvent(Hm,jE);a.addEventListener(Hm,d),a.dispatchEvent(_),_.defaultPrevented||(p7(w7(tA(a)),{select:!0}),document.activeElement===v&&Ls(a))}return()=>{a.removeEventListener(Hm,d),setTimeout(()=>{const _=new CustomEvent(Wm,jE);a.addEventListener(Wm,h),a.dispatchEvent(_),_.defaultPrevented||Ls(v??document.body,{select:!0}),a.removeEventListener(Wm,h),VE.remove(g)},0)}}},[a,d,h,g]);const T=p.useCallback(v=>{if(!n&&!r||g.paused)return;const b=v.key==="Tab"&&!v.altKey&&!v.ctrlKey&&!v.metaKey,_=document.activeElement;if(b&&_){const w=v.currentTarget,[x,A]=m7(w);x&&A?!v.shiftKey&&_===A?(v.preventDefault(),n&&Ls(x,{select:!0})):v.shiftKey&&_===x&&(v.preventDefault(),n&&Ls(A,{select:!0})):_===w&&v.preventDefault()}},[n,r,g.paused]);return u.jsx(ge.div,{tabIndex:-1,...o,ref:m,onKeyDown:T})});hp.displayName=f7;function p7(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ls(r,{select:e}),document.activeElement!==n)return}function m7(t){const e=tA(t),n=LE(e,t),r=LE(e.reverse(),t);return[n,r]}function tA(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function LE(t,e){for(const n of t)if(!g7(n,{upTo:e}))return n}function g7(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function y7(t){return t instanceof HTMLInputElement&&"select"in t}function Ls(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&y7(t)&&e&&t.select()}}var VE=v7();function v7(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=FE(t,e),t.unshift(e)},remove(e){var n;t=FE(t,e),(n=t[0])==null||n.resume()}}}function FE(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function w7(t){return t.filter(e=>e.tagName!=="A")}var qm=0;function a0(){p.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??UE()),document.body.insertAdjacentElement("beforeend",t[1]??UE()),qm++,()=>{qm===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),qm--}},[])}function UE(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Ir=function(){return Ir=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Ir.apply(this,arguments)};function nA(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function x7(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var nh="right-scroll-bar-position",rh="width-before-scroll-bar",_7="with-scroll-bars-hidden",E7="--removed-body-scroll-bar-size";function Km(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function b7(t,e){var n=p.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var T7=typeof window<"u"?p.useLayoutEffect:p.useEffect,$E=new WeakMap;function S7(t,e){var n=b7(null,function(r){return t.forEach(function(s){return Km(s,r)})});return T7(function(){var r=$E.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Km(a,null)}),i.forEach(function(a){s.has(a)||Km(a,o)})}$E.set(n,t)},[t]),n}function I7(t){return t}function C7(t,e){e===void 0&&(e=I7);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var l=function(){var h=o;o=[],h.forEach(i)},d=function(){return Promise.resolve().then(l)};d(),n={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),n}}}};return s}function R7(t){t===void 0&&(t={});var e=C7(null);return e.options=Ir({async:!0,ssr:!1},t),e}var rA=function(t){var e=t.sideCar,n=nA(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return p.createElement(r,Ir({},n))};rA.isSideCarExport=!0;function N7(t,e){return t.useMedium(e),rA}var sA=R7(),Gm=function(){},fp=p.forwardRef(function(t,e){var n=p.useRef(null),r=p.useState({onScrollCapture:Gm,onWheelCapture:Gm,onTouchMoveCapture:Gm}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,l=t.className,d=t.removeScrollBar,h=t.enabled,f=t.shards,m=t.sideCar,g=t.noRelative,T=t.noIsolation,v=t.inert,b=t.allowPinchZoom,_=t.as,w=_===void 0?"div":_,x=t.gapMode,A=nA(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=m,M=S7([n,e]),I=Ir(Ir({},A),s);return p.createElement(p.Fragment,null,h&&p.createElement(O,{sideCar:sA,removeScrollBar:d,shards:f,noRelative:g,noIsolation:T,inert:v,setCallbacks:i,allowPinchZoom:!!b,lockRef:n,gapMode:x}),o?p.cloneElement(p.Children.only(a),Ir(Ir({},I),{ref:M})):p.createElement(w,Ir({},I,{className:l,ref:M}),a))});fp.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};fp.classNames={fullWidth:rh,zeroRight:nh};var A7=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function P7(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=A7();return e&&t.setAttribute("nonce",e),t}function k7(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function D7(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var O7=function(){var t=0,e=null;return{add:function(n){t==0&&(e=P7())&&(k7(e,n),D7(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},M7=function(){var t=O7();return function(e,n){p.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},iA=function(){var t=M7(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},j7={left:0,top:0,right:0,gap:0},Qm=function(t){return parseInt(t||"",10)||0},L7=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Qm(n),Qm(r),Qm(s)]},V7=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return j7;var e=L7(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},F7=iA(),Na="data-scroll-locked",U7=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(_7,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Na,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(nh,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(rh,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(nh," .").concat(nh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(rh," .").concat(rh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Na,`] {
    `).concat(E7,": ").concat(a,`px;
  }
`)},BE=function(){var t=parseInt(document.body.getAttribute(Na)||"0",10);return isFinite(t)?t:0},$7=function(){p.useEffect(function(){return document.body.setAttribute(Na,(BE()+1).toString()),function(){var t=BE()-1;t<=0?document.body.removeAttribute(Na):document.body.setAttribute(Na,t.toString())}},[])},B7=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;$7();var i=p.useMemo(function(){return V7(s)},[s]);return p.createElement(F7,{styles:U7(i,!e,s,n?"":"!important")})},Dy=!1;if(typeof window<"u")try{var Cd=Object.defineProperty({},"passive",{get:function(){return Dy=!0,!0}});window.addEventListener("test",Cd,Cd),window.removeEventListener("test",Cd,Cd)}catch{Dy=!1}var Ko=Dy?{passive:!1}:!1,z7=function(t){return t.tagName==="TEXTAREA"},oA=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!z7(t)&&n[e]==="visible")},H7=function(t){return oA(t,"overflowY")},W7=function(t){return oA(t,"overflowX")},zE=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=aA(t,r);if(s){var i=lA(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},q7=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},K7=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},aA=function(t,e){return t==="v"?H7(e):W7(e)},lA=function(t,e){return t==="v"?q7(e):K7(e)},G7=function(t,e){return t==="h"&&e==="rtl"?-1:1},Q7=function(t,e,n,r,s){var i=G7(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,l=e.contains(a),d=!1,h=o>0,f=0,m=0;do{if(!a)break;var g=lA(t,a),T=g[0],v=g[1],b=g[2],_=v-b-i*T;(T||_)&&aA(t,a)&&(f+=_,m+=T);var w=a.parentNode;a=w&&w.nodeType===Node.DOCUMENT_FRAGMENT_NODE?w.host:w}while(!l&&a!==document.body||l&&(e.contains(a)||e===a));return(h&&(Math.abs(f)<1||!s)||!h&&(Math.abs(m)<1||!s))&&(d=!0),d},Rd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},HE=function(t){return[t.deltaX,t.deltaY]},WE=function(t){return t&&"current"in t?t.current:t},Y7=function(t,e){return t[0]===e[0]&&t[1]===e[1]},X7=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},J7=0,Go=[];function Z7(t){var e=p.useRef([]),n=p.useRef([0,0]),r=p.useRef(),s=p.useState(J7++)[0],i=p.useState(iA)[0],o=p.useRef(t);p.useEffect(function(){o.current=t},[t]),p.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var v=x7([t.lockRef.current],(t.shards||[]).map(WE),!0).filter(Boolean);return v.forEach(function(b){return b.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),v.forEach(function(b){return b.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=p.useCallback(function(v,b){if("touches"in v&&v.touches.length===2||v.type==="wheel"&&v.ctrlKey)return!o.current.allowPinchZoom;var _=Rd(v),w=n.current,x="deltaX"in v?v.deltaX:w[0]-_[0],A="deltaY"in v?v.deltaY:w[1]-_[1],O,M=v.target,I=Math.abs(x)>Math.abs(A)?"h":"v";if("touches"in v&&I==="h"&&M.type==="range")return!1;var S=zE(I,M);if(!S)return!0;if(S?O=I:(O=I==="v"?"h":"v",S=zE(I,M)),!S)return!1;if(!r.current&&"changedTouches"in v&&(x||A)&&(r.current=O),!O)return!0;var P=r.current||O;return Q7(P,b,v,P==="h"?x:A,!0)},[]),l=p.useCallback(function(v){var b=v;if(!(!Go.length||Go[Go.length-1]!==i)){var _="deltaY"in b?HE(b):Rd(b),w=e.current.filter(function(O){return O.name===b.type&&(O.target===b.target||b.target===O.shadowParent)&&Y7(O.delta,_)})[0];if(w&&w.should){b.cancelable&&b.preventDefault();return}if(!w){var x=(o.current.shards||[]).map(WE).filter(Boolean).filter(function(O){return O.contains(b.target)}),A=x.length>0?a(b,x[0]):!o.current.noIsolation;A&&b.cancelable&&b.preventDefault()}}},[]),d=p.useCallback(function(v,b,_,w){var x={name:v,delta:b,target:_,should:w,shadowParent:e8(_)};e.current.push(x),setTimeout(function(){e.current=e.current.filter(function(A){return A!==x})},1)},[]),h=p.useCallback(function(v){n.current=Rd(v),r.current=void 0},[]),f=p.useCallback(function(v){d(v.type,HE(v),v.target,a(v,t.lockRef.current))},[]),m=p.useCallback(function(v){d(v.type,Rd(v),v.target,a(v,t.lockRef.current))},[]);p.useEffect(function(){return Go.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:m}),document.addEventListener("wheel",l,Ko),document.addEventListener("touchmove",l,Ko),document.addEventListener("touchstart",h,Ko),function(){Go=Go.filter(function(v){return v!==i}),document.removeEventListener("wheel",l,Ko),document.removeEventListener("touchmove",l,Ko),document.removeEventListener("touchstart",h,Ko)}},[]);var g=t.removeScrollBar,T=t.inert;return p.createElement(p.Fragment,null,T?p.createElement(i,{styles:X7(s)}):null,g?p.createElement(B7,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function e8(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const t8=N7(sA,Z7);var pp=p.forwardRef(function(t,e){return p.createElement(fp,Ir({},t,{ref:e,sideCar:t8}))});pp.classNames=fp.classNames;var n8=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},Qo=new WeakMap,Nd=new WeakMap,Ad={},Ym=0,cA=function(t){return t&&(t.host||cA(t.parentNode))},r8=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=cA(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},s8=function(t,e,n,r){var s=r8(e,Array.isArray(t)?t:[t]);Ad[n]||(Ad[n]=new WeakMap);var i=Ad[n],o=[],a=new Set,l=new Set(s),d=function(f){!f||a.has(f)||(a.add(f),d(f.parentNode))};s.forEach(d);var h=function(f){!f||l.has(f)||Array.prototype.forEach.call(f.children,function(m){if(a.has(m))h(m);else try{var g=m.getAttribute(r),T=g!==null&&g!=="false",v=(Qo.get(m)||0)+1,b=(i.get(m)||0)+1;Qo.set(m,v),i.set(m,b),o.push(m),v===1&&T&&Nd.set(m,!0),b===1&&m.setAttribute(n,"true"),T||m.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",m,_)}})};return h(e),a.clear(),Ym++,function(){o.forEach(function(f){var m=Qo.get(f)-1,g=i.get(f)-1;Qo.set(f,m),i.set(f,g),m||(Nd.has(f)||f.removeAttribute(r),Nd.delete(f)),g||f.removeAttribute(n)}),Ym--,Ym||(Qo=new WeakMap,Qo=new WeakMap,Nd=new WeakMap,Ad={})}},l0=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=n8(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),s8(r,s,n,"aria-hidden")):function(){return null}},mp="Dialog",[uA,xq]=xs(mp),[i8,hr]=uA(mp),dA=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=p.useRef(null),l=p.useRef(null),[d,h]=vo({prop:r,defaultProp:s??!1,onChange:i,caller:mp});return u.jsx(i8,{scope:e,triggerRef:a,contentRef:l,contentId:Ar(),titleId:Ar(),descriptionId:Ar(),open:d,onOpenChange:h,onOpenToggle:p.useCallback(()=>h(f=>!f),[h]),modal:o,children:n})};dA.displayName=mp;var hA="DialogTrigger",fA=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=hr(hA,n),i=je(e,s.triggerRef);return u.jsx(ge.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":d0(s.open),...r,ref:i,onClick:ee(t.onClick,s.onOpenToggle)})});fA.displayName=hA;var c0="DialogPortal",[o8,pA]=uA(c0,{forceMount:void 0}),mA=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=hr(c0,e);return u.jsx(o8,{scope:e,forceMount:n,children:p.Children.map(r,o=>u.jsx(Ur,{present:n||i.open,children:u.jsx(wu,{asChild:!0,container:s,children:o})}))})};mA.displayName=c0;var af="DialogOverlay",gA=p.forwardRef((t,e)=>{const n=pA(af,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=hr(af,t.__scopeDialog);return i.modal?u.jsx(Ur,{present:r||i.open,children:u.jsx(l8,{...s,ref:e})}):null});gA.displayName=af;var a8=yo("DialogOverlay.RemoveScroll"),l8=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=hr(af,n);return u.jsx(pp,{as:a8,allowPinchZoom:!0,shards:[s.contentRef],children:u.jsx(ge.div,{"data-state":d0(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Io="DialogContent",yA=p.forwardRef((t,e)=>{const n=pA(Io,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=hr(Io,t.__scopeDialog);return u.jsx(Ur,{present:r||i.open,children:i.modal?u.jsx(c8,{...s,ref:e}):u.jsx(u8,{...s,ref:e})})});yA.displayName=Io;var c8=p.forwardRef((t,e)=>{const n=hr(Io,t.__scopeDialog),r=p.useRef(null),s=je(e,n.contentRef,r);return p.useEffect(()=>{const i=r.current;if(i)return l0(i)},[]),u.jsx(vA,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ee(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ee(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:ee(t.onFocusOutside,i=>i.preventDefault())})}),u8=p.forwardRef((t,e)=>{const n=hr(Io,t.__scopeDialog),r=p.useRef(!1),s=p.useRef(!1);return u.jsx(vA,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var l,d;(l=t.onInteractOutside)==null||l.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),vA=p.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=hr(Io,n),l=p.useRef(null),d=je(e,l);return a0(),u.jsxs(u.Fragment,{children:[u.jsx(hp,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:u.jsx(al,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":d0(a.open),...o,ref:d,onDismiss:()=>a.onOpenChange(!1)})}),u.jsxs(u.Fragment,{children:[u.jsx(d8,{titleId:a.titleId}),u.jsx(f8,{contentRef:l,descriptionId:a.descriptionId})]})]})}),u0="DialogTitle",wA=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=hr(u0,n);return u.jsx(ge.h2,{id:s.titleId,...r,ref:e})});wA.displayName=u0;var xA="DialogDescription",_A=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=hr(xA,n);return u.jsx(ge.p,{id:s.descriptionId,...r,ref:e})});_A.displayName=xA;var EA="DialogClose",bA=p.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=hr(EA,n);return u.jsx(ge.button,{type:"button",...r,ref:e,onClick:ee(t.onClick,()=>s.onOpenChange(!1))})});bA.displayName=EA;function d0(t){return t?"open":"closed"}var TA="DialogTitleWarning",[_q,SA]=PO(TA,{contentName:Io,titleName:u0,docsSlug:"dialog"}),d8=({titleId:t})=>{const e=SA(TA),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return p.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},h8="DialogDescriptionWarning",f8=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${SA(h8).contentName}}.`;return p.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},IA=dA,p8=fA,CA=mA,gp=gA,yp=yA,vp=wA,wp=_A,RA=bA;const m8=IA,g8=CA,NA=p.forwardRef(({className:t,...e},n)=>u.jsx(gp,{className:X("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));NA.displayName=gp.displayName;const y8=ll("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),AA=p.forwardRef(({side:t="right",className:e,children:n,...r},s)=>u.jsxs(g8,{children:[u.jsx(NA,{}),u.jsxs(yp,{ref:s,className:X(y8({side:t}),e),...r,children:[n,u.jsxs(RA,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[u.jsx(kf,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));AA.displayName=yp.displayName;const v8=p.forwardRef(({className:t,...e},n)=>u.jsx(vp,{ref:n,className:X("text-lg font-semibold text-foreground",t),...e}));v8.displayName=vp.displayName;const w8=p.forwardRef(({className:t,...e},n)=>u.jsx(wp,{ref:n,className:X("text-sm text-muted-foreground",t),...e}));w8.displayName=wp.displayName;function qE({className:t,...e}){return u.jsx("div",{className:X("animate-pulse rounded-md bg-muted",t),...e})}const x8="sidebar:state",_8=60*60*24*7,E8="16rem",b8="18rem",T8="3rem",S8="b",PA=p.createContext(null);function xp(){const t=p.useContext(PA);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}const kA=p.forwardRef(({defaultOpen:t=!0,open:e,onOpenChange:n,className:r,style:s,children:i,...o},a)=>{const l=l7(),[d,h]=p.useState(!1),[f,m]=p.useState(t),g=e??f,T=p.useCallback(w=>{const x=typeof w=="function"?w(g):w;n?n(x):m(x),document.cookie=`${x8}=${x}; path=/; max-age=${_8}`},[n,g]),v=p.useCallback(()=>l?h(w=>!w):T(w=>!w),[l,T,h]);p.useEffect(()=>{const w=x=>{x.key===S8&&(x.metaKey||x.ctrlKey)&&(x.preventDefault(),v())};return window.addEventListener("keydown",w),()=>window.removeEventListener("keydown",w)},[v]);const b=g?"expanded":"collapsed",_=p.useMemo(()=>({state:b,open:g,setOpen:T,isMobile:l,openMobile:d,setOpenMobile:h,toggleSidebar:v}),[b,g,T,l,d,h,v]);return u.jsx(PA.Provider,{value:_,children:u.jsx(LI,{delayDuration:0,children:u.jsx("div",{style:{"--sidebar-width":E8,"--sidebar-width-icon":T8,...s},className:X("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:a,...o,children:i})})})});kA.displayName="SidebarProvider";const DA=p.forwardRef(({side:t="left",variant:e="sidebar",collapsible:n="offcanvas",className:r,children:s,...i},o)=>{const{isMobile:a,state:l,openMobile:d,setOpenMobile:h}=xp();return n==="none"?u.jsx("div",{className:X("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",r),ref:o,...i,children:s}):a?u.jsx(m8,{open:d,onOpenChange:h,...i,children:u.jsx(AA,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":b8},side:t,children:u.jsx("div",{className:"flex h-full w-full flex-col",children:s})})}):u.jsxs("div",{ref:o,className:"group peer hidden text-sidebar-foreground md:block","data-state":l,"data-collapsible":l==="collapsed"?n:"","data-variant":e,"data-side":t,children:[u.jsx("div",{className:X("relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),u.jsx("div",{className:X("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...i,children:u.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:s})})]})});DA.displayName="Sidebar";const OA=p.forwardRef(({className:t,onClick:e,...n},r)=>{const{toggleSidebar:s}=xp();return u.jsxs(Me,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:X("h-7 w-7",t),onClick:i=>{e==null||e(i),s()},...n,children:[u.jsx(VM,{}),u.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});OA.displayName="SidebarTrigger";const I8=p.forwardRef(({className:t,...e},n)=>{const{toggleSidebar:r}=xp();return u.jsx("button",{ref:n,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:X("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] group-data-[side=left]:-right-4 group-data-[side=right]:left-0 hover:after:bg-sidebar-border sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...e})});I8.displayName="SidebarRail";const C8=p.forwardRef(({className:t,...e},n)=>u.jsx("main",{ref:n,className:X("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t),...e}));C8.displayName="SidebarInset";const R8=p.forwardRef(({className:t,...e},n)=>u.jsx(Ae,{ref:n,"data-sidebar":"input",className:X("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",t),...e}));R8.displayName="SidebarInput";const MA=p.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,"data-sidebar":"header",className:X("flex flex-col gap-2 p-2",t),...e}));MA.displayName="SidebarHeader";const jA=p.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,"data-sidebar":"footer",className:X("flex flex-col gap-2 p-2",t),...e}));jA.displayName="SidebarFooter";const N8=p.forwardRef(({className:t,...e},n)=>u.jsx(eA,{ref:n,"data-sidebar":"separator",className:X("mx-2 w-auto bg-sidebar-border",t),...e}));N8.displayName="SidebarSeparator";const LA=p.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,"data-sidebar":"content",className:X("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...e}));LA.displayName="SidebarContent";const VA=p.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,"data-sidebar":"group",className:X("relative flex w-full min-w-0 flex-col p-2",t),...e}));VA.displayName="SidebarGroup";const A8=p.forwardRef(({className:t,asChild:e=!1,...n},r)=>{const s=e?ol:"div";return u.jsx(s,{ref:r,"data-sidebar":"group-label",className:X("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...n})});A8.displayName="SidebarGroupLabel";const P8=p.forwardRef(({className:t,asChild:e=!1,...n},r)=>{const s=e?ol:"button";return u.jsx(s,{ref:r,"data-sidebar":"group-action",className:X("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",t),...n})});P8.displayName="SidebarGroupAction";const FA=p.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,"data-sidebar":"group-content",className:X("w-full text-sm",t),...e}));FA.displayName="SidebarGroupContent";const UA=p.forwardRef(({className:t,...e},n)=>u.jsx("ul",{ref:n,"data-sidebar":"menu",className:X("flex w-full min-w-0 flex-col gap-1",t),...e}));UA.displayName="SidebarMenu";const $A=p.forwardRef(({className:t,...e},n)=>u.jsx("li",{ref:n,"data-sidebar":"menu-item",className:X("group/menu-item relative",t),...e}));$A.displayName="SidebarMenuItem";const k8=ll("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),BA=p.forwardRef(({asChild:t=!1,isActive:e=!1,variant:n="default",size:r="default",tooltip:s,className:i,...o},a)=>{const l=t?ol:"button",{isMobile:d,state:h}=xp(),f=u.jsx(l,{ref:a,"data-sidebar":"menu-button","data-size":r,"data-active":e,className:X(k8({variant:n,size:r}),i),...o});return s?(typeof s=="string"&&(s={children:s}),u.jsxs(UV,{children:[u.jsx($V,{asChild:!0,children:f}),u.jsx(VI,{side:"right",align:"center",hidden:h!=="collapsed"||d,...s})]})):f});BA.displayName="SidebarMenuButton";const D8=p.forwardRef(({className:t,asChild:e=!1,showOnHover:n=!1,...r},s)=>{const i=e?ol:"button";return u.jsx(i,{ref:s,"data-sidebar":"menu-action",className:X("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform peer-hover/menu-button:text-sidebar-accent-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",t),...r})});D8.displayName="SidebarMenuAction";const O8=p.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,"data-sidebar":"menu-badge",className:X("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t),...e}));O8.displayName="SidebarMenuBadge";const M8=p.forwardRef(({className:t,showIcon:e=!1,...n},r)=>{const s=p.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return u.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:X("flex h-8 items-center gap-2 rounded-md px-2",t),...n,children:[e&&u.jsx(qE,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),u.jsx(qE,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":s}})]})});M8.displayName="SidebarMenuSkeleton";const j8=p.forwardRef(({className:t,...e},n)=>u.jsx("ul",{ref:n,"data-sidebar":"menu-sub",className:X("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...e}));j8.displayName="SidebarMenuSub";const L8=p.forwardRef(({...t},e)=>u.jsx("li",{ref:e,...t}));L8.displayName="SidebarMenuSubItem";const V8=p.forwardRef(({asChild:t=!1,size:e="md",isActive:n,className:r,...s},i)=>{const o=t?ol:"a";return u.jsx(o,{ref:i,"data-sidebar":"menu-sub-button","data-size":e,"data-active":n,className:X("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring aria-disabled:pointer-events-none aria-disabled:opacity-50 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",e==="sm"&&"text-xs",e==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...s})});V8.displayName="SidebarMenuSubButton";const zA=p.forwardRef(({className:t,activeClassName:e,pendingClassName:n,to:r,...s},i)=>u.jsx(hF,{ref:i,to:r,className:({isActive:o,isPending:a})=>X(t,o&&e,a&&n),...s}));zA.displayName="NavLink";const F8=[{title:"Dashboard",url:"/",icon:kM},{title:"Products",url:"/products",icon:wa},{title:"Customers",url:"/customers",icon:$v},{title:"Delivery Routes",url:"/routes",icon:qc},{title:"Invoices",url:"/invoices",icon:Rh}];function U8(){return u.jsxs(DA,{className:"border-r border-sidebar-border/50",children:[u.jsx(MA,{className:"px-6 py-6 border-b border-sidebar-border/50",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-sidebar-primary to-sidebar-primary/80 flex items-center justify-center shadow-lg overflow-hidden p-1",children:u.jsx("img",{src:"/swabhimani.png",alt:"Swabhimani Logo",className:"h-full w-full object-contain"})}),u.jsxs("div",{children:[u.jsxs("h1",{className:"text-lg font-bold text-sidebar-foreground tracking-tight flex items-center gap-2",children:["Swabhimani",u.jsx(QS,{className:"h-3.5 w-3.5 text-sidebar-primary"})]}),u.jsx("p",{className:"text-[10px] text-sidebar-foreground/50 uppercase tracking-widest font-semibold",children:"Management Panel"})]})]})}),u.jsx(LA,{className:"pt-4 px-3",children:u.jsx(VA,{children:u.jsx(FA,{children:u.jsx(UA,{className:"space-y-1",children:F8.map(t=>u.jsx($A,{children:u.jsx(BA,{asChild:!0,children:u.jsxs(zA,{to:t.url,end:t.url==="/",className:"flex items-center gap-3 px-4 py-3 rounded-lg text-sidebar-foreground/70 text-sm font-medium hover:bg-sidebar-accent hover:text-sidebar-foreground transition-all group",activeClassName:"bg-sidebar-accent text-sidebar-foreground font-semibold shadow-sm",children:[u.jsx(t.icon,{className:"h-5 w-5 group-hover:scale-110 transition-transform"}),u.jsx("span",{children:t.title})]})})},t.title))})})})}),u.jsx(jA,{className:"p-4 border-t border-sidebar-border/50",children:u.jsxs("div",{className:"px-3 py-2 rounded-lg bg-sidebar-accent/50 border border-sidebar-border/30",children:[u.jsx("p",{className:"text-xs text-sidebar-foreground/60 font-medium",children:"Version 1.0.0"}),u.jsx("p",{className:"text-[10px] text-sidebar-foreground/40 mt-0.5",children:" 2026 Swabhimani"})]})})]})}var $8=p.createContext(void 0);function h0(t){const e=p.useContext($8);return t||e||"ltr"}var Xm="rovingFocusGroup.onEntryFocus",B8={bubbles:!1,cancelable:!0},ku="RovingFocusGroup",[Oy,HA,z8]=Rf(ku),[H8,WA]=xs(ku,[z8]),[W8,q8]=H8(ku),qA=p.forwardRef((t,e)=>u.jsx(Oy.Provider,{scope:t.__scopeRovingFocusGroup,children:u.jsx(Oy.Slot,{scope:t.__scopeRovingFocusGroup,children:u.jsx(K8,{...t,ref:e})})}));qA.displayName=ku;var K8=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:l,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...f}=t,m=p.useRef(null),g=je(e,m),T=h0(i),[v,b]=vo({prop:o,defaultProp:a??null,onChange:l,caller:ku}),[_,w]=p.useState(!1),x=mn(d),A=HA(n),O=p.useRef(!1),[M,I]=p.useState(0);return p.useEffect(()=>{const S=m.current;if(S)return S.addEventListener(Xm,x),()=>S.removeEventListener(Xm,x)},[x]),u.jsx(W8,{scope:n,orientation:r,dir:T,loop:s,currentTabStopId:v,onItemFocus:p.useCallback(S=>b(S),[b]),onItemShiftTab:p.useCallback(()=>w(!0),[]),onFocusableItemAdd:p.useCallback(()=>I(S=>S+1),[]),onFocusableItemRemove:p.useCallback(()=>I(S=>S-1),[]),children:u.jsx(ge.div,{tabIndex:_||M===0?-1:0,"data-orientation":r,...f,ref:g,style:{outline:"none",...t.style},onMouseDown:ee(t.onMouseDown,()=>{O.current=!0}),onFocus:ee(t.onFocus,S=>{const P=!O.current;if(S.target===S.currentTarget&&P&&!_){const k=new CustomEvent(Xm,B8);if(S.currentTarget.dispatchEvent(k),!k.defaultPrevented){const D=A().filter(Y=>Y.focusable),C=D.find(Y=>Y.active),N=D.find(Y=>Y.id===v),se=[C,N,...D].filter(Boolean).map(Y=>Y.ref.current);QA(se,h)}}O.current=!1}),onBlur:ee(t.onBlur,()=>w(!1))})})}),KA="RovingFocusGroupItem",GA=p.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,l=Ar(),d=i||l,h=q8(KA,n),f=h.currentTabStopId===d,m=HA(n),{onFocusableItemAdd:g,onFocusableItemRemove:T,currentTabStopId:v}=h;return p.useEffect(()=>{if(r)return g(),()=>T()},[r,g,T]),u.jsx(Oy.ItemSlot,{scope:n,id:d,focusable:r,active:s,children:u.jsx(ge.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...a,ref:e,onMouseDown:ee(t.onMouseDown,b=>{r?h.onItemFocus(d):b.preventDefault()}),onFocus:ee(t.onFocus,()=>h.onItemFocus(d)),onKeyDown:ee(t.onKeyDown,b=>{if(b.key==="Tab"&&b.shiftKey){h.onItemShiftTab();return}if(b.target!==b.currentTarget)return;const _=Y8(b,h.orientation,h.dir);if(_!==void 0){if(b.metaKey||b.ctrlKey||b.altKey||b.shiftKey)return;b.preventDefault();let x=m().filter(A=>A.focusable).map(A=>A.ref.current);if(_==="last")x.reverse();else if(_==="prev"||_==="next"){_==="prev"&&x.reverse();const A=x.indexOf(b.currentTarget);x=h.loop?X8(x,A+1):x.slice(A+1)}setTimeout(()=>QA(x))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:v!=null}):o})})});GA.displayName=KA;var G8={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function Q8(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function Y8(t,e,n){const r=Q8(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return G8[r]}function QA(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function X8(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var J8=qA,Z8=GA,My=["Enter"," "],eH=["ArrowDown","PageUp","Home"],YA=["ArrowUp","PageDown","End"],tH=[...eH,...YA],nH={ltr:[...My,"ArrowRight"],rtl:[...My,"ArrowLeft"]},rH={ltr:["ArrowLeft"],rtl:["ArrowRight"]},Du="Menu",[uu,sH,iH]=Rf(Du),[Fo,XA]=xs(Du,[iH,hl,WA]),_p=hl(),JA=WA(),[oH,Uo]=Fo(Du),[aH,Ou]=Fo(Du),ZA=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=_p(e),[l,d]=p.useState(null),h=p.useRef(!1),f=mn(i),m=h0(s);return p.useEffect(()=>{const g=()=>{h.current=!0,document.addEventListener("pointerdown",T,{capture:!0,once:!0}),document.addEventListener("pointermove",T,{capture:!0,once:!0})},T=()=>h.current=!1;return document.addEventListener("keydown",g,{capture:!0}),()=>{document.removeEventListener("keydown",g,{capture:!0}),document.removeEventListener("pointerdown",T,{capture:!0}),document.removeEventListener("pointermove",T,{capture:!0})}},[]),u.jsx(Jv,{...a,children:u.jsx(oH,{scope:e,open:n,onOpenChange:f,content:l,onContentChange:d,children:u.jsx(aH,{scope:e,onClose:p.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:m,modal:o,children:r})})})};ZA.displayName=Du;var lH="MenuAnchor",f0=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=_p(n);return u.jsx(Zv,{...s,...r,ref:e})});f0.displayName=lH;var p0="MenuPortal",[cH,eP]=Fo(p0,{forceMount:void 0}),tP=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=Uo(p0,e);return u.jsx(cH,{scope:e,forceMount:n,children:u.jsx(Ur,{present:n||i.open,children:u.jsx(wu,{asChild:!0,container:s,children:r})})})};tP.displayName=p0;var Ln="MenuContent",[uH,m0]=Fo(Ln),nP=p.forwardRef((t,e)=>{const n=eP(Ln,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Uo(Ln,t.__scopeMenu),o=Ou(Ln,t.__scopeMenu);return u.jsx(uu.Provider,{scope:t.__scopeMenu,children:u.jsx(Ur,{present:r||i.open,children:u.jsx(uu.Slot,{scope:t.__scopeMenu,children:o.modal?u.jsx(dH,{...s,ref:e}):u.jsx(hH,{...s,ref:e})})})})}),dH=p.forwardRef((t,e)=>{const n=Uo(Ln,t.__scopeMenu),r=p.useRef(null),s=je(e,r);return p.useEffect(()=>{const i=r.current;if(i)return l0(i)},[]),u.jsx(g0,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ee(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),hH=p.forwardRef((t,e)=>{const n=Uo(Ln,t.__scopeMenu);return u.jsx(g0,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),fH=yo("MenuContent.ScrollLock"),g0=p.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:l,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:m,onDismiss:g,disableOutsideScroll:T,...v}=t,b=Uo(Ln,n),_=Ou(Ln,n),w=_p(n),x=JA(n),A=sH(n),[O,M]=p.useState(null),I=p.useRef(null),S=je(e,I,b.onContentChange),P=p.useRef(0),k=p.useRef(""),D=p.useRef(0),C=p.useRef(null),N=p.useRef("right"),$=p.useRef(0),se=T?pp:p.Fragment,Y=T?{as:fH,allowPinchZoom:!0}:void 0,ie=L=>{var q,we;const K=k.current+L,oe=A().filter(Re=>!Re.disabled),j=document.activeElement,J=(q=oe.find(Re=>Re.ref.current===j))==null?void 0:q.textValue,Z=oe.map(Re=>Re.textValue),he=SH(Z,K,J),xe=(we=oe.find(Re=>Re.textValue===he))==null?void 0:we.ref.current;(function Re(Ee){k.current=Ee,window.clearTimeout(P.current),Ee!==""&&(P.current=window.setTimeout(()=>Re(""),1e3))})(K),xe&&setTimeout(()=>xe.focus())};p.useEffect(()=>()=>window.clearTimeout(P.current),[]),a0();const U=p.useCallback(L=>{var oe,j;return N.current===((oe=C.current)==null?void 0:oe.side)&&CH(L,(j=C.current)==null?void 0:j.area)},[]);return u.jsx(uH,{scope:n,searchRef:k,onItemEnter:p.useCallback(L=>{U(L)&&L.preventDefault()},[U]),onItemLeave:p.useCallback(L=>{var K;U(L)||((K=I.current)==null||K.focus(),M(null))},[U]),onTriggerLeave:p.useCallback(L=>{U(L)&&L.preventDefault()},[U]),pointerGraceTimerRef:D,onPointerGraceIntentChange:p.useCallback(L=>{C.current=L},[]),children:u.jsx(se,{...Y,children:u.jsx(hp,{asChild:!0,trapped:s,onMountAutoFocus:ee(i,L=>{var K;L.preventDefault(),(K=I.current)==null||K.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:u.jsx(al,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:m,onDismiss:g,children:u.jsx(J8,{asChild:!0,...x,dir:_.dir,orientation:"vertical",loop:r,currentTabStopId:O,onCurrentTabStopIdChange:M,onEntryFocus:ee(l,L=>{_.isUsingKeyboardRef.current||L.preventDefault()}),preventScrollOnEntryFocus:!0,children:u.jsx(ew,{role:"menu","aria-orientation":"vertical","data-state":vP(b.open),"data-radix-menu-content":"",dir:_.dir,...w,...v,ref:S,style:{outline:"none",...v.style},onKeyDown:ee(v.onKeyDown,L=>{const oe=L.target.closest("[data-radix-menu-content]")===L.currentTarget,j=L.ctrlKey||L.altKey||L.metaKey,J=L.key.length===1;oe&&(L.key==="Tab"&&L.preventDefault(),!j&&J&&ie(L.key));const Z=I.current;if(L.target!==Z||!tH.includes(L.key))return;L.preventDefault();const xe=A().filter(q=>!q.disabled).map(q=>q.ref.current);YA.includes(L.key)&&xe.reverse(),bH(xe)}),onBlur:ee(t.onBlur,L=>{L.currentTarget.contains(L.target)||(window.clearTimeout(P.current),k.current="")}),onPointerMove:ee(t.onPointerMove,du(L=>{const K=L.target,oe=$.current!==L.clientX;if(L.currentTarget.contains(K)&&oe){const j=L.clientX>$.current?"right":"left";N.current=j,$.current=L.clientX}}))})})})})})})});nP.displayName=Ln;var pH="MenuGroup",y0=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(ge.div,{role:"group",...r,ref:e})});y0.displayName=pH;var mH="MenuLabel",rP=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(ge.div,{...r,ref:e})});rP.displayName=mH;var lf="MenuItem",KE="menu.itemSelect",Ep=p.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=p.useRef(null),o=Ou(lf,t.__scopeMenu),a=m0(lf,t.__scopeMenu),l=je(e,i),d=p.useRef(!1),h=()=>{const f=i.current;if(!n&&f){const m=new CustomEvent(KE,{bubbles:!0,cancelable:!0});f.addEventListener(KE,g=>r==null?void 0:r(g),{once:!0}),jv(f,m),m.defaultPrevented?d.current=!1:o.onClose()}};return u.jsx(sP,{...s,ref:l,disabled:n,onClick:ee(t.onClick,h),onPointerDown:f=>{var m;(m=t.onPointerDown)==null||m.call(t,f),d.current=!0},onPointerUp:ee(t.onPointerUp,f=>{var m;d.current||(m=f.currentTarget)==null||m.click()}),onKeyDown:ee(t.onKeyDown,f=>{const m=a.searchRef.current!=="";n||m&&f.key===" "||My.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Ep.displayName=lf;var sP=p.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=m0(lf,n),a=JA(n),l=p.useRef(null),d=je(e,l),[h,f]=p.useState(!1),[m,g]=p.useState("");return p.useEffect(()=>{const T=l.current;T&&g((T.textContent??"").trim())},[i.children]),u.jsx(uu.ItemSlot,{scope:n,disabled:r,textValue:s??m,children:u.jsx(Z8,{asChild:!0,...a,focusable:!r,children:u.jsx(ge.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:d,onPointerMove:ee(t.onPointerMove,du(T=>{r?o.onItemLeave(T):(o.onItemEnter(T),T.defaultPrevented||T.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ee(t.onPointerLeave,du(T=>o.onItemLeave(T))),onFocus:ee(t.onFocus,()=>f(!0)),onBlur:ee(t.onBlur,()=>f(!1))})})})}),gH="MenuCheckboxItem",iP=p.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return u.jsx(uP,{scope:t.__scopeMenu,checked:n,children:u.jsx(Ep,{role:"menuitemcheckbox","aria-checked":cf(n)?"mixed":n,...s,ref:e,"data-state":w0(n),onSelect:ee(s.onSelect,()=>r==null?void 0:r(cf(n)?!0:!n),{checkForDefaultPrevented:!1})})})});iP.displayName=gH;var oP="MenuRadioGroup",[yH,vH]=Fo(oP,{value:void 0,onValueChange:()=>{}}),aP=p.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=mn(r);return u.jsx(yH,{scope:t.__scopeMenu,value:n,onValueChange:i,children:u.jsx(y0,{...s,ref:e})})});aP.displayName=oP;var lP="MenuRadioItem",cP=p.forwardRef((t,e)=>{const{value:n,...r}=t,s=vH(lP,t.__scopeMenu),i=n===s.value;return u.jsx(uP,{scope:t.__scopeMenu,checked:i,children:u.jsx(Ep,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":w0(i),onSelect:ee(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});cP.displayName=lP;var v0="MenuItemIndicator",[uP,wH]=Fo(v0,{checked:!1}),dP=p.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=wH(v0,n);return u.jsx(Ur,{present:r||cf(i.checked)||i.checked===!0,children:u.jsx(ge.span,{...s,ref:e,"data-state":w0(i.checked)})})});dP.displayName=v0;var xH="MenuSeparator",hP=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return u.jsx(ge.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});hP.displayName=xH;var _H="MenuArrow",fP=p.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=_p(n);return u.jsx(tw,{...s,...r,ref:e})});fP.displayName=_H;var EH="MenuSub",[Eq,pP]=Fo(EH),ac="MenuSubTrigger",mP=p.forwardRef((t,e)=>{const n=Uo(ac,t.__scopeMenu),r=Ou(ac,t.__scopeMenu),s=pP(ac,t.__scopeMenu),i=m0(ac,t.__scopeMenu),o=p.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:l}=i,d={__scopeMenu:t.__scopeMenu},h=p.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return p.useEffect(()=>h,[h]),p.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),l(null)}},[a,l]),u.jsx(f0,{asChild:!0,...d,children:u.jsx(sP,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":vP(n.open),...t,ref:Cf(e,s.onTriggerChange),onClick:f=>{var m;(m=t.onClick)==null||m.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ee(t.onPointerMove,du(f=>{i.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:ee(t.onPointerLeave,du(f=>{var g,T;h();const m=(g=n.content)==null?void 0:g.getBoundingClientRect();if(m){const v=(T=n.content)==null?void 0:T.dataset.side,b=v==="right",_=b?-5:5,w=m[b?"left":"right"],x=m[b?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+_,y:f.clientY},{x:w,y:m.top},{x,y:m.top},{x,y:m.bottom},{x:w,y:m.bottom}],side:v}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ee(t.onKeyDown,f=>{var g;const m=i.searchRef.current!=="";t.disabled||m&&f.key===" "||nH[r.dir].includes(f.key)&&(n.onOpenChange(!0),(g=n.content)==null||g.focus(),f.preventDefault())})})})});mP.displayName=ac;var gP="MenuSubContent",yP=p.forwardRef((t,e)=>{const n=eP(Ln,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=Uo(Ln,t.__scopeMenu),o=Ou(Ln,t.__scopeMenu),a=pP(gP,t.__scopeMenu),l=p.useRef(null),d=je(e,l);return u.jsx(uu.Provider,{scope:t.__scopeMenu,children:u.jsx(Ur,{present:r||i.open,children:u.jsx(uu.Slot,{scope:t.__scopeMenu,children:u.jsx(g0,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var f;o.isUsingKeyboardRef.current&&((f=l.current)==null||f.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:ee(t.onFocusOutside,h=>{h.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ee(t.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:ee(t.onKeyDown,h=>{var g;const f=h.currentTarget.contains(h.target),m=rH[o.dir].includes(h.key);f&&m&&(i.onOpenChange(!1),(g=a.trigger)==null||g.focus(),h.preventDefault())})})})})})});yP.displayName=gP;function vP(t){return t?"open":"closed"}function cf(t){return t==="indeterminate"}function w0(t){return cf(t)?"indeterminate":t?"checked":"unchecked"}function bH(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function TH(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function SH(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=TH(t,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const l=o.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function IH(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],l=e[o],d=a.x,h=a.y,f=l.x,m=l.y;h>r!=m>r&&n<(f-d)*(r-h)/(m-h)+d&&(s=!s)}return s}function CH(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return IH(n,e)}function du(t){return e=>e.pointerType==="mouse"?t(e):void 0}var RH=ZA,NH=f0,AH=tP,PH=nP,kH=y0,DH=rP,OH=Ep,MH=iP,jH=aP,LH=cP,VH=dP,FH=hP,UH=fP,$H=mP,BH=yP,bp="DropdownMenu",[zH,bq]=xs(bp,[XA]),rn=XA(),[HH,wP]=zH(bp),xP=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,l=rn(e),d=p.useRef(null),[h,f]=vo({prop:s,defaultProp:i??!1,onChange:o,caller:bp});return u.jsx(HH,{scope:e,triggerId:Ar(),triggerRef:d,contentId:Ar(),open:h,onOpenChange:f,onOpenToggle:p.useCallback(()=>f(m=>!m),[f]),modal:a,children:u.jsx(RH,{...l,open:h,onOpenChange:f,dir:r,modal:a,children:n})})};xP.displayName=bp;var _P="DropdownMenuTrigger",EP=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=wP(_P,n),o=rn(n);return u.jsx(NH,{asChild:!0,...o,children:u.jsx(ge.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Cf(e,i.triggerRef),onPointerDown:ee(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:ee(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});EP.displayName=_P;var WH="DropdownMenuPortal",bP=t=>{const{__scopeDropdownMenu:e,...n}=t,r=rn(e);return u.jsx(AH,{...r,...n})};bP.displayName=WH;var TP="DropdownMenuContent",SP=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=wP(TP,n),i=rn(n),o=p.useRef(!1);return u.jsx(PH,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:ee(t.onCloseAutoFocus,a=>{var l;o.current||(l=s.triggerRef.current)==null||l.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:ee(t.onInteractOutside,a=>{const l=a.detail.originalEvent,d=l.button===0&&l.ctrlKey===!0,h=l.button===2||d;(!s.modal||h)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});SP.displayName=TP;var qH="DropdownMenuGroup",KH=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=rn(n);return u.jsx(kH,{...s,...r,ref:e})});KH.displayName=qH;var GH="DropdownMenuLabel",IP=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=rn(n);return u.jsx(DH,{...s,...r,ref:e})});IP.displayName=GH;var QH="DropdownMenuItem",CP=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=rn(n);return u.jsx(OH,{...s,...r,ref:e})});CP.displayName=QH;var YH="DropdownMenuCheckboxItem",RP=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=rn(n);return u.jsx(MH,{...s,...r,ref:e})});RP.displayName=YH;var XH="DropdownMenuRadioGroup",JH=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=rn(n);return u.jsx(jH,{...s,...r,ref:e})});JH.displayName=XH;var ZH="DropdownMenuRadioItem",NP=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=rn(n);return u.jsx(LH,{...s,...r,ref:e})});NP.displayName=ZH;var eW="DropdownMenuItemIndicator",AP=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=rn(n);return u.jsx(VH,{...s,...r,ref:e})});AP.displayName=eW;var tW="DropdownMenuSeparator",PP=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=rn(n);return u.jsx(FH,{...s,...r,ref:e})});PP.displayName=tW;var nW="DropdownMenuArrow",rW=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=rn(n);return u.jsx(UH,{...s,...r,ref:e})});rW.displayName=nW;var sW="DropdownMenuSubTrigger",kP=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=rn(n);return u.jsx($H,{...s,...r,ref:e})});kP.displayName=sW;var iW="DropdownMenuSubContent",DP=p.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=rn(n);return u.jsx(BH,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});DP.displayName=iW;var oW=xP,aW=EP,lW=bP,OP=SP,MP=IP,jP=CP,LP=RP,VP=NP,FP=AP,UP=PP,$P=kP,BP=DP;const cW=oW,uW=aW,dW=p.forwardRef(({className:t,inset:e,children:n,...r},s)=>u.jsxs($P,{ref:s,className:X("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",e&&"pl-8",t),...r,children:[n,u.jsx(IM,{className:"ml-auto h-4 w-4"})]}));dW.displayName=$P.displayName;const hW=p.forwardRef(({className:t,...e},n)=>u.jsx(BP,{ref:n,className:X("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));hW.displayName=BP.displayName;const zP=p.forwardRef(({className:t,sideOffset:e=4,...n},r)=>u.jsx(lW,{children:u.jsx(OP,{ref:r,sideOffset:e,className:X("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));zP.displayName=OP.displayName;const HP=p.forwardRef(({className:t,inset:e,...n},r)=>u.jsx(jP,{ref:r,className:X("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e&&"pl-8",t),...n}));HP.displayName=jP.displayName;const fW=p.forwardRef(({className:t,children:e,checked:n,...r},s)=>u.jsxs(LP,{ref:s,className:X("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),checked:n,...r,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(FP,{children:u.jsx(qS,{className:"h-4 w-4"})})}),e]}));fW.displayName=LP.displayName;const pW=p.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(VP,{ref:r,className:X("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(FP,{children:u.jsx(RM,{className:"h-2 w-2 fill-current"})})}),e]}));pW.displayName=VP.displayName;const WP=p.forwardRef(({className:t,inset:e,...n},r)=>u.jsx(MP,{ref:r,className:X("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));WP.displayName=MP.displayName;const qP=p.forwardRef(({className:t,...e},n)=>u.jsx(UP,{ref:n,className:X("-mx-1 my-1 h-px bg-muted",t),...e}));qP.displayName=UP.displayName;function mW({children:t}){const{user:e,logout:n}=o0(),r=ml(),s=()=>{n(),le.success("Logged out successfully"),r("/login")};return u.jsx(kA,{children:u.jsxs("div",{className:"flex min-h-screen w-full bg-background",children:[u.jsx(U8,{}),u.jsxs("main",{className:"flex-1 flex flex-col min-w-0",children:[u.jsxs("header",{className:"h-16 border-b border-border/40 flex items-center justify-between px-6 bg-card/50 backdrop-blur-sm sticky top-0 z-10 shadow-soft",children:[u.jsxs("div",{className:"flex items-center gap-4",children:[u.jsx(OA,{className:"hover:bg-secondary/80 transition-colors"}),u.jsxs("div",{className:"relative hidden md:block",children:[u.jsx(Wc,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),u.jsx(Ae,{placeholder:"Search anything...",className:"pl-10 w-80 h-10 text-sm bg-secondary/50 border-border/50 focus:bg-background focus:border-primary/50 transition-all"})]})]}),u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsxs(Me,{variant:"ghost",size:"icon",className:"relative h-10 w-10 rounded-full hover:bg-secondary/80 transition-all",children:[u.jsx(SM,{className:"h-5 w-5 text-muted-foreground"}),u.jsx("span",{className:"absolute top-2 right-2 h-2 w-2 rounded-full bg-accent animate-pulse"})]}),u.jsxs(cW,{children:[u.jsx(uW,{asChild:!0,children:u.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-primary to-primary/80 flex items-center justify-center text-primary-foreground text-sm font-bold shadow-medium hover:shadow-strong transition-all cursor-pointer hover:scale-105",children:u.jsx(XS,{className:"h-5 w-5"})})}),u.jsxs(zP,{align:"end",className:"w-56",children:[u.jsx(WP,{children:u.jsxs("div",{className:"flex flex-col space-y-1",children:[u.jsx("p",{className:"text-sm font-semibold",children:(e==null?void 0:e.name)||"User"}),u.jsx("p",{className:"text-xs text-muted-foreground",children:e==null?void 0:e.email})]})}),u.jsx(qP,{}),u.jsxs(HP,{onClick:s,className:"text-destructive focus:text-destructive cursor-pointer",children:[u.jsx(MM,{className:"mr-2 h-4 w-4"}),u.jsx("span",{children:"Log out"})]})]})]})]})]}),u.jsx("div",{className:"flex-1 p-6 md:p-8 overflow-auto bg-gradient-to-br from-background via-background to-secondary/20",children:u.jsx("div",{className:"animate-fade-in",children:t})})]})]})})}function gW(){const[t,e]=p.useState([]),[n,r]=p.useState([]),[s,i]=p.useState([]),[o,a]=p.useState([]);return p.useEffect(()=>{const x=bd(Os(Qt,"products"),Um("name")),A=Id(x,D=>{const C=D.docs.map(N=>({id:N.id,...N.data()}));e(C)},D=>{console.error("Error fetching products:",D),le.error("Failed to fetch products")}),O=bd(Os(Qt,"customers"),Um("name")),M=Id(O,D=>{const C=D.docs.map(N=>({id:N.id,...N.data()}));r(C)},D=>{console.error("Error fetching customers:",D),le.error("Failed to fetch customers")}),I=bd(Os(Qt,"delivery_routes")),S=Id(I,D=>{const C=D.docs.map(N=>({id:N.id,...N.data()}));i(C)},D=>{console.error("Error fetching routes:",D),le.error("Failed to fetch routes")}),P=bd(Os(Qt,"invoices"),Um("date","desc")),k=Id(P,D=>{const C=D.docs.map(N=>({id:N.id,...N.data()}));a(C)},D=>{console.error("Error fetching invoices:",D),le.error("Failed to fetch invoices")});return()=>{A(),M(),S(),k()}},[]),{products:t,customers:n,routes:s,invoices:o,addProduct:async x=>{try{await Sd(Os(Qt,"products"),x),le.success("Product added successfully")}catch(A){console.error("Error adding product:",A),le.error("Failed to add product")}},removeProduct:async x=>{try{await Td(js(Qt,"products",x)),le.success("Product removed successfully")}catch(A){console.error("Error removing product:",A),le.error("Failed to remove product")}},updateProduct:async(x,A)=>{try{await $m(js(Qt,"products",x),A),le.success("Product updated successfully")}catch(O){console.error("Error updating product:",O),le.error("Failed to update product")}},addCustomer:async x=>{try{await Sd(Os(Qt,"customers"),x),le.success("Customer added successfully")}catch(A){console.error("Error adding customer:",A),le.error("Failed to add customer")}},removeCustomer:async x=>{try{await Td(js(Qt,"customers",x)),le.success("Customer removed successfully")}catch(A){console.error("Error removing customer:",A),le.error("Failed to remove customer")}},updateCustomer:async(x,A)=>{try{await $m(js(Qt,"customers",x),A),le.success("Customer updated successfully")}catch(O){console.error("Error updating customer:",O),le.error("Failed to update customer")}},addRoute:async x=>{try{await Sd(Os(Qt,"delivery_routes"),x),le.success("Route added successfully")}catch(A){console.error("Error adding route:",A),le.error("Failed to add route")}},removeRoute:async x=>{try{await Td(js(Qt,"delivery_routes",x)),le.success("Route removed successfully")}catch(A){console.error("Error removing route:",A),le.error("Failed to remove route")}},updateRoute:async(x,A)=>{try{await $m(js(Qt,"delivery_routes",x),A),le.success("Route updated successfully")}catch(O){console.error("Error updating route:",O),le.error("Failed to update route")}},addInvoice:async x=>{try{await Sd(Os(Qt,"invoices"),x),le.success("Invoice created successfully")}catch(A){console.error("Error adding invoice:",A),le.error("Failed to create invoice")}},removeInvoice:async x=>{try{await Td(js(Qt,"invoices",x)),le.success("Invoice deleted successfully")}catch(A){console.error("Error removing invoice:",A),le.error("Failed to delete invoice")}}}}const Ct=p.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:X("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Ct.displayName="Card";const ns=p.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:X("flex flex-col space-y-1.5 p-6",t),...e}));ns.displayName="CardHeader";const rs=p.forwardRef(({className:t,...e},n)=>u.jsx("h3",{ref:n,className:X("text-2xl font-semibold leading-none tracking-tight",t),...e}));rs.displayName="CardTitle";const KP=p.forwardRef(({className:t,...e},n)=>u.jsx("p",{ref:n,className:X("text-sm text-muted-foreground",t),...e}));KP.displayName="CardDescription";const Rt=p.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:X("p-6 pt-0",t),...e}));Rt.displayName="CardContent";const yW=p.forwardRef(({className:t,...e},n)=>u.jsx("div",{ref:n,className:X("flex items-center p-6 pt-0",t),...e}));yW.displayName="CardFooter";const vW=ll("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function is({className:t,variant:e,...n}){return u.jsx("div",{className:X(vW({variant:e}),t),...n})}const wW=[{key:"products",label:"Total Products",icon:wa,gradient:"stat-card-gradient"},{key:"customers",label:"Customers",icon:$v,gradient:"stat-card-accent"},{key:"routes",label:"Delivery Routes",icon:qc,gradient:"stat-card-success"},{key:"stock",label:"Total Stock",icon:YS,gradient:"stat-card-purple"}];function xW({products:t,customers:e,routes:n}){const r=t.reduce((o,a)=>o+a.stock,0),s=[...new Set(t.map(o=>o.category))],i={products:{value:t.length,sub:`${s.length} categories`},customers:{value:e.length,sub:"Active accounts"},routes:{value:n.length,sub:`${n.reduce((o,a)=>o+a.customers,0)} total stops`},stock:{value:r.toLocaleString(),sub:"Units available"}};return u.jsxs("div",{className:"space-y-6",children:[u.jsx("div",{className:"flex items-center justify-between",children:u.jsxs("div",{children:[u.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:["Dashboard",u.jsx(QS,{className:"h-6 w-6 text-primary"})]}),u.jsx("p",{className:"text-muted-foreground mt-1",children:"Welcome back! Here's your Swabhimani overview"})]})}),u.jsx("div",{className:"grid gap-5 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",children:wW.map((o,a)=>u.jsxs("div",{className:`${o.gradient} rounded-xl p-5 text-primary-foreground shadow-lg animate-slide-up`,style:{animationDelay:`${a*.1}s`},children:[u.jsxs("div",{className:"flex items-center justify-between mb-4",children:[u.jsx("div",{className:"h-12 w-12 rounded-lg bg-white/20 backdrop-blur-sm flex items-center justify-center",children:u.jsx(o.icon,{className:"h-6 w-6"})}),u.jsx(TM,{className:"h-5 w-5 opacity-70"})]}),u.jsx("div",{className:"text-3xl font-bold mb-1",children:i[o.key].value}),u.jsx("p",{className:"text-sm opacity-90 font-medium",children:o.label}),u.jsx("p",{className:"text-xs opacity-70 mt-1",children:i[o.key].sub})]},o.key))}),u.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[u.jsxs(Ct,{className:"shadow-medium border-0 hover-lift overflow-hidden",children:[u.jsx(ns,{className:"pb-4 bg-gradient-to-r from-primary/5 to-transparent border-b border-border/50",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs(rs,{className:"text-lg font-bold flex items-center gap-2",children:[u.jsx(wa,{className:"h-5 w-5 text-primary"}),"Top Products"]}),u.jsxs(is,{variant:"secondary",className:"text-xs font-semibold shadow-sm",children:[t.length," Total"]})]})}),u.jsx(Rt,{className:"p-0",children:u.jsx("div",{className:"divide-y divide-border/50",children:t.slice(0,5).map((o,a)=>u.jsxs("div",{className:"flex items-center justify-between px-5 py-4 hover:bg-secondary/50 transition-colors",style:{animationDelay:`${a*.05}s`},children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"h-10 w-10 rounded-lg bg-gradient-to-br from-primary/10 to-primary/5 flex items-center justify-center",children:u.jsx(wa,{className:"h-5 w-5 text-primary"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-semibold",children:o.name}),u.jsx("p",{className:"text-xs text-muted-foreground",children:o.category})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"text-sm font-bold text-primary",children:["",o.price]}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:["per ",o.unit]})]})]},o.id))})})]}),u.jsxs(Ct,{className:"shadow-medium border-0 hover-lift overflow-hidden",children:[u.jsx(ns,{className:"pb-4 bg-gradient-to-r from-accent/5 to-transparent border-b border-border/50",children:u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs(rs,{className:"text-lg font-bold flex items-center gap-2",children:[u.jsx(qc,{className:"h-5 w-5 text-accent"}),"Active Routes"]}),u.jsxs(is,{variant:"secondary",className:"text-xs font-semibold shadow-sm",children:[n.length," Routes"]})]})}),u.jsx(Rt,{className:"p-0",children:u.jsx("div",{className:"divide-y divide-border/50",children:n.map((o,a)=>u.jsxs("div",{className:"flex items-center justify-between px-5 py-4 hover:bg-secondary/50 transition-colors",style:{animationDelay:`${a*.05}s`},children:[u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"h-10 w-10 rounded-lg bg-gradient-to-br from-accent/10 to-accent/5 flex items-center justify-center",children:u.jsx(qc,{className:"h-5 w-5 text-accent"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-sm font-semibold",children:o.vehicleNumber}),u.jsx("p",{className:"text-xs text-muted-foreground",children:o.driverName})]})]}),u.jsxs("div",{className:"text-right",children:[u.jsxs("p",{className:"text-sm font-bold text-accent",children:[o.customers," stops"]}),u.jsxs("p",{className:"text-xs text-muted-foreground",children:[o.areas.length," areas"]})]})]},o.id))})})]})]}),u.jsxs(Ct,{className:"shadow-medium border-0 hover-lift",children:[u.jsx(ns,{className:"pb-4 bg-gradient-to-r from-purple-500/5 to-transparent border-b border-border/50",children:u.jsxs(rs,{className:"text-lg font-bold flex items-center gap-2",children:[u.jsx(YS,{className:"h-5 w-5 text-purple-600"}),"Products by Category"]})}),u.jsx(Rt,{className:"pt-6",children:u.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:s.map((o,a)=>{const l=t.filter(d=>d.category===o).length;return u.jsxs("div",{className:"flex items-center gap-3 rounded-xl border border-border/50 p-4 hover:shadow-md hover:border-primary/30 transition-all bg-gradient-to-br from-background to-secondary/20 animate-scale-in",style:{animationDelay:`${a*.05}s`},children:[u.jsx("div",{className:"h-12 w-12 rounded-lg bg-gradient-to-br from-primary/10 to-primary/5 flex items-center justify-center flex-shrink-0",children:u.jsx(wa,{className:"h-6 w-6 text-primary"})}),u.jsxs("div",{children:[u.jsx("p",{className:"text-2xl font-bold",children:l}),u.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:o})]})]},o)})})})]})]})}var _W="Label",GP=p.forwardRef((t,e)=>u.jsx(ge.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));GP.displayName=_W;var QP=GP;const EW=ll("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),Se=p.forwardRef(({className:t,...e},n)=>u.jsx(QP,{ref:n,className:X(EW(),t),...e}));Se.displayName=QP.displayName;function GE(t,[e,n]){return Math.min(n,Math.max(e,t))}function bW(t){const e=p.useRef({value:t,previous:t});return p.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var TW=[" ","Enter","ArrowUp","ArrowDown"],SW=[" ","Enter"],Co="Select",[Tp,Sp,IW]=Rf(Co),[Sl,Tq]=xs(Co,[IW,hl]),Ip=hl(),[CW,Fi]=Sl(Co),[RW,NW]=Sl(Co),YP=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:l,dir:d,name:h,autoComplete:f,disabled:m,required:g,form:T}=t,v=Ip(e),[b,_]=p.useState(null),[w,x]=p.useState(null),[A,O]=p.useState(!1),M=h0(d),[I,S]=vo({prop:r,defaultProp:s??!1,onChange:i,caller:Co}),[P,k]=vo({prop:o,defaultProp:a,onChange:l,caller:Co}),D=p.useRef(null),C=b?T||!!b.closest("form"):!0,[N,$]=p.useState(new Set),se=Array.from(N).map(Y=>Y.props.value).join(";");return u.jsx(Jv,{...v,children:u.jsxs(CW,{required:g,scope:e,trigger:b,onTriggerChange:_,valueNode:w,onValueNodeChange:x,valueNodeHasChildren:A,onValueNodeHasChildrenChange:O,contentId:Ar(),value:P,onValueChange:k,open:I,onOpenChange:S,dir:M,triggerPointerDownPosRef:D,disabled:m,children:[u.jsx(Tp.Provider,{scope:e,children:u.jsx(RW,{scope:t.__scopeSelect,onNativeOptionAdd:p.useCallback(Y=>{$(ie=>new Set(ie).add(Y))},[]),onNativeOptionRemove:p.useCallback(Y=>{$(ie=>{const U=new Set(ie);return U.delete(Y),U})},[]),children:n})}),C?u.jsxs(xk,{"aria-hidden":!0,required:g,tabIndex:-1,name:h,autoComplete:f,value:P,onChange:Y=>k(Y.target.value),disabled:m,form:T,children:[P===void 0?u.jsx("option",{value:""}):null,Array.from(N)]},se):null]})})};YP.displayName=Co;var XP="SelectTrigger",JP=p.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=Ip(n),o=Fi(XP,n),a=o.disabled||r,l=je(e,o.onTriggerChange),d=Sp(n),h=p.useRef("touch"),[f,m,g]=Ek(v=>{const b=d().filter(x=>!x.disabled),_=b.find(x=>x.value===o.value),w=bk(b,v,_);w!==void 0&&o.onValueChange(w.value)}),T=v=>{a||(o.onOpenChange(!0),g()),v&&(o.triggerPointerDownPosRef.current={x:Math.round(v.pageX),y:Math.round(v.pageY)})};return u.jsx(Zv,{asChild:!0,...i,children:u.jsx(ge.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":_k(o.value)?"":void 0,...s,ref:l,onClick:ee(s.onClick,v=>{v.currentTarget.focus(),h.current!=="mouse"&&T(v)}),onPointerDown:ee(s.onPointerDown,v=>{h.current=v.pointerType;const b=v.target;b.hasPointerCapture(v.pointerId)&&b.releasePointerCapture(v.pointerId),v.button===0&&v.ctrlKey===!1&&v.pointerType==="mouse"&&(T(v),v.preventDefault())}),onKeyDown:ee(s.onKeyDown,v=>{const b=f.current!=="";!(v.ctrlKey||v.altKey||v.metaKey)&&v.key.length===1&&m(v.key),!(b&&v.key===" ")&&TW.includes(v.key)&&(T(),v.preventDefault())})})})});JP.displayName=XP;var ZP="SelectValue",ek=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,l=Fi(ZP,n),{onValueNodeHasChildrenChange:d}=l,h=i!==void 0,f=je(e,l.onValueNodeChange);return Mt(()=>{d(h)},[d,h]),u.jsx(ge.span,{...a,ref:f,style:{pointerEvents:"none"},children:_k(l.value)?u.jsx(u.Fragment,{children:o}):i})});ek.displayName=ZP;var AW="SelectIcon",tk=p.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return u.jsx(ge.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});tk.displayName=AW;var PW="SelectPortal",nk=t=>u.jsx(wu,{asChild:!0,...t});nk.displayName=PW;var Ro="SelectContent",rk=p.forwardRef((t,e)=>{const n=Fi(Ro,t.__scopeSelect),[r,s]=p.useState();if(Mt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Po.createPortal(u.jsx(sk,{scope:t.__scopeSelect,children:u.jsx(Tp.Slot,{scope:t.__scopeSelect,children:u.jsx("div",{children:t.children})})}),i):null}return u.jsx(ik,{...t,ref:e})});rk.displayName=Ro;var Wn=10,[sk,Ui]=Sl(Ro),kW="SelectContentImpl",DW=yo("SelectContent.RemoveScroll"),ik=p.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:l,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:T,hideWhenDetached:v,avoidCollisions:b,..._}=t,w=Fi(Ro,n),[x,A]=p.useState(null),[O,M]=p.useState(null),I=je(e,q=>A(q)),[S,P]=p.useState(null),[k,D]=p.useState(null),C=Sp(n),[N,$]=p.useState(!1),se=p.useRef(!1);p.useEffect(()=>{if(x)return l0(x)},[x]),a0();const Y=p.useCallback(q=>{const[we,...Re]=C().map(Ne=>Ne.ref.current),[Ee]=Re.slice(-1),be=document.activeElement;for(const Ne of q)if(Ne===be||(Ne==null||Ne.scrollIntoView({block:"nearest"}),Ne===we&&O&&(O.scrollTop=0),Ne===Ee&&O&&(O.scrollTop=O.scrollHeight),Ne==null||Ne.focus(),document.activeElement!==be))return},[C,O]),ie=p.useCallback(()=>Y([S,x]),[Y,S,x]);p.useEffect(()=>{N&&ie()},[N,ie]);const{onOpenChange:U,triggerPointerDownPosRef:L}=w;p.useEffect(()=>{if(x){let q={x:0,y:0};const we=Ee=>{var be,Ne;q={x:Math.abs(Math.round(Ee.pageX)-(((be=L.current)==null?void 0:be.x)??0)),y:Math.abs(Math.round(Ee.pageY)-(((Ne=L.current)==null?void 0:Ne.y)??0))}},Re=Ee=>{q.x<=10&&q.y<=10?Ee.preventDefault():x.contains(Ee.target)||U(!1),document.removeEventListener("pointermove",we),L.current=null};return L.current!==null&&(document.addEventListener("pointermove",we),document.addEventListener("pointerup",Re,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",we),document.removeEventListener("pointerup",Re,{capture:!0})}}},[x,U,L]),p.useEffect(()=>{const q=()=>U(!1);return window.addEventListener("blur",q),window.addEventListener("resize",q),()=>{window.removeEventListener("blur",q),window.removeEventListener("resize",q)}},[U]);const[K,oe]=Ek(q=>{const we=C().filter(be=>!be.disabled),Re=we.find(be=>be.ref.current===document.activeElement),Ee=bk(we,q,Re);Ee&&setTimeout(()=>Ee.ref.current.focus())}),j=p.useCallback((q,we,Re)=>{const Ee=!se.current&&!Re;(w.value!==void 0&&w.value===we||Ee)&&(P(q),Ee&&(se.current=!0))},[w.value]),J=p.useCallback(()=>x==null?void 0:x.focus(),[x]),Z=p.useCallback((q,we,Re)=>{const Ee=!se.current&&!Re;(w.value!==void 0&&w.value===we||Ee)&&D(q)},[w.value]),he=r==="popper"?jy:ok,xe=he===jy?{side:a,sideOffset:l,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:m,collisionPadding:g,sticky:T,hideWhenDetached:v,avoidCollisions:b}:{};return u.jsx(sk,{scope:n,content:x,viewport:O,onViewportChange:M,itemRefCallback:j,selectedItem:S,onItemLeave:J,itemTextRefCallback:Z,focusSelectedItem:ie,selectedItemText:k,position:r,isPositioned:N,searchRef:K,children:u.jsx(pp,{as:DW,allowPinchZoom:!0,children:u.jsx(hp,{asChild:!0,trapped:w.open,onMountAutoFocus:q=>{q.preventDefault()},onUnmountAutoFocus:ee(s,q=>{var we;(we=w.trigger)==null||we.focus({preventScroll:!0}),q.preventDefault()}),children:u.jsx(al,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:q=>q.preventDefault(),onDismiss:()=>w.onOpenChange(!1),children:u.jsx(he,{role:"listbox",id:w.contentId,"data-state":w.open?"open":"closed",dir:w.dir,onContextMenu:q=>q.preventDefault(),..._,...xe,onPlaced:()=>$(!0),ref:I,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:ee(_.onKeyDown,q=>{const we=q.ctrlKey||q.altKey||q.metaKey;if(q.key==="Tab"&&q.preventDefault(),!we&&q.key.length===1&&oe(q.key),["ArrowUp","ArrowDown","Home","End"].includes(q.key)){let Ee=C().filter(be=>!be.disabled).map(be=>be.ref.current);if(["ArrowUp","End"].includes(q.key)&&(Ee=Ee.slice().reverse()),["ArrowUp","ArrowDown"].includes(q.key)){const be=q.target,Ne=Ee.indexOf(be);Ee=Ee.slice(Ne+1)}setTimeout(()=>Y(Ee)),q.preventDefault()}})})})})})})});ik.displayName=kW;var OW="SelectItemAlignedPosition",ok=p.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Fi(Ro,n),o=Ui(Ro,n),[a,l]=p.useState(null),[d,h]=p.useState(null),f=je(e,I=>h(I)),m=Sp(n),g=p.useRef(!1),T=p.useRef(!0),{viewport:v,selectedItem:b,selectedItemText:_,focusSelectedItem:w}=o,x=p.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&d&&v&&b&&_){const I=i.trigger.getBoundingClientRect(),S=d.getBoundingClientRect(),P=i.valueNode.getBoundingClientRect(),k=_.getBoundingClientRect();if(i.dir!=="rtl"){const be=k.left-S.left,Ne=P.left-be,ut=I.left-Ne,Kt=I.width+ut,Br=Math.max(Kt,S.width),Rn=window.innerWidth-Wn,Un=GE(Ne,[Wn,Math.max(Wn,Rn-Br)]);a.style.minWidth=Kt+"px",a.style.left=Un+"px"}else{const be=S.right-k.right,Ne=window.innerWidth-P.right-be,ut=window.innerWidth-I.right-Ne,Kt=I.width+ut,Br=Math.max(Kt,S.width),Rn=window.innerWidth-Wn,Un=GE(Ne,[Wn,Math.max(Wn,Rn-Br)]);a.style.minWidth=Kt+"px",a.style.right=Un+"px"}const D=m(),C=window.innerHeight-Wn*2,N=v.scrollHeight,$=window.getComputedStyle(d),se=parseInt($.borderTopWidth,10),Y=parseInt($.paddingTop,10),ie=parseInt($.borderBottomWidth,10),U=parseInt($.paddingBottom,10),L=se+Y+N+U+ie,K=Math.min(b.offsetHeight*5,L),oe=window.getComputedStyle(v),j=parseInt(oe.paddingTop,10),J=parseInt(oe.paddingBottom,10),Z=I.top+I.height/2-Wn,he=C-Z,xe=b.offsetHeight/2,q=b.offsetTop+xe,we=se+Y+q,Re=L-we;if(we<=Z){const be=D.length>0&&b===D[D.length-1].ref.current;a.style.bottom="0px";const Ne=d.clientHeight-v.offsetTop-v.offsetHeight,ut=Math.max(he,xe+(be?J:0)+Ne+ie),Kt=we+ut;a.style.height=Kt+"px"}else{const be=D.length>0&&b===D[0].ref.current;a.style.top="0px";const ut=Math.max(Z,se+v.offsetTop+(be?j:0)+xe)+Re;a.style.height=ut+"px",v.scrollTop=we-Z+v.offsetTop}a.style.margin=`${Wn}px 0`,a.style.minHeight=K+"px",a.style.maxHeight=C+"px",r==null||r(),requestAnimationFrame(()=>g.current=!0)}},[m,i.trigger,i.valueNode,a,d,v,b,_,i.dir,r]);Mt(()=>x(),[x]);const[A,O]=p.useState();Mt(()=>{d&&O(window.getComputedStyle(d).zIndex)},[d]);const M=p.useCallback(I=>{I&&T.current===!0&&(x(),w==null||w(),T.current=!1)},[x,w]);return u.jsx(jW,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:g,onScrollButtonChange:M,children:u.jsx("div",{ref:l,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:A},children:u.jsx(ge.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});ok.displayName=OW;var MW="SelectPopperPosition",jy=p.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Wn,...i}=t,o=Ip(n);return u.jsx(ew,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});jy.displayName=MW;var[jW,x0]=Sl(Ro,{}),Ly="SelectViewport",ak=p.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Ui(Ly,n),o=x0(Ly,n),a=je(e,i.onViewportChange),l=p.useRef(0);return u.jsxs(u.Fragment,{children:[u.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),u.jsx(Tp.Slot,{scope:n,children:u.jsx(ge.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ee(s.onScroll,d=>{const h=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:m}=o;if(m!=null&&m.current&&f){const g=Math.abs(l.current-h.scrollTop);if(g>0){const T=window.innerHeight-Wn*2,v=parseFloat(f.style.minHeight),b=parseFloat(f.style.height),_=Math.max(v,b);if(_<T){const w=_+g,x=Math.min(T,w),A=w-x;f.style.height=x+"px",f.style.bottom==="0px"&&(h.scrollTop=A>0?A:0,f.style.justifyContent="flex-end")}}}l.current=h.scrollTop})})})]})});ak.displayName=Ly;var lk="SelectGroup",[LW,VW]=Sl(lk),FW=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Ar();return u.jsx(LW,{scope:n,id:s,children:u.jsx(ge.div,{role:"group","aria-labelledby":s,...r,ref:e})})});FW.displayName=lk;var ck="SelectLabel",uk=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=VW(ck,n);return u.jsx(ge.div,{id:s.id,...r,ref:e})});uk.displayName=ck;var uf="SelectItem",[UW,dk]=Sl(uf),hk=p.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=Fi(uf,n),l=Ui(uf,n),d=a.value===r,[h,f]=p.useState(i??""),[m,g]=p.useState(!1),T=je(e,w=>{var x;return(x=l.itemRefCallback)==null?void 0:x.call(l,w,r,s)}),v=Ar(),b=p.useRef("touch"),_=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return u.jsx(UW,{scope:n,value:r,disabled:s,textId:v,isSelected:d,onItemTextChange:p.useCallback(w=>{f(x=>x||((w==null?void 0:w.textContent)??"").trim())},[]),children:u.jsx(Tp.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:u.jsx(ge.div,{role:"option","aria-labelledby":v,"data-highlighted":m?"":void 0,"aria-selected":d&&m,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:T,onFocus:ee(o.onFocus,()=>g(!0)),onBlur:ee(o.onBlur,()=>g(!1)),onClick:ee(o.onClick,()=>{b.current!=="mouse"&&_()}),onPointerUp:ee(o.onPointerUp,()=>{b.current==="mouse"&&_()}),onPointerDown:ee(o.onPointerDown,w=>{b.current=w.pointerType}),onPointerMove:ee(o.onPointerMove,w=>{var x;b.current=w.pointerType,s?(x=l.onItemLeave)==null||x.call(l):b.current==="mouse"&&w.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ee(o.onPointerLeave,w=>{var x;w.currentTarget===document.activeElement&&((x=l.onItemLeave)==null||x.call(l))}),onKeyDown:ee(o.onKeyDown,w=>{var A;((A=l.searchRef)==null?void 0:A.current)!==""&&w.key===" "||(SW.includes(w.key)&&_(),w.key===" "&&w.preventDefault())})})})})});hk.displayName=uf;var lc="SelectItemText",fk=p.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Fi(lc,n),a=Ui(lc,n),l=dk(lc,n),d=NW(lc,n),[h,f]=p.useState(null),m=je(e,_=>f(_),l.onItemTextChange,_=>{var w;return(w=a.itemTextRefCallback)==null?void 0:w.call(a,_,l.value,l.disabled)}),g=h==null?void 0:h.textContent,T=p.useMemo(()=>u.jsx("option",{value:l.value,disabled:l.disabled,children:g},l.value),[l.disabled,l.value,g]),{onNativeOptionAdd:v,onNativeOptionRemove:b}=d;return Mt(()=>(v(T),()=>b(T)),[v,b,T]),u.jsxs(u.Fragment,{children:[u.jsx(ge.span,{id:l.textId,...i,ref:m}),l.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Po.createPortal(i.children,o.valueNode):null]})});fk.displayName=lc;var pk="SelectItemIndicator",mk=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return dk(pk,n).isSelected?u.jsx(ge.span,{"aria-hidden":!0,...r,ref:e}):null});mk.displayName=pk;var Vy="SelectScrollUpButton",gk=p.forwardRef((t,e)=>{const n=Ui(Vy,t.__scopeSelect),r=x0(Vy,t.__scopeSelect),[s,i]=p.useState(!1),o=je(e,r.onScrollButtonChange);return Mt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const d=l.scrollTop>0;i(d)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(vk,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop-l.offsetHeight)}}):null});gk.displayName=Vy;var Fy="SelectScrollDownButton",yk=p.forwardRef((t,e)=>{const n=Ui(Fy,t.__scopeSelect),r=x0(Fy,t.__scopeSelect),[s,i]=p.useState(!1),o=je(e,r.onScrollButtonChange);return Mt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const d=l.scrollHeight-l.clientHeight,h=Math.ceil(l.scrollTop)<d;i(h)};const l=n.viewport;return a(),l.addEventListener("scroll",a),()=>l.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?u.jsx(vk,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:l}=n;a&&l&&(a.scrollTop=a.scrollTop+l.offsetHeight)}}):null});yk.displayName=Fy;var vk=p.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Ui("SelectScrollButton",n),o=p.useRef(null),a=Sp(n),l=p.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return p.useEffect(()=>()=>l(),[l]),Mt(()=>{var h;const d=a().find(f=>f.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),u.jsx(ge.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ee(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ee(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ee(s.onPointerLeave,()=>{l()})})}),$W="SelectSeparator",wk=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return u.jsx(ge.div,{"aria-hidden":!0,...r,ref:e})});wk.displayName=$W;var Uy="SelectArrow",BW=p.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Ip(n),i=Fi(Uy,n),o=Ui(Uy,n);return i.open&&o.position==="popper"?u.jsx(tw,{...s,...r,ref:e}):null});BW.displayName=Uy;var zW="SelectBubbleInput",xk=p.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=p.useRef(null),i=je(r,s),o=bW(e);return p.useEffect(()=>{const a=s.current;if(!a)return;const l=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(l,"value").set;if(o!==e&&h){const f=new Event("change",{bubbles:!0});h.call(a,e),a.dispatchEvent(f)}},[o,e]),u.jsx(ge.select,{...n,style:{...bS,...n.style},ref:i,defaultValue:e})});xk.displayName=zW;function _k(t){return t===""||t===void 0}function Ek(t){const e=mn(t),n=p.useRef(""),r=p.useRef(0),s=p.useCallback(o=>{const a=n.current+o;e(a),function l(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>l(""),1e3))}(a)},[e]),i=p.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return p.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function bk(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=HW(t,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const l=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return l!==n?l:void 0}function HW(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var WW=YP,Tk=JP,qW=ek,KW=tk,GW=nk,Sk=rk,QW=ak,Ik=uk,Ck=hk,YW=fk,XW=mk,Rk=gk,Nk=yk,Ak=wk;const Us=WW,$s=qW,Qr=p.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(Tk,{ref:r,className:X("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,u.jsx(KW,{asChild:!0,children:u.jsx(KS,{className:"h-4 w-4 opacity-50"})})]}));Qr.displayName=Tk.displayName;const Pk=p.forwardRef(({className:t,...e},n)=>u.jsx(Rk,{ref:n,className:X("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(CM,{className:"h-4 w-4"})}));Pk.displayName=Rk.displayName;const kk=p.forwardRef(({className:t,...e},n)=>u.jsx(Nk,{ref:n,className:X("flex cursor-default items-center justify-center py-1",t),...e,children:u.jsx(KS,{className:"h-4 w-4"})}));kk.displayName=Nk.displayName;const Yr=p.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>u.jsx(GW,{children:u.jsxs(Sk,{ref:s,className:X("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[u.jsx(Pk,{}),u.jsx(QW,{className:X("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),u.jsx(kk,{})]})}));Yr.displayName=Sk.displayName;const JW=p.forwardRef(({className:t,...e},n)=>u.jsx(Ik,{ref:n,className:X("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));JW.displayName=Ik.displayName;const Tt=p.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(Ck,{ref:r,className:X("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[u.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:u.jsx(XW,{children:u.jsx(qS,{className:"h-4 w-4"})})}),u.jsx(YW,{children:e})]}));Tt.displayName=Ck.displayName;const ZW=p.forwardRef(({className:t,...e},n)=>u.jsx(Ak,{ref:n,className:X("-mx-1 my-1 h-px bg-muted",t),...e}));ZW.displayName=Ak.displayName;const Ai=IA,Cp=p8,eq=CA,Dk=p.forwardRef(({className:t,...e},n)=>u.jsx(gp,{ref:n,className:X("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Dk.displayName=gp.displayName;const gs=p.forwardRef(({className:t,children:e,...n},r)=>u.jsxs(eq,{children:[u.jsx(Dk,{}),u.jsxs(yp,{ref:r,className:X("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,u.jsxs(RA,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[u.jsx(kf,{className:"h-4 w-4"}),u.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));gs.displayName=yp.displayName;const ys=({className:t,...e})=>u.jsx("div",{className:X("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});ys.displayName="DialogHeader";const Pi=({className:t,...e})=>u.jsx("div",{className:X("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});Pi.displayName="DialogFooter";const vs=p.forwardRef(({className:t,...e},n)=>u.jsx(vp,{ref:n,className:X("text-lg font-semibold leading-none tracking-tight",t),...e}));vs.displayName=vp.displayName;const tq=p.forwardRef(({className:t,...e},n)=>u.jsx(wp,{ref:n,className:X("text-sm text-muted-foreground",t),...e}));tq.displayName=wp.displayName;const QE=["Milk","Curd & Yogurt","Butter & Ghee","Cheese","Paneer","Ice Cream","Other"];function nq({products:t,addProduct:e,removeProduct:n,updateProduct:r}){const s=ml(),[i,o]=p.useState("all"),[a,l]=p.useState(""),[d,h]=p.useState(!1),[f,m]=p.useState(!1),[g,T]=p.useState(null),[v,b]=p.useState({name:"",category:"",price:"",unit:"",stock:""}),[_,w]=p.useState({}),x=[...new Set(t.map(C=>C.category))],A=t.filter(C=>i==="all"||C.category===i).filter(C=>C.name.toLowerCase().includes(a.toLowerCase())),O=()=>{if(!v.name||!v.category||!v.price||!v.unit||!v.stock){le.error("Please fill all fields");return}e({name:v.name,category:v.category,price:Number(v.price),unit:v.unit,stock:Number(v.stock)}),b({name:"",category:"",price:"",unit:"",stock:""}),h(!1),le.success("Product added successfully")},M=C=>{T(C),b({name:C.name,category:C.category,price:C.price.toString(),unit:C.unit,stock:C.stock.toString()}),m(!0)},I=()=>{if(g){if(!v.name||!v.category||!v.price||!v.unit||!v.stock){le.error("Please fill all fields");return}r(g.id,{name:v.name,category:v.category,price:Number(v.price),unit:v.unit,stock:Number(v.stock)}),b({name:"",category:"",price:"",unit:"",stock:""}),m(!1),T(null),le.success("Product updated successfully")}},S=(C,N)=>{n(C),le.success(`${N} removed`)},P=C=>{w(N=>{const $={...N};return $[C]?delete $[C]:$[C]=1,$})},k=(C,N)=>{w($=>{const se=$[C]||0,Y=Math.max(0,se+N),ie={...$};return Y===0?delete ie[C]:ie[C]=Y,ie})},D=()=>{s("/invoices",{state:{selectedProducts:_}})};return u.jsxs("div",{className:"space-y-6 animate-fade-in pb-24",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Products"}),u.jsxs("p",{className:"text-muted-foreground mt-1",children:[t.length," products across ",x.length," categories"]})]}),u.jsxs("div",{className:"flex gap-2",children:[Object.keys(_).length>0&&u.jsx(Me,{variant:"secondary",onClick:()=>w({}),children:"Clear Selection"}),u.jsxs(Ai,{open:d,onOpenChange:h,children:[u.jsx(Cp,{asChild:!0,children:u.jsxs(Me,{size:"lg",className:"shadow-md hover:shadow-lg transition-all",children:[u.jsx(Wa,{className:"h-5 w-5 mr-2"})," Add Product"]})}),u.jsxs(gs,{children:[u.jsx(ys,{children:u.jsx(vs,{className:"text-base font-bold",children:"Add New Product"})}),u.jsxs("div",{className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid gap-1.5",children:[u.jsx(Se,{className:"text-xs font-medium",children:"Product Name"}),u.jsx(Ae,{value:v.name,onChange:C=>b({...v,name:C.target.value}),placeholder:"e.g. Full Cream Milk",className:"h-9 text-sm"})]}),u.jsxs("div",{className:"grid gap-1.5",children:[u.jsx(Se,{className:"text-xs font-medium",children:"Category"}),u.jsxs(Us,{value:v.category,onValueChange:C=>b({...v,category:C}),children:[u.jsx(Qr,{className:"h-9 text-sm",children:u.jsx($s,{placeholder:"Select category"})}),u.jsx(Yr,{children:QE.map(C=>u.jsx(Tt,{value:C,children:C},C))})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[u.jsxs("div",{className:"grid gap-1.5",children:[u.jsx(Se,{className:"text-xs font-medium",children:"Price ()"}),u.jsx(Ae,{type:"number",value:v.price,onChange:C=>b({...v,price:C.target.value}),className:"h-9 text-sm"})]}),u.jsxs("div",{className:"grid gap-1.5",children:[u.jsx(Se,{className:"text-xs font-medium",children:"Unit"}),u.jsx(Ae,{value:v.unit,onChange:C=>b({...v,unit:C.target.value}),placeholder:"Litre",className:"h-9 text-sm"})]}),u.jsxs("div",{className:"grid gap-1.5",children:[u.jsx(Se,{className:"text-xs font-medium",children:"Stock"}),u.jsx(Ae,{type:"number",value:v.stock,onChange:C=>b({...v,stock:C.target.value}),className:"h-9 text-sm"})]})]})]}),u.jsx(Pi,{children:u.jsx(Me,{size:"sm",onClick:O,children:"Add Product"})})]})]})]})]}),u.jsx(Ai,{open:f,onOpenChange:m,children:u.jsxs(gs,{children:[u.jsx(ys,{children:u.jsx(vs,{className:"text-base font-bold",children:"Edit Product"})}),u.jsxs("div",{className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid gap-1.5",children:[u.jsx(Se,{className:"text-xs font-medium",children:"Product Name"}),u.jsx(Ae,{value:v.name,onChange:C=>b({...v,name:C.target.value}),placeholder:"e.g. Full Cream Milk",className:"h-9 text-sm"})]}),u.jsxs("div",{className:"grid gap-1.5",children:[u.jsx(Se,{className:"text-xs font-medium",children:"Category"}),u.jsxs(Us,{value:v.category,onValueChange:C=>b({...v,category:C}),children:[u.jsx(Qr,{className:"h-9 text-sm",children:u.jsx($s,{placeholder:"Select category"})}),u.jsx(Yr,{children:QE.map(C=>u.jsx(Tt,{value:C,children:C},C))})]})]}),u.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[u.jsxs("div",{className:"grid gap-1.5",children:[u.jsx(Se,{className:"text-xs font-medium",children:"Price ()"}),u.jsx(Ae,{type:"number",value:v.price,onChange:C=>b({...v,price:C.target.value}),className:"h-9 text-sm"})]}),u.jsxs("div",{className:"grid gap-1.5",children:[u.jsx(Se,{className:"text-xs font-medium",children:"Unit"}),u.jsx(Ae,{value:v.unit,onChange:C=>b({...v,unit:C.target.value}),placeholder:"Litre",className:"h-9 text-sm"})]}),u.jsxs("div",{className:"grid gap-1.5",children:[u.jsx(Se,{className:"text-xs font-medium",children:"Stock"}),u.jsx(Ae,{type:"number",value:v.stock,onChange:C=>b({...v,stock:C.target.value}),className:"h-9 text-sm"})]})]})]}),u.jsx(Pi,{children:u.jsx(Me,{size:"sm",onClick:I,children:"Update Product"})})]})}),u.jsx(Ct,{className:"shadow-medium border-0 hover-lift",children:u.jsxs(Rt,{className:"p-4 flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[u.jsxs("div",{className:"relative flex-1 max-w-xs",children:[u.jsx(Wc,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground"}),u.jsx(Ae,{placeholder:"Search products...",value:a,onChange:C=>l(C.target.value),className:"pl-9 h-9 text-sm bg-secondary border-0"})]}),u.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[u.jsxs(is,{variant:i==="all"?"default":"outline",className:"cursor-pointer text-[11px] px-2.5 py-1",onClick:()=>o("all"),children:["All (",t.length,")"]}),x.map(C=>u.jsxs(is,{variant:i===C?"default":"outline",className:"cursor-pointer text-[11px] px-2.5 py-1",onClick:()=>o(C),children:[C," (",t.filter(N=>N.category===C).length,")"]},C))]})]})}),A.length===0?u.jsx(Ct,{className:"shadow-medium border-0 hover-lift",children:u.jsx(Rt,{className:"p-12 text-center",children:u.jsx("p",{className:"text-muted-foreground text-sm",children:"No products found"})})}):u.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:A.map(C=>{const N=!!_[C.id],$=_[C.id]||0;return u.jsx(Ct,{className:`shadow-medium border-0 overflow-hidden hover-lift group transition-all duration-300 hover:shadow-xl ${N?"ring-2 ring-primary ring-offset-2":""}`,children:u.jsxs(Rt,{className:"p-0",children:[u.jsxs("div",{className:"bg-gradient-to-br from-primary/10 via-primary/5 to-transparent p-6 border-b border-border/50 relative",children:[u.jsx("div",{className:"absolute top-4 right-4 z-10",children:u.jsx(Me,{size:"sm",variant:N?"default":"outline",className:`h-8 w-8 rounded-full p-0 shadow-sm transition-all ${N?"bg-primary text-primary-foreground":"bg-background hover:bg-primary/10"}`,onClick:()=>P(C.id),children:u.jsx(FM,{className:"h-4 w-4"})})}),u.jsxs("div",{className:"flex items-start justify-between mb-3 pr-8",children:[u.jsx(is,{variant:"secondary",className:"text-xs font-semibold bg-primary/20 text-primary border-primary/30",children:C.category}),u.jsxs("div",{className:`px-2.5 py-1 rounded-full text-xs font-bold ${C.stock<100?"bg-destructive/10 text-destructive":"bg-success/10 text-success"}`,children:[C.stock," in stock"]})]}),u.jsx("h3",{className:"text-xl font-bold text-foreground group-hover:text-primary transition-colors truncate pr-8",children:C.name})]}),u.jsxs("div",{className:"p-6 space-y-4",children:[u.jsx("div",{className:"flex items-baseline justify-between",children:u.jsxs("div",{children:[u.jsxs("span",{className:"text-3xl font-bold text-primary",children:["",C.price]}),u.jsxs("span",{className:"text-muted-foreground text-sm ml-1.5",children:["/ ",C.unit]})]})}),N&&u.jsxs("div",{className:"flex items-center justify-between bg-secondary/30 p-2 rounded-lg animate-in slide-in-from-top-2",children:[u.jsx(Se,{className:"text-xs font-semibold",children:"Quantity:"}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Me,{variant:"outline",size:"icon",className:"h-7 w-7 rounded-full",onClick:()=>k(C.id,-1),children:u.jsx(LM,{className:"h-3 w-3"})}),u.jsx("span",{className:"text-sm font-bold w-6 text-center",children:$}),u.jsx(Me,{variant:"outline",size:"icon",className:"h-7 w-7 rounded-full",onClick:()=>k(C.id,1),children:u.jsx(Wa,{className:"h-3 w-3"})})]})]}),u.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t border-border/50",children:[u.jsxs(Me,{variant:"ghost",size:"sm",className:"flex-1 hover:bg-blue-50 hover:text-blue-600 transition-all text-xs",onClick:()=>M(C),children:[u.jsx(Uv,{className:"h-3.5 w-3.5 mr-1.5"}),"Edit"]}),u.jsxs(Me,{variant:"ghost",size:"sm",className:"flex-1 hover:bg-destructive/10 hover:text-destructive transition-all text-xs",onClick:()=>S(C.id,C.name),children:[u.jsx(Pf,{className:"h-3.5 w-3.5 mr-1.5"}),"Delete"]})]})]})]})},C.id)})}),Object.keys(_).length>0&&u.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-50 w-full max-w-md px-4 animate-in slide-in-from-bottom-5",children:u.jsx(Ct,{className:"shadow-2xl bg-primary text-primary-foreground border-0",children:u.jsxs(Rt,{className:"p-4 flex items-center justify-between gap-4",children:[u.jsxs("div",{className:"flex flex-col",children:[u.jsxs("span",{className:"font-bold text-lg",children:[Object.keys(_).length," items selected"]}),u.jsxs("span",{className:"text-xs text-primary-foreground/80",children:["Total: ",Object.entries(_).reduce((C,[N,$])=>{const se=t.find(Y=>Y.id===N);return C+(se?se.price*$:0)},0)]})]}),u.jsx(Me,{variant:"secondary",size:"lg",className:"font-bold shadow-lg hover:shadow-xl transition-all",onClick:D,children:"Generate Invoice"})]})})})]})}const Sc=p.forwardRef(({className:t,...e},n)=>u.jsx("div",{className:"relative w-full overflow-auto",children:u.jsx("table",{ref:n,className:X("w-full caption-bottom text-sm",t),...e})}));Sc.displayName="Table";const Ic=p.forwardRef(({className:t,...e},n)=>u.jsx("thead",{ref:n,className:X("[&_tr]:border-b",t),...e}));Ic.displayName="TableHeader";const Cc=p.forwardRef(({className:t,...e},n)=>u.jsx("tbody",{ref:n,className:X("[&_tr:last-child]:border-0",t),...e}));Cc.displayName="TableBody";const rq=p.forwardRef(({className:t,...e},n)=>u.jsx("tfoot",{ref:n,className:X("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));rq.displayName="TableFooter";const Xn=p.forwardRef(({className:t,...e},n)=>u.jsx("tr",{ref:n,className:X("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",t),...e}));Xn.displayName="TableRow";const at=p.forwardRef(({className:t,...e},n)=>u.jsx("th",{ref:n,className:X("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));at.displayName="TableHead";const Xe=p.forwardRef(({className:t,...e},n)=>u.jsx("td",{ref:n,className:X("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Xe.displayName="TableCell";const sq=p.forwardRef(({className:t,...e},n)=>u.jsx("caption",{ref:n,className:X("mt-4 text-sm text-muted-foreground",t),...e}));sq.displayName="TableCaption";function iq({customers:t,addCustomer:e,removeCustomer:n,updateCustomer:r}){const s=ml(),[i,o]=p.useState(!1),[a,l]=p.useState(!1),[d,h]=p.useState(null),[f,m]=p.useState(""),[g,T]=p.useState({name:"",phone:"",address:"",route:""}),v=t.filter(x=>x.name.toLowerCase().includes(f.toLowerCase())||x.phone.includes(f)),b=()=>{if(!g.name||!g.phone||!g.address){le.error("Please fill all required fields");return}e(g),T({name:"",phone:"",address:"",route:""}),o(!1),le.success("Customer added")},_=x=>{h(x),T({name:x.name,phone:x.phone,address:x.address,route:x.route}),l(!0)},w=()=>{if(d){if(!g.name||!g.phone||!g.address){le.error("Please fill all required fields");return}r(d.id,g),T({name:"",phone:"",address:"",route:""}),l(!1),h(null),le.success("Customer updated")}};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-xl font-bold tracking-tight",children:"Customers"}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.length," registered customers"]})]}),u.jsxs(Ai,{open:i,onOpenChange:o,children:[u.jsx(Cp,{asChild:!0,children:u.jsxs(Me,{size:"sm",className:"shadow-sm",children:[u.jsx(Wa,{className:"h-4 w-4 mr-1.5"})," Add Customer"]})}),u.jsxs(gs,{children:[u.jsx(ys,{children:u.jsx(vs,{className:"text-base font-bold",children:"Add New Customer"})}),u.jsxs("div",{className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid gap-1.5",children:[u.jsx(Se,{className:"text-xs font-medium",children:"Name"}),u.jsx(Ae,{value:g.name,onChange:x=>T({...g,name:x.target.value}),placeholder:"Customer name",className:"h-9 text-sm"})]}),u.jsxs("div",{className:"grid gap-1.5",children:[u.jsx(Se,{className:"text-xs font-medium",children:"Phone"}),u.jsx(Ae,{value:g.phone,onChange:x=>T({...g,phone:x.target.value}),placeholder:"Phone number",className:"h-9 text-sm"})]}),u.jsxs("div",{className:"grid gap-1.5",children:[u.jsx(Se,{className:"text-xs font-medium",children:"Address"}),u.jsx(Ae,{value:g.address,onChange:x=>T({...g,address:x.target.value}),placeholder:"Full address",className:"h-9 text-sm"})]}),u.jsxs("div",{className:"grid gap-1.5",children:[u.jsx(Se,{className:"text-xs font-medium",children:"Route ID"}),u.jsx(Ae,{value:g.route,onChange:x=>T({...g,route:x.target.value}),placeholder:"e.g. R-001",className:"h-9 text-sm"})]})]}),u.jsx(Pi,{children:u.jsx(Me,{size:"sm",onClick:b,children:"Add Customer"})})]})]})]}),u.jsx(Ai,{open:a,onOpenChange:l,children:u.jsxs(gs,{children:[u.jsx(ys,{children:u.jsx(vs,{className:"text-base font-bold",children:"Edit Customer"})}),u.jsxs("div",{className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid gap-1.5",children:[u.jsx(Se,{className:"text-xs font-medium",children:"Name"}),u.jsx(Ae,{value:g.name,onChange:x=>T({...g,name:x.target.value}),placeholder:"Customer name",className:"h-9 text-sm"})]}),u.jsxs("div",{className:"grid gap-1.5",children:[u.jsx(Se,{className:"text-xs font-medium",children:"Phone"}),u.jsx(Ae,{value:g.phone,onChange:x=>T({...g,phone:x.target.value}),placeholder:"Phone number",className:"h-9 text-sm"})]}),u.jsxs("div",{className:"grid gap-1.5",children:[u.jsx(Se,{className:"text-xs font-medium",children:"Address"}),u.jsx(Ae,{value:g.address,onChange:x=>T({...g,address:x.target.value}),placeholder:"Full address",className:"h-9 text-sm"})]}),u.jsxs("div",{className:"grid gap-1.5",children:[u.jsx(Se,{className:"text-xs font-medium",children:"Route ID"}),u.jsx(Ae,{value:g.route,onChange:x=>T({...g,route:x.target.value}),placeholder:"e.g. R-001",className:"h-9 text-sm"})]})]}),u.jsx(Pi,{children:u.jsx(Me,{size:"sm",onClick:w,children:"Update Customer"})})]})}),u.jsx(Ct,{className:"shadow-sm border-0",children:u.jsx(Rt,{className:"p-3",children:u.jsxs("div",{className:"relative max-w-xs",children:[u.jsx(Wc,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground"}),u.jsx(Ae,{placeholder:"Search by name or phone...",value:f,onChange:x=>m(x.target.value),className:"pl-9 h-9 text-sm bg-secondary border-0"})]})})}),u.jsx(Ct,{className:"shadow-sm border-0 overflow-hidden",children:u.jsx(Rt,{className:"p-0",children:u.jsxs(Sc,{children:[u.jsx(Ic,{children:u.jsxs(Xn,{className:"bg-secondary/50 hover:bg-secondary/50",children:[u.jsx(at,{className:"text-[11px] font-semibold uppercase tracking-wider text-muted-foreground h-10",children:"Customer"}),u.jsx(at,{className:"text-[11px] font-semibold uppercase tracking-wider text-muted-foreground h-10",children:"Contact"}),u.jsx(at,{className:"text-[11px] font-semibold uppercase tracking-wider text-muted-foreground h-10 hidden md:table-cell",children:"Address"}),u.jsx(at,{className:"text-[11px] font-semibold uppercase tracking-wider text-muted-foreground h-10",children:"Route"}),u.jsx(at,{className:"w-20 h-10"})]})}),u.jsxs(Cc,{children:[v.map(x=>u.jsxs(Xn,{className:"hover:bg-secondary/30",children:[u.jsx(Xe,{className:"py-3",children:u.jsxs("div",{className:"flex items-center gap-3",children:[u.jsx("div",{className:"h-8 w-8 rounded-full bg-primary flex items-center justify-center text-primary-foreground text-xs font-bold shrink-0",children:x.name.charAt(0)}),u.jsx("span",{className:"text-sm font-medium",children:x.name})]})}),u.jsx(Xe,{children:u.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-muted-foreground",children:[u.jsx(Gg,{className:"h-3 w-3"}),x.phone]})}),u.jsx(Xe,{className:"hidden md:table-cell",children:u.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-muted-foreground max-w-[200px] truncate",children:[u.jsx(Nh,{className:"h-3 w-3 shrink-0"}),x.address]})}),u.jsx(Xe,{children:u.jsx("span",{className:"text-[11px] bg-primary/10 text-primary font-semibold px-2 py-0.5 rounded",children:x.route})}),u.jsx(Xe,{children:u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Me,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>s("/invoices"),title:"Generate Invoice",children:u.jsx(Rh,{className:"h-3.5 w-3.5 text-green-600"})}),u.jsx(Me,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>_(x),children:u.jsx(Uv,{className:"h-3.5 w-3.5 text-blue-600"})}),u.jsx(Me,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>{n(x.id),le.success(`${x.name} removed`)},children:u.jsx(Pf,{className:"h-3.5 w-3.5 text-destructive"})})]})})]},x.id)),v.length===0&&u.jsx(Xn,{children:u.jsx(Xe,{colSpan:5,className:"text-center py-10 text-muted-foreground text-sm",children:"No customers found"})})]})]})})})]})}function oq({routes:t,addRoute:e,removeRoute:n,updateRoute:r}){const[s,i]=p.useState(!1),[o,a]=p.useState(!1),[l,d]=p.useState(null),[h,f]=p.useState({vehicleNumber:"",driverName:"",areas:"",customers:""}),m=()=>{if(!h.vehicleNumber||!h.driverName){le.error("Please fill required fields");return}e({vehicleNumber:h.vehicleNumber,driverName:h.driverName,areas:h.areas.split(",").map(v=>v.trim()).filter(Boolean),customers:Number(h.customers)||0}),f({vehicleNumber:"",driverName:"",areas:"",customers:""}),i(!1),le.success("Route added")},g=v=>{d(v),f({vehicleNumber:v.vehicleNumber,driverName:v.driverName,areas:v.areas.join(", "),customers:v.customers.toString()}),a(!0)},T=()=>{if(l){if(!h.vehicleNumber||!h.driverName){le.error("Please fill required fields");return}r(l.id,{vehicleNumber:h.vehicleNumber,driverName:h.driverName,areas:h.areas.split(",").map(v=>v.trim()).filter(Boolean),customers:Number(h.customers)||0}),f({vehicleNumber:"",driverName:"",areas:"",customers:""}),a(!1),d(null),le.success("Route updated")}};return u.jsxs("div",{className:"space-y-4",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-xl font-bold tracking-tight",children:"Delivery Routes"}),u.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.length," active routes"]})]}),u.jsxs(Ai,{open:s,onOpenChange:i,children:[u.jsx(Cp,{asChild:!0,children:u.jsxs(Me,{size:"sm",className:"shadow-sm",children:[u.jsx(Wa,{className:"h-4 w-4 mr-1.5"})," Add Route"]})}),u.jsxs(gs,{children:[u.jsx(ys,{children:u.jsx(vs,{className:"text-base font-bold",children:"Add New Route"})}),u.jsxs("div",{className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid gap-1.5",children:[u.jsx(Se,{className:"text-xs font-medium",children:"Vehicle Number"}),u.jsx(Ae,{value:h.vehicleNumber,onChange:v=>f({...h,vehicleNumber:v.target.value}),placeholder:"e.g. UP-32-AB-1234",className:"h-9 text-sm"})]}),u.jsxs("div",{className:"grid gap-1.5",children:[u.jsx(Se,{className:"text-xs font-medium",children:"Driver Name"}),u.jsx(Ae,{value:h.driverName,onChange:v=>f({...h,driverName:v.target.value}),placeholder:"Driver name",className:"h-9 text-sm"})]}),u.jsxs("div",{className:"grid gap-1.5",children:[u.jsx(Se,{className:"text-xs font-medium",children:"Areas (comma separated)"}),u.jsx(Ae,{value:h.areas,onChange:v=>f({...h,areas:v.target.value}),placeholder:"e.g. Sector 5, MG Road",className:"h-9 text-sm"})]}),u.jsxs("div",{className:"grid gap-1.5",children:[u.jsx(Se,{className:"text-xs font-medium",children:"Number of Customers"}),u.jsx(Ae,{type:"number",value:h.customers,onChange:v=>f({...h,customers:v.target.value}),className:"h-9 text-sm"})]})]}),u.jsx(Pi,{children:u.jsx(Me,{size:"sm",onClick:m,children:"Add Route"})})]})]})]}),u.jsx(Ai,{open:o,onOpenChange:a,children:u.jsxs(gs,{children:[u.jsx(ys,{children:u.jsx(vs,{className:"text-base font-bold",children:"Edit Route"})}),u.jsxs("div",{className:"grid gap-4 py-4",children:[u.jsxs("div",{className:"grid gap-1.5",children:[u.jsx(Se,{className:"text-xs font-medium",children:"Vehicle Number"}),u.jsx(Ae,{value:h.vehicleNumber,onChange:v=>f({...h,vehicleNumber:v.target.value}),placeholder:"e.g. UP-32-AB-1234",className:"h-9 text-sm"})]}),u.jsxs("div",{className:"grid gap-1.5",children:[u.jsx(Se,{className:"text-xs font-medium",children:"Driver Name"}),u.jsx(Ae,{value:h.driverName,onChange:v=>f({...h,driverName:v.target.value}),placeholder:"Driver name",className:"h-9 text-sm"})]}),u.jsxs("div",{className:"grid gap-1.5",children:[u.jsx(Se,{className:"text-xs font-medium",children:"Areas (comma separated)"}),u.jsx(Ae,{value:h.areas,onChange:v=>f({...h,areas:v.target.value}),placeholder:"e.g. Sector 5, MG Road",className:"h-9 text-sm"})]}),u.jsxs("div",{className:"grid gap-1.5",children:[u.jsx(Se,{className:"text-xs font-medium",children:"Number of Customers"}),u.jsx(Ae,{type:"number",value:h.customers,onChange:v=>f({...h,customers:v.target.value}),className:"h-9 text-sm"})]})]}),u.jsx(Pi,{children:u.jsx(Me,{size:"sm",onClick:T,children:"Update Route"})})]})}),u.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[t.map(v=>u.jsxs(Ct,{className:"shadow-sm border-0 hover:shadow-md transition-shadow overflow-hidden",children:[u.jsxs("div",{className:"stat-card-gradient px-4 py-3 flex items-center justify-between",children:[u.jsxs("div",{className:"flex items-center gap-2 text-primary-foreground",children:[u.jsx(qc,{className:"h-4 w-4"}),u.jsx("span",{className:"text-sm font-bold tracking-wide",children:v.vehicleNumber})]}),u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Me,{variant:"ghost",size:"icon",className:"h-7 w-7 text-primary-foreground/70 hover:text-primary-foreground hover:bg-primary-foreground/10",onClick:()=>g(v),children:u.jsx(Uv,{className:"h-3.5 w-3.5"})}),u.jsx(Me,{variant:"ghost",size:"icon",className:"h-7 w-7 text-primary-foreground/70 hover:text-primary-foreground hover:bg-primary-foreground/10",onClick:()=>{n(v.id),le.success("Route removed")},children:u.jsx(Pf,{className:"h-3.5 w-3.5"})})]})]}),u.jsxs(Rt,{className:"p-4 space-y-3",children:[u.jsxs("div",{className:"flex items-center justify-between",children:[u.jsxs("div",{children:[u.jsx("p",{className:"text-xs text-muted-foreground",children:"Driver"}),u.jsx("p",{className:"text-sm font-semibold",children:v.driverName})]}),u.jsxs("div",{className:"flex items-center gap-1.5 bg-accent/10 text-accent px-2.5 py-1 rounded-full",children:[u.jsx($v,{className:"h-3 w-3"}),u.jsx("span",{className:"text-xs font-bold",children:v.customers})]})]}),u.jsxs("div",{children:[u.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[u.jsx(Nh,{className:"h-3 w-3 text-muted-foreground"}),u.jsx("span",{className:"text-[11px] text-muted-foreground uppercase tracking-wider font-medium",children:"Areas"})]}),u.jsx("div",{className:"flex flex-wrap gap-1.5",children:v.areas.map(b=>u.jsx(is,{variant:"secondary",className:"text-[11px] font-medium",children:b},b))})]}),u.jsx("div",{className:"pt-2 border-t border-border",children:u.jsxs("span",{className:"text-[11px] text-muted-foreground",children:["Route ID: ",v.id]})})]})]},v.id)),t.length===0&&u.jsx("div",{className:"col-span-full text-center py-16 text-muted-foreground text-sm",children:"No routes configured yet"})]})]})}const Ok=p.forwardRef(({className:t,...e},n)=>u.jsx("textarea",{className:X("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));Ok.displayName="Textarea";function aq({invoices:t,customers:e,products:n,addInvoice:r,removeInvoice:s}){const i=ko(),[o,a]=p.useState(!1),[l,d]=p.useState(!1),[h,f]=p.useState(null),[m,g]=p.useState(""),[T,v]=p.useState("all"),b=p.useRef(null),[_,w]=p.useState({customerId:"",items:[],discount:0,paymentStatus:"pending",paymentMethod:"cash",notes:""}),[x,A]=p.useState({productId:"",quantity:1});p.useEffect(()=>{var j;if((j=i.state)!=null&&j.selectedProducts&&n.length>0){const J=i.state.selectedProducts,Z=[];Object.entries(J).forEach(([he,xe])=>{const q=n.find(we=>we.id===he);q&&Z.push({productId:q.id,productName:q.name,quantity:xe,unit:q.unit,price:q.price,total:q.price*xe})}),Z.length>0&&(w(he=>({...he,items:Z})),a(!0),window.history.replaceState({},document.title))}},[i.state,n]);const[O,M]=p.useState(""),[I,S]=p.useState("all"),P=Array.from(new Set(e.map(j=>j.route).filter(Boolean))),k=e.filter(j=>{const J=j.name.toLowerCase().includes(O.toLowerCase())||j.phone.includes(O),Z=I==="all"||j.route===I;return J&&Z}),D=t.filter(j=>{const J=j.invoiceNumber.toLowerCase().includes(m.toLowerCase())||j.customerName.toLowerCase().includes(m.toLowerCase()),Z=T==="all"||j.paymentStatus===T;return J&&Z}),C=e.find(j=>j.id===_.customerId),N=n.find(j=>j.id===x.productId),$=()=>{if(!N||x.quantity<=0){le.error("Please select a product and enter valid quantity");return}const j=N.price*x.quantity,J={productId:N.id,productName:N.name,quantity:x.quantity,unit:N.unit,price:N.price,total:j};w({..._,items:[..._.items,J]}),A({productId:"",quantity:1}),le.success("Item added")},se=j=>{const J=_.items.filter((Z,he)=>he!==j);w({..._,items:J})},Y=()=>{const j=_.items.reduce((Z,he)=>Z+he.total,0),J=j-_.discount;return{subtotal:j,total:J}},ie=()=>{if(!_.customerId||_.items.length===0){le.error("Please select a customer and add at least one item");return}const{subtotal:j,total:J}=Y(),Z=`INV-${Date.now()}`,he=e.find(q=>q.id===_.customerId);if(!he)return;const xe={invoiceNumber:Z,customerId:he.id,customerName:he.name,customerPhone:he.phone,customerAddress:he.address,items:_.items,subtotal:j,discount:_.discount,total:J,paymentStatus:_.paymentStatus,paymentMethod:_.paymentMethod,date:new Date().toISOString(),notes:_.notes};r(xe),w({customerId:"",items:[],discount:0,paymentStatus:"pending",paymentMethod:"cash",notes:""}),a(!1),le.success("Invoice created successfully")},U=()=>{if(!b.current)return;const j=h;if(!j)return;const J=window.open("","","width=800,height=1123");J&&(J.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Invoice ${j.invoiceNumber}</title>
          <style>
            @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
            
            body { 
                font-family: 'Inter', sans-serif; 
                padding: 40px; 
                color: #1f2937;
                max-width: 800px;
                margin: 0 auto;
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
            }
            
            .header {
                display: flex;
                justify-content: space-between;
                align-items: flex-start;
                margin-bottom: 40px;
                padding-bottom: 20px;
                border-bottom: 2px solid #f3f4f6;
            }
            
            .company-info h1 {
                font-size: 24px;
                font-weight: 800;
                margin: 0 0 5px 0;
                color: #111;
                letter-spacing: -0.5px;
            }
            
            .invoice-badge {
                background: #f3f4f6;
                padding: 4px 12px;
                border-radius: 4px;
                font-size: 14px;
                font-weight: 600;
                display: inline-block;
                margin-bottom: 10px;
            }

            .grid-2 {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 40px;
                margin-bottom: 40px;
            }
            
            .section-title {
                font-size: 11px;
                text-transform: uppercase;
                letter-spacing: 0.1em;
                color: #6b7280;
                font-weight: 600;
                margin-bottom: 8px;
            }
            
            .info-text {
                font-size: 14px;
                line-height: 1.5;
                margin: 0;
            }
            
            table { 
                width: 100%; 
                border-collapse: collapse; 
                margin: 30px 0; 
            }
            
            th { 
                text-align: left; 
                padding: 12px 10px; 
                border-bottom: 2px solid #e5e7eb; 
                color: #4b5563; 
                font-size: 12px; 
                text-transform: uppercase; 
                font-weight: 600; 
            }
            
            td { 
                padding: 16px 10px; 
                border-bottom: 1px solid #f3f4f6; 
                font-size: 14px; 
            }
            
            .text-right { text-align: right; }
            .font-mono { font-family: monospace; }
            .font-bold { font-weight: 700; }
            
            .totals-section {
                display: flex;
                justify-content: flex-end;
                margin-top: 20px;
            }
            
            .totals-box {
                width: 300px;
            }
            
            .total-row {
                display: flex;
                justify-content: space-between;
                padding: 8px 0;
                font-size: 14px;
            }
            
            .grand-total {
                border-top: 2px solid #e5e7eb;
                margin-top: 8px;
                padding-top: 12px;
                font-weight: 800;
                font-size: 18px;
                color: #111;
            }
            
            .footer {
                margin-top: 60px;
                text-align: center;
                color: #9ca3af;
                font-size: 12px;
                border-top: 1px solid #f3f4f6;
                padding-top: 20px;
            }

            @media print {
              body { padding: 0; }
              button { display: none; }
            }
          </style>
        </head>
        <body>
            <div class="header">
                <div class="company-info">
                    <h1>DAIRY DASHBOARD</h1>
                    <div class="info-text">Quality Dairy Products</div>
                </div>
                <div style="text-align: right;">
                    <div class="invoice-badge">INVOICE</div>
                    <div class="info-text" style="font-weight: 600;">#${j.invoiceNumber}</div>
                    <div class="info-text" style="color: #6b7280;">${new Date(j.date).toLocaleDateString()}</div>
                </div>
            </div>

            <div class="grid-2">
                <div>
                    <div class="section-title">BILL TO</div>
                    <div class="info-text" style="font-weight: 600;">${j.customerName}</div>
                    <div class="info-text">${j.customerPhone}</div>
                    <div class="info-text">${j.customerAddress}</div>
                </div>
                <div>
                    <div class="section-title">PAYMENT DETAILS</div>
                    <div class="total-row">
                        <span style="color: #6b7280;">Status</span>
                        <span style="font-weight: 600; text-transform: uppercase;">${j.paymentStatus}</span>
                    </div>
                    <div class="total-row">
                        <span style="color: #6b7280;">Method</span>
                        <span style="font-weight: 500; text-transform: capitalize;">${j.paymentMethod}</span>
                    </div>
                </div>
            </div>

            <table>
                <thead>
                    <tr>
                        <th>Item Description</th>
                        <th class="text-right">Quantity</th>
                        <th class="text-right">Price</th>
                        <th class="text-right">Total</th>
                    </tr>
                </thead>
                <tbody>
                    ${j.items.map(Z=>`
                        <tr>
                            <td>
                                <div style="font-weight: 500;">${Z.productName}</div>
                                <div style="font-size: 12px; color: #6b7280;">Product ID: ${Z.productId.substring(0,6)}</div>
                            </td>
                            <td class="text-right">${Z.quantity} ${Z.unit}</td>
                            <td class="text-right">${Z.price.toFixed(2)}</td>
                            <td class="text-right" style="font-weight: 600;">${Z.total.toFixed(2)}</td>
                        </tr>
                    `).join("")}
                </tbody>
            </table>

            <div class="totals-section">
                <div class="totals-box">
                    <div class="total-row">
                        <span style="color: #6b7280;">Subtotal</span>
                        <span>${j.subtotal.toFixed(2)}</span>
                    </div>
                    <div class="total-row">
                        <span style="color: #6b7280;">Discount</span>
                        <span>-${j.discount.toFixed(2)}</span>
                    </div>
                    <div class="total-row grand-total">
                        <span>Total Due</span>
                        <span>${j.total.toFixed(2)}</span>
                    </div>
                </div>
            </div>

            ${j.notes?`
            <div style="margin-top: 40px; padding: 20px; background: #f9fafb; border-radius: 8px;">
                <div class="section-title">NOTES</div>
                <div class="info-text">${j.notes}</div>
            </div>
            `:""}

            <div class="footer">
                Thank you for your business!
            </div>
        </body>
      </html>
    `),J.document.close(),setTimeout(()=>{J.print()},500))},L=j=>{switch(j){case"paid":return"bg-green-100 text-green-700 border-green-200";case"pending":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"partial":return"bg-blue-100 text-blue-700 border-blue-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},{subtotal:K,total:oe}=Y();return u.jsxs("div",{className:"space-y-6",children:[u.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[u.jsxs("div",{children:[u.jsx("h1",{className:"text-3xl font-bold tracking-tight bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:"Invoices"}),u.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Manage and generate customer invoices"})]}),u.jsxs(Ai,{open:o,onOpenChange:a,children:[u.jsx(Cp,{asChild:!0,children:u.jsxs(Me,{className:"shadow-lg hover:shadow-xl transition-all duration-300 bg-gradient-to-r from-primary to-primary/80",children:[u.jsx(Wa,{className:"h-4 w-4 mr-2"}),"Create Invoice"]})}),u.jsxs(gs,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[u.jsx(ys,{children:u.jsx(vs,{className:"text-xl font-bold",children:"Create New Invoice"})}),u.jsxs("div",{className:"space-y-6 py-4",children:[u.jsxs("div",{className:"grid gap-3",children:[u.jsxs(Se,{className:"text-sm font-semibold flex items-center gap-2",children:[u.jsx(XS,{className:"h-4 w-4"}),"Select Customer"]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[u.jsxs("div",{className:"relative",children:[u.jsx(Wc,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground"}),u.jsx(Ae,{placeholder:"Search customer by name or phone...",value:O,onChange:j=>M(j.target.value),className:"pl-9 h-9 text-sm"})]}),u.jsxs(Us,{value:I,onValueChange:S,children:[u.jsx(Qr,{className:"h-9",children:u.jsx($s,{placeholder:"Filter by route"})}),u.jsxs(Yr,{children:[u.jsx(Tt,{value:"all",children:"All Routes"}),P.map(j=>u.jsxs(Tt,{value:j,children:["Route: ",j]},j))]})]})]}),u.jsxs(Us,{value:_.customerId,onValueChange:j=>w({..._,customerId:j}),children:[u.jsx(Qr,{className:"h-10",children:u.jsx($s,{placeholder:"Choose a customer"})}),u.jsx(Yr,{children:k.length>0?k.map(j=>u.jsxs(Tt,{value:j.id,children:[j.name," - ",j.phone," ",j.route&&`(Route: ${j.route})`]},j.id)):u.jsx("div",{className:"p-2 text-sm text-muted-foreground text-center",children:"No customers found"})})]}),(O||I!=="all")&&u.jsxs("div",{className:"text-xs text-muted-foreground",children:["Showing ",k.length," of ",e.length," customers",I!=="all"&&` on route ${I}`]}),C&&u.jsxs("div",{className:"p-3 bg-secondary/50 rounded-lg space-y-1 text-sm",children:[u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Gg,{className:"h-3.5 w-3.5 text-muted-foreground"}),u.jsx("span",{children:C.phone})]}),u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx(Nh,{className:"h-3.5 w-3.5 text-muted-foreground"}),u.jsx("span",{children:C.address})]}),C.route&&u.jsx("div",{className:"flex items-center gap-2 pt-1",children:u.jsxs(is,{variant:"outline",className:"bg-primary/10 text-primary border-primary/20",children:["Route: ",C.route]})})]})]}),u.jsxs("div",{className:"space-y-3",children:[u.jsxs(Se,{className:"text-sm font-semibold flex items-center gap-2",children:[u.jsx(wa,{className:"h-4 w-4"}),"Add Items"]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[u.jsxs(Us,{value:x.productId,onValueChange:j=>A({...x,productId:j}),children:[u.jsx(Qr,{children:u.jsx($s,{placeholder:"Select product"})}),u.jsx(Yr,{children:n.map(j=>u.jsxs(Tt,{value:j.id,children:[j.name," - ",j.price,"/",j.unit]},j.id))})]}),u.jsx(Ae,{type:"number",min:"1",value:x.quantity,onChange:j=>A({...x,quantity:parseInt(j.target.value)||1}),placeholder:"Quantity"}),u.jsxs(Me,{onClick:$,variant:"secondary",className:"w-full",children:[u.jsx(Wa,{className:"h-4 w-4 mr-2"}),"Add Item"]})]})]}),_.items.length>0&&u.jsx("div",{className:"border rounded-lg overflow-hidden",children:u.jsxs(Sc,{children:[u.jsx(Ic,{children:u.jsxs(Xn,{className:"bg-secondary/50",children:[u.jsx(at,{className:"font-semibold",children:"Product"}),u.jsx(at,{className:"font-semibold",children:"Qty"}),u.jsx(at,{className:"font-semibold",children:"Price"}),u.jsx(at,{className:"font-semibold",children:"Total"}),u.jsx(at,{className:"w-12"})]})}),u.jsx(Cc,{children:_.items.map((j,J)=>u.jsxs(Xn,{children:[u.jsx(Xe,{className:"font-medium",children:j.productName}),u.jsxs(Xe,{children:[j.quantity," ",j.unit]}),u.jsxs(Xe,{children:["",j.price.toFixed(2)]}),u.jsxs(Xe,{className:"font-semibold",children:["",j.total.toFixed(2)]}),u.jsx(Xe,{children:u.jsx(Me,{variant:"ghost",size:"icon",onClick:()=>se(J),className:"h-8 w-8",children:u.jsx(kf,{className:"h-4 w-4 text-destructive"})})})]},J))})]})}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsx(Se,{className:"text-sm font-medium",children:"Discount ()"}),u.jsx(Ae,{type:"number",min:"0",value:_.discount,onChange:j=>w({..._,discount:parseFloat(j.target.value)||0}),placeholder:"0"})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(Se,{className:"text-sm font-medium",children:"Payment Status"}),u.jsxs(Us,{value:_.paymentStatus,onValueChange:j=>w({..._,paymentStatus:j}),children:[u.jsx(Qr,{children:u.jsx($s,{})}),u.jsxs(Yr,{children:[u.jsx(Tt,{value:"paid",children:"Paid"}),u.jsx(Tt,{value:"pending",children:"Pending"}),u.jsx(Tt,{value:"partial",children:"Partial"})]})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[u.jsxs("div",{className:"grid gap-2",children:[u.jsx(Se,{className:"text-sm font-medium",children:"Payment Method"}),u.jsxs(Us,{value:_.paymentMethod,onValueChange:j=>w({..._,paymentMethod:j}),children:[u.jsx(Qr,{children:u.jsx($s,{})}),u.jsxs(Yr,{children:[u.jsx(Tt,{value:"cash",children:"Cash"}),u.jsx(Tt,{value:"card",children:"Card"}),u.jsx(Tt,{value:"upi",children:"UPI"}),u.jsx(Tt,{value:"bank_transfer",children:"Bank Transfer"})]})]})]}),u.jsxs("div",{className:"grid gap-2",children:[u.jsx(Se,{className:"text-sm font-medium",children:"Notes"}),u.jsx(Ok,{value:_.notes,onChange:j=>w({..._,notes:j.target.value}),placeholder:"Additional notes...",className:"resize-none",rows:1})]})]}),_.items.length>0&&u.jsxs("div",{className:"bg-gradient-to-br from-primary/5 to-primary/10 p-4 rounded-lg space-y-2",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Subtotal:"}),u.jsxs("span",{className:"font-medium",children:["",K.toFixed(2)]})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Discount:"}),u.jsxs("span",{className:"font-medium",children:["-",_.discount.toFixed(2)]})]}),u.jsxs("div",{className:"flex justify-between text-lg font-bold pt-2 border-t border-primary/20",children:[u.jsx("span",{children:"Total:"}),u.jsxs("span",{className:"text-primary",children:["",oe.toFixed(2)]})]})]})]}),u.jsx(Pi,{children:u.jsxs(Me,{onClick:ie,className:"bg-gradient-to-r from-primary to-primary/80",children:[u.jsx(Rh,{className:"h-4 w-4 mr-2"}),"Create Invoice"]})})]})]})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[u.jsxs(Ct,{className:"border-0 shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 bg-gradient-to-br from-blue-50 to-blue-100/50 dark:from-blue-950/20 dark:to-blue-900/20 cursor-pointer group",children:[u.jsx(ns,{className:"pb-2",children:u.jsx(rs,{className:"text-sm font-medium text-muted-foreground group-hover:text-blue-700 transition-colors",children:"Total Invoices"})}),u.jsx(Rt,{children:u.jsx("div",{className:"text-2xl font-bold group-hover:scale-105 transition-transform origin-left",children:t.length})})]}),u.jsxs(Ct,{className:"border-0 shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 bg-gradient-to-br from-green-50 to-green-100/50 dark:from-green-950/20 dark:to-green-900/20 cursor-pointer group",children:[u.jsx(ns,{className:"pb-2",children:u.jsx(rs,{className:"text-sm font-medium text-muted-foreground group-hover:text-green-700 transition-colors",children:"Paid"})}),u.jsx(Rt,{children:u.jsx("div",{className:"text-2xl font-bold text-green-600 group-hover:scale-105 transition-transform origin-left",children:t.filter(j=>j.paymentStatus==="paid").length})})]}),u.jsxs(Ct,{className:"border-0 shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 bg-gradient-to-br from-yellow-50 to-yellow-100/50 dark:from-yellow-950/20 dark:to-yellow-900/20 cursor-pointer group",children:[u.jsx(ns,{className:"pb-2",children:u.jsx(rs,{className:"text-sm font-medium text-muted-foreground group-hover:text-yellow-700 transition-colors",children:"Pending"})}),u.jsx(Rt,{children:u.jsx("div",{className:"text-2xl font-bold text-yellow-600 group-hover:scale-105 transition-transform origin-left",children:t.filter(j=>j.paymentStatus==="pending").length})})]}),u.jsxs(Ct,{className:"border-0 shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 bg-gradient-to-br from-purple-50 to-purple-100/50 dark:from-purple-950/20 dark:to-purple-900/20 cursor-pointer group",children:[u.jsx(ns,{className:"pb-2",children:u.jsx(rs,{className:"text-sm font-medium text-muted-foreground group-hover:text-purple-700 transition-colors",children:"Total Revenue"})}),u.jsx(Rt,{children:u.jsxs("div",{className:"text-2xl font-bold text-purple-600 group-hover:scale-105 transition-transform origin-left",children:["",t.reduce((j,J)=>j+J.total,0).toFixed(2)]})})]})]}),u.jsx(Ct,{className:"shadow-sm border-0",children:u.jsx(Rt,{className:"p-4",children:u.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[u.jsxs("div",{className:"relative flex-1",children:[u.jsx(Wc,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),u.jsx(Ae,{placeholder:"Search by invoice number or customer...",value:m,onChange:j=>g(j.target.value),className:"pl-10 bg-secondary border-0"})]}),u.jsxs(Us,{value:T,onValueChange:v,children:[u.jsxs(Qr,{className:"w-full sm:w-[180px] bg-secondary border-0",children:[u.jsx(PM,{className:"h-4 w-4 mr-2"}),u.jsx($s,{})]}),u.jsxs(Yr,{children:[u.jsx(Tt,{value:"all",children:"All Status"}),u.jsx(Tt,{value:"paid",children:"Paid"}),u.jsx(Tt,{value:"pending",children:"Pending"}),u.jsx(Tt,{value:"partial",children:"Partial"})]})]})]})})}),u.jsx(Ct,{className:"shadow-md border-0 overflow-hidden",children:u.jsx(Rt,{className:"p-0",children:u.jsxs(Sc,{children:[u.jsx(Ic,{children:u.jsxs(Xn,{className:"bg-secondary/50 hover:bg-secondary/50",children:[u.jsx(at,{className:"font-semibold",children:"Invoice #"}),u.jsx(at,{className:"font-semibold",children:"Customer"}),u.jsx(at,{className:"font-semibold hidden md:table-cell",children:"Date"}),u.jsx(at,{className:"font-semibold",children:"Amount"}),u.jsx(at,{className:"font-semibold",children:"Status"}),u.jsx(at,{className:"font-semibold",children:"Actions"})]})}),u.jsxs(Cc,{children:[D.map(j=>u.jsxs(Xn,{className:"hover:bg-secondary/30 transition-colors",children:[u.jsx(Xe,{className:"font-mono text-sm font-medium",children:j.invoiceNumber}),u.jsx(Xe,{children:u.jsxs("div",{className:"flex items-center gap-2",children:[u.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-br from-primary to-primary/60 flex items-center justify-center text-primary-foreground text-xs font-bold",children:j.customerName.charAt(0)}),u.jsxs("div",{children:[u.jsx("div",{className:"font-medium text-sm",children:j.customerName}),u.jsx("div",{className:"text-xs text-muted-foreground",children:j.customerPhone})]})]})}),u.jsx(Xe,{className:"hidden md:table-cell text-sm text-muted-foreground",children:new Date(j.date).toLocaleDateString()}),u.jsxs(Xe,{className:"font-semibold",children:["",j.total.toFixed(2)]}),u.jsx(Xe,{children:u.jsx(is,{className:`${L(j.paymentStatus)} border`,children:j.paymentStatus})}),u.jsx(Xe,{children:u.jsxs("div",{className:"flex items-center gap-1",children:[u.jsx(Me,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{f(j),d(!0)},children:u.jsx(GS,{className:"h-4 w-4 text-blue-600"})}),u.jsx(Me,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{s(j.id),le.success("Invoice deleted")},children:u.jsx(Pf,{className:"h-4 w-4 text-destructive"})})]})})]},j.id)),D.length===0&&u.jsx(Xn,{children:u.jsxs(Xe,{colSpan:6,className:"text-center py-12",children:[u.jsx(Rh,{className:"h-12 w-12 mx-auto text-muted-foreground/50 mb-2"}),u.jsx("p",{className:"text-muted-foreground",children:"No invoices found"})]})})]})]})})}),u.jsx(Ai,{open:l,onOpenChange:d,children:u.jsxs(gs,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[u.jsx(ys,{children:u.jsxs(vs,{className:"flex items-center justify-between",children:[u.jsx("span",{children:"Invoice Details"}),u.jsxs(Me,{onClick:U,size:"sm",variant:"outline",children:[u.jsx(NM,{className:"h-4 w-4 mr-2"}),"Print/Download"]})]})}),h&&u.jsxs("div",{ref:b,className:"space-y-6 py-4",children:[u.jsxs("div",{className:"flex justify-between items-start border-b pb-6 mb-6",children:[u.jsxs("div",{children:[u.jsx("h2",{className:"text-3xl font-bold tracking-tight text-primary",children:"INVOICE"}),u.jsxs("p",{className:"text-muted-foreground font-medium mt-1",children:["# ",h.invoiceNumber]})]}),u.jsx("div",{className:"text-right",children:u.jsxs("div",{className:"inline-block px-3 py-1 bg-secondary rounded-full text-xs font-semibold mb-2",children:["Date: ",new Date(h.date).toLocaleDateString()]})})]}),u.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[u.jsxs("div",{className:"space-y-3 p-5 bg-secondary/20 rounded-lg border border-secondary/50",children:[u.jsx("h3",{className:"font-bold text-xs text-primary uppercase tracking-widest border-b border-primary/10 pb-2",children:"Bill To"}),u.jsxs("div",{className:"space-y-1.5 pt-1",children:[u.jsx("p",{className:"font-bold text-lg",children:h.customerName}),u.jsxs("p",{className:"text-sm flex items-center gap-2 text-muted-foreground",children:[u.jsx(Gg,{className:"h-3.5 w-3.5"}),h.customerPhone]}),u.jsxs("p",{className:"text-sm flex items-center gap-2 text-muted-foreground",children:[u.jsx(Nh,{className:"h-3.5 w-3.5"}),h.customerAddress]})]})]}),u.jsxs("div",{className:"space-y-3 p-5 bg-secondary/20 rounded-lg border border-secondary/50",children:[u.jsx("h3",{className:"font-bold text-xs text-primary uppercase tracking-widest border-b border-primary/10 pb-2",children:"Payment Details"}),u.jsxs("div",{className:"space-y-1.5 pt-1",children:[u.jsxs("div",{className:"flex justify-between items-center text-sm",children:[u.jsx("span",{className:"text-muted-foreground",children:"Status"}),u.jsx(is,{className:`${L(h.paymentStatus)} border px-3`,children:h.paymentStatus.toUpperCase()})]}),u.jsxs("div",{className:"flex justify-between items-center text-sm mt-2",children:[u.jsx("span",{className:"text-muted-foreground",children:"Method"}),u.jsx("span",{className:"font-medium capitalize",children:h.paymentMethod.replace("_"," ")})]})]})]})]}),u.jsx("div",{className:"border rounded-lg overflow-hidden shadow-sm",children:u.jsxs(Sc,{children:[u.jsx(Ic,{children:u.jsxs(Xn,{className:"bg-muted/50 hover:bg-muted/50",children:[u.jsx(at,{className:"font-semibold text-xs uppercase tracking-wider text-muted-foreground",children:"Item"}),u.jsx(at,{className:"font-semibold text-xs uppercase tracking-wider text-muted-foreground text-right",children:"Qty"}),u.jsx(at,{className:"font-semibold text-xs uppercase tracking-wider text-muted-foreground text-right",children:"Price"}),u.jsx(at,{className:"font-semibold text-xs uppercase tracking-wider text-muted-foreground text-right",children:"Total"})]})}),u.jsx(Cc,{children:h.items.map((j,J)=>u.jsxs(Xn,{className:"hover:bg-transparent",children:[u.jsx(Xe,{className:"py-4",children:u.jsx("div",{className:"font-medium",children:j.productName})}),u.jsxs(Xe,{className:"text-right py-4",children:[j.quantity," ",j.unit]}),u.jsxs(Xe,{className:"text-right py-4",children:["",j.price.toFixed(2)]}),u.jsxs(Xe,{className:"text-right font-semibold py-4",children:["",j.total.toFixed(2)]})]},J))})]})}),u.jsx("div",{className:"flex justify-end mt-6",children:u.jsx("div",{className:"w-full md:w-5/12 bg-secondary/10 p-6 rounded-lg border border-secondary/50",children:u.jsxs("div",{className:"space-y-3",children:[u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground font-medium",children:"Subtotal"}),u.jsxs("span",{className:"font-semibold",children:["",h.subtotal.toFixed(2)]})]}),u.jsxs("div",{className:"flex justify-between text-sm",children:[u.jsx("span",{className:"text-muted-foreground font-medium",children:"Discount"}),u.jsxs("span",{className:"font-semibold text-destructive",children:["-",h.discount.toFixed(2)]})]}),u.jsxs("div",{className:"flex justify-between text-lg font-bold pt-4 border-t border-secondary",children:[u.jsx("span",{children:"Total Due"}),u.jsxs("span",{className:"text-primary",children:["",h.total.toFixed(2)]})]})]})})}),h.notes&&u.jsxs("div",{className:"mt-8 bg-secondary/20 p-4 rounded-lg border border-secondary",children:[u.jsx("h3",{className:"font-semibold text-xs text-muted-foreground uppercase tracking-widest mb-2",children:"Notes"}),u.jsx("p",{className:"text-sm text-foreground/80",children:h.notes})]}),u.jsx("div",{className:"text-center text-xs text-muted-foreground border-t pt-4",children:u.jsx("p",{children:"Thank you for your business!"})})]})]})})]})}const lq=()=>{const t=gW();return u.jsx(mW,{children:u.jsxs(tC,{children:[u.jsx(Hs,{index:!0,element:u.jsx(xW,{products:t.products,customers:t.customers,routes:t.routes})}),u.jsx(Hs,{path:"products",element:u.jsx(nq,{products:t.products,addProduct:t.addProduct,removeProduct:t.removeProduct,updateProduct:t.updateProduct})}),u.jsx(Hs,{path:"customers",element:u.jsx(iq,{customers:t.customers,addCustomer:t.addCustomer,removeCustomer:t.removeCustomer,updateCustomer:t.updateCustomer})}),u.jsx(Hs,{path:"routes",element:u.jsx(oq,{routes:t.routes,addRoute:t.addRoute,removeRoute:t.removeRoute,updateRoute:t.updateRoute})}),u.jsx(Hs,{path:"invoices",element:u.jsx(aq,{invoices:t.invoices,customers:t.customers,products:t.products,addInvoice:t.addInvoice,removeInvoice:t.removeInvoice})})]})})};function cq(){const[t,e]=p.useState(""),[n,r]=p.useState(""),[s,i]=p.useState(!1),[o,a]=p.useState(!1),{login:l}=o0(),d=ml(),h=async f=>{if(f.preventDefault(),!t||!n){le.error("Please fill in all fields");return}a(!0);try{await l(t,n)?(le.success("Welcome back!"),d("/")):le.error("Invalid email or password")}catch{le.error("An error occurred. Please try again.")}finally{a(!1)}};return u.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/5 via-background to-secondary/20 p-4",children:[u.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[u.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-primary/10 rounded-full blur-3xl animate-pulse"}),u.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-accent/10 rounded-full blur-3xl animate-pulse delay-1000"})]}),u.jsxs(Ct,{className:"w-full max-w-md shadow-2xl border-0 relative z-10 animate-fade-in",children:[u.jsxs(ns,{className:"space-y-4 text-center pb-8",children:[u.jsx("div",{className:"mx-auto w-20 h-20 bg-gradient-to-br from-primary to-primary/80 rounded-2xl flex items-center justify-center shadow-lg hover:scale-105 transition-transform overflow-hidden p-2",children:u.jsx("img",{src:"/swabhimani.png",alt:"Swabhimani Logo",className:"h-full w-full object-contain"})}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(rs,{className:"text-3xl font-bold bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:"Swabhimani"}),u.jsx(KP,{className:"text-base",children:"Sign in to manage your dairy business"})]})]}),u.jsxs(Rt,{children:[u.jsxs("form",{onSubmit:h,className:"space-y-5",children:[u.jsxs("div",{className:"space-y-2",children:[u.jsx(Se,{htmlFor:"email",className:"text-sm font-semibold",children:"Email Address"}),u.jsxs("div",{className:"relative",children:[u.jsx(jM,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),u.jsx(Ae,{id:"email",type:"email",placeholder:"admin@dairy.com",value:t,onChange:f=>e(f.target.value),className:"pl-10 h-11 bg-secondary/50 border-border/50 focus:bg-background focus:border-primary/50 transition-all",disabled:o})]})]}),u.jsxs("div",{className:"space-y-2",children:[u.jsx(Se,{htmlFor:"password",className:"text-sm font-semibold",children:"Password"}),u.jsxs("div",{className:"relative",children:[u.jsx(DM,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),u.jsx(Ae,{id:"password",type:s?"text":"password",placeholder:"Enter your password",value:n,onChange:f=>r(f.target.value),className:"pl-10 pr-10 h-11 bg-secondary/50 border-border/50 focus:bg-background focus:border-primary/50 transition-all",disabled:o}),u.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",disabled:o,children:s?u.jsx(AM,{className:"h-5 w-5"}):u.jsx(GS,{className:"h-5 w-5"})})]})]}),u.jsx(Me,{type:"submit",className:"w-full h-11 text-base font-semibold shadow-lg hover:shadow-xl transition-all",disabled:o,children:o?u.jsxs(u.Fragment,{children:[u.jsx("div",{className:"w-5 h-5 border-2 border-primary-foreground border-t-transparent rounded-full animate-spin mr-2"}),"Signing in..."]}):u.jsxs(u.Fragment,{children:[u.jsx(OM,{className:"w-5 h-5 mr-2"}),"Sign In"]})})]}),u.jsx("div",{className:"mt-6 text-center",children:u.jsx("p",{className:"text-xs text-muted-foreground",children:"Secure access to your dairy management system"})})]})]})]})}const uq=new u4,dq=()=>u.jsx(h4,{client:uq,children:u.jsxs(LI,{children:[u.jsx(_j,{}),u.jsx(Zj,{}),u.jsx(lF,{children:u.jsx(o7,{children:u.jsxs(tC,{children:[u.jsx(Hs,{path:"/login",element:u.jsx(cq,{})}),u.jsx(Hs,{path:"/*",element:u.jsx(a7,{children:u.jsx(lq,{})})})]})})})]})});vS(document.getElementById("root")).render(u.jsx(dq,{}));

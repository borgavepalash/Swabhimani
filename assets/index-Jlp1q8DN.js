var K0=t=>{throw TypeError(t)};var bm=(t,e,n)=>e.has(t)||K0("Cannot "+n);var B=(t,e,n)=>(bm(t,e,"read from private field"),n?n.call(t):e.get(t)),Oe=(t,e,n)=>e.has(t)?K0("Cannot add the same private member more than once"):e instanceof WeakSet?e.add(t):e.set(t,n),ye=(t,e,n,r)=>(bm(t,e,"write to private field"),r?r.call(t,n):e.set(t,n),n),Ut=(t,e,n)=>(bm(t,e,"access private method"),n);var xd=(t,e,n,r)=>({set _(s){ye(t,e,s,n)},get _(){return B(t,e,r)}});function Nj(t,e){for(var n=0;n<e.length;n++){const r=e[n];if(typeof r!="string"&&!Array.isArray(r)){for(const s in r)if(s!=="default"&&!(s in t)){const i=Object.getOwnPropertyDescriptor(r,s);i&&Object.defineProperty(t,s,i.get?i:{enumerable:!0,get:()=>r[s]})}}}return Object.freeze(Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}))}(function(){const e=document.createElement("link").relList;if(e&&e.supports&&e.supports("modulepreload"))return;for(const s of document.querySelectorAll('link[rel="modulepreload"]'))r(s);new MutationObserver(s=>{for(const i of s)if(i.type==="childList")for(const o of i.addedNodes)o.tagName==="LINK"&&o.rel==="modulepreload"&&r(o)}).observe(document,{childList:!0,subtree:!0});function n(s){const i={};return s.integrity&&(i.integrity=s.integrity),s.referrerPolicy&&(i.referrerPolicy=s.referrerPolicy),s.crossOrigin==="use-credentials"?i.credentials="include":s.crossOrigin==="anonymous"?i.credentials="omit":i.credentials="same-origin",i}function r(s){if(s.ep)return;s.ep=!0;const i=n(s);fetch(s.href,i)}})();function ZE(t){return t&&t.__esModule&&Object.prototype.hasOwnProperty.call(t,"default")?t.default:t}var eT={exports:{}},Lf={},tT={exports:{}},Ee={};/**
 * @license React
 * react.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Lu=Symbol.for("react.element"),Rj=Symbol.for("react.portal"),Pj=Symbol.for("react.fragment"),Aj=Symbol.for("react.strict_mode"),kj=Symbol.for("react.profiler"),jj=Symbol.for("react.provider"),Dj=Symbol.for("react.context"),Oj=Symbol.for("react.forward_ref"),Mj=Symbol.for("react.suspense"),Lj=Symbol.for("react.memo"),Vj=Symbol.for("react.lazy"),Q0=Symbol.iterator;function Fj(t){return t===null||typeof t!="object"?null:(t=Q0&&t[Q0]||t["@@iterator"],typeof t=="function"?t:null)}var nT={isMounted:function(){return!1},enqueueForceUpdate:function(){},enqueueReplaceState:function(){},enqueueSetState:function(){}},rT=Object.assign,sT={};function vl(t,e,n){this.props=t,this.context=e,this.refs=sT,this.updater=n||nT}vl.prototype.isReactComponent={};vl.prototype.setState=function(t,e){if(typeof t!="object"&&typeof t!="function"&&t!=null)throw Error("setState(...): takes an object of state variables to update or a function which returns an object of state variables.");this.updater.enqueueSetState(this,t,e,"setState")};vl.prototype.forceUpdate=function(t){this.updater.enqueueForceUpdate(this,t,"forceUpdate")};function iT(){}iT.prototype=vl.prototype;function Tv(t,e,n){this.props=t,this.context=e,this.refs=sT,this.updater=n||nT}var Sv=Tv.prototype=new iT;Sv.constructor=Tv;rT(Sv,vl.prototype);Sv.isPureReactComponent=!0;var Y0=Array.isArray,oT=Object.prototype.hasOwnProperty,Iv={current:null},aT={key:!0,ref:!0,__self:!0,__source:!0};function lT(t,e,n){var r,s={},i=null,o=null;if(e!=null)for(r in e.ref!==void 0&&(o=e.ref),e.key!==void 0&&(i=""+e.key),e)oT.call(e,r)&&!aT.hasOwnProperty(r)&&(s[r]=e[r]);var a=arguments.length-2;if(a===1)s.children=n;else if(1<a){for(var c=Array(a),d=0;d<a;d++)c[d]=arguments[d+2];s.children=c}if(t&&t.defaultProps)for(r in a=t.defaultProps,a)s[r]===void 0&&(s[r]=a[r]);return{$$typeof:Lu,type:t,key:i,ref:o,props:s,_owner:Iv.current}}function Uj(t,e){return{$$typeof:Lu,type:t.type,key:e,ref:t.ref,props:t.props,_owner:t._owner}}function Cv(t){return typeof t=="object"&&t!==null&&t.$$typeof===Lu}function $j(t){var e={"=":"=0",":":"=2"};return"$"+t.replace(/[=:]/g,function(n){return e[n]})}var X0=/\/+/g;function Em(t,e){return typeof t=="object"&&t!==null&&t.key!=null?$j(""+t.key):e.toString(36)}function rh(t,e,n,r,s){var i=typeof t;(i==="undefined"||i==="boolean")&&(t=null);var o=!1;if(t===null)o=!0;else switch(i){case"string":case"number":o=!0;break;case"object":switch(t.$$typeof){case Lu:case Rj:o=!0}}if(o)return o=t,s=s(o),t=r===""?"."+Em(o,0):r,Y0(s)?(n="",t!=null&&(n=t.replace(X0,"$&/")+"/"),rh(s,e,n,"",function(d){return d})):s!=null&&(Cv(s)&&(s=Uj(s,n+(!s.key||o&&o.key===s.key?"":(""+s.key).replace(X0,"$&/")+"/")+t)),e.push(s)),1;if(o=0,r=r===""?".":r+":",Y0(t))for(var a=0;a<t.length;a++){i=t[a];var c=r+Em(i,a);o+=rh(i,e,n,c,s)}else if(c=Fj(t),typeof c=="function")for(t=c.call(t),a=0;!(i=t.next()).done;)i=i.value,c=r+Em(i,a++),o+=rh(i,e,n,c,s);else if(i==="object")throw e=String(t),Error("Objects are not valid as a React child (found: "+(e==="[object Object]"?"object with keys {"+Object.keys(t).join(", ")+"}":e)+"). If you meant to render a collection of children, use an array instead.");return o}function _d(t,e,n){if(t==null)return t;var r=[],s=0;return rh(t,r,"","",function(i){return e.call(n,i,s++)}),r}function Bj(t){if(t._status===-1){var e=t._result;e=e(),e.then(function(n){(t._status===0||t._status===-1)&&(t._status=1,t._result=n)},function(n){(t._status===0||t._status===-1)&&(t._status=2,t._result=n)}),t._status===-1&&(t._status=0,t._result=e)}if(t._status===1)return t._result.default;throw t._result}var rn={current:null},sh={transition:null},zj={ReactCurrentDispatcher:rn,ReactCurrentBatchConfig:sh,ReactCurrentOwner:Iv};function cT(){throw Error("act(...) is not supported in production builds of React.")}Ee.Children={map:_d,forEach:function(t,e,n){_d(t,function(){e.apply(this,arguments)},n)},count:function(t){var e=0;return _d(t,function(){e++}),e},toArray:function(t){return _d(t,function(e){return e})||[]},only:function(t){if(!Cv(t))throw Error("React.Children.only expected to receive a single React element child.");return t}};Ee.Component=vl;Ee.Fragment=Pj;Ee.Profiler=kj;Ee.PureComponent=Tv;Ee.StrictMode=Aj;Ee.Suspense=Mj;Ee.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=zj;Ee.act=cT;Ee.cloneElement=function(t,e,n){if(t==null)throw Error("React.cloneElement(...): The argument must be a React element, but you passed "+t+".");var r=rT({},t.props),s=t.key,i=t.ref,o=t._owner;if(e!=null){if(e.ref!==void 0&&(i=e.ref,o=Iv.current),e.key!==void 0&&(s=""+e.key),t.type&&t.type.defaultProps)var a=t.type.defaultProps;for(c in e)oT.call(e,c)&&!aT.hasOwnProperty(c)&&(r[c]=e[c]===void 0&&a!==void 0?a[c]:e[c])}var c=arguments.length-2;if(c===1)r.children=n;else if(1<c){a=Array(c);for(var d=0;d<c;d++)a[d]=arguments[d+2];r.children=a}return{$$typeof:Lu,type:t.type,key:s,ref:i,props:r,_owner:o}};Ee.createContext=function(t){return t={$$typeof:Dj,_currentValue:t,_currentValue2:t,_threadCount:0,Provider:null,Consumer:null,_defaultValue:null,_globalName:null},t.Provider={$$typeof:jj,_context:t},t.Consumer=t};Ee.createElement=lT;Ee.createFactory=function(t){var e=lT.bind(null,t);return e.type=t,e};Ee.createRef=function(){return{current:null}};Ee.forwardRef=function(t){return{$$typeof:Oj,render:t}};Ee.isValidElement=Cv;Ee.lazy=function(t){return{$$typeof:Vj,_payload:{_status:-1,_result:t},_init:Bj}};Ee.memo=function(t,e){return{$$typeof:Lj,type:t,compare:e===void 0?null:e}};Ee.startTransition=function(t){var e=sh.transition;sh.transition={};try{t()}finally{sh.transition=e}};Ee.unstable_act=cT;Ee.useCallback=function(t,e){return rn.current.useCallback(t,e)};Ee.useContext=function(t){return rn.current.useContext(t)};Ee.useDebugValue=function(){};Ee.useDeferredValue=function(t){return rn.current.useDeferredValue(t)};Ee.useEffect=function(t,e){return rn.current.useEffect(t,e)};Ee.useId=function(){return rn.current.useId()};Ee.useImperativeHandle=function(t,e,n){return rn.current.useImperativeHandle(t,e,n)};Ee.useInsertionEffect=function(t,e){return rn.current.useInsertionEffect(t,e)};Ee.useLayoutEffect=function(t,e){return rn.current.useLayoutEffect(t,e)};Ee.useMemo=function(t,e){return rn.current.useMemo(t,e)};Ee.useReducer=function(t,e,n){return rn.current.useReducer(t,e,n)};Ee.useRef=function(t){return rn.current.useRef(t)};Ee.useState=function(t){return rn.current.useState(t)};Ee.useSyncExternalStore=function(t,e,n){return rn.current.useSyncExternalStore(t,e,n)};Ee.useTransition=function(){return rn.current.useTransition()};Ee.version="18.3.1";tT.exports=Ee;var g=tT.exports;const K=ZE(g),Nv=Nj({__proto__:null,default:K},[g]);/**
 * @license React
 * react-jsx-runtime.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Wj=g,Hj=Symbol.for("react.element"),qj=Symbol.for("react.fragment"),Gj=Object.prototype.hasOwnProperty,Kj=Wj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED.ReactCurrentOwner,Qj={key:!0,ref:!0,__self:!0,__source:!0};function uT(t,e,n){var r,s={},i=null,o=null;n!==void 0&&(i=""+n),e.key!==void 0&&(i=""+e.key),e.ref!==void 0&&(o=e.ref);for(r in e)Gj.call(e,r)&&!Qj.hasOwnProperty(r)&&(s[r]=e[r]);if(t&&t.defaultProps)for(r in e=t.defaultProps,e)s[r]===void 0&&(s[r]=e[r]);return{$$typeof:Hj,type:t,key:i,ref:o,props:s,_owner:Kj.current}}Lf.Fragment=qj;Lf.jsx=uT;Lf.jsxs=uT;eT.exports=Lf;var l=eT.exports,dT={exports:{}},Nn={},hT={exports:{}},fT={};/**
 * @license React
 * scheduler.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */(function(t){function e(F,V){var L=F.length;F.push(V);e:for(;0<L;){var Z=L-1>>>1,X=F[Z];if(0<s(X,V))F[Z]=V,F[L]=X,L=Z;else break e}}function n(F){return F.length===0?null:F[0]}function r(F){if(F.length===0)return null;var V=F[0],L=F.pop();if(L!==V){F[0]=L;e:for(var Z=0,X=F.length,oe=X>>>1;Z<oe;){var ae=2*(Z+1)-1,we=F[ae],ke=ae+1,Q=F[ke];if(0>s(we,L))ke<X&&0>s(Q,we)?(F[Z]=Q,F[ke]=L,Z=ke):(F[Z]=we,F[ae]=L,Z=ae);else if(ke<X&&0>s(Q,L))F[Z]=Q,F[ke]=L,Z=ke;else break e}}return V}function s(F,V){var L=F.sortIndex-V.sortIndex;return L!==0?L:F.id-V.id}if(typeof performance=="object"&&typeof performance.now=="function"){var i=performance;t.unstable_now=function(){return i.now()}}else{var o=Date,a=o.now();t.unstable_now=function(){return o.now()-a}}var c=[],d=[],h=1,f=null,p=3,m=!1,T=!1,w=!1,x=typeof setTimeout=="function"?setTimeout:null,_=typeof clearTimeout=="function"?clearTimeout:null,v=typeof setImmediate<"u"?setImmediate:null;typeof navigator<"u"&&navigator.scheduling!==void 0&&navigator.scheduling.isInputPending!==void 0&&navigator.scheduling.isInputPending.bind(navigator.scheduling);function b(F){for(var V=n(d);V!==null;){if(V.callback===null)r(d);else if(V.startTime<=F)r(d),V.sortIndex=V.expirationTime,e(c,V);else break;V=n(d)}}function k(F){if(w=!1,b(F),!T)if(n(c)!==null)T=!0,H(O);else{var V=n(d);V!==null&&ne(k,V.startTime-F)}}function O(F,V){T=!1,w&&(w=!1,_(I),I=-1),m=!0;var L=p;try{for(b(V),f=n(c);f!==null&&(!(f.expirationTime>V)||F&&!P());){var Z=f.callback;if(typeof Z=="function"){f.callback=null,p=f.priorityLevel;var X=Z(f.expirationTime<=V);V=t.unstable_now(),typeof X=="function"?f.callback=X:f===n(c)&&r(c),b(V)}else r(c);f=n(c)}if(f!==null)var oe=!0;else{var ae=n(d);ae!==null&&ne(k,ae.startTime-V),oe=!1}return oe}finally{f=null,p=L,m=!1}}var D=!1,C=null,I=-1,S=5,N=-1;function P(){return!(t.unstable_now()-N<S)}function j(){if(C!==null){var F=t.unstable_now();N=F;var V=!0;try{V=C(!0,F)}finally{V?R():(D=!1,C=null)}}else D=!1}var R;if(typeof v=="function")R=function(){v(j)};else if(typeof MessageChannel<"u"){var M=new MessageChannel,G=M.port2;M.port1.onmessage=j,R=function(){G.postMessage(null)}}else R=function(){x(j,0)};function H(F){C=F,D||(D=!0,R())}function ne(F,V){I=x(function(){F(t.unstable_now())},V)}t.unstable_IdlePriority=5,t.unstable_ImmediatePriority=1,t.unstable_LowPriority=4,t.unstable_NormalPriority=3,t.unstable_Profiling=null,t.unstable_UserBlockingPriority=2,t.unstable_cancelCallback=function(F){F.callback=null},t.unstable_continueExecution=function(){T||m||(T=!0,H(O))},t.unstable_forceFrameRate=function(F){0>F||125<F?console.error("forceFrameRate takes a positive int between 0 and 125, forcing frame rates higher than 125 fps is not supported"):S=0<F?Math.floor(1e3/F):5},t.unstable_getCurrentPriorityLevel=function(){return p},t.unstable_getFirstCallbackNode=function(){return n(c)},t.unstable_next=function(F){switch(p){case 1:case 2:case 3:var V=3;break;default:V=p}var L=p;p=V;try{return F()}finally{p=L}},t.unstable_pauseExecution=function(){},t.unstable_requestPaint=function(){},t.unstable_runWithPriority=function(F,V){switch(F){case 1:case 2:case 3:case 4:case 5:break;default:F=3}var L=p;p=F;try{return V()}finally{p=L}},t.unstable_scheduleCallback=function(F,V,L){var Z=t.unstable_now();switch(typeof L=="object"&&L!==null?(L=L.delay,L=typeof L=="number"&&0<L?Z+L:Z):L=Z,F){case 1:var X=-1;break;case 2:X=250;break;case 5:X=1073741823;break;case 4:X=1e4;break;default:X=5e3}return X=L+X,F={id:h++,callback:V,priorityLevel:F,startTime:L,expirationTime:X,sortIndex:-1},L>Z?(F.sortIndex=L,e(d,F),n(c)===null&&F===n(d)&&(w?(_(I),I=-1):w=!0,ne(k,L-Z))):(F.sortIndex=X,e(c,F),T||m||(T=!0,H(O))),F},t.unstable_shouldYield=P,t.unstable_wrapCallback=function(F){var V=p;return function(){var L=p;p=V;try{return F.apply(this,arguments)}finally{p=L}}}})(fT);hT.exports=fT;var Yj=hT.exports;/**
 * @license React
 * react-dom.production.min.js
 *
 * Copyright (c) Facebook, Inc. and its affiliates.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE file in the root directory of this source tree.
 */var Xj=g,Cn=Yj;function q(t){for(var e="https://reactjs.org/docs/error-decoder.html?invariant="+t,n=1;n<arguments.length;n++)e+="&args[]="+encodeURIComponent(arguments[n]);return"Minified React error #"+t+"; visit "+e+" for the full message or use the non-minified dev environment for full errors and additional helpful warnings."}var pT=new Set,qc={};function Ko(t,e){nl(t,e),nl(t+"Capture",e)}function nl(t,e){for(qc[t]=e,t=0;t<e.length;t++)pT.add(e[t])}var ws=!(typeof window>"u"||typeof window.document>"u"||typeof window.document.createElement>"u"),Pg=Object.prototype.hasOwnProperty,Jj=/^[:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD][:A-Z_a-z\u00C0-\u00D6\u00D8-\u00F6\u00F8-\u02FF\u0370-\u037D\u037F-\u1FFF\u200C-\u200D\u2070-\u218F\u2C00-\u2FEF\u3001-\uD7FF\uF900-\uFDCF\uFDF0-\uFFFD\-.0-9\u00B7\u0300-\u036F\u203F-\u2040]*$/,J0={},Z0={};function Zj(t){return Pg.call(Z0,t)?!0:Pg.call(J0,t)?!1:Jj.test(t)?Z0[t]=!0:(J0[t]=!0,!1)}function eD(t,e,n,r){if(n!==null&&n.type===0)return!1;switch(typeof e){case"function":case"symbol":return!0;case"boolean":return r?!1:n!==null?!n.acceptsBooleans:(t=t.toLowerCase().slice(0,5),t!=="data-"&&t!=="aria-");default:return!1}}function tD(t,e,n,r){if(e===null||typeof e>"u"||eD(t,e,n,r))return!0;if(r)return!1;if(n!==null)switch(n.type){case 3:return!e;case 4:return e===!1;case 5:return isNaN(e);case 6:return isNaN(e)||1>e}return!1}function sn(t,e,n,r,s,i,o){this.acceptsBooleans=e===2||e===3||e===4,this.attributeName=r,this.attributeNamespace=s,this.mustUseProperty=n,this.propertyName=t,this.type=e,this.sanitizeURL=i,this.removeEmptyString=o}var Vt={};"children dangerouslySetInnerHTML defaultValue defaultChecked innerHTML suppressContentEditableWarning suppressHydrationWarning style".split(" ").forEach(function(t){Vt[t]=new sn(t,0,!1,t,null,!1,!1)});[["acceptCharset","accept-charset"],["className","class"],["htmlFor","for"],["httpEquiv","http-equiv"]].forEach(function(t){var e=t[0];Vt[e]=new sn(e,1,!1,t[1],null,!1,!1)});["contentEditable","draggable","spellCheck","value"].forEach(function(t){Vt[t]=new sn(t,2,!1,t.toLowerCase(),null,!1,!1)});["autoReverse","externalResourcesRequired","focusable","preserveAlpha"].forEach(function(t){Vt[t]=new sn(t,2,!1,t,null,!1,!1)});"allowFullScreen async autoFocus autoPlay controls default defer disabled disablePictureInPicture disableRemotePlayback formNoValidate hidden loop noModule noValidate open playsInline readOnly required reversed scoped seamless itemScope".split(" ").forEach(function(t){Vt[t]=new sn(t,3,!1,t.toLowerCase(),null,!1,!1)});["checked","multiple","muted","selected"].forEach(function(t){Vt[t]=new sn(t,3,!0,t,null,!1,!1)});["capture","download"].forEach(function(t){Vt[t]=new sn(t,4,!1,t,null,!1,!1)});["cols","rows","size","span"].forEach(function(t){Vt[t]=new sn(t,6,!1,t,null,!1,!1)});["rowSpan","start"].forEach(function(t){Vt[t]=new sn(t,5,!1,t.toLowerCase(),null,!1,!1)});var Rv=/[\-:]([a-z])/g;function Pv(t){return t[1].toUpperCase()}"accent-height alignment-baseline arabic-form baseline-shift cap-height clip-path clip-rule color-interpolation color-interpolation-filters color-profile color-rendering dominant-baseline enable-background fill-opacity fill-rule flood-color flood-opacity font-family font-size font-size-adjust font-stretch font-style font-variant font-weight glyph-name glyph-orientation-horizontal glyph-orientation-vertical horiz-adv-x horiz-origin-x image-rendering letter-spacing lighting-color marker-end marker-mid marker-start overline-position overline-thickness paint-order panose-1 pointer-events rendering-intent shape-rendering stop-color stop-opacity strikethrough-position strikethrough-thickness stroke-dasharray stroke-dashoffset stroke-linecap stroke-linejoin stroke-miterlimit stroke-opacity stroke-width text-anchor text-decoration text-rendering underline-position underline-thickness unicode-bidi unicode-range units-per-em v-alphabetic v-hanging v-ideographic v-mathematical vector-effect vert-adv-y vert-origin-x vert-origin-y word-spacing writing-mode xmlns:xlink x-height".split(" ").forEach(function(t){var e=t.replace(Rv,Pv);Vt[e]=new sn(e,1,!1,t,null,!1,!1)});"xlink:actuate xlink:arcrole xlink:role xlink:show xlink:title xlink:type".split(" ").forEach(function(t){var e=t.replace(Rv,Pv);Vt[e]=new sn(e,1,!1,t,"http://www.w3.org/1999/xlink",!1,!1)});["xml:base","xml:lang","xml:space"].forEach(function(t){var e=t.replace(Rv,Pv);Vt[e]=new sn(e,1,!1,t,"http://www.w3.org/XML/1998/namespace",!1,!1)});["tabIndex","crossOrigin"].forEach(function(t){Vt[t]=new sn(t,1,!1,t.toLowerCase(),null,!1,!1)});Vt.xlinkHref=new sn("xlinkHref",1,!1,"xlink:href","http://www.w3.org/1999/xlink",!0,!1);["src","href","action","formAction"].forEach(function(t){Vt[t]=new sn(t,1,!1,t.toLowerCase(),null,!0,!0)});function Av(t,e,n,r){var s=Vt.hasOwnProperty(e)?Vt[e]:null;(s!==null?s.type!==0:r||!(2<e.length)||e[0]!=="o"&&e[0]!=="O"||e[1]!=="n"&&e[1]!=="N")&&(tD(e,n,s,r)&&(n=null),r||s===null?Zj(e)&&(n===null?t.removeAttribute(e):t.setAttribute(e,""+n)):s.mustUseProperty?t[s.propertyName]=n===null?s.type===3?!1:"":n:(e=s.attributeName,r=s.attributeNamespace,n===null?t.removeAttribute(e):(s=s.type,n=s===3||s===4&&n===!0?"":""+n,r?t.setAttributeNS(r,e,n):t.setAttribute(e,n))))}var ks=Xj.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED,bd=Symbol.for("react.element"),xa=Symbol.for("react.portal"),_a=Symbol.for("react.fragment"),kv=Symbol.for("react.strict_mode"),Ag=Symbol.for("react.profiler"),mT=Symbol.for("react.provider"),gT=Symbol.for("react.context"),jv=Symbol.for("react.forward_ref"),kg=Symbol.for("react.suspense"),jg=Symbol.for("react.suspense_list"),Dv=Symbol.for("react.memo"),Qs=Symbol.for("react.lazy"),yT=Symbol.for("react.offscreen"),e_=Symbol.iterator;function Zl(t){return t===null||typeof t!="object"?null:(t=e_&&t[e_]||t["@@iterator"],typeof t=="function"?t:null)}var it=Object.assign,Tm;function mc(t){if(Tm===void 0)try{throw Error()}catch(n){var e=n.stack.trim().match(/\n( *(at )?)/);Tm=e&&e[1]||""}return`
`+Tm+t}var Sm=!1;function Im(t,e){if(!t||Sm)return"";Sm=!0;var n=Error.prepareStackTrace;Error.prepareStackTrace=void 0;try{if(e)if(e=function(){throw Error()},Object.defineProperty(e.prototype,"props",{set:function(){throw Error()}}),typeof Reflect=="object"&&Reflect.construct){try{Reflect.construct(e,[])}catch(d){var r=d}Reflect.construct(t,[],e)}else{try{e.call()}catch(d){r=d}t.call(e.prototype)}else{try{throw Error()}catch(d){r=d}t()}}catch(d){if(d&&r&&typeof d.stack=="string"){for(var s=d.stack.split(`
`),i=r.stack.split(`
`),o=s.length-1,a=i.length-1;1<=o&&0<=a&&s[o]!==i[a];)a--;for(;1<=o&&0<=a;o--,a--)if(s[o]!==i[a]){if(o!==1||a!==1)do if(o--,a--,0>a||s[o]!==i[a]){var c=`
`+s[o].replace(" at new "," at ");return t.displayName&&c.includes("<anonymous>")&&(c=c.replace("<anonymous>",t.displayName)),c}while(1<=o&&0<=a);break}}}finally{Sm=!1,Error.prepareStackTrace=n}return(t=t?t.displayName||t.name:"")?mc(t):""}function nD(t){switch(t.tag){case 5:return mc(t.type);case 16:return mc("Lazy");case 13:return mc("Suspense");case 19:return mc("SuspenseList");case 0:case 2:case 15:return t=Im(t.type,!1),t;case 11:return t=Im(t.type.render,!1),t;case 1:return t=Im(t.type,!0),t;default:return""}}function Dg(t){if(t==null)return null;if(typeof t=="function")return t.displayName||t.name||null;if(typeof t=="string")return t;switch(t){case _a:return"Fragment";case xa:return"Portal";case Ag:return"Profiler";case kv:return"StrictMode";case kg:return"Suspense";case jg:return"SuspenseList"}if(typeof t=="object")switch(t.$$typeof){case gT:return(t.displayName||"Context")+".Consumer";case mT:return(t._context.displayName||"Context")+".Provider";case jv:var e=t.render;return t=t.displayName,t||(t=e.displayName||e.name||"",t=t!==""?"ForwardRef("+t+")":"ForwardRef"),t;case Dv:return e=t.displayName||null,e!==null?e:Dg(t.type)||"Memo";case Qs:e=t._payload,t=t._init;try{return Dg(t(e))}catch{}}return null}function rD(t){var e=t.type;switch(t.tag){case 24:return"Cache";case 9:return(e.displayName||"Context")+".Consumer";case 10:return(e._context.displayName||"Context")+".Provider";case 18:return"DehydratedFragment";case 11:return t=e.render,t=t.displayName||t.name||"",e.displayName||(t!==""?"ForwardRef("+t+")":"ForwardRef");case 7:return"Fragment";case 5:return e;case 4:return"Portal";case 3:return"Root";case 6:return"Text";case 16:return Dg(e);case 8:return e===kv?"StrictMode":"Mode";case 22:return"Offscreen";case 12:return"Profiler";case 21:return"Scope";case 13:return"Suspense";case 19:return"SuspenseList";case 25:return"TracingMarker";case 1:case 0:case 17:case 2:case 14:case 15:if(typeof e=="function")return e.displayName||e.name||null;if(typeof e=="string")return e}return null}function Ni(t){switch(typeof t){case"boolean":case"number":case"string":case"undefined":return t;case"object":return t;default:return""}}function vT(t){var e=t.type;return(t=t.nodeName)&&t.toLowerCase()==="input"&&(e==="checkbox"||e==="radio")}function sD(t){var e=vT(t)?"checked":"value",n=Object.getOwnPropertyDescriptor(t.constructor.prototype,e),r=""+t[e];if(!t.hasOwnProperty(e)&&typeof n<"u"&&typeof n.get=="function"&&typeof n.set=="function"){var s=n.get,i=n.set;return Object.defineProperty(t,e,{configurable:!0,get:function(){return s.call(this)},set:function(o){r=""+o,i.call(this,o)}}),Object.defineProperty(t,e,{enumerable:n.enumerable}),{getValue:function(){return r},setValue:function(o){r=""+o},stopTracking:function(){t._valueTracker=null,delete t[e]}}}}function Ed(t){t._valueTracker||(t._valueTracker=sD(t))}function wT(t){if(!t)return!1;var e=t._valueTracker;if(!e)return!0;var n=e.getValue(),r="";return t&&(r=vT(t)?t.checked?"true":"false":t.value),t=r,t!==n?(e.setValue(t),!0):!1}function kh(t){if(t=t||(typeof document<"u"?document:void 0),typeof t>"u")return null;try{return t.activeElement||t.body}catch{return t.body}}function Og(t,e){var n=e.checked;return it({},e,{defaultChecked:void 0,defaultValue:void 0,value:void 0,checked:n??t._wrapperState.initialChecked})}function t_(t,e){var n=e.defaultValue==null?"":e.defaultValue,r=e.checked!=null?e.checked:e.defaultChecked;n=Ni(e.value!=null?e.value:n),t._wrapperState={initialChecked:r,initialValue:n,controlled:e.type==="checkbox"||e.type==="radio"?e.checked!=null:e.value!=null}}function xT(t,e){e=e.checked,e!=null&&Av(t,"checked",e,!1)}function Mg(t,e){xT(t,e);var n=Ni(e.value),r=e.type;if(n!=null)r==="number"?(n===0&&t.value===""||t.value!=n)&&(t.value=""+n):t.value!==""+n&&(t.value=""+n);else if(r==="submit"||r==="reset"){t.removeAttribute("value");return}e.hasOwnProperty("value")?Lg(t,e.type,n):e.hasOwnProperty("defaultValue")&&Lg(t,e.type,Ni(e.defaultValue)),e.checked==null&&e.defaultChecked!=null&&(t.defaultChecked=!!e.defaultChecked)}function n_(t,e,n){if(e.hasOwnProperty("value")||e.hasOwnProperty("defaultValue")){var r=e.type;if(!(r!=="submit"&&r!=="reset"||e.value!==void 0&&e.value!==null))return;e=""+t._wrapperState.initialValue,n||e===t.value||(t.value=e),t.defaultValue=e}n=t.name,n!==""&&(t.name=""),t.defaultChecked=!!t._wrapperState.initialChecked,n!==""&&(t.name=n)}function Lg(t,e,n){(e!=="number"||kh(t.ownerDocument)!==t)&&(n==null?t.defaultValue=""+t._wrapperState.initialValue:t.defaultValue!==""+n&&(t.defaultValue=""+n))}var gc=Array.isArray;function ja(t,e,n,r){if(t=t.options,e){e={};for(var s=0;s<n.length;s++)e["$"+n[s]]=!0;for(n=0;n<t.length;n++)s=e.hasOwnProperty("$"+t[n].value),t[n].selected!==s&&(t[n].selected=s),s&&r&&(t[n].defaultSelected=!0)}else{for(n=""+Ni(n),e=null,s=0;s<t.length;s++){if(t[s].value===n){t[s].selected=!0,r&&(t[s].defaultSelected=!0);return}e!==null||t[s].disabled||(e=t[s])}e!==null&&(e.selected=!0)}}function Vg(t,e){if(e.dangerouslySetInnerHTML!=null)throw Error(q(91));return it({},e,{value:void 0,defaultValue:void 0,children:""+t._wrapperState.initialValue})}function r_(t,e){var n=e.value;if(n==null){if(n=e.children,e=e.defaultValue,n!=null){if(e!=null)throw Error(q(92));if(gc(n)){if(1<n.length)throw Error(q(93));n=n[0]}e=n}e==null&&(e=""),n=e}t._wrapperState={initialValue:Ni(n)}}function _T(t,e){var n=Ni(e.value),r=Ni(e.defaultValue);n!=null&&(n=""+n,n!==t.value&&(t.value=n),e.defaultValue==null&&t.defaultValue!==n&&(t.defaultValue=n)),r!=null&&(t.defaultValue=""+r)}function s_(t){var e=t.textContent;e===t._wrapperState.initialValue&&e!==""&&e!==null&&(t.value=e)}function bT(t){switch(t){case"svg":return"http://www.w3.org/2000/svg";case"math":return"http://www.w3.org/1998/Math/MathML";default:return"http://www.w3.org/1999/xhtml"}}function Fg(t,e){return t==null||t==="http://www.w3.org/1999/xhtml"?bT(e):t==="http://www.w3.org/2000/svg"&&e==="foreignObject"?"http://www.w3.org/1999/xhtml":t}var Td,ET=function(t){return typeof MSApp<"u"&&MSApp.execUnsafeLocalFunction?function(e,n,r,s){MSApp.execUnsafeLocalFunction(function(){return t(e,n,r,s)})}:t}(function(t,e){if(t.namespaceURI!=="http://www.w3.org/2000/svg"||"innerHTML"in t)t.innerHTML=e;else{for(Td=Td||document.createElement("div"),Td.innerHTML="<svg>"+e.valueOf().toString()+"</svg>",e=Td.firstChild;t.firstChild;)t.removeChild(t.firstChild);for(;e.firstChild;)t.appendChild(e.firstChild)}});function Gc(t,e){if(e){var n=t.firstChild;if(n&&n===t.lastChild&&n.nodeType===3){n.nodeValue=e;return}}t.textContent=e}var Rc={animationIterationCount:!0,aspectRatio:!0,borderImageOutset:!0,borderImageSlice:!0,borderImageWidth:!0,boxFlex:!0,boxFlexGroup:!0,boxOrdinalGroup:!0,columnCount:!0,columns:!0,flex:!0,flexGrow:!0,flexPositive:!0,flexShrink:!0,flexNegative:!0,flexOrder:!0,gridArea:!0,gridRow:!0,gridRowEnd:!0,gridRowSpan:!0,gridRowStart:!0,gridColumn:!0,gridColumnEnd:!0,gridColumnSpan:!0,gridColumnStart:!0,fontWeight:!0,lineClamp:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,tabSize:!0,widows:!0,zIndex:!0,zoom:!0,fillOpacity:!0,floodOpacity:!0,stopOpacity:!0,strokeDasharray:!0,strokeDashoffset:!0,strokeMiterlimit:!0,strokeOpacity:!0,strokeWidth:!0},iD=["Webkit","ms","Moz","O"];Object.keys(Rc).forEach(function(t){iD.forEach(function(e){e=e+t.charAt(0).toUpperCase()+t.substring(1),Rc[e]=Rc[t]})});function TT(t,e,n){return e==null||typeof e=="boolean"||e===""?"":n||typeof e!="number"||e===0||Rc.hasOwnProperty(t)&&Rc[t]?(""+e).trim():e+"px"}function ST(t,e){t=t.style;for(var n in e)if(e.hasOwnProperty(n)){var r=n.indexOf("--")===0,s=TT(n,e[n],r);n==="float"&&(n="cssFloat"),r?t.setProperty(n,s):t[n]=s}}var oD=it({menuitem:!0},{area:!0,base:!0,br:!0,col:!0,embed:!0,hr:!0,img:!0,input:!0,keygen:!0,link:!0,meta:!0,param:!0,source:!0,track:!0,wbr:!0});function Ug(t,e){if(e){if(oD[t]&&(e.children!=null||e.dangerouslySetInnerHTML!=null))throw Error(q(137,t));if(e.dangerouslySetInnerHTML!=null){if(e.children!=null)throw Error(q(60));if(typeof e.dangerouslySetInnerHTML!="object"||!("__html"in e.dangerouslySetInnerHTML))throw Error(q(61))}if(e.style!=null&&typeof e.style!="object")throw Error(q(62))}}function $g(t,e){if(t.indexOf("-")===-1)return typeof e.is=="string";switch(t){case"annotation-xml":case"color-profile":case"font-face":case"font-face-src":case"font-face-uri":case"font-face-format":case"font-face-name":case"missing-glyph":return!1;default:return!0}}var Bg=null;function Ov(t){return t=t.target||t.srcElement||window,t.correspondingUseElement&&(t=t.correspondingUseElement),t.nodeType===3?t.parentNode:t}var zg=null,Da=null,Oa=null;function i_(t){if(t=Uu(t)){if(typeof zg!="function")throw Error(q(280));var e=t.stateNode;e&&(e=Bf(e),zg(t.stateNode,t.type,e))}}function IT(t){Da?Oa?Oa.push(t):Oa=[t]:Da=t}function CT(){if(Da){var t=Da,e=Oa;if(Oa=Da=null,i_(t),e)for(t=0;t<e.length;t++)i_(e[t])}}function NT(t,e){return t(e)}function RT(){}var Cm=!1;function PT(t,e,n){if(Cm)return t(e,n);Cm=!0;try{return NT(t,e,n)}finally{Cm=!1,(Da!==null||Oa!==null)&&(RT(),CT())}}function Kc(t,e){var n=t.stateNode;if(n===null)return null;var r=Bf(n);if(r===null)return null;n=r[e];e:switch(e){case"onClick":case"onClickCapture":case"onDoubleClick":case"onDoubleClickCapture":case"onMouseDown":case"onMouseDownCapture":case"onMouseMove":case"onMouseMoveCapture":case"onMouseUp":case"onMouseUpCapture":case"onMouseEnter":(r=!r.disabled)||(t=t.type,r=!(t==="button"||t==="input"||t==="select"||t==="textarea")),t=!r;break e;default:t=!1}if(t)return null;if(n&&typeof n!="function")throw Error(q(231,e,typeof n));return n}var Wg=!1;if(ws)try{var ec={};Object.defineProperty(ec,"passive",{get:function(){Wg=!0}}),window.addEventListener("test",ec,ec),window.removeEventListener("test",ec,ec)}catch{Wg=!1}function aD(t,e,n,r,s,i,o,a,c){var d=Array.prototype.slice.call(arguments,3);try{e.apply(n,d)}catch(h){this.onError(h)}}var Pc=!1,jh=null,Dh=!1,Hg=null,lD={onError:function(t){Pc=!0,jh=t}};function cD(t,e,n,r,s,i,o,a,c){Pc=!1,jh=null,aD.apply(lD,arguments)}function uD(t,e,n,r,s,i,o,a,c){if(cD.apply(this,arguments),Pc){if(Pc){var d=jh;Pc=!1,jh=null}else throw Error(q(198));Dh||(Dh=!0,Hg=d)}}function Qo(t){var e=t,n=t;if(t.alternate)for(;e.return;)e=e.return;else{t=e;do e=t,e.flags&4098&&(n=e.return),t=e.return;while(t)}return e.tag===3?n:null}function AT(t){if(t.tag===13){var e=t.memoizedState;if(e===null&&(t=t.alternate,t!==null&&(e=t.memoizedState)),e!==null)return e.dehydrated}return null}function o_(t){if(Qo(t)!==t)throw Error(q(188))}function dD(t){var e=t.alternate;if(!e){if(e=Qo(t),e===null)throw Error(q(188));return e!==t?null:t}for(var n=t,r=e;;){var s=n.return;if(s===null)break;var i=s.alternate;if(i===null){if(r=s.return,r!==null){n=r;continue}break}if(s.child===i.child){for(i=s.child;i;){if(i===n)return o_(s),t;if(i===r)return o_(s),e;i=i.sibling}throw Error(q(188))}if(n.return!==r.return)n=s,r=i;else{for(var o=!1,a=s.child;a;){if(a===n){o=!0,n=s,r=i;break}if(a===r){o=!0,r=s,n=i;break}a=a.sibling}if(!o){for(a=i.child;a;){if(a===n){o=!0,n=i,r=s;break}if(a===r){o=!0,r=i,n=s;break}a=a.sibling}if(!o)throw Error(q(189))}}if(n.alternate!==r)throw Error(q(190))}if(n.tag!==3)throw Error(q(188));return n.stateNode.current===n?t:e}function kT(t){return t=dD(t),t!==null?jT(t):null}function jT(t){if(t.tag===5||t.tag===6)return t;for(t=t.child;t!==null;){var e=jT(t);if(e!==null)return e;t=t.sibling}return null}var DT=Cn.unstable_scheduleCallback,a_=Cn.unstable_cancelCallback,hD=Cn.unstable_shouldYield,fD=Cn.unstable_requestPaint,pt=Cn.unstable_now,pD=Cn.unstable_getCurrentPriorityLevel,Mv=Cn.unstable_ImmediatePriority,OT=Cn.unstable_UserBlockingPriority,Oh=Cn.unstable_NormalPriority,mD=Cn.unstable_LowPriority,MT=Cn.unstable_IdlePriority,Vf=null,Vr=null;function gD(t){if(Vr&&typeof Vr.onCommitFiberRoot=="function")try{Vr.onCommitFiberRoot(Vf,t,void 0,(t.current.flags&128)===128)}catch{}}var lr=Math.clz32?Math.clz32:wD,yD=Math.log,vD=Math.LN2;function wD(t){return t>>>=0,t===0?32:31-(yD(t)/vD|0)|0}var Sd=64,Id=4194304;function yc(t){switch(t&-t){case 1:return 1;case 2:return 2;case 4:return 4;case 8:return 8;case 16:return 16;case 32:return 32;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return t&4194240;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return t&130023424;case 134217728:return 134217728;case 268435456:return 268435456;case 536870912:return 536870912;case 1073741824:return 1073741824;default:return t}}function Mh(t,e){var n=t.pendingLanes;if(n===0)return 0;var r=0,s=t.suspendedLanes,i=t.pingedLanes,o=n&268435455;if(o!==0){var a=o&~s;a!==0?r=yc(a):(i&=o,i!==0&&(r=yc(i)))}else o=n&~s,o!==0?r=yc(o):i!==0&&(r=yc(i));if(r===0)return 0;if(e!==0&&e!==r&&!(e&s)&&(s=r&-r,i=e&-e,s>=i||s===16&&(i&4194240)!==0))return e;if(r&4&&(r|=n&16),e=t.entangledLanes,e!==0)for(t=t.entanglements,e&=r;0<e;)n=31-lr(e),s=1<<n,r|=t[n],e&=~s;return r}function xD(t,e){switch(t){case 1:case 2:case 4:return e+250;case 8:case 16:case 32:case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:return e+5e3;case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:return-1;case 134217728:case 268435456:case 536870912:case 1073741824:return-1;default:return-1}}function _D(t,e){for(var n=t.suspendedLanes,r=t.pingedLanes,s=t.expirationTimes,i=t.pendingLanes;0<i;){var o=31-lr(i),a=1<<o,c=s[o];c===-1?(!(a&n)||a&r)&&(s[o]=xD(a,e)):c<=e&&(t.expiredLanes|=a),i&=~a}}function qg(t){return t=t.pendingLanes&-1073741825,t!==0?t:t&1073741824?1073741824:0}function LT(){var t=Sd;return Sd<<=1,!(Sd&4194240)&&(Sd=64),t}function Nm(t){for(var e=[],n=0;31>n;n++)e.push(t);return e}function Vu(t,e,n){t.pendingLanes|=e,e!==536870912&&(t.suspendedLanes=0,t.pingedLanes=0),t=t.eventTimes,e=31-lr(e),t[e]=n}function bD(t,e){var n=t.pendingLanes&~e;t.pendingLanes=e,t.suspendedLanes=0,t.pingedLanes=0,t.expiredLanes&=e,t.mutableReadLanes&=e,t.entangledLanes&=e,e=t.entanglements;var r=t.eventTimes;for(t=t.expirationTimes;0<n;){var s=31-lr(n),i=1<<s;e[s]=0,r[s]=-1,t[s]=-1,n&=~i}}function Lv(t,e){var n=t.entangledLanes|=e;for(t=t.entanglements;n;){var r=31-lr(n),s=1<<r;s&e|t[r]&e&&(t[r]|=e),n&=~s}}var Ue=0;function VT(t){return t&=-t,1<t?4<t?t&268435455?16:536870912:4:1}var FT,Vv,UT,$T,BT,Gg=!1,Cd=[],pi=null,mi=null,gi=null,Qc=new Map,Yc=new Map,Zs=[],ED="mousedown mouseup touchcancel touchend touchstart auxclick dblclick pointercancel pointerdown pointerup dragend dragstart drop compositionend compositionstart keydown keypress keyup input textInput copy cut paste click change contextmenu reset submit".split(" ");function l_(t,e){switch(t){case"focusin":case"focusout":pi=null;break;case"dragenter":case"dragleave":mi=null;break;case"mouseover":case"mouseout":gi=null;break;case"pointerover":case"pointerout":Qc.delete(e.pointerId);break;case"gotpointercapture":case"lostpointercapture":Yc.delete(e.pointerId)}}function tc(t,e,n,r,s,i){return t===null||t.nativeEvent!==i?(t={blockedOn:e,domEventName:n,eventSystemFlags:r,nativeEvent:i,targetContainers:[s]},e!==null&&(e=Uu(e),e!==null&&Vv(e)),t):(t.eventSystemFlags|=r,e=t.targetContainers,s!==null&&e.indexOf(s)===-1&&e.push(s),t)}function TD(t,e,n,r,s){switch(e){case"focusin":return pi=tc(pi,t,e,n,r,s),!0;case"dragenter":return mi=tc(mi,t,e,n,r,s),!0;case"mouseover":return gi=tc(gi,t,e,n,r,s),!0;case"pointerover":var i=s.pointerId;return Qc.set(i,tc(Qc.get(i)||null,t,e,n,r,s)),!0;case"gotpointercapture":return i=s.pointerId,Yc.set(i,tc(Yc.get(i)||null,t,e,n,r,s)),!0}return!1}function zT(t){var e=ho(t.target);if(e!==null){var n=Qo(e);if(n!==null){if(e=n.tag,e===13){if(e=AT(n),e!==null){t.blockedOn=e,BT(t.priority,function(){UT(n)});return}}else if(e===3&&n.stateNode.current.memoizedState.isDehydrated){t.blockedOn=n.tag===3?n.stateNode.containerInfo:null;return}}}t.blockedOn=null}function ih(t){if(t.blockedOn!==null)return!1;for(var e=t.targetContainers;0<e.length;){var n=Kg(t.domEventName,t.eventSystemFlags,e[0],t.nativeEvent);if(n===null){n=t.nativeEvent;var r=new n.constructor(n.type,n);Bg=r,n.target.dispatchEvent(r),Bg=null}else return e=Uu(n),e!==null&&Vv(e),t.blockedOn=n,!1;e.shift()}return!0}function c_(t,e,n){ih(t)&&n.delete(e)}function SD(){Gg=!1,pi!==null&&ih(pi)&&(pi=null),mi!==null&&ih(mi)&&(mi=null),gi!==null&&ih(gi)&&(gi=null),Qc.forEach(c_),Yc.forEach(c_)}function nc(t,e){t.blockedOn===e&&(t.blockedOn=null,Gg||(Gg=!0,Cn.unstable_scheduleCallback(Cn.unstable_NormalPriority,SD)))}function Xc(t){function e(s){return nc(s,t)}if(0<Cd.length){nc(Cd[0],t);for(var n=1;n<Cd.length;n++){var r=Cd[n];r.blockedOn===t&&(r.blockedOn=null)}}for(pi!==null&&nc(pi,t),mi!==null&&nc(mi,t),gi!==null&&nc(gi,t),Qc.forEach(e),Yc.forEach(e),n=0;n<Zs.length;n++)r=Zs[n],r.blockedOn===t&&(r.blockedOn=null);for(;0<Zs.length&&(n=Zs[0],n.blockedOn===null);)zT(n),n.blockedOn===null&&Zs.shift()}var Ma=ks.ReactCurrentBatchConfig,Lh=!0;function ID(t,e,n,r){var s=Ue,i=Ma.transition;Ma.transition=null;try{Ue=1,Fv(t,e,n,r)}finally{Ue=s,Ma.transition=i}}function CD(t,e,n,r){var s=Ue,i=Ma.transition;Ma.transition=null;try{Ue=4,Fv(t,e,n,r)}finally{Ue=s,Ma.transition=i}}function Fv(t,e,n,r){if(Lh){var s=Kg(t,e,n,r);if(s===null)Vm(t,e,r,Vh,n),l_(t,r);else if(TD(s,t,e,n,r))r.stopPropagation();else if(l_(t,r),e&4&&-1<ED.indexOf(t)){for(;s!==null;){var i=Uu(s);if(i!==null&&FT(i),i=Kg(t,e,n,r),i===null&&Vm(t,e,r,Vh,n),i===s)break;s=i}s!==null&&r.stopPropagation()}else Vm(t,e,r,null,n)}}var Vh=null;function Kg(t,e,n,r){if(Vh=null,t=Ov(r),t=ho(t),t!==null)if(e=Qo(t),e===null)t=null;else if(n=e.tag,n===13){if(t=AT(e),t!==null)return t;t=null}else if(n===3){if(e.stateNode.current.memoizedState.isDehydrated)return e.tag===3?e.stateNode.containerInfo:null;t=null}else e!==t&&(t=null);return Vh=t,null}function WT(t){switch(t){case"cancel":case"click":case"close":case"contextmenu":case"copy":case"cut":case"auxclick":case"dblclick":case"dragend":case"dragstart":case"drop":case"focusin":case"focusout":case"input":case"invalid":case"keydown":case"keypress":case"keyup":case"mousedown":case"mouseup":case"paste":case"pause":case"play":case"pointercancel":case"pointerdown":case"pointerup":case"ratechange":case"reset":case"resize":case"seeked":case"submit":case"touchcancel":case"touchend":case"touchstart":case"volumechange":case"change":case"selectionchange":case"textInput":case"compositionstart":case"compositionend":case"compositionupdate":case"beforeblur":case"afterblur":case"beforeinput":case"blur":case"fullscreenchange":case"focus":case"hashchange":case"popstate":case"select":case"selectstart":return 1;case"drag":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"mousemove":case"mouseout":case"mouseover":case"pointermove":case"pointerout":case"pointerover":case"scroll":case"toggle":case"touchmove":case"wheel":case"mouseenter":case"mouseleave":case"pointerenter":case"pointerleave":return 4;case"message":switch(pD()){case Mv:return 1;case OT:return 4;case Oh:case mD:return 16;case MT:return 536870912;default:return 16}default:return 16}}var ui=null,Uv=null,oh=null;function HT(){if(oh)return oh;var t,e=Uv,n=e.length,r,s="value"in ui?ui.value:ui.textContent,i=s.length;for(t=0;t<n&&e[t]===s[t];t++);var o=n-t;for(r=1;r<=o&&e[n-r]===s[i-r];r++);return oh=s.slice(t,1<r?1-r:void 0)}function ah(t){var e=t.keyCode;return"charCode"in t?(t=t.charCode,t===0&&e===13&&(t=13)):t=e,t===10&&(t=13),32<=t||t===13?t:0}function Nd(){return!0}function u_(){return!1}function Rn(t){function e(n,r,s,i,o){this._reactName=n,this._targetInst=s,this.type=r,this.nativeEvent=i,this.target=o,this.currentTarget=null;for(var a in t)t.hasOwnProperty(a)&&(n=t[a],this[a]=n?n(i):i[a]);return this.isDefaultPrevented=(i.defaultPrevented!=null?i.defaultPrevented:i.returnValue===!1)?Nd:u_,this.isPropagationStopped=u_,this}return it(e.prototype,{preventDefault:function(){this.defaultPrevented=!0;var n=this.nativeEvent;n&&(n.preventDefault?n.preventDefault():typeof n.returnValue!="unknown"&&(n.returnValue=!1),this.isDefaultPrevented=Nd)},stopPropagation:function(){var n=this.nativeEvent;n&&(n.stopPropagation?n.stopPropagation():typeof n.cancelBubble!="unknown"&&(n.cancelBubble=!0),this.isPropagationStopped=Nd)},persist:function(){},isPersistent:Nd}),e}var wl={eventPhase:0,bubbles:0,cancelable:0,timeStamp:function(t){return t.timeStamp||Date.now()},defaultPrevented:0,isTrusted:0},$v=Rn(wl),Fu=it({},wl,{view:0,detail:0}),ND=Rn(Fu),Rm,Pm,rc,Ff=it({},Fu,{screenX:0,screenY:0,clientX:0,clientY:0,pageX:0,pageY:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,getModifierState:Bv,button:0,buttons:0,relatedTarget:function(t){return t.relatedTarget===void 0?t.fromElement===t.srcElement?t.toElement:t.fromElement:t.relatedTarget},movementX:function(t){return"movementX"in t?t.movementX:(t!==rc&&(rc&&t.type==="mousemove"?(Rm=t.screenX-rc.screenX,Pm=t.screenY-rc.screenY):Pm=Rm=0,rc=t),Rm)},movementY:function(t){return"movementY"in t?t.movementY:Pm}}),d_=Rn(Ff),RD=it({},Ff,{dataTransfer:0}),PD=Rn(RD),AD=it({},Fu,{relatedTarget:0}),Am=Rn(AD),kD=it({},wl,{animationName:0,elapsedTime:0,pseudoElement:0}),jD=Rn(kD),DD=it({},wl,{clipboardData:function(t){return"clipboardData"in t?t.clipboardData:window.clipboardData}}),OD=Rn(DD),MD=it({},wl,{data:0}),h_=Rn(MD),LD={Esc:"Escape",Spacebar:" ",Left:"ArrowLeft",Up:"ArrowUp",Right:"ArrowRight",Down:"ArrowDown",Del:"Delete",Win:"OS",Menu:"ContextMenu",Apps:"ContextMenu",Scroll:"ScrollLock",MozPrintableKey:"Unidentified"},VD={8:"Backspace",9:"Tab",12:"Clear",13:"Enter",16:"Shift",17:"Control",18:"Alt",19:"Pause",20:"CapsLock",27:"Escape",32:" ",33:"PageUp",34:"PageDown",35:"End",36:"Home",37:"ArrowLeft",38:"ArrowUp",39:"ArrowRight",40:"ArrowDown",45:"Insert",46:"Delete",112:"F1",113:"F2",114:"F3",115:"F4",116:"F5",117:"F6",118:"F7",119:"F8",120:"F9",121:"F10",122:"F11",123:"F12",144:"NumLock",145:"ScrollLock",224:"Meta"},FD={Alt:"altKey",Control:"ctrlKey",Meta:"metaKey",Shift:"shiftKey"};function UD(t){var e=this.nativeEvent;return e.getModifierState?e.getModifierState(t):(t=FD[t])?!!e[t]:!1}function Bv(){return UD}var $D=it({},Fu,{key:function(t){if(t.key){var e=LD[t.key]||t.key;if(e!=="Unidentified")return e}return t.type==="keypress"?(t=ah(t),t===13?"Enter":String.fromCharCode(t)):t.type==="keydown"||t.type==="keyup"?VD[t.keyCode]||"Unidentified":""},code:0,location:0,ctrlKey:0,shiftKey:0,altKey:0,metaKey:0,repeat:0,locale:0,getModifierState:Bv,charCode:function(t){return t.type==="keypress"?ah(t):0},keyCode:function(t){return t.type==="keydown"||t.type==="keyup"?t.keyCode:0},which:function(t){return t.type==="keypress"?ah(t):t.type==="keydown"||t.type==="keyup"?t.keyCode:0}}),BD=Rn($D),zD=it({},Ff,{pointerId:0,width:0,height:0,pressure:0,tangentialPressure:0,tiltX:0,tiltY:0,twist:0,pointerType:0,isPrimary:0}),f_=Rn(zD),WD=it({},Fu,{touches:0,targetTouches:0,changedTouches:0,altKey:0,metaKey:0,ctrlKey:0,shiftKey:0,getModifierState:Bv}),HD=Rn(WD),qD=it({},wl,{propertyName:0,elapsedTime:0,pseudoElement:0}),GD=Rn(qD),KD=it({},Ff,{deltaX:function(t){return"deltaX"in t?t.deltaX:"wheelDeltaX"in t?-t.wheelDeltaX:0},deltaY:function(t){return"deltaY"in t?t.deltaY:"wheelDeltaY"in t?-t.wheelDeltaY:"wheelDelta"in t?-t.wheelDelta:0},deltaZ:0,deltaMode:0}),QD=Rn(KD),YD=[9,13,27,32],zv=ws&&"CompositionEvent"in window,Ac=null;ws&&"documentMode"in document&&(Ac=document.documentMode);var XD=ws&&"TextEvent"in window&&!Ac,qT=ws&&(!zv||Ac&&8<Ac&&11>=Ac),p_=" ",m_=!1;function GT(t,e){switch(t){case"keyup":return YD.indexOf(e.keyCode)!==-1;case"keydown":return e.keyCode!==229;case"keypress":case"mousedown":case"focusout":return!0;default:return!1}}function KT(t){return t=t.detail,typeof t=="object"&&"data"in t?t.data:null}var ba=!1;function JD(t,e){switch(t){case"compositionend":return KT(e);case"keypress":return e.which!==32?null:(m_=!0,p_);case"textInput":return t=e.data,t===p_&&m_?null:t;default:return null}}function ZD(t,e){if(ba)return t==="compositionend"||!zv&&GT(t,e)?(t=HT(),oh=Uv=ui=null,ba=!1,t):null;switch(t){case"paste":return null;case"keypress":if(!(e.ctrlKey||e.altKey||e.metaKey)||e.ctrlKey&&e.altKey){if(e.char&&1<e.char.length)return e.char;if(e.which)return String.fromCharCode(e.which)}return null;case"compositionend":return qT&&e.locale!=="ko"?null:e.data;default:return null}}var eO={color:!0,date:!0,datetime:!0,"datetime-local":!0,email:!0,month:!0,number:!0,password:!0,range:!0,search:!0,tel:!0,text:!0,time:!0,url:!0,week:!0};function g_(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e==="input"?!!eO[t.type]:e==="textarea"}function QT(t,e,n,r){IT(r),e=Fh(e,"onChange"),0<e.length&&(n=new $v("onChange","change",null,n,r),t.push({event:n,listeners:e}))}var kc=null,Jc=null;function tO(t){oS(t,0)}function Uf(t){var e=Sa(t);if(wT(e))return t}function nO(t,e){if(t==="change")return e}var YT=!1;if(ws){var km;if(ws){var jm="oninput"in document;if(!jm){var y_=document.createElement("div");y_.setAttribute("oninput","return;"),jm=typeof y_.oninput=="function"}km=jm}else km=!1;YT=km&&(!document.documentMode||9<document.documentMode)}function v_(){kc&&(kc.detachEvent("onpropertychange",XT),Jc=kc=null)}function XT(t){if(t.propertyName==="value"&&Uf(Jc)){var e=[];QT(e,Jc,t,Ov(t)),PT(tO,e)}}function rO(t,e,n){t==="focusin"?(v_(),kc=e,Jc=n,kc.attachEvent("onpropertychange",XT)):t==="focusout"&&v_()}function sO(t){if(t==="selectionchange"||t==="keyup"||t==="keydown")return Uf(Jc)}function iO(t,e){if(t==="click")return Uf(e)}function oO(t,e){if(t==="input"||t==="change")return Uf(e)}function aO(t,e){return t===e&&(t!==0||1/t===1/e)||t!==t&&e!==e}var hr=typeof Object.is=="function"?Object.is:aO;function Zc(t,e){if(hr(t,e))return!0;if(typeof t!="object"||t===null||typeof e!="object"||e===null)return!1;var n=Object.keys(t),r=Object.keys(e);if(n.length!==r.length)return!1;for(r=0;r<n.length;r++){var s=n[r];if(!Pg.call(e,s)||!hr(t[s],e[s]))return!1}return!0}function w_(t){for(;t&&t.firstChild;)t=t.firstChild;return t}function x_(t,e){var n=w_(t);t=0;for(var r;n;){if(n.nodeType===3){if(r=t+n.textContent.length,t<=e&&r>=e)return{node:n,offset:e-t};t=r}e:{for(;n;){if(n.nextSibling){n=n.nextSibling;break e}n=n.parentNode}n=void 0}n=w_(n)}}function JT(t,e){return t&&e?t===e?!0:t&&t.nodeType===3?!1:e&&e.nodeType===3?JT(t,e.parentNode):"contains"in t?t.contains(e):t.compareDocumentPosition?!!(t.compareDocumentPosition(e)&16):!1:!1}function ZT(){for(var t=window,e=kh();e instanceof t.HTMLIFrameElement;){try{var n=typeof e.contentWindow.location.href=="string"}catch{n=!1}if(n)t=e.contentWindow;else break;e=kh(t.document)}return e}function Wv(t){var e=t&&t.nodeName&&t.nodeName.toLowerCase();return e&&(e==="input"&&(t.type==="text"||t.type==="search"||t.type==="tel"||t.type==="url"||t.type==="password")||e==="textarea"||t.contentEditable==="true")}function lO(t){var e=ZT(),n=t.focusedElem,r=t.selectionRange;if(e!==n&&n&&n.ownerDocument&&JT(n.ownerDocument.documentElement,n)){if(r!==null&&Wv(n)){if(e=r.start,t=r.end,t===void 0&&(t=e),"selectionStart"in n)n.selectionStart=e,n.selectionEnd=Math.min(t,n.value.length);else if(t=(e=n.ownerDocument||document)&&e.defaultView||window,t.getSelection){t=t.getSelection();var s=n.textContent.length,i=Math.min(r.start,s);r=r.end===void 0?i:Math.min(r.end,s),!t.extend&&i>r&&(s=r,r=i,i=s),s=x_(n,i);var o=x_(n,r);s&&o&&(t.rangeCount!==1||t.anchorNode!==s.node||t.anchorOffset!==s.offset||t.focusNode!==o.node||t.focusOffset!==o.offset)&&(e=e.createRange(),e.setStart(s.node,s.offset),t.removeAllRanges(),i>r?(t.addRange(e),t.extend(o.node,o.offset)):(e.setEnd(o.node,o.offset),t.addRange(e)))}}for(e=[],t=n;t=t.parentNode;)t.nodeType===1&&e.push({element:t,left:t.scrollLeft,top:t.scrollTop});for(typeof n.focus=="function"&&n.focus(),n=0;n<e.length;n++)t=e[n],t.element.scrollLeft=t.left,t.element.scrollTop=t.top}}var cO=ws&&"documentMode"in document&&11>=document.documentMode,Ea=null,Qg=null,jc=null,Yg=!1;function __(t,e,n){var r=n.window===n?n.document:n.nodeType===9?n:n.ownerDocument;Yg||Ea==null||Ea!==kh(r)||(r=Ea,"selectionStart"in r&&Wv(r)?r={start:r.selectionStart,end:r.selectionEnd}:(r=(r.ownerDocument&&r.ownerDocument.defaultView||window).getSelection(),r={anchorNode:r.anchorNode,anchorOffset:r.anchorOffset,focusNode:r.focusNode,focusOffset:r.focusOffset}),jc&&Zc(jc,r)||(jc=r,r=Fh(Qg,"onSelect"),0<r.length&&(e=new $v("onSelect","select",null,e,n),t.push({event:e,listeners:r}),e.target=Ea)))}function Rd(t,e){var n={};return n[t.toLowerCase()]=e.toLowerCase(),n["Webkit"+t]="webkit"+e,n["Moz"+t]="moz"+e,n}var Ta={animationend:Rd("Animation","AnimationEnd"),animationiteration:Rd("Animation","AnimationIteration"),animationstart:Rd("Animation","AnimationStart"),transitionend:Rd("Transition","TransitionEnd")},Dm={},eS={};ws&&(eS=document.createElement("div").style,"AnimationEvent"in window||(delete Ta.animationend.animation,delete Ta.animationiteration.animation,delete Ta.animationstart.animation),"TransitionEvent"in window||delete Ta.transitionend.transition);function $f(t){if(Dm[t])return Dm[t];if(!Ta[t])return t;var e=Ta[t],n;for(n in e)if(e.hasOwnProperty(n)&&n in eS)return Dm[t]=e[n];return t}var tS=$f("animationend"),nS=$f("animationiteration"),rS=$f("animationstart"),sS=$f("transitionend"),iS=new Map,b_="abort auxClick cancel canPlay canPlayThrough click close contextMenu copy cut drag dragEnd dragEnter dragExit dragLeave dragOver dragStart drop durationChange emptied encrypted ended error gotPointerCapture input invalid keyDown keyPress keyUp load loadedData loadedMetadata loadStart lostPointerCapture mouseDown mouseMove mouseOut mouseOver mouseUp paste pause play playing pointerCancel pointerDown pointerMove pointerOut pointerOver pointerUp progress rateChange reset resize seeked seeking stalled submit suspend timeUpdate touchCancel touchEnd touchStart volumeChange scroll toggle touchMove waiting wheel".split(" ");function Bi(t,e){iS.set(t,e),Ko(e,[t])}for(var Om=0;Om<b_.length;Om++){var Mm=b_[Om],uO=Mm.toLowerCase(),dO=Mm[0].toUpperCase()+Mm.slice(1);Bi(uO,"on"+dO)}Bi(tS,"onAnimationEnd");Bi(nS,"onAnimationIteration");Bi(rS,"onAnimationStart");Bi("dblclick","onDoubleClick");Bi("focusin","onFocus");Bi("focusout","onBlur");Bi(sS,"onTransitionEnd");nl("onMouseEnter",["mouseout","mouseover"]);nl("onMouseLeave",["mouseout","mouseover"]);nl("onPointerEnter",["pointerout","pointerover"]);nl("onPointerLeave",["pointerout","pointerover"]);Ko("onChange","change click focusin focusout input keydown keyup selectionchange".split(" "));Ko("onSelect","focusout contextmenu dragend focusin keydown keyup mousedown mouseup selectionchange".split(" "));Ko("onBeforeInput",["compositionend","keypress","textInput","paste"]);Ko("onCompositionEnd","compositionend focusout keydown keypress keyup mousedown".split(" "));Ko("onCompositionStart","compositionstart focusout keydown keypress keyup mousedown".split(" "));Ko("onCompositionUpdate","compositionupdate focusout keydown keypress keyup mousedown".split(" "));var vc="abort canplay canplaythrough durationchange emptied encrypted ended error loadeddata loadedmetadata loadstart pause play playing progress ratechange resize seeked seeking stalled suspend timeupdate volumechange waiting".split(" "),hO=new Set("cancel close invalid load scroll toggle".split(" ").concat(vc));function E_(t,e,n){var r=t.type||"unknown-event";t.currentTarget=n,uD(r,e,void 0,t),t.currentTarget=null}function oS(t,e){e=(e&4)!==0;for(var n=0;n<t.length;n++){var r=t[n],s=r.event;r=r.listeners;e:{var i=void 0;if(e)for(var o=r.length-1;0<=o;o--){var a=r[o],c=a.instance,d=a.currentTarget;if(a=a.listener,c!==i&&s.isPropagationStopped())break e;E_(s,a,d),i=c}else for(o=0;o<r.length;o++){if(a=r[o],c=a.instance,d=a.currentTarget,a=a.listener,c!==i&&s.isPropagationStopped())break e;E_(s,a,d),i=c}}}if(Dh)throw t=Hg,Dh=!1,Hg=null,t}function Ke(t,e){var n=e[ty];n===void 0&&(n=e[ty]=new Set);var r=t+"__bubble";n.has(r)||(aS(e,t,2,!1),n.add(r))}function Lm(t,e,n){var r=0;e&&(r|=4),aS(n,t,r,e)}var Pd="_reactListening"+Math.random().toString(36).slice(2);function eu(t){if(!t[Pd]){t[Pd]=!0,pT.forEach(function(n){n!=="selectionchange"&&(hO.has(n)||Lm(n,!1,t),Lm(n,!0,t))});var e=t.nodeType===9?t:t.ownerDocument;e===null||e[Pd]||(e[Pd]=!0,Lm("selectionchange",!1,e))}}function aS(t,e,n,r){switch(WT(e)){case 1:var s=ID;break;case 4:s=CD;break;default:s=Fv}n=s.bind(null,e,n,t),s=void 0,!Wg||e!=="touchstart"&&e!=="touchmove"&&e!=="wheel"||(s=!0),r?s!==void 0?t.addEventListener(e,n,{capture:!0,passive:s}):t.addEventListener(e,n,!0):s!==void 0?t.addEventListener(e,n,{passive:s}):t.addEventListener(e,n,!1)}function Vm(t,e,n,r,s){var i=r;if(!(e&1)&&!(e&2)&&r!==null)e:for(;;){if(r===null)return;var o=r.tag;if(o===3||o===4){var a=r.stateNode.containerInfo;if(a===s||a.nodeType===8&&a.parentNode===s)break;if(o===4)for(o=r.return;o!==null;){var c=o.tag;if((c===3||c===4)&&(c=o.stateNode.containerInfo,c===s||c.nodeType===8&&c.parentNode===s))return;o=o.return}for(;a!==null;){if(o=ho(a),o===null)return;if(c=o.tag,c===5||c===6){r=i=o;continue e}a=a.parentNode}}r=r.return}PT(function(){var d=i,h=Ov(n),f=[];e:{var p=iS.get(t);if(p!==void 0){var m=$v,T=t;switch(t){case"keypress":if(ah(n)===0)break e;case"keydown":case"keyup":m=BD;break;case"focusin":T="focus",m=Am;break;case"focusout":T="blur",m=Am;break;case"beforeblur":case"afterblur":m=Am;break;case"click":if(n.button===2)break e;case"auxclick":case"dblclick":case"mousedown":case"mousemove":case"mouseup":case"mouseout":case"mouseover":case"contextmenu":m=d_;break;case"drag":case"dragend":case"dragenter":case"dragexit":case"dragleave":case"dragover":case"dragstart":case"drop":m=PD;break;case"touchcancel":case"touchend":case"touchmove":case"touchstart":m=HD;break;case tS:case nS:case rS:m=jD;break;case sS:m=GD;break;case"scroll":m=ND;break;case"wheel":m=QD;break;case"copy":case"cut":case"paste":m=OD;break;case"gotpointercapture":case"lostpointercapture":case"pointercancel":case"pointerdown":case"pointermove":case"pointerout":case"pointerover":case"pointerup":m=f_}var w=(e&4)!==0,x=!w&&t==="scroll",_=w?p!==null?p+"Capture":null:p;w=[];for(var v=d,b;v!==null;){b=v;var k=b.stateNode;if(b.tag===5&&k!==null&&(b=k,_!==null&&(k=Kc(v,_),k!=null&&w.push(tu(v,k,b)))),x)break;v=v.return}0<w.length&&(p=new m(p,T,null,n,h),f.push({event:p,listeners:w}))}}if(!(e&7)){e:{if(p=t==="mouseover"||t==="pointerover",m=t==="mouseout"||t==="pointerout",p&&n!==Bg&&(T=n.relatedTarget||n.fromElement)&&(ho(T)||T[xs]))break e;if((m||p)&&(p=h.window===h?h:(p=h.ownerDocument)?p.defaultView||p.parentWindow:window,m?(T=n.relatedTarget||n.toElement,m=d,T=T?ho(T):null,T!==null&&(x=Qo(T),T!==x||T.tag!==5&&T.tag!==6)&&(T=null)):(m=null,T=d),m!==T)){if(w=d_,k="onMouseLeave",_="onMouseEnter",v="mouse",(t==="pointerout"||t==="pointerover")&&(w=f_,k="onPointerLeave",_="onPointerEnter",v="pointer"),x=m==null?p:Sa(m),b=T==null?p:Sa(T),p=new w(k,v+"leave",m,n,h),p.target=x,p.relatedTarget=b,k=null,ho(h)===d&&(w=new w(_,v+"enter",T,n,h),w.target=b,w.relatedTarget=x,k=w),x=k,m&&T)t:{for(w=m,_=T,v=0,b=w;b;b=ua(b))v++;for(b=0,k=_;k;k=ua(k))b++;for(;0<v-b;)w=ua(w),v--;for(;0<b-v;)_=ua(_),b--;for(;v--;){if(w===_||_!==null&&w===_.alternate)break t;w=ua(w),_=ua(_)}w=null}else w=null;m!==null&&T_(f,p,m,w,!1),T!==null&&x!==null&&T_(f,x,T,w,!0)}}e:{if(p=d?Sa(d):window,m=p.nodeName&&p.nodeName.toLowerCase(),m==="select"||m==="input"&&p.type==="file")var O=nO;else if(g_(p))if(YT)O=oO;else{O=sO;var D=rO}else(m=p.nodeName)&&m.toLowerCase()==="input"&&(p.type==="checkbox"||p.type==="radio")&&(O=iO);if(O&&(O=O(t,d))){QT(f,O,n,h);break e}D&&D(t,p,d),t==="focusout"&&(D=p._wrapperState)&&D.controlled&&p.type==="number"&&Lg(p,"number",p.value)}switch(D=d?Sa(d):window,t){case"focusin":(g_(D)||D.contentEditable==="true")&&(Ea=D,Qg=d,jc=null);break;case"focusout":jc=Qg=Ea=null;break;case"mousedown":Yg=!0;break;case"contextmenu":case"mouseup":case"dragend":Yg=!1,__(f,n,h);break;case"selectionchange":if(cO)break;case"keydown":case"keyup":__(f,n,h)}var C;if(zv)e:{switch(t){case"compositionstart":var I="onCompositionStart";break e;case"compositionend":I="onCompositionEnd";break e;case"compositionupdate":I="onCompositionUpdate";break e}I=void 0}else ba?GT(t,n)&&(I="onCompositionEnd"):t==="keydown"&&n.keyCode===229&&(I="onCompositionStart");I&&(qT&&n.locale!=="ko"&&(ba||I!=="onCompositionStart"?I==="onCompositionEnd"&&ba&&(C=HT()):(ui=h,Uv="value"in ui?ui.value:ui.textContent,ba=!0)),D=Fh(d,I),0<D.length&&(I=new h_(I,t,null,n,h),f.push({event:I,listeners:D}),C?I.data=C:(C=KT(n),C!==null&&(I.data=C)))),(C=XD?JD(t,n):ZD(t,n))&&(d=Fh(d,"onBeforeInput"),0<d.length&&(h=new h_("onBeforeInput","beforeinput",null,n,h),f.push({event:h,listeners:d}),h.data=C))}oS(f,e)})}function tu(t,e,n){return{instance:t,listener:e,currentTarget:n}}function Fh(t,e){for(var n=e+"Capture",r=[];t!==null;){var s=t,i=s.stateNode;s.tag===5&&i!==null&&(s=i,i=Kc(t,n),i!=null&&r.unshift(tu(t,i,s)),i=Kc(t,e),i!=null&&r.push(tu(t,i,s))),t=t.return}return r}function ua(t){if(t===null)return null;do t=t.return;while(t&&t.tag!==5);return t||null}function T_(t,e,n,r,s){for(var i=e._reactName,o=[];n!==null&&n!==r;){var a=n,c=a.alternate,d=a.stateNode;if(c!==null&&c===r)break;a.tag===5&&d!==null&&(a=d,s?(c=Kc(n,i),c!=null&&o.unshift(tu(n,c,a))):s||(c=Kc(n,i),c!=null&&o.push(tu(n,c,a)))),n=n.return}o.length!==0&&t.push({event:e,listeners:o})}var fO=/\r\n?/g,pO=/\u0000|\uFFFD/g;function S_(t){return(typeof t=="string"?t:""+t).replace(fO,`
`).replace(pO,"")}function Ad(t,e,n){if(e=S_(e),S_(t)!==e&&n)throw Error(q(425))}function Uh(){}var Xg=null,Jg=null;function Zg(t,e){return t==="textarea"||t==="noscript"||typeof e.children=="string"||typeof e.children=="number"||typeof e.dangerouslySetInnerHTML=="object"&&e.dangerouslySetInnerHTML!==null&&e.dangerouslySetInnerHTML.__html!=null}var ey=typeof setTimeout=="function"?setTimeout:void 0,mO=typeof clearTimeout=="function"?clearTimeout:void 0,I_=typeof Promise=="function"?Promise:void 0,gO=typeof queueMicrotask=="function"?queueMicrotask:typeof I_<"u"?function(t){return I_.resolve(null).then(t).catch(yO)}:ey;function yO(t){setTimeout(function(){throw t})}function Fm(t,e){var n=e,r=0;do{var s=n.nextSibling;if(t.removeChild(n),s&&s.nodeType===8)if(n=s.data,n==="/$"){if(r===0){t.removeChild(s),Xc(e);return}r--}else n!=="$"&&n!=="$?"&&n!=="$!"||r++;n=s}while(n);Xc(e)}function yi(t){for(;t!=null;t=t.nextSibling){var e=t.nodeType;if(e===1||e===3)break;if(e===8){if(e=t.data,e==="$"||e==="$!"||e==="$?")break;if(e==="/$")return null}}return t}function C_(t){t=t.previousSibling;for(var e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="$"||n==="$!"||n==="$?"){if(e===0)return t;e--}else n==="/$"&&e++}t=t.previousSibling}return null}var xl=Math.random().toString(36).slice(2),Or="__reactFiber$"+xl,nu="__reactProps$"+xl,xs="__reactContainer$"+xl,ty="__reactEvents$"+xl,vO="__reactListeners$"+xl,wO="__reactHandles$"+xl;function ho(t){var e=t[Or];if(e)return e;for(var n=t.parentNode;n;){if(e=n[xs]||n[Or]){if(n=e.alternate,e.child!==null||n!==null&&n.child!==null)for(t=C_(t);t!==null;){if(n=t[Or])return n;t=C_(t)}return e}t=n,n=t.parentNode}return null}function Uu(t){return t=t[Or]||t[xs],!t||t.tag!==5&&t.tag!==6&&t.tag!==13&&t.tag!==3?null:t}function Sa(t){if(t.tag===5||t.tag===6)return t.stateNode;throw Error(q(33))}function Bf(t){return t[nu]||null}var ny=[],Ia=-1;function zi(t){return{current:t}}function Xe(t){0>Ia||(t.current=ny[Ia],ny[Ia]=null,Ia--)}function He(t,e){Ia++,ny[Ia]=t.current,t.current=e}var Ri={},Kt=zi(Ri),pn=zi(!1),Co=Ri;function rl(t,e){var n=t.type.contextTypes;if(!n)return Ri;var r=t.stateNode;if(r&&r.__reactInternalMemoizedUnmaskedChildContext===e)return r.__reactInternalMemoizedMaskedChildContext;var s={},i;for(i in n)s[i]=e[i];return r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=e,t.__reactInternalMemoizedMaskedChildContext=s),s}function mn(t){return t=t.childContextTypes,t!=null}function $h(){Xe(pn),Xe(Kt)}function N_(t,e,n){if(Kt.current!==Ri)throw Error(q(168));He(Kt,e),He(pn,n)}function lS(t,e,n){var r=t.stateNode;if(e=e.childContextTypes,typeof r.getChildContext!="function")return n;r=r.getChildContext();for(var s in r)if(!(s in e))throw Error(q(108,rD(t)||"Unknown",s));return it({},n,r)}function Bh(t){return t=(t=t.stateNode)&&t.__reactInternalMemoizedMergedChildContext||Ri,Co=Kt.current,He(Kt,t),He(pn,pn.current),!0}function R_(t,e,n){var r=t.stateNode;if(!r)throw Error(q(169));n?(t=lS(t,e,Co),r.__reactInternalMemoizedMergedChildContext=t,Xe(pn),Xe(Kt),He(Kt,t)):Xe(pn),He(pn,n)}var as=null,zf=!1,Um=!1;function cS(t){as===null?as=[t]:as.push(t)}function xO(t){zf=!0,cS(t)}function Wi(){if(!Um&&as!==null){Um=!0;var t=0,e=Ue;try{var n=as;for(Ue=1;t<n.length;t++){var r=n[t];do r=r(!0);while(r!==null)}as=null,zf=!1}catch(s){throw as!==null&&(as=as.slice(t+1)),DT(Mv,Wi),s}finally{Ue=e,Um=!1}}return null}var Ca=[],Na=0,zh=null,Wh=0,Dn=[],On=0,No=null,hs=1,fs="";function oo(t,e){Ca[Na++]=Wh,Ca[Na++]=zh,zh=t,Wh=e}function uS(t,e,n){Dn[On++]=hs,Dn[On++]=fs,Dn[On++]=No,No=t;var r=hs;t=fs;var s=32-lr(r)-1;r&=~(1<<s),n+=1;var i=32-lr(e)+s;if(30<i){var o=s-s%5;i=(r&(1<<o)-1).toString(32),r>>=o,s-=o,hs=1<<32-lr(e)+s|n<<s|r,fs=i+t}else hs=1<<i|n<<s|r,fs=t}function Hv(t){t.return!==null&&(oo(t,1),uS(t,1,0))}function qv(t){for(;t===zh;)zh=Ca[--Na],Ca[Na]=null,Wh=Ca[--Na],Ca[Na]=null;for(;t===No;)No=Dn[--On],Dn[On]=null,fs=Dn[--On],Dn[On]=null,hs=Dn[--On],Dn[On]=null}var Tn=null,bn=null,Ze=!1,rr=null;function dS(t,e){var n=Vn(5,null,null,0);n.elementType="DELETED",n.stateNode=e,n.return=t,e=t.deletions,e===null?(t.deletions=[n],t.flags|=16):e.push(n)}function P_(t,e){switch(t.tag){case 5:var n=t.type;return e=e.nodeType!==1||n.toLowerCase()!==e.nodeName.toLowerCase()?null:e,e!==null?(t.stateNode=e,Tn=t,bn=yi(e.firstChild),!0):!1;case 6:return e=t.pendingProps===""||e.nodeType!==3?null:e,e!==null?(t.stateNode=e,Tn=t,bn=null,!0):!1;case 13:return e=e.nodeType!==8?null:e,e!==null?(n=No!==null?{id:hs,overflow:fs}:null,t.memoizedState={dehydrated:e,treeContext:n,retryLane:1073741824},n=Vn(18,null,null,0),n.stateNode=e,n.return=t,t.child=n,Tn=t,bn=null,!0):!1;default:return!1}}function ry(t){return(t.mode&1)!==0&&(t.flags&128)===0}function sy(t){if(Ze){var e=bn;if(e){var n=e;if(!P_(t,e)){if(ry(t))throw Error(q(418));e=yi(n.nextSibling);var r=Tn;e&&P_(t,e)?dS(r,n):(t.flags=t.flags&-4097|2,Ze=!1,Tn=t)}}else{if(ry(t))throw Error(q(418));t.flags=t.flags&-4097|2,Ze=!1,Tn=t}}}function A_(t){for(t=t.return;t!==null&&t.tag!==5&&t.tag!==3&&t.tag!==13;)t=t.return;Tn=t}function kd(t){if(t!==Tn)return!1;if(!Ze)return A_(t),Ze=!0,!1;var e;if((e=t.tag!==3)&&!(e=t.tag!==5)&&(e=t.type,e=e!=="head"&&e!=="body"&&!Zg(t.type,t.memoizedProps)),e&&(e=bn)){if(ry(t))throw hS(),Error(q(418));for(;e;)dS(t,e),e=yi(e.nextSibling)}if(A_(t),t.tag===13){if(t=t.memoizedState,t=t!==null?t.dehydrated:null,!t)throw Error(q(317));e:{for(t=t.nextSibling,e=0;t;){if(t.nodeType===8){var n=t.data;if(n==="/$"){if(e===0){bn=yi(t.nextSibling);break e}e--}else n!=="$"&&n!=="$!"&&n!=="$?"||e++}t=t.nextSibling}bn=null}}else bn=Tn?yi(t.stateNode.nextSibling):null;return!0}function hS(){for(var t=bn;t;)t=yi(t.nextSibling)}function sl(){bn=Tn=null,Ze=!1}function Gv(t){rr===null?rr=[t]:rr.push(t)}var _O=ks.ReactCurrentBatchConfig;function sc(t,e,n){if(t=n.ref,t!==null&&typeof t!="function"&&typeof t!="object"){if(n._owner){if(n=n._owner,n){if(n.tag!==1)throw Error(q(309));var r=n.stateNode}if(!r)throw Error(q(147,t));var s=r,i=""+t;return e!==null&&e.ref!==null&&typeof e.ref=="function"&&e.ref._stringRef===i?e.ref:(e=function(o){var a=s.refs;o===null?delete a[i]:a[i]=o},e._stringRef=i,e)}if(typeof t!="string")throw Error(q(284));if(!n._owner)throw Error(q(290,t))}return t}function jd(t,e){throw t=Object.prototype.toString.call(e),Error(q(31,t==="[object Object]"?"object with keys {"+Object.keys(e).join(", ")+"}":t))}function k_(t){var e=t._init;return e(t._payload)}function fS(t){function e(_,v){if(t){var b=_.deletions;b===null?(_.deletions=[v],_.flags|=16):b.push(v)}}function n(_,v){if(!t)return null;for(;v!==null;)e(_,v),v=v.sibling;return null}function r(_,v){for(_=new Map;v!==null;)v.key!==null?_.set(v.key,v):_.set(v.index,v),v=v.sibling;return _}function s(_,v){return _=_i(_,v),_.index=0,_.sibling=null,_}function i(_,v,b){return _.index=b,t?(b=_.alternate,b!==null?(b=b.index,b<v?(_.flags|=2,v):b):(_.flags|=2,v)):(_.flags|=1048576,v)}function o(_){return t&&_.alternate===null&&(_.flags|=2),_}function a(_,v,b,k){return v===null||v.tag!==6?(v=Gm(b,_.mode,k),v.return=_,v):(v=s(v,b),v.return=_,v)}function c(_,v,b,k){var O=b.type;return O===_a?h(_,v,b.props.children,k,b.key):v!==null&&(v.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Qs&&k_(O)===v.type)?(k=s(v,b.props),k.ref=sc(_,v,b),k.return=_,k):(k=ph(b.type,b.key,b.props,null,_.mode,k),k.ref=sc(_,v,b),k.return=_,k)}function d(_,v,b,k){return v===null||v.tag!==4||v.stateNode.containerInfo!==b.containerInfo||v.stateNode.implementation!==b.implementation?(v=Km(b,_.mode,k),v.return=_,v):(v=s(v,b.children||[]),v.return=_,v)}function h(_,v,b,k,O){return v===null||v.tag!==7?(v=To(b,_.mode,k,O),v.return=_,v):(v=s(v,b),v.return=_,v)}function f(_,v,b){if(typeof v=="string"&&v!==""||typeof v=="number")return v=Gm(""+v,_.mode,b),v.return=_,v;if(typeof v=="object"&&v!==null){switch(v.$$typeof){case bd:return b=ph(v.type,v.key,v.props,null,_.mode,b),b.ref=sc(_,null,v),b.return=_,b;case xa:return v=Km(v,_.mode,b),v.return=_,v;case Qs:var k=v._init;return f(_,k(v._payload),b)}if(gc(v)||Zl(v))return v=To(v,_.mode,b,null),v.return=_,v;jd(_,v)}return null}function p(_,v,b,k){var O=v!==null?v.key:null;if(typeof b=="string"&&b!==""||typeof b=="number")return O!==null?null:a(_,v,""+b,k);if(typeof b=="object"&&b!==null){switch(b.$$typeof){case bd:return b.key===O?c(_,v,b,k):null;case xa:return b.key===O?d(_,v,b,k):null;case Qs:return O=b._init,p(_,v,O(b._payload),k)}if(gc(b)||Zl(b))return O!==null?null:h(_,v,b,k,null);jd(_,b)}return null}function m(_,v,b,k,O){if(typeof k=="string"&&k!==""||typeof k=="number")return _=_.get(b)||null,a(v,_,""+k,O);if(typeof k=="object"&&k!==null){switch(k.$$typeof){case bd:return _=_.get(k.key===null?b:k.key)||null,c(v,_,k,O);case xa:return _=_.get(k.key===null?b:k.key)||null,d(v,_,k,O);case Qs:var D=k._init;return m(_,v,b,D(k._payload),O)}if(gc(k)||Zl(k))return _=_.get(b)||null,h(v,_,k,O,null);jd(v,k)}return null}function T(_,v,b,k){for(var O=null,D=null,C=v,I=v=0,S=null;C!==null&&I<b.length;I++){C.index>I?(S=C,C=null):S=C.sibling;var N=p(_,C,b[I],k);if(N===null){C===null&&(C=S);break}t&&C&&N.alternate===null&&e(_,C),v=i(N,v,I),D===null?O=N:D.sibling=N,D=N,C=S}if(I===b.length)return n(_,C),Ze&&oo(_,I),O;if(C===null){for(;I<b.length;I++)C=f(_,b[I],k),C!==null&&(v=i(C,v,I),D===null?O=C:D.sibling=C,D=C);return Ze&&oo(_,I),O}for(C=r(_,C);I<b.length;I++)S=m(C,_,I,b[I],k),S!==null&&(t&&S.alternate!==null&&C.delete(S.key===null?I:S.key),v=i(S,v,I),D===null?O=S:D.sibling=S,D=S);return t&&C.forEach(function(P){return e(_,P)}),Ze&&oo(_,I),O}function w(_,v,b,k){var O=Zl(b);if(typeof O!="function")throw Error(q(150));if(b=O.call(b),b==null)throw Error(q(151));for(var D=O=null,C=v,I=v=0,S=null,N=b.next();C!==null&&!N.done;I++,N=b.next()){C.index>I?(S=C,C=null):S=C.sibling;var P=p(_,C,N.value,k);if(P===null){C===null&&(C=S);break}t&&C&&P.alternate===null&&e(_,C),v=i(P,v,I),D===null?O=P:D.sibling=P,D=P,C=S}if(N.done)return n(_,C),Ze&&oo(_,I),O;if(C===null){for(;!N.done;I++,N=b.next())N=f(_,N.value,k),N!==null&&(v=i(N,v,I),D===null?O=N:D.sibling=N,D=N);return Ze&&oo(_,I),O}for(C=r(_,C);!N.done;I++,N=b.next())N=m(C,_,I,N.value,k),N!==null&&(t&&N.alternate!==null&&C.delete(N.key===null?I:N.key),v=i(N,v,I),D===null?O=N:D.sibling=N,D=N);return t&&C.forEach(function(j){return e(_,j)}),Ze&&oo(_,I),O}function x(_,v,b,k){if(typeof b=="object"&&b!==null&&b.type===_a&&b.key===null&&(b=b.props.children),typeof b=="object"&&b!==null){switch(b.$$typeof){case bd:e:{for(var O=b.key,D=v;D!==null;){if(D.key===O){if(O=b.type,O===_a){if(D.tag===7){n(_,D.sibling),v=s(D,b.props.children),v.return=_,_=v;break e}}else if(D.elementType===O||typeof O=="object"&&O!==null&&O.$$typeof===Qs&&k_(O)===D.type){n(_,D.sibling),v=s(D,b.props),v.ref=sc(_,D,b),v.return=_,_=v;break e}n(_,D);break}else e(_,D);D=D.sibling}b.type===_a?(v=To(b.props.children,_.mode,k,b.key),v.return=_,_=v):(k=ph(b.type,b.key,b.props,null,_.mode,k),k.ref=sc(_,v,b),k.return=_,_=k)}return o(_);case xa:e:{for(D=b.key;v!==null;){if(v.key===D)if(v.tag===4&&v.stateNode.containerInfo===b.containerInfo&&v.stateNode.implementation===b.implementation){n(_,v.sibling),v=s(v,b.children||[]),v.return=_,_=v;break e}else{n(_,v);break}else e(_,v);v=v.sibling}v=Km(b,_.mode,k),v.return=_,_=v}return o(_);case Qs:return D=b._init,x(_,v,D(b._payload),k)}if(gc(b))return T(_,v,b,k);if(Zl(b))return w(_,v,b,k);jd(_,b)}return typeof b=="string"&&b!==""||typeof b=="number"?(b=""+b,v!==null&&v.tag===6?(n(_,v.sibling),v=s(v,b),v.return=_,_=v):(n(_,v),v=Gm(b,_.mode,k),v.return=_,_=v),o(_)):n(_,v)}return x}var il=fS(!0),pS=fS(!1),Hh=zi(null),qh=null,Ra=null,Kv=null;function Qv(){Kv=Ra=qh=null}function Yv(t){var e=Hh.current;Xe(Hh),t._currentValue=e}function iy(t,e,n){for(;t!==null;){var r=t.alternate;if((t.childLanes&e)!==e?(t.childLanes|=e,r!==null&&(r.childLanes|=e)):r!==null&&(r.childLanes&e)!==e&&(r.childLanes|=e),t===n)break;t=t.return}}function La(t,e){qh=t,Kv=Ra=null,t=t.dependencies,t!==null&&t.firstContext!==null&&(t.lanes&e&&(fn=!0),t.firstContext=null)}function zn(t){var e=t._currentValue;if(Kv!==t)if(t={context:t,memoizedValue:e,next:null},Ra===null){if(qh===null)throw Error(q(308));Ra=t,qh.dependencies={lanes:0,firstContext:t}}else Ra=Ra.next=t;return e}var fo=null;function Xv(t){fo===null?fo=[t]:fo.push(t)}function mS(t,e,n,r){var s=e.interleaved;return s===null?(n.next=n,Xv(e)):(n.next=s.next,s.next=n),e.interleaved=n,_s(t,r)}function _s(t,e){t.lanes|=e;var n=t.alternate;for(n!==null&&(n.lanes|=e),n=t,t=t.return;t!==null;)t.childLanes|=e,n=t.alternate,n!==null&&(n.childLanes|=e),n=t,t=t.return;return n.tag===3?n.stateNode:null}var Ys=!1;function Jv(t){t.updateQueue={baseState:t.memoizedState,firstBaseUpdate:null,lastBaseUpdate:null,shared:{pending:null,interleaved:null,lanes:0},effects:null}}function gS(t,e){t=t.updateQueue,e.updateQueue===t&&(e.updateQueue={baseState:t.baseState,firstBaseUpdate:t.firstBaseUpdate,lastBaseUpdate:t.lastBaseUpdate,shared:t.shared,effects:t.effects})}function gs(t,e){return{eventTime:t,lane:e,tag:0,payload:null,callback:null,next:null}}function vi(t,e,n){var r=t.updateQueue;if(r===null)return null;if(r=r.shared,De&2){var s=r.pending;return s===null?e.next=e:(e.next=s.next,s.next=e),r.pending=e,_s(t,n)}return s=r.interleaved,s===null?(e.next=e,Xv(r)):(e.next=s.next,s.next=e),r.interleaved=e,_s(t,n)}function lh(t,e,n){if(e=e.updateQueue,e!==null&&(e=e.shared,(n&4194240)!==0)){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Lv(t,n)}}function j_(t,e){var n=t.updateQueue,r=t.alternate;if(r!==null&&(r=r.updateQueue,n===r)){var s=null,i=null;if(n=n.firstBaseUpdate,n!==null){do{var o={eventTime:n.eventTime,lane:n.lane,tag:n.tag,payload:n.payload,callback:n.callback,next:null};i===null?s=i=o:i=i.next=o,n=n.next}while(n!==null);i===null?s=i=e:i=i.next=e}else s=i=e;n={baseState:r.baseState,firstBaseUpdate:s,lastBaseUpdate:i,shared:r.shared,effects:r.effects},t.updateQueue=n;return}t=n.lastBaseUpdate,t===null?n.firstBaseUpdate=e:t.next=e,n.lastBaseUpdate=e}function Gh(t,e,n,r){var s=t.updateQueue;Ys=!1;var i=s.firstBaseUpdate,o=s.lastBaseUpdate,a=s.shared.pending;if(a!==null){s.shared.pending=null;var c=a,d=c.next;c.next=null,o===null?i=d:o.next=d,o=c;var h=t.alternate;h!==null&&(h=h.updateQueue,a=h.lastBaseUpdate,a!==o&&(a===null?h.firstBaseUpdate=d:a.next=d,h.lastBaseUpdate=c))}if(i!==null){var f=s.baseState;o=0,h=d=c=null,a=i;do{var p=a.lane,m=a.eventTime;if((r&p)===p){h!==null&&(h=h.next={eventTime:m,lane:0,tag:a.tag,payload:a.payload,callback:a.callback,next:null});e:{var T=t,w=a;switch(p=e,m=n,w.tag){case 1:if(T=w.payload,typeof T=="function"){f=T.call(m,f,p);break e}f=T;break e;case 3:T.flags=T.flags&-65537|128;case 0:if(T=w.payload,p=typeof T=="function"?T.call(m,f,p):T,p==null)break e;f=it({},f,p);break e;case 2:Ys=!0}}a.callback!==null&&a.lane!==0&&(t.flags|=64,p=s.effects,p===null?s.effects=[a]:p.push(a))}else m={eventTime:m,lane:p,tag:a.tag,payload:a.payload,callback:a.callback,next:null},h===null?(d=h=m,c=f):h=h.next=m,o|=p;if(a=a.next,a===null){if(a=s.shared.pending,a===null)break;p=a,a=p.next,p.next=null,s.lastBaseUpdate=p,s.shared.pending=null}}while(!0);if(h===null&&(c=f),s.baseState=c,s.firstBaseUpdate=d,s.lastBaseUpdate=h,e=s.shared.interleaved,e!==null){s=e;do o|=s.lane,s=s.next;while(s!==e)}else i===null&&(s.shared.lanes=0);Po|=o,t.lanes=o,t.memoizedState=f}}function D_(t,e,n){if(t=e.effects,e.effects=null,t!==null)for(e=0;e<t.length;e++){var r=t[e],s=r.callback;if(s!==null){if(r.callback=null,r=n,typeof s!="function")throw Error(q(191,s));s.call(r)}}}var $u={},Fr=zi($u),ru=zi($u),su=zi($u);function po(t){if(t===$u)throw Error(q(174));return t}function Zv(t,e){switch(He(su,e),He(ru,t),He(Fr,$u),t=e.nodeType,t){case 9:case 11:e=(e=e.documentElement)?e.namespaceURI:Fg(null,"");break;default:t=t===8?e.parentNode:e,e=t.namespaceURI||null,t=t.tagName,e=Fg(e,t)}Xe(Fr),He(Fr,e)}function ol(){Xe(Fr),Xe(ru),Xe(su)}function yS(t){po(su.current);var e=po(Fr.current),n=Fg(e,t.type);e!==n&&(He(ru,t),He(Fr,n))}function ew(t){ru.current===t&&(Xe(Fr),Xe(ru))}var nt=zi(0);function Kh(t){for(var e=t;e!==null;){if(e.tag===13){var n=e.memoizedState;if(n!==null&&(n=n.dehydrated,n===null||n.data==="$?"||n.data==="$!"))return e}else if(e.tag===19&&e.memoizedProps.revealOrder!==void 0){if(e.flags&128)return e}else if(e.child!==null){e.child.return=e,e=e.child;continue}if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return null;e=e.return}e.sibling.return=e.return,e=e.sibling}return null}var $m=[];function tw(){for(var t=0;t<$m.length;t++)$m[t]._workInProgressVersionPrimary=null;$m.length=0}var ch=ks.ReactCurrentDispatcher,Bm=ks.ReactCurrentBatchConfig,Ro=0,rt=null,Et=null,At=null,Qh=!1,Dc=!1,iu=0,bO=0;function $t(){throw Error(q(321))}function nw(t,e){if(e===null)return!1;for(var n=0;n<e.length&&n<t.length;n++)if(!hr(t[n],e[n]))return!1;return!0}function rw(t,e,n,r,s,i){if(Ro=i,rt=e,e.memoizedState=null,e.updateQueue=null,e.lanes=0,ch.current=t===null||t.memoizedState===null?IO:CO,t=n(r,s),Dc){i=0;do{if(Dc=!1,iu=0,25<=i)throw Error(q(301));i+=1,At=Et=null,e.updateQueue=null,ch.current=NO,t=n(r,s)}while(Dc)}if(ch.current=Yh,e=Et!==null&&Et.next!==null,Ro=0,At=Et=rt=null,Qh=!1,e)throw Error(q(300));return t}function sw(){var t=iu!==0;return iu=0,t}function Pr(){var t={memoizedState:null,baseState:null,baseQueue:null,queue:null,next:null};return At===null?rt.memoizedState=At=t:At=At.next=t,At}function Wn(){if(Et===null){var t=rt.alternate;t=t!==null?t.memoizedState:null}else t=Et.next;var e=At===null?rt.memoizedState:At.next;if(e!==null)At=e,Et=t;else{if(t===null)throw Error(q(310));Et=t,t={memoizedState:Et.memoizedState,baseState:Et.baseState,baseQueue:Et.baseQueue,queue:Et.queue,next:null},At===null?rt.memoizedState=At=t:At=At.next=t}return At}function ou(t,e){return typeof e=="function"?e(t):e}function zm(t){var e=Wn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=Et,s=r.baseQueue,i=n.pending;if(i!==null){if(s!==null){var o=s.next;s.next=i.next,i.next=o}r.baseQueue=s=i,n.pending=null}if(s!==null){i=s.next,r=r.baseState;var a=o=null,c=null,d=i;do{var h=d.lane;if((Ro&h)===h)c!==null&&(c=c.next={lane:0,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null}),r=d.hasEagerState?d.eagerState:t(r,d.action);else{var f={lane:h,action:d.action,hasEagerState:d.hasEagerState,eagerState:d.eagerState,next:null};c===null?(a=c=f,o=r):c=c.next=f,rt.lanes|=h,Po|=h}d=d.next}while(d!==null&&d!==i);c===null?o=r:c.next=a,hr(r,e.memoizedState)||(fn=!0),e.memoizedState=r,e.baseState=o,e.baseQueue=c,n.lastRenderedState=r}if(t=n.interleaved,t!==null){s=t;do i=s.lane,rt.lanes|=i,Po|=i,s=s.next;while(s!==t)}else s===null&&(n.lanes=0);return[e.memoizedState,n.dispatch]}function Wm(t){var e=Wn(),n=e.queue;if(n===null)throw Error(q(311));n.lastRenderedReducer=t;var r=n.dispatch,s=n.pending,i=e.memoizedState;if(s!==null){n.pending=null;var o=s=s.next;do i=t(i,o.action),o=o.next;while(o!==s);hr(i,e.memoizedState)||(fn=!0),e.memoizedState=i,e.baseQueue===null&&(e.baseState=i),n.lastRenderedState=i}return[i,r]}function vS(){}function wS(t,e){var n=rt,r=Wn(),s=e(),i=!hr(r.memoizedState,s);if(i&&(r.memoizedState=s,fn=!0),r=r.queue,iw(bS.bind(null,n,r,t),[t]),r.getSnapshot!==e||i||At!==null&&At.memoizedState.tag&1){if(n.flags|=2048,au(9,_S.bind(null,n,r,s,e),void 0,null),kt===null)throw Error(q(349));Ro&30||xS(n,e,s)}return s}function xS(t,e,n){t.flags|=16384,t={getSnapshot:e,value:n},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.stores=[t]):(n=e.stores,n===null?e.stores=[t]:n.push(t))}function _S(t,e,n,r){e.value=n,e.getSnapshot=r,ES(e)&&TS(t)}function bS(t,e,n){return n(function(){ES(e)&&TS(t)})}function ES(t){var e=t.getSnapshot;t=t.value;try{var n=e();return!hr(t,n)}catch{return!0}}function TS(t){var e=_s(t,1);e!==null&&cr(e,t,1,-1)}function O_(t){var e=Pr();return typeof t=="function"&&(t=t()),e.memoizedState=e.baseState=t,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:ou,lastRenderedState:t},e.queue=t,t=t.dispatch=SO.bind(null,rt,t),[e.memoizedState,t]}function au(t,e,n,r){return t={tag:t,create:e,destroy:n,deps:r,next:null},e=rt.updateQueue,e===null?(e={lastEffect:null,stores:null},rt.updateQueue=e,e.lastEffect=t.next=t):(n=e.lastEffect,n===null?e.lastEffect=t.next=t:(r=n.next,n.next=t,t.next=r,e.lastEffect=t)),t}function SS(){return Wn().memoizedState}function uh(t,e,n,r){var s=Pr();rt.flags|=t,s.memoizedState=au(1|e,n,void 0,r===void 0?null:r)}function Wf(t,e,n,r){var s=Wn();r=r===void 0?null:r;var i=void 0;if(Et!==null){var o=Et.memoizedState;if(i=o.destroy,r!==null&&nw(r,o.deps)){s.memoizedState=au(e,n,i,r);return}}rt.flags|=t,s.memoizedState=au(1|e,n,i,r)}function M_(t,e){return uh(8390656,8,t,e)}function iw(t,e){return Wf(2048,8,t,e)}function IS(t,e){return Wf(4,2,t,e)}function CS(t,e){return Wf(4,4,t,e)}function NS(t,e){if(typeof e=="function")return t=t(),e(t),function(){e(null)};if(e!=null)return t=t(),e.current=t,function(){e.current=null}}function RS(t,e,n){return n=n!=null?n.concat([t]):null,Wf(4,4,NS.bind(null,e,t),n)}function ow(){}function PS(t,e){var n=Wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&nw(e,r[1])?r[0]:(n.memoizedState=[t,e],t)}function AS(t,e){var n=Wn();e=e===void 0?null:e;var r=n.memoizedState;return r!==null&&e!==null&&nw(e,r[1])?r[0]:(t=t(),n.memoizedState=[t,e],t)}function kS(t,e,n){return Ro&21?(hr(n,e)||(n=LT(),rt.lanes|=n,Po|=n,t.baseState=!0),e):(t.baseState&&(t.baseState=!1,fn=!0),t.memoizedState=n)}function EO(t,e){var n=Ue;Ue=n!==0&&4>n?n:4,t(!0);var r=Bm.transition;Bm.transition={};try{t(!1),e()}finally{Ue=n,Bm.transition=r}}function jS(){return Wn().memoizedState}function TO(t,e,n){var r=xi(t);if(n={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null},DS(t))OS(e,n);else if(n=mS(t,e,n,r),n!==null){var s=tn();cr(n,t,r,s),MS(n,e,r)}}function SO(t,e,n){var r=xi(t),s={lane:r,action:n,hasEagerState:!1,eagerState:null,next:null};if(DS(t))OS(e,s);else{var i=t.alternate;if(t.lanes===0&&(i===null||i.lanes===0)&&(i=e.lastRenderedReducer,i!==null))try{var o=e.lastRenderedState,a=i(o,n);if(s.hasEagerState=!0,s.eagerState=a,hr(a,o)){var c=e.interleaved;c===null?(s.next=s,Xv(e)):(s.next=c.next,c.next=s),e.interleaved=s;return}}catch{}finally{}n=mS(t,e,s,r),n!==null&&(s=tn(),cr(n,t,r,s),MS(n,e,r))}}function DS(t){var e=t.alternate;return t===rt||e!==null&&e===rt}function OS(t,e){Dc=Qh=!0;var n=t.pending;n===null?e.next=e:(e.next=n.next,n.next=e),t.pending=e}function MS(t,e,n){if(n&4194240){var r=e.lanes;r&=t.pendingLanes,n|=r,e.lanes=n,Lv(t,n)}}var Yh={readContext:zn,useCallback:$t,useContext:$t,useEffect:$t,useImperativeHandle:$t,useInsertionEffect:$t,useLayoutEffect:$t,useMemo:$t,useReducer:$t,useRef:$t,useState:$t,useDebugValue:$t,useDeferredValue:$t,useTransition:$t,useMutableSource:$t,useSyncExternalStore:$t,useId:$t,unstable_isNewReconciler:!1},IO={readContext:zn,useCallback:function(t,e){return Pr().memoizedState=[t,e===void 0?null:e],t},useContext:zn,useEffect:M_,useImperativeHandle:function(t,e,n){return n=n!=null?n.concat([t]):null,uh(4194308,4,NS.bind(null,e,t),n)},useLayoutEffect:function(t,e){return uh(4194308,4,t,e)},useInsertionEffect:function(t,e){return uh(4,2,t,e)},useMemo:function(t,e){var n=Pr();return e=e===void 0?null:e,t=t(),n.memoizedState=[t,e],t},useReducer:function(t,e,n){var r=Pr();return e=n!==void 0?n(e):e,r.memoizedState=r.baseState=e,t={pending:null,interleaved:null,lanes:0,dispatch:null,lastRenderedReducer:t,lastRenderedState:e},r.queue=t,t=t.dispatch=TO.bind(null,rt,t),[r.memoizedState,t]},useRef:function(t){var e=Pr();return t={current:t},e.memoizedState=t},useState:O_,useDebugValue:ow,useDeferredValue:function(t){return Pr().memoizedState=t},useTransition:function(){var t=O_(!1),e=t[0];return t=EO.bind(null,t[1]),Pr().memoizedState=t,[e,t]},useMutableSource:function(){},useSyncExternalStore:function(t,e,n){var r=rt,s=Pr();if(Ze){if(n===void 0)throw Error(q(407));n=n()}else{if(n=e(),kt===null)throw Error(q(349));Ro&30||xS(r,e,n)}s.memoizedState=n;var i={value:n,getSnapshot:e};return s.queue=i,M_(bS.bind(null,r,i,t),[t]),r.flags|=2048,au(9,_S.bind(null,r,i,n,e),void 0,null),n},useId:function(){var t=Pr(),e=kt.identifierPrefix;if(Ze){var n=fs,r=hs;n=(r&~(1<<32-lr(r)-1)).toString(32)+n,e=":"+e+"R"+n,n=iu++,0<n&&(e+="H"+n.toString(32)),e+=":"}else n=bO++,e=":"+e+"r"+n.toString(32)+":";return t.memoizedState=e},unstable_isNewReconciler:!1},CO={readContext:zn,useCallback:PS,useContext:zn,useEffect:iw,useImperativeHandle:RS,useInsertionEffect:IS,useLayoutEffect:CS,useMemo:AS,useReducer:zm,useRef:SS,useState:function(){return zm(ou)},useDebugValue:ow,useDeferredValue:function(t){var e=Wn();return kS(e,Et.memoizedState,t)},useTransition:function(){var t=zm(ou)[0],e=Wn().memoizedState;return[t,e]},useMutableSource:vS,useSyncExternalStore:wS,useId:jS,unstable_isNewReconciler:!1},NO={readContext:zn,useCallback:PS,useContext:zn,useEffect:iw,useImperativeHandle:RS,useInsertionEffect:IS,useLayoutEffect:CS,useMemo:AS,useReducer:Wm,useRef:SS,useState:function(){return Wm(ou)},useDebugValue:ow,useDeferredValue:function(t){var e=Wn();return Et===null?e.memoizedState=t:kS(e,Et.memoizedState,t)},useTransition:function(){var t=Wm(ou)[0],e=Wn().memoizedState;return[t,e]},useMutableSource:vS,useSyncExternalStore:wS,useId:jS,unstable_isNewReconciler:!1};function Jn(t,e){if(t&&t.defaultProps){e=it({},e),t=t.defaultProps;for(var n in t)e[n]===void 0&&(e[n]=t[n]);return e}return e}function oy(t,e,n,r){e=t.memoizedState,n=n(r,e),n=n==null?e:it({},e,n),t.memoizedState=n,t.lanes===0&&(t.updateQueue.baseState=n)}var Hf={isMounted:function(t){return(t=t._reactInternals)?Qo(t)===t:!1},enqueueSetState:function(t,e,n){t=t._reactInternals;var r=tn(),s=xi(t),i=gs(r,s);i.payload=e,n!=null&&(i.callback=n),e=vi(t,i,s),e!==null&&(cr(e,t,s,r),lh(e,t,s))},enqueueReplaceState:function(t,e,n){t=t._reactInternals;var r=tn(),s=xi(t),i=gs(r,s);i.tag=1,i.payload=e,n!=null&&(i.callback=n),e=vi(t,i,s),e!==null&&(cr(e,t,s,r),lh(e,t,s))},enqueueForceUpdate:function(t,e){t=t._reactInternals;var n=tn(),r=xi(t),s=gs(n,r);s.tag=2,e!=null&&(s.callback=e),e=vi(t,s,r),e!==null&&(cr(e,t,r,n),lh(e,t,r))}};function L_(t,e,n,r,s,i,o){return t=t.stateNode,typeof t.shouldComponentUpdate=="function"?t.shouldComponentUpdate(r,i,o):e.prototype&&e.prototype.isPureReactComponent?!Zc(n,r)||!Zc(s,i):!0}function LS(t,e,n){var r=!1,s=Ri,i=e.contextType;return typeof i=="object"&&i!==null?i=zn(i):(s=mn(e)?Co:Kt.current,r=e.contextTypes,i=(r=r!=null)?rl(t,s):Ri),e=new e(n,i),t.memoizedState=e.state!==null&&e.state!==void 0?e.state:null,e.updater=Hf,t.stateNode=e,e._reactInternals=t,r&&(t=t.stateNode,t.__reactInternalMemoizedUnmaskedChildContext=s,t.__reactInternalMemoizedMaskedChildContext=i),e}function V_(t,e,n,r){t=e.state,typeof e.componentWillReceiveProps=="function"&&e.componentWillReceiveProps(n,r),typeof e.UNSAFE_componentWillReceiveProps=="function"&&e.UNSAFE_componentWillReceiveProps(n,r),e.state!==t&&Hf.enqueueReplaceState(e,e.state,null)}function ay(t,e,n,r){var s=t.stateNode;s.props=n,s.state=t.memoizedState,s.refs={},Jv(t);var i=e.contextType;typeof i=="object"&&i!==null?s.context=zn(i):(i=mn(e)?Co:Kt.current,s.context=rl(t,i)),s.state=t.memoizedState,i=e.getDerivedStateFromProps,typeof i=="function"&&(oy(t,e,i,n),s.state=t.memoizedState),typeof e.getDerivedStateFromProps=="function"||typeof s.getSnapshotBeforeUpdate=="function"||typeof s.UNSAFE_componentWillMount!="function"&&typeof s.componentWillMount!="function"||(e=s.state,typeof s.componentWillMount=="function"&&s.componentWillMount(),typeof s.UNSAFE_componentWillMount=="function"&&s.UNSAFE_componentWillMount(),e!==s.state&&Hf.enqueueReplaceState(s,s.state,null),Gh(t,n,s,r),s.state=t.memoizedState),typeof s.componentDidMount=="function"&&(t.flags|=4194308)}function al(t,e){try{var n="",r=e;do n+=nD(r),r=r.return;while(r);var s=n}catch(i){s=`
Error generating stack: `+i.message+`
`+i.stack}return{value:t,source:e,stack:s,digest:null}}function Hm(t,e,n){return{value:t,source:null,stack:n??null,digest:e??null}}function ly(t,e){try{console.error(e.value)}catch(n){setTimeout(function(){throw n})}}var RO=typeof WeakMap=="function"?WeakMap:Map;function VS(t,e,n){n=gs(-1,n),n.tag=3,n.payload={element:null};var r=e.value;return n.callback=function(){Jh||(Jh=!0,vy=r),ly(t,e)},n}function FS(t,e,n){n=gs(-1,n),n.tag=3;var r=t.type.getDerivedStateFromError;if(typeof r=="function"){var s=e.value;n.payload=function(){return r(s)},n.callback=function(){ly(t,e)}}var i=t.stateNode;return i!==null&&typeof i.componentDidCatch=="function"&&(n.callback=function(){ly(t,e),typeof r!="function"&&(wi===null?wi=new Set([this]):wi.add(this));var o=e.stack;this.componentDidCatch(e.value,{componentStack:o!==null?o:""})}),n}function F_(t,e,n){var r=t.pingCache;if(r===null){r=t.pingCache=new RO;var s=new Set;r.set(e,s)}else s=r.get(e),s===void 0&&(s=new Set,r.set(e,s));s.has(n)||(s.add(n),t=zO.bind(null,t,e,n),e.then(t,t))}function U_(t){do{var e;if((e=t.tag===13)&&(e=t.memoizedState,e=e!==null?e.dehydrated!==null:!0),e)return t;t=t.return}while(t!==null);return null}function $_(t,e,n,r,s){return t.mode&1?(t.flags|=65536,t.lanes=s,t):(t===e?t.flags|=65536:(t.flags|=128,n.flags|=131072,n.flags&=-52805,n.tag===1&&(n.alternate===null?n.tag=17:(e=gs(-1,1),e.tag=2,vi(n,e,1))),n.lanes|=1),t)}var PO=ks.ReactCurrentOwner,fn=!1;function Zt(t,e,n,r){e.child=t===null?pS(e,null,n,r):il(e,t.child,n,r)}function B_(t,e,n,r,s){n=n.render;var i=e.ref;return La(e,s),r=rw(t,e,n,r,i,s),n=sw(),t!==null&&!fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,bs(t,e,s)):(Ze&&n&&Hv(e),e.flags|=1,Zt(t,e,r,s),e.child)}function z_(t,e,n,r,s){if(t===null){var i=n.type;return typeof i=="function"&&!pw(i)&&i.defaultProps===void 0&&n.compare===null&&n.defaultProps===void 0?(e.tag=15,e.type=i,US(t,e,i,r,s)):(t=ph(n.type,null,r,e,e.mode,s),t.ref=e.ref,t.return=e,e.child=t)}if(i=t.child,!(t.lanes&s)){var o=i.memoizedProps;if(n=n.compare,n=n!==null?n:Zc,n(o,r)&&t.ref===e.ref)return bs(t,e,s)}return e.flags|=1,t=_i(i,r),t.ref=e.ref,t.return=e,e.child=t}function US(t,e,n,r,s){if(t!==null){var i=t.memoizedProps;if(Zc(i,r)&&t.ref===e.ref)if(fn=!1,e.pendingProps=r=i,(t.lanes&s)!==0)t.flags&131072&&(fn=!0);else return e.lanes=t.lanes,bs(t,e,s)}return cy(t,e,n,r,s)}function $S(t,e,n){var r=e.pendingProps,s=r.children,i=t!==null?t.memoizedState:null;if(r.mode==="hidden")if(!(e.mode&1))e.memoizedState={baseLanes:0,cachePool:null,transitions:null},He(Aa,xn),xn|=n;else{if(!(n&1073741824))return t=i!==null?i.baseLanes|n:n,e.lanes=e.childLanes=1073741824,e.memoizedState={baseLanes:t,cachePool:null,transitions:null},e.updateQueue=null,He(Aa,xn),xn|=t,null;e.memoizedState={baseLanes:0,cachePool:null,transitions:null},r=i!==null?i.baseLanes:n,He(Aa,xn),xn|=r}else i!==null?(r=i.baseLanes|n,e.memoizedState=null):r=n,He(Aa,xn),xn|=r;return Zt(t,e,s,n),e.child}function BS(t,e){var n=e.ref;(t===null&&n!==null||t!==null&&t.ref!==n)&&(e.flags|=512,e.flags|=2097152)}function cy(t,e,n,r,s){var i=mn(n)?Co:Kt.current;return i=rl(e,i),La(e,s),n=rw(t,e,n,r,i,s),r=sw(),t!==null&&!fn?(e.updateQueue=t.updateQueue,e.flags&=-2053,t.lanes&=~s,bs(t,e,s)):(Ze&&r&&Hv(e),e.flags|=1,Zt(t,e,n,s),e.child)}function W_(t,e,n,r,s){if(mn(n)){var i=!0;Bh(e)}else i=!1;if(La(e,s),e.stateNode===null)dh(t,e),LS(e,n,r),ay(e,n,r,s),r=!0;else if(t===null){var o=e.stateNode,a=e.memoizedProps;o.props=a;var c=o.context,d=n.contextType;typeof d=="object"&&d!==null?d=zn(d):(d=mn(n)?Co:Kt.current,d=rl(e,d));var h=n.getDerivedStateFromProps,f=typeof h=="function"||typeof o.getSnapshotBeforeUpdate=="function";f||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==r||c!==d)&&V_(e,o,r,d),Ys=!1;var p=e.memoizedState;o.state=p,Gh(e,r,o,s),c=e.memoizedState,a!==r||p!==c||pn.current||Ys?(typeof h=="function"&&(oy(e,n,h,r),c=e.memoizedState),(a=Ys||L_(e,n,a,r,p,c,d))?(f||typeof o.UNSAFE_componentWillMount!="function"&&typeof o.componentWillMount!="function"||(typeof o.componentWillMount=="function"&&o.componentWillMount(),typeof o.UNSAFE_componentWillMount=="function"&&o.UNSAFE_componentWillMount()),typeof o.componentDidMount=="function"&&(e.flags|=4194308)):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),e.memoizedProps=r,e.memoizedState=c),o.props=r,o.state=c,o.context=d,r=a):(typeof o.componentDidMount=="function"&&(e.flags|=4194308),r=!1)}else{o=e.stateNode,gS(t,e),a=e.memoizedProps,d=e.type===e.elementType?a:Jn(e.type,a),o.props=d,f=e.pendingProps,p=o.context,c=n.contextType,typeof c=="object"&&c!==null?c=zn(c):(c=mn(n)?Co:Kt.current,c=rl(e,c));var m=n.getDerivedStateFromProps;(h=typeof m=="function"||typeof o.getSnapshotBeforeUpdate=="function")||typeof o.UNSAFE_componentWillReceiveProps!="function"&&typeof o.componentWillReceiveProps!="function"||(a!==f||p!==c)&&V_(e,o,r,c),Ys=!1,p=e.memoizedState,o.state=p,Gh(e,r,o,s);var T=e.memoizedState;a!==f||p!==T||pn.current||Ys?(typeof m=="function"&&(oy(e,n,m,r),T=e.memoizedState),(d=Ys||L_(e,n,d,r,p,T,c)||!1)?(h||typeof o.UNSAFE_componentWillUpdate!="function"&&typeof o.componentWillUpdate!="function"||(typeof o.componentWillUpdate=="function"&&o.componentWillUpdate(r,T,c),typeof o.UNSAFE_componentWillUpdate=="function"&&o.UNSAFE_componentWillUpdate(r,T,c)),typeof o.componentDidUpdate=="function"&&(e.flags|=4),typeof o.getSnapshotBeforeUpdate=="function"&&(e.flags|=1024)):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),e.memoizedProps=r,e.memoizedState=T),o.props=r,o.state=T,o.context=c,r=d):(typeof o.componentDidUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=4),typeof o.getSnapshotBeforeUpdate!="function"||a===t.memoizedProps&&p===t.memoizedState||(e.flags|=1024),r=!1)}return uy(t,e,n,r,i,s)}function uy(t,e,n,r,s,i){BS(t,e);var o=(e.flags&128)!==0;if(!r&&!o)return s&&R_(e,n,!1),bs(t,e,i);r=e.stateNode,PO.current=e;var a=o&&typeof n.getDerivedStateFromError!="function"?null:r.render();return e.flags|=1,t!==null&&o?(e.child=il(e,t.child,null,i),e.child=il(e,null,a,i)):Zt(t,e,a,i),e.memoizedState=r.state,s&&R_(e,n,!0),e.child}function zS(t){var e=t.stateNode;e.pendingContext?N_(t,e.pendingContext,e.pendingContext!==e.context):e.context&&N_(t,e.context,!1),Zv(t,e.containerInfo)}function H_(t,e,n,r,s){return sl(),Gv(s),e.flags|=256,Zt(t,e,n,r),e.child}var dy={dehydrated:null,treeContext:null,retryLane:0};function hy(t){return{baseLanes:t,cachePool:null,transitions:null}}function WS(t,e,n){var r=e.pendingProps,s=nt.current,i=!1,o=(e.flags&128)!==0,a;if((a=o)||(a=t!==null&&t.memoizedState===null?!1:(s&2)!==0),a?(i=!0,e.flags&=-129):(t===null||t.memoizedState!==null)&&(s|=1),He(nt,s&1),t===null)return sy(e),t=e.memoizedState,t!==null&&(t=t.dehydrated,t!==null)?(e.mode&1?t.data==="$!"?e.lanes=8:e.lanes=1073741824:e.lanes=1,null):(o=r.children,t=r.fallback,i?(r=e.mode,i=e.child,o={mode:"hidden",children:o},!(r&1)&&i!==null?(i.childLanes=0,i.pendingProps=o):i=Kf(o,r,0,null),t=To(t,r,n,null),i.return=e,t.return=e,i.sibling=t,e.child=i,e.child.memoizedState=hy(n),e.memoizedState=dy,t):aw(e,o));if(s=t.memoizedState,s!==null&&(a=s.dehydrated,a!==null))return AO(t,e,o,r,a,s,n);if(i){i=r.fallback,o=e.mode,s=t.child,a=s.sibling;var c={mode:"hidden",children:r.children};return!(o&1)&&e.child!==s?(r=e.child,r.childLanes=0,r.pendingProps=c,e.deletions=null):(r=_i(s,c),r.subtreeFlags=s.subtreeFlags&14680064),a!==null?i=_i(a,i):(i=To(i,o,n,null),i.flags|=2),i.return=e,r.return=e,r.sibling=i,e.child=r,r=i,i=e.child,o=t.child.memoizedState,o=o===null?hy(n):{baseLanes:o.baseLanes|n,cachePool:null,transitions:o.transitions},i.memoizedState=o,i.childLanes=t.childLanes&~n,e.memoizedState=dy,r}return i=t.child,t=i.sibling,r=_i(i,{mode:"visible",children:r.children}),!(e.mode&1)&&(r.lanes=n),r.return=e,r.sibling=null,t!==null&&(n=e.deletions,n===null?(e.deletions=[t],e.flags|=16):n.push(t)),e.child=r,e.memoizedState=null,r}function aw(t,e){return e=Kf({mode:"visible",children:e},t.mode,0,null),e.return=t,t.child=e}function Dd(t,e,n,r){return r!==null&&Gv(r),il(e,t.child,null,n),t=aw(e,e.pendingProps.children),t.flags|=2,e.memoizedState=null,t}function AO(t,e,n,r,s,i,o){if(n)return e.flags&256?(e.flags&=-257,r=Hm(Error(q(422))),Dd(t,e,o,r)):e.memoizedState!==null?(e.child=t.child,e.flags|=128,null):(i=r.fallback,s=e.mode,r=Kf({mode:"visible",children:r.children},s,0,null),i=To(i,s,o,null),i.flags|=2,r.return=e,i.return=e,r.sibling=i,e.child=r,e.mode&1&&il(e,t.child,null,o),e.child.memoizedState=hy(o),e.memoizedState=dy,i);if(!(e.mode&1))return Dd(t,e,o,null);if(s.data==="$!"){if(r=s.nextSibling&&s.nextSibling.dataset,r)var a=r.dgst;return r=a,i=Error(q(419)),r=Hm(i,r,void 0),Dd(t,e,o,r)}if(a=(o&t.childLanes)!==0,fn||a){if(r=kt,r!==null){switch(o&-o){case 4:s=2;break;case 16:s=8;break;case 64:case 128:case 256:case 512:case 1024:case 2048:case 4096:case 8192:case 16384:case 32768:case 65536:case 131072:case 262144:case 524288:case 1048576:case 2097152:case 4194304:case 8388608:case 16777216:case 33554432:case 67108864:s=32;break;case 536870912:s=268435456;break;default:s=0}s=s&(r.suspendedLanes|o)?0:s,s!==0&&s!==i.retryLane&&(i.retryLane=s,_s(t,s),cr(r,t,s,-1))}return fw(),r=Hm(Error(q(421))),Dd(t,e,o,r)}return s.data==="$?"?(e.flags|=128,e.child=t.child,e=WO.bind(null,t),s._reactRetry=e,null):(t=i.treeContext,bn=yi(s.nextSibling),Tn=e,Ze=!0,rr=null,t!==null&&(Dn[On++]=hs,Dn[On++]=fs,Dn[On++]=No,hs=t.id,fs=t.overflow,No=e),e=aw(e,r.children),e.flags|=4096,e)}function q_(t,e,n){t.lanes|=e;var r=t.alternate;r!==null&&(r.lanes|=e),iy(t.return,e,n)}function qm(t,e,n,r,s){var i=t.memoizedState;i===null?t.memoizedState={isBackwards:e,rendering:null,renderingStartTime:0,last:r,tail:n,tailMode:s}:(i.isBackwards=e,i.rendering=null,i.renderingStartTime=0,i.last=r,i.tail=n,i.tailMode=s)}function HS(t,e,n){var r=e.pendingProps,s=r.revealOrder,i=r.tail;if(Zt(t,e,r.children,n),r=nt.current,r&2)r=r&1|2,e.flags|=128;else{if(t!==null&&t.flags&128)e:for(t=e.child;t!==null;){if(t.tag===13)t.memoizedState!==null&&q_(t,n,e);else if(t.tag===19)q_(t,n,e);else if(t.child!==null){t.child.return=t,t=t.child;continue}if(t===e)break e;for(;t.sibling===null;){if(t.return===null||t.return===e)break e;t=t.return}t.sibling.return=t.return,t=t.sibling}r&=1}if(He(nt,r),!(e.mode&1))e.memoizedState=null;else switch(s){case"forwards":for(n=e.child,s=null;n!==null;)t=n.alternate,t!==null&&Kh(t)===null&&(s=n),n=n.sibling;n=s,n===null?(s=e.child,e.child=null):(s=n.sibling,n.sibling=null),qm(e,!1,s,n,i);break;case"backwards":for(n=null,s=e.child,e.child=null;s!==null;){if(t=s.alternate,t!==null&&Kh(t)===null){e.child=s;break}t=s.sibling,s.sibling=n,n=s,s=t}qm(e,!0,n,null,i);break;case"together":qm(e,!1,null,null,void 0);break;default:e.memoizedState=null}return e.child}function dh(t,e){!(e.mode&1)&&t!==null&&(t.alternate=null,e.alternate=null,e.flags|=2)}function bs(t,e,n){if(t!==null&&(e.dependencies=t.dependencies),Po|=e.lanes,!(n&e.childLanes))return null;if(t!==null&&e.child!==t.child)throw Error(q(153));if(e.child!==null){for(t=e.child,n=_i(t,t.pendingProps),e.child=n,n.return=e;t.sibling!==null;)t=t.sibling,n=n.sibling=_i(t,t.pendingProps),n.return=e;n.sibling=null}return e.child}function kO(t,e,n){switch(e.tag){case 3:zS(e),sl();break;case 5:yS(e);break;case 1:mn(e.type)&&Bh(e);break;case 4:Zv(e,e.stateNode.containerInfo);break;case 10:var r=e.type._context,s=e.memoizedProps.value;He(Hh,r._currentValue),r._currentValue=s;break;case 13:if(r=e.memoizedState,r!==null)return r.dehydrated!==null?(He(nt,nt.current&1),e.flags|=128,null):n&e.child.childLanes?WS(t,e,n):(He(nt,nt.current&1),t=bs(t,e,n),t!==null?t.sibling:null);He(nt,nt.current&1);break;case 19:if(r=(n&e.childLanes)!==0,t.flags&128){if(r)return HS(t,e,n);e.flags|=128}if(s=e.memoizedState,s!==null&&(s.rendering=null,s.tail=null,s.lastEffect=null),He(nt,nt.current),r)break;return null;case 22:case 23:return e.lanes=0,$S(t,e,n)}return bs(t,e,n)}var qS,fy,GS,KS;qS=function(t,e){for(var n=e.child;n!==null;){if(n.tag===5||n.tag===6)t.appendChild(n.stateNode);else if(n.tag!==4&&n.child!==null){n.child.return=n,n=n.child;continue}if(n===e)break;for(;n.sibling===null;){if(n.return===null||n.return===e)return;n=n.return}n.sibling.return=n.return,n=n.sibling}};fy=function(){};GS=function(t,e,n,r){var s=t.memoizedProps;if(s!==r){t=e.stateNode,po(Fr.current);var i=null;switch(n){case"input":s=Og(t,s),r=Og(t,r),i=[];break;case"select":s=it({},s,{value:void 0}),r=it({},r,{value:void 0}),i=[];break;case"textarea":s=Vg(t,s),r=Vg(t,r),i=[];break;default:typeof s.onClick!="function"&&typeof r.onClick=="function"&&(t.onclick=Uh)}Ug(n,r);var o;n=null;for(d in s)if(!r.hasOwnProperty(d)&&s.hasOwnProperty(d)&&s[d]!=null)if(d==="style"){var a=s[d];for(o in a)a.hasOwnProperty(o)&&(n||(n={}),n[o]="")}else d!=="dangerouslySetInnerHTML"&&d!=="children"&&d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&d!=="autoFocus"&&(qc.hasOwnProperty(d)?i||(i=[]):(i=i||[]).push(d,null));for(d in r){var c=r[d];if(a=s!=null?s[d]:void 0,r.hasOwnProperty(d)&&c!==a&&(c!=null||a!=null))if(d==="style")if(a){for(o in a)!a.hasOwnProperty(o)||c&&c.hasOwnProperty(o)||(n||(n={}),n[o]="");for(o in c)c.hasOwnProperty(o)&&a[o]!==c[o]&&(n||(n={}),n[o]=c[o])}else n||(i||(i=[]),i.push(d,n)),n=c;else d==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,a=a?a.__html:void 0,c!=null&&a!==c&&(i=i||[]).push(d,c)):d==="children"?typeof c!="string"&&typeof c!="number"||(i=i||[]).push(d,""+c):d!=="suppressContentEditableWarning"&&d!=="suppressHydrationWarning"&&(qc.hasOwnProperty(d)?(c!=null&&d==="onScroll"&&Ke("scroll",t),i||a===c||(i=[])):(i=i||[]).push(d,c))}n&&(i=i||[]).push("style",n);var d=i;(e.updateQueue=d)&&(e.flags|=4)}};KS=function(t,e,n,r){n!==r&&(e.flags|=4)};function ic(t,e){if(!Ze)switch(t.tailMode){case"hidden":e=t.tail;for(var n=null;e!==null;)e.alternate!==null&&(n=e),e=e.sibling;n===null?t.tail=null:n.sibling=null;break;case"collapsed":n=t.tail;for(var r=null;n!==null;)n.alternate!==null&&(r=n),n=n.sibling;r===null?e||t.tail===null?t.tail=null:t.tail.sibling=null:r.sibling=null}}function Bt(t){var e=t.alternate!==null&&t.alternate.child===t.child,n=0,r=0;if(e)for(var s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags&14680064,r|=s.flags&14680064,s.return=t,s=s.sibling;else for(s=t.child;s!==null;)n|=s.lanes|s.childLanes,r|=s.subtreeFlags,r|=s.flags,s.return=t,s=s.sibling;return t.subtreeFlags|=r,t.childLanes=n,e}function jO(t,e,n){var r=e.pendingProps;switch(qv(e),e.tag){case 2:case 16:case 15:case 0:case 11:case 7:case 8:case 12:case 9:case 14:return Bt(e),null;case 1:return mn(e.type)&&$h(),Bt(e),null;case 3:return r=e.stateNode,ol(),Xe(pn),Xe(Kt),tw(),r.pendingContext&&(r.context=r.pendingContext,r.pendingContext=null),(t===null||t.child===null)&&(kd(e)?e.flags|=4:t===null||t.memoizedState.isDehydrated&&!(e.flags&256)||(e.flags|=1024,rr!==null&&(_y(rr),rr=null))),fy(t,e),Bt(e),null;case 5:ew(e);var s=po(su.current);if(n=e.type,t!==null&&e.stateNode!=null)GS(t,e,n,r,s),t.ref!==e.ref&&(e.flags|=512,e.flags|=2097152);else{if(!r){if(e.stateNode===null)throw Error(q(166));return Bt(e),null}if(t=po(Fr.current),kd(e)){r=e.stateNode,n=e.type;var i=e.memoizedProps;switch(r[Or]=e,r[nu]=i,t=(e.mode&1)!==0,n){case"dialog":Ke("cancel",r),Ke("close",r);break;case"iframe":case"object":case"embed":Ke("load",r);break;case"video":case"audio":for(s=0;s<vc.length;s++)Ke(vc[s],r);break;case"source":Ke("error",r);break;case"img":case"image":case"link":Ke("error",r),Ke("load",r);break;case"details":Ke("toggle",r);break;case"input":t_(r,i),Ke("invalid",r);break;case"select":r._wrapperState={wasMultiple:!!i.multiple},Ke("invalid",r);break;case"textarea":r_(r,i),Ke("invalid",r)}Ug(n,i),s=null;for(var o in i)if(i.hasOwnProperty(o)){var a=i[o];o==="children"?typeof a=="string"?r.textContent!==a&&(i.suppressHydrationWarning!==!0&&Ad(r.textContent,a,t),s=["children",a]):typeof a=="number"&&r.textContent!==""+a&&(i.suppressHydrationWarning!==!0&&Ad(r.textContent,a,t),s=["children",""+a]):qc.hasOwnProperty(o)&&a!=null&&o==="onScroll"&&Ke("scroll",r)}switch(n){case"input":Ed(r),n_(r,i,!0);break;case"textarea":Ed(r),s_(r);break;case"select":case"option":break;default:typeof i.onClick=="function"&&(r.onclick=Uh)}r=s,e.updateQueue=r,r!==null&&(e.flags|=4)}else{o=s.nodeType===9?s:s.ownerDocument,t==="http://www.w3.org/1999/xhtml"&&(t=bT(n)),t==="http://www.w3.org/1999/xhtml"?n==="script"?(t=o.createElement("div"),t.innerHTML="<script><\/script>",t=t.removeChild(t.firstChild)):typeof r.is=="string"?t=o.createElement(n,{is:r.is}):(t=o.createElement(n),n==="select"&&(o=t,r.multiple?o.multiple=!0:r.size&&(o.size=r.size))):t=o.createElementNS(t,n),t[Or]=e,t[nu]=r,qS(t,e,!1,!1),e.stateNode=t;e:{switch(o=$g(n,r),n){case"dialog":Ke("cancel",t),Ke("close",t),s=r;break;case"iframe":case"object":case"embed":Ke("load",t),s=r;break;case"video":case"audio":for(s=0;s<vc.length;s++)Ke(vc[s],t);s=r;break;case"source":Ke("error",t),s=r;break;case"img":case"image":case"link":Ke("error",t),Ke("load",t),s=r;break;case"details":Ke("toggle",t),s=r;break;case"input":t_(t,r),s=Og(t,r),Ke("invalid",t);break;case"option":s=r;break;case"select":t._wrapperState={wasMultiple:!!r.multiple},s=it({},r,{value:void 0}),Ke("invalid",t);break;case"textarea":r_(t,r),s=Vg(t,r),Ke("invalid",t);break;default:s=r}Ug(n,s),a=s;for(i in a)if(a.hasOwnProperty(i)){var c=a[i];i==="style"?ST(t,c):i==="dangerouslySetInnerHTML"?(c=c?c.__html:void 0,c!=null&&ET(t,c)):i==="children"?typeof c=="string"?(n!=="textarea"||c!=="")&&Gc(t,c):typeof c=="number"&&Gc(t,""+c):i!=="suppressContentEditableWarning"&&i!=="suppressHydrationWarning"&&i!=="autoFocus"&&(qc.hasOwnProperty(i)?c!=null&&i==="onScroll"&&Ke("scroll",t):c!=null&&Av(t,i,c,o))}switch(n){case"input":Ed(t),n_(t,r,!1);break;case"textarea":Ed(t),s_(t);break;case"option":r.value!=null&&t.setAttribute("value",""+Ni(r.value));break;case"select":t.multiple=!!r.multiple,i=r.value,i!=null?ja(t,!!r.multiple,i,!1):r.defaultValue!=null&&ja(t,!!r.multiple,r.defaultValue,!0);break;default:typeof s.onClick=="function"&&(t.onclick=Uh)}switch(n){case"button":case"input":case"select":case"textarea":r=!!r.autoFocus;break e;case"img":r=!0;break e;default:r=!1}}r&&(e.flags|=4)}e.ref!==null&&(e.flags|=512,e.flags|=2097152)}return Bt(e),null;case 6:if(t&&e.stateNode!=null)KS(t,e,t.memoizedProps,r);else{if(typeof r!="string"&&e.stateNode===null)throw Error(q(166));if(n=po(su.current),po(Fr.current),kd(e)){if(r=e.stateNode,n=e.memoizedProps,r[Or]=e,(i=r.nodeValue!==n)&&(t=Tn,t!==null))switch(t.tag){case 3:Ad(r.nodeValue,n,(t.mode&1)!==0);break;case 5:t.memoizedProps.suppressHydrationWarning!==!0&&Ad(r.nodeValue,n,(t.mode&1)!==0)}i&&(e.flags|=4)}else r=(n.nodeType===9?n:n.ownerDocument).createTextNode(r),r[Or]=e,e.stateNode=r}return Bt(e),null;case 13:if(Xe(nt),r=e.memoizedState,t===null||t.memoizedState!==null&&t.memoizedState.dehydrated!==null){if(Ze&&bn!==null&&e.mode&1&&!(e.flags&128))hS(),sl(),e.flags|=98560,i=!1;else if(i=kd(e),r!==null&&r.dehydrated!==null){if(t===null){if(!i)throw Error(q(318));if(i=e.memoizedState,i=i!==null?i.dehydrated:null,!i)throw Error(q(317));i[Or]=e}else sl(),!(e.flags&128)&&(e.memoizedState=null),e.flags|=4;Bt(e),i=!1}else rr!==null&&(_y(rr),rr=null),i=!0;if(!i)return e.flags&65536?e:null}return e.flags&128?(e.lanes=n,e):(r=r!==null,r!==(t!==null&&t.memoizedState!==null)&&r&&(e.child.flags|=8192,e.mode&1&&(t===null||nt.current&1?Tt===0&&(Tt=3):fw())),e.updateQueue!==null&&(e.flags|=4),Bt(e),null);case 4:return ol(),fy(t,e),t===null&&eu(e.stateNode.containerInfo),Bt(e),null;case 10:return Yv(e.type._context),Bt(e),null;case 17:return mn(e.type)&&$h(),Bt(e),null;case 19:if(Xe(nt),i=e.memoizedState,i===null)return Bt(e),null;if(r=(e.flags&128)!==0,o=i.rendering,o===null)if(r)ic(i,!1);else{if(Tt!==0||t!==null&&t.flags&128)for(t=e.child;t!==null;){if(o=Kh(t),o!==null){for(e.flags|=128,ic(i,!1),r=o.updateQueue,r!==null&&(e.updateQueue=r,e.flags|=4),e.subtreeFlags=0,r=n,n=e.child;n!==null;)i=n,t=r,i.flags&=14680066,o=i.alternate,o===null?(i.childLanes=0,i.lanes=t,i.child=null,i.subtreeFlags=0,i.memoizedProps=null,i.memoizedState=null,i.updateQueue=null,i.dependencies=null,i.stateNode=null):(i.childLanes=o.childLanes,i.lanes=o.lanes,i.child=o.child,i.subtreeFlags=0,i.deletions=null,i.memoizedProps=o.memoizedProps,i.memoizedState=o.memoizedState,i.updateQueue=o.updateQueue,i.type=o.type,t=o.dependencies,i.dependencies=t===null?null:{lanes:t.lanes,firstContext:t.firstContext}),n=n.sibling;return He(nt,nt.current&1|2),e.child}t=t.sibling}i.tail!==null&&pt()>ll&&(e.flags|=128,r=!0,ic(i,!1),e.lanes=4194304)}else{if(!r)if(t=Kh(o),t!==null){if(e.flags|=128,r=!0,n=t.updateQueue,n!==null&&(e.updateQueue=n,e.flags|=4),ic(i,!0),i.tail===null&&i.tailMode==="hidden"&&!o.alternate&&!Ze)return Bt(e),null}else 2*pt()-i.renderingStartTime>ll&&n!==1073741824&&(e.flags|=128,r=!0,ic(i,!1),e.lanes=4194304);i.isBackwards?(o.sibling=e.child,e.child=o):(n=i.last,n!==null?n.sibling=o:e.child=o,i.last=o)}return i.tail!==null?(e=i.tail,i.rendering=e,i.tail=e.sibling,i.renderingStartTime=pt(),e.sibling=null,n=nt.current,He(nt,r?n&1|2:n&1),e):(Bt(e),null);case 22:case 23:return hw(),r=e.memoizedState!==null,t!==null&&t.memoizedState!==null!==r&&(e.flags|=8192),r&&e.mode&1?xn&1073741824&&(Bt(e),e.subtreeFlags&6&&(e.flags|=8192)):Bt(e),null;case 24:return null;case 25:return null}throw Error(q(156,e.tag))}function DO(t,e){switch(qv(e),e.tag){case 1:return mn(e.type)&&$h(),t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 3:return ol(),Xe(pn),Xe(Kt),tw(),t=e.flags,t&65536&&!(t&128)?(e.flags=t&-65537|128,e):null;case 5:return ew(e),null;case 13:if(Xe(nt),t=e.memoizedState,t!==null&&t.dehydrated!==null){if(e.alternate===null)throw Error(q(340));sl()}return t=e.flags,t&65536?(e.flags=t&-65537|128,e):null;case 19:return Xe(nt),null;case 4:return ol(),null;case 10:return Yv(e.type._context),null;case 22:case 23:return hw(),null;case 24:return null;default:return null}}var Od=!1,qt=!1,OO=typeof WeakSet=="function"?WeakSet:Set,se=null;function Pa(t,e){var n=t.ref;if(n!==null)if(typeof n=="function")try{n(null)}catch(r){ut(t,e,r)}else n.current=null}function py(t,e,n){try{n()}catch(r){ut(t,e,r)}}var G_=!1;function MO(t,e){if(Xg=Lh,t=ZT(),Wv(t)){if("selectionStart"in t)var n={start:t.selectionStart,end:t.selectionEnd};else e:{n=(n=t.ownerDocument)&&n.defaultView||window;var r=n.getSelection&&n.getSelection();if(r&&r.rangeCount!==0){n=r.anchorNode;var s=r.anchorOffset,i=r.focusNode;r=r.focusOffset;try{n.nodeType,i.nodeType}catch{n=null;break e}var o=0,a=-1,c=-1,d=0,h=0,f=t,p=null;t:for(;;){for(var m;f!==n||s!==0&&f.nodeType!==3||(a=o+s),f!==i||r!==0&&f.nodeType!==3||(c=o+r),f.nodeType===3&&(o+=f.nodeValue.length),(m=f.firstChild)!==null;)p=f,f=m;for(;;){if(f===t)break t;if(p===n&&++d===s&&(a=o),p===i&&++h===r&&(c=o),(m=f.nextSibling)!==null)break;f=p,p=f.parentNode}f=m}n=a===-1||c===-1?null:{start:a,end:c}}else n=null}n=n||{start:0,end:0}}else n=null;for(Jg={focusedElem:t,selectionRange:n},Lh=!1,se=e;se!==null;)if(e=se,t=e.child,(e.subtreeFlags&1028)!==0&&t!==null)t.return=e,se=t;else for(;se!==null;){e=se;try{var T=e.alternate;if(e.flags&1024)switch(e.tag){case 0:case 11:case 15:break;case 1:if(T!==null){var w=T.memoizedProps,x=T.memoizedState,_=e.stateNode,v=_.getSnapshotBeforeUpdate(e.elementType===e.type?w:Jn(e.type,w),x);_.__reactInternalSnapshotBeforeUpdate=v}break;case 3:var b=e.stateNode.containerInfo;b.nodeType===1?b.textContent="":b.nodeType===9&&b.documentElement&&b.removeChild(b.documentElement);break;case 5:case 6:case 4:case 17:break;default:throw Error(q(163))}}catch(k){ut(e,e.return,k)}if(t=e.sibling,t!==null){t.return=e.return,se=t;break}se=e.return}return T=G_,G_=!1,T}function Oc(t,e,n){var r=e.updateQueue;if(r=r!==null?r.lastEffect:null,r!==null){var s=r=r.next;do{if((s.tag&t)===t){var i=s.destroy;s.destroy=void 0,i!==void 0&&py(e,n,i)}s=s.next}while(s!==r)}}function qf(t,e){if(e=e.updateQueue,e=e!==null?e.lastEffect:null,e!==null){var n=e=e.next;do{if((n.tag&t)===t){var r=n.create;n.destroy=r()}n=n.next}while(n!==e)}}function my(t){var e=t.ref;if(e!==null){var n=t.stateNode;switch(t.tag){case 5:t=n;break;default:t=n}typeof e=="function"?e(t):e.current=t}}function QS(t){var e=t.alternate;e!==null&&(t.alternate=null,QS(e)),t.child=null,t.deletions=null,t.sibling=null,t.tag===5&&(e=t.stateNode,e!==null&&(delete e[Or],delete e[nu],delete e[ty],delete e[vO],delete e[wO])),t.stateNode=null,t.return=null,t.dependencies=null,t.memoizedProps=null,t.memoizedState=null,t.pendingProps=null,t.stateNode=null,t.updateQueue=null}function YS(t){return t.tag===5||t.tag===3||t.tag===4}function K_(t){e:for(;;){for(;t.sibling===null;){if(t.return===null||YS(t.return))return null;t=t.return}for(t.sibling.return=t.return,t=t.sibling;t.tag!==5&&t.tag!==6&&t.tag!==18;){if(t.flags&2||t.child===null||t.tag===4)continue e;t.child.return=t,t=t.child}if(!(t.flags&2))return t.stateNode}}function gy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.nodeType===8?n.parentNode.insertBefore(t,e):n.insertBefore(t,e):(n.nodeType===8?(e=n.parentNode,e.insertBefore(t,n)):(e=n,e.appendChild(t)),n=n._reactRootContainer,n!=null||e.onclick!==null||(e.onclick=Uh));else if(r!==4&&(t=t.child,t!==null))for(gy(t,e,n),t=t.sibling;t!==null;)gy(t,e,n),t=t.sibling}function yy(t,e,n){var r=t.tag;if(r===5||r===6)t=t.stateNode,e?n.insertBefore(t,e):n.appendChild(t);else if(r!==4&&(t=t.child,t!==null))for(yy(t,e,n),t=t.sibling;t!==null;)yy(t,e,n),t=t.sibling}var Dt=null,nr=!1;function Bs(t,e,n){for(n=n.child;n!==null;)XS(t,e,n),n=n.sibling}function XS(t,e,n){if(Vr&&typeof Vr.onCommitFiberUnmount=="function")try{Vr.onCommitFiberUnmount(Vf,n)}catch{}switch(n.tag){case 5:qt||Pa(n,e);case 6:var r=Dt,s=nr;Dt=null,Bs(t,e,n),Dt=r,nr=s,Dt!==null&&(nr?(t=Dt,n=n.stateNode,t.nodeType===8?t.parentNode.removeChild(n):t.removeChild(n)):Dt.removeChild(n.stateNode));break;case 18:Dt!==null&&(nr?(t=Dt,n=n.stateNode,t.nodeType===8?Fm(t.parentNode,n):t.nodeType===1&&Fm(t,n),Xc(t)):Fm(Dt,n.stateNode));break;case 4:r=Dt,s=nr,Dt=n.stateNode.containerInfo,nr=!0,Bs(t,e,n),Dt=r,nr=s;break;case 0:case 11:case 14:case 15:if(!qt&&(r=n.updateQueue,r!==null&&(r=r.lastEffect,r!==null))){s=r=r.next;do{var i=s,o=i.destroy;i=i.tag,o!==void 0&&(i&2||i&4)&&py(n,e,o),s=s.next}while(s!==r)}Bs(t,e,n);break;case 1:if(!qt&&(Pa(n,e),r=n.stateNode,typeof r.componentWillUnmount=="function"))try{r.props=n.memoizedProps,r.state=n.memoizedState,r.componentWillUnmount()}catch(a){ut(n,e,a)}Bs(t,e,n);break;case 21:Bs(t,e,n);break;case 22:n.mode&1?(qt=(r=qt)||n.memoizedState!==null,Bs(t,e,n),qt=r):Bs(t,e,n);break;default:Bs(t,e,n)}}function Q_(t){var e=t.updateQueue;if(e!==null){t.updateQueue=null;var n=t.stateNode;n===null&&(n=t.stateNode=new OO),e.forEach(function(r){var s=HO.bind(null,t,r);n.has(r)||(n.add(r),r.then(s,s))})}}function Qn(t,e){var n=e.deletions;if(n!==null)for(var r=0;r<n.length;r++){var s=n[r];try{var i=t,o=e,a=o;e:for(;a!==null;){switch(a.tag){case 5:Dt=a.stateNode,nr=!1;break e;case 3:Dt=a.stateNode.containerInfo,nr=!0;break e;case 4:Dt=a.stateNode.containerInfo,nr=!0;break e}a=a.return}if(Dt===null)throw Error(q(160));XS(i,o,s),Dt=null,nr=!1;var c=s.alternate;c!==null&&(c.return=null),s.return=null}catch(d){ut(s,e,d)}}if(e.subtreeFlags&12854)for(e=e.child;e!==null;)JS(e,t),e=e.sibling}function JS(t,e){var n=t.alternate,r=t.flags;switch(t.tag){case 0:case 11:case 14:case 15:if(Qn(e,t),Nr(t),r&4){try{Oc(3,t,t.return),qf(3,t)}catch(w){ut(t,t.return,w)}try{Oc(5,t,t.return)}catch(w){ut(t,t.return,w)}}break;case 1:Qn(e,t),Nr(t),r&512&&n!==null&&Pa(n,n.return);break;case 5:if(Qn(e,t),Nr(t),r&512&&n!==null&&Pa(n,n.return),t.flags&32){var s=t.stateNode;try{Gc(s,"")}catch(w){ut(t,t.return,w)}}if(r&4&&(s=t.stateNode,s!=null)){var i=t.memoizedProps,o=n!==null?n.memoizedProps:i,a=t.type,c=t.updateQueue;if(t.updateQueue=null,c!==null)try{a==="input"&&i.type==="radio"&&i.name!=null&&xT(s,i),$g(a,o);var d=$g(a,i);for(o=0;o<c.length;o+=2){var h=c[o],f=c[o+1];h==="style"?ST(s,f):h==="dangerouslySetInnerHTML"?ET(s,f):h==="children"?Gc(s,f):Av(s,h,f,d)}switch(a){case"input":Mg(s,i);break;case"textarea":_T(s,i);break;case"select":var p=s._wrapperState.wasMultiple;s._wrapperState.wasMultiple=!!i.multiple;var m=i.value;m!=null?ja(s,!!i.multiple,m,!1):p!==!!i.multiple&&(i.defaultValue!=null?ja(s,!!i.multiple,i.defaultValue,!0):ja(s,!!i.multiple,i.multiple?[]:"",!1))}s[nu]=i}catch(w){ut(t,t.return,w)}}break;case 6:if(Qn(e,t),Nr(t),r&4){if(t.stateNode===null)throw Error(q(162));s=t.stateNode,i=t.memoizedProps;try{s.nodeValue=i}catch(w){ut(t,t.return,w)}}break;case 3:if(Qn(e,t),Nr(t),r&4&&n!==null&&n.memoizedState.isDehydrated)try{Xc(e.containerInfo)}catch(w){ut(t,t.return,w)}break;case 4:Qn(e,t),Nr(t);break;case 13:Qn(e,t),Nr(t),s=t.child,s.flags&8192&&(i=s.memoizedState!==null,s.stateNode.isHidden=i,!i||s.alternate!==null&&s.alternate.memoizedState!==null||(uw=pt())),r&4&&Q_(t);break;case 22:if(h=n!==null&&n.memoizedState!==null,t.mode&1?(qt=(d=qt)||h,Qn(e,t),qt=d):Qn(e,t),Nr(t),r&8192){if(d=t.memoizedState!==null,(t.stateNode.isHidden=d)&&!h&&t.mode&1)for(se=t,h=t.child;h!==null;){for(f=se=h;se!==null;){switch(p=se,m=p.child,p.tag){case 0:case 11:case 14:case 15:Oc(4,p,p.return);break;case 1:Pa(p,p.return);var T=p.stateNode;if(typeof T.componentWillUnmount=="function"){r=p,n=p.return;try{e=r,T.props=e.memoizedProps,T.state=e.memoizedState,T.componentWillUnmount()}catch(w){ut(r,n,w)}}break;case 5:Pa(p,p.return);break;case 22:if(p.memoizedState!==null){X_(f);continue}}m!==null?(m.return=p,se=m):X_(f)}h=h.sibling}e:for(h=null,f=t;;){if(f.tag===5){if(h===null){h=f;try{s=f.stateNode,d?(i=s.style,typeof i.setProperty=="function"?i.setProperty("display","none","important"):i.display="none"):(a=f.stateNode,c=f.memoizedProps.style,o=c!=null&&c.hasOwnProperty("display")?c.display:null,a.style.display=TT("display",o))}catch(w){ut(t,t.return,w)}}}else if(f.tag===6){if(h===null)try{f.stateNode.nodeValue=d?"":f.memoizedProps}catch(w){ut(t,t.return,w)}}else if((f.tag!==22&&f.tag!==23||f.memoizedState===null||f===t)&&f.child!==null){f.child.return=f,f=f.child;continue}if(f===t)break e;for(;f.sibling===null;){if(f.return===null||f.return===t)break e;h===f&&(h=null),f=f.return}h===f&&(h=null),f.sibling.return=f.return,f=f.sibling}}break;case 19:Qn(e,t),Nr(t),r&4&&Q_(t);break;case 21:break;default:Qn(e,t),Nr(t)}}function Nr(t){var e=t.flags;if(e&2){try{e:{for(var n=t.return;n!==null;){if(YS(n)){var r=n;break e}n=n.return}throw Error(q(160))}switch(r.tag){case 5:var s=r.stateNode;r.flags&32&&(Gc(s,""),r.flags&=-33);var i=K_(t);yy(t,i,s);break;case 3:case 4:var o=r.stateNode.containerInfo,a=K_(t);gy(t,a,o);break;default:throw Error(q(161))}}catch(c){ut(t,t.return,c)}t.flags&=-3}e&4096&&(t.flags&=-4097)}function LO(t,e,n){se=t,ZS(t)}function ZS(t,e,n){for(var r=(t.mode&1)!==0;se!==null;){var s=se,i=s.child;if(s.tag===22&&r){var o=s.memoizedState!==null||Od;if(!o){var a=s.alternate,c=a!==null&&a.memoizedState!==null||qt;a=Od;var d=qt;if(Od=o,(qt=c)&&!d)for(se=s;se!==null;)o=se,c=o.child,o.tag===22&&o.memoizedState!==null?J_(s):c!==null?(c.return=o,se=c):J_(s);for(;i!==null;)se=i,ZS(i),i=i.sibling;se=s,Od=a,qt=d}Y_(t)}else s.subtreeFlags&8772&&i!==null?(i.return=s,se=i):Y_(t)}}function Y_(t){for(;se!==null;){var e=se;if(e.flags&8772){var n=e.alternate;try{if(e.flags&8772)switch(e.tag){case 0:case 11:case 15:qt||qf(5,e);break;case 1:var r=e.stateNode;if(e.flags&4&&!qt)if(n===null)r.componentDidMount();else{var s=e.elementType===e.type?n.memoizedProps:Jn(e.type,n.memoizedProps);r.componentDidUpdate(s,n.memoizedState,r.__reactInternalSnapshotBeforeUpdate)}var i=e.updateQueue;i!==null&&D_(e,i,r);break;case 3:var o=e.updateQueue;if(o!==null){if(n=null,e.child!==null)switch(e.child.tag){case 5:n=e.child.stateNode;break;case 1:n=e.child.stateNode}D_(e,o,n)}break;case 5:var a=e.stateNode;if(n===null&&e.flags&4){n=a;var c=e.memoizedProps;switch(e.type){case"button":case"input":case"select":case"textarea":c.autoFocus&&n.focus();break;case"img":c.src&&(n.src=c.src)}}break;case 6:break;case 4:break;case 12:break;case 13:if(e.memoizedState===null){var d=e.alternate;if(d!==null){var h=d.memoizedState;if(h!==null){var f=h.dehydrated;f!==null&&Xc(f)}}}break;case 19:case 17:case 21:case 22:case 23:case 25:break;default:throw Error(q(163))}qt||e.flags&512&&my(e)}catch(p){ut(e,e.return,p)}}if(e===t){se=null;break}if(n=e.sibling,n!==null){n.return=e.return,se=n;break}se=e.return}}function X_(t){for(;se!==null;){var e=se;if(e===t){se=null;break}var n=e.sibling;if(n!==null){n.return=e.return,se=n;break}se=e.return}}function J_(t){for(;se!==null;){var e=se;try{switch(e.tag){case 0:case 11:case 15:var n=e.return;try{qf(4,e)}catch(c){ut(e,n,c)}break;case 1:var r=e.stateNode;if(typeof r.componentDidMount=="function"){var s=e.return;try{r.componentDidMount()}catch(c){ut(e,s,c)}}var i=e.return;try{my(e)}catch(c){ut(e,i,c)}break;case 5:var o=e.return;try{my(e)}catch(c){ut(e,o,c)}}}catch(c){ut(e,e.return,c)}if(e===t){se=null;break}var a=e.sibling;if(a!==null){a.return=e.return,se=a;break}se=e.return}}var VO=Math.ceil,Xh=ks.ReactCurrentDispatcher,lw=ks.ReactCurrentOwner,Fn=ks.ReactCurrentBatchConfig,De=0,kt=null,yt=null,Lt=0,xn=0,Aa=zi(0),Tt=0,lu=null,Po=0,Gf=0,cw=0,Mc=null,dn=null,uw=0,ll=1/0,os=null,Jh=!1,vy=null,wi=null,Md=!1,di=null,Zh=0,Lc=0,wy=null,hh=-1,fh=0;function tn(){return De&6?pt():hh!==-1?hh:hh=pt()}function xi(t){return t.mode&1?De&2&&Lt!==0?Lt&-Lt:_O.transition!==null?(fh===0&&(fh=LT()),fh):(t=Ue,t!==0||(t=window.event,t=t===void 0?16:WT(t.type)),t):1}function cr(t,e,n,r){if(50<Lc)throw Lc=0,wy=null,Error(q(185));Vu(t,n,r),(!(De&2)||t!==kt)&&(t===kt&&(!(De&2)&&(Gf|=n),Tt===4&&ei(t,Lt)),gn(t,r),n===1&&De===0&&!(e.mode&1)&&(ll=pt()+500,zf&&Wi()))}function gn(t,e){var n=t.callbackNode;_D(t,e);var r=Mh(t,t===kt?Lt:0);if(r===0)n!==null&&a_(n),t.callbackNode=null,t.callbackPriority=0;else if(e=r&-r,t.callbackPriority!==e){if(n!=null&&a_(n),e===1)t.tag===0?xO(Z_.bind(null,t)):cS(Z_.bind(null,t)),gO(function(){!(De&6)&&Wi()}),n=null;else{switch(VT(r)){case 1:n=Mv;break;case 4:n=OT;break;case 16:n=Oh;break;case 536870912:n=MT;break;default:n=Oh}n=aI(n,eI.bind(null,t))}t.callbackPriority=e,t.callbackNode=n}}function eI(t,e){if(hh=-1,fh=0,De&6)throw Error(q(327));var n=t.callbackNode;if(Va()&&t.callbackNode!==n)return null;var r=Mh(t,t===kt?Lt:0);if(r===0)return null;if(r&30||r&t.expiredLanes||e)e=ef(t,r);else{e=r;var s=De;De|=2;var i=nI();(kt!==t||Lt!==e)&&(os=null,ll=pt()+500,Eo(t,e));do try{$O();break}catch(a){tI(t,a)}while(!0);Qv(),Xh.current=i,De=s,yt!==null?e=0:(kt=null,Lt=0,e=Tt)}if(e!==0){if(e===2&&(s=qg(t),s!==0&&(r=s,e=xy(t,s))),e===1)throw n=lu,Eo(t,0),ei(t,r),gn(t,pt()),n;if(e===6)ei(t,r);else{if(s=t.current.alternate,!(r&30)&&!FO(s)&&(e=ef(t,r),e===2&&(i=qg(t),i!==0&&(r=i,e=xy(t,i))),e===1))throw n=lu,Eo(t,0),ei(t,r),gn(t,pt()),n;switch(t.finishedWork=s,t.finishedLanes=r,e){case 0:case 1:throw Error(q(345));case 2:ao(t,dn,os);break;case 3:if(ei(t,r),(r&130023424)===r&&(e=uw+500-pt(),10<e)){if(Mh(t,0)!==0)break;if(s=t.suspendedLanes,(s&r)!==r){tn(),t.pingedLanes|=t.suspendedLanes&s;break}t.timeoutHandle=ey(ao.bind(null,t,dn,os),e);break}ao(t,dn,os);break;case 4:if(ei(t,r),(r&4194240)===r)break;for(e=t.eventTimes,s=-1;0<r;){var o=31-lr(r);i=1<<o,o=e[o],o>s&&(s=o),r&=~i}if(r=s,r=pt()-r,r=(120>r?120:480>r?480:1080>r?1080:1920>r?1920:3e3>r?3e3:4320>r?4320:1960*VO(r/1960))-r,10<r){t.timeoutHandle=ey(ao.bind(null,t,dn,os),r);break}ao(t,dn,os);break;case 5:ao(t,dn,os);break;default:throw Error(q(329))}}}return gn(t,pt()),t.callbackNode===n?eI.bind(null,t):null}function xy(t,e){var n=Mc;return t.current.memoizedState.isDehydrated&&(Eo(t,e).flags|=256),t=ef(t,e),t!==2&&(e=dn,dn=n,e!==null&&_y(e)),t}function _y(t){dn===null?dn=t:dn.push.apply(dn,t)}function FO(t){for(var e=t;;){if(e.flags&16384){var n=e.updateQueue;if(n!==null&&(n=n.stores,n!==null))for(var r=0;r<n.length;r++){var s=n[r],i=s.getSnapshot;s=s.value;try{if(!hr(i(),s))return!1}catch{return!1}}}if(n=e.child,e.subtreeFlags&16384&&n!==null)n.return=e,e=n;else{if(e===t)break;for(;e.sibling===null;){if(e.return===null||e.return===t)return!0;e=e.return}e.sibling.return=e.return,e=e.sibling}}return!0}function ei(t,e){for(e&=~cw,e&=~Gf,t.suspendedLanes|=e,t.pingedLanes&=~e,t=t.expirationTimes;0<e;){var n=31-lr(e),r=1<<n;t[n]=-1,e&=~r}}function Z_(t){if(De&6)throw Error(q(327));Va();var e=Mh(t,0);if(!(e&1))return gn(t,pt()),null;var n=ef(t,e);if(t.tag!==0&&n===2){var r=qg(t);r!==0&&(e=r,n=xy(t,r))}if(n===1)throw n=lu,Eo(t,0),ei(t,e),gn(t,pt()),n;if(n===6)throw Error(q(345));return t.finishedWork=t.current.alternate,t.finishedLanes=e,ao(t,dn,os),gn(t,pt()),null}function dw(t,e){var n=De;De|=1;try{return t(e)}finally{De=n,De===0&&(ll=pt()+500,zf&&Wi())}}function Ao(t){di!==null&&di.tag===0&&!(De&6)&&Va();var e=De;De|=1;var n=Fn.transition,r=Ue;try{if(Fn.transition=null,Ue=1,t)return t()}finally{Ue=r,Fn.transition=n,De=e,!(De&6)&&Wi()}}function hw(){xn=Aa.current,Xe(Aa)}function Eo(t,e){t.finishedWork=null,t.finishedLanes=0;var n=t.timeoutHandle;if(n!==-1&&(t.timeoutHandle=-1,mO(n)),yt!==null)for(n=yt.return;n!==null;){var r=n;switch(qv(r),r.tag){case 1:r=r.type.childContextTypes,r!=null&&$h();break;case 3:ol(),Xe(pn),Xe(Kt),tw();break;case 5:ew(r);break;case 4:ol();break;case 13:Xe(nt);break;case 19:Xe(nt);break;case 10:Yv(r.type._context);break;case 22:case 23:hw()}n=n.return}if(kt=t,yt=t=_i(t.current,null),Lt=xn=e,Tt=0,lu=null,cw=Gf=Po=0,dn=Mc=null,fo!==null){for(e=0;e<fo.length;e++)if(n=fo[e],r=n.interleaved,r!==null){n.interleaved=null;var s=r.next,i=n.pending;if(i!==null){var o=i.next;i.next=s,r.next=o}n.pending=r}fo=null}return t}function tI(t,e){do{var n=yt;try{if(Qv(),ch.current=Yh,Qh){for(var r=rt.memoizedState;r!==null;){var s=r.queue;s!==null&&(s.pending=null),r=r.next}Qh=!1}if(Ro=0,At=Et=rt=null,Dc=!1,iu=0,lw.current=null,n===null||n.return===null){Tt=1,lu=e,yt=null;break}e:{var i=t,o=n.return,a=n,c=e;if(e=Lt,a.flags|=32768,c!==null&&typeof c=="object"&&typeof c.then=="function"){var d=c,h=a,f=h.tag;if(!(h.mode&1)&&(f===0||f===11||f===15)){var p=h.alternate;p?(h.updateQueue=p.updateQueue,h.memoizedState=p.memoizedState,h.lanes=p.lanes):(h.updateQueue=null,h.memoizedState=null)}var m=U_(o);if(m!==null){m.flags&=-257,$_(m,o,a,i,e),m.mode&1&&F_(i,d,e),e=m,c=d;var T=e.updateQueue;if(T===null){var w=new Set;w.add(c),e.updateQueue=w}else T.add(c);break e}else{if(!(e&1)){F_(i,d,e),fw();break e}c=Error(q(426))}}else if(Ze&&a.mode&1){var x=U_(o);if(x!==null){!(x.flags&65536)&&(x.flags|=256),$_(x,o,a,i,e),Gv(al(c,a));break e}}i=c=al(c,a),Tt!==4&&(Tt=2),Mc===null?Mc=[i]:Mc.push(i),i=o;do{switch(i.tag){case 3:i.flags|=65536,e&=-e,i.lanes|=e;var _=VS(i,c,e);j_(i,_);break e;case 1:a=c;var v=i.type,b=i.stateNode;if(!(i.flags&128)&&(typeof v.getDerivedStateFromError=="function"||b!==null&&typeof b.componentDidCatch=="function"&&(wi===null||!wi.has(b)))){i.flags|=65536,e&=-e,i.lanes|=e;var k=FS(i,a,e);j_(i,k);break e}}i=i.return}while(i!==null)}sI(n)}catch(O){e=O,yt===n&&n!==null&&(yt=n=n.return);continue}break}while(!0)}function nI(){var t=Xh.current;return Xh.current=Yh,t===null?Yh:t}function fw(){(Tt===0||Tt===3||Tt===2)&&(Tt=4),kt===null||!(Po&268435455)&&!(Gf&268435455)||ei(kt,Lt)}function ef(t,e){var n=De;De|=2;var r=nI();(kt!==t||Lt!==e)&&(os=null,Eo(t,e));do try{UO();break}catch(s){tI(t,s)}while(!0);if(Qv(),De=n,Xh.current=r,yt!==null)throw Error(q(261));return kt=null,Lt=0,Tt}function UO(){for(;yt!==null;)rI(yt)}function $O(){for(;yt!==null&&!hD();)rI(yt)}function rI(t){var e=oI(t.alternate,t,xn);t.memoizedProps=t.pendingProps,e===null?sI(t):yt=e,lw.current=null}function sI(t){var e=t;do{var n=e.alternate;if(t=e.return,e.flags&32768){if(n=DO(n,e),n!==null){n.flags&=32767,yt=n;return}if(t!==null)t.flags|=32768,t.subtreeFlags=0,t.deletions=null;else{Tt=6,yt=null;return}}else if(n=jO(n,e,xn),n!==null){yt=n;return}if(e=e.sibling,e!==null){yt=e;return}yt=e=t}while(e!==null);Tt===0&&(Tt=5)}function ao(t,e,n){var r=Ue,s=Fn.transition;try{Fn.transition=null,Ue=1,BO(t,e,n,r)}finally{Fn.transition=s,Ue=r}return null}function BO(t,e,n,r){do Va();while(di!==null);if(De&6)throw Error(q(327));n=t.finishedWork;var s=t.finishedLanes;if(n===null)return null;if(t.finishedWork=null,t.finishedLanes=0,n===t.current)throw Error(q(177));t.callbackNode=null,t.callbackPriority=0;var i=n.lanes|n.childLanes;if(bD(t,i),t===kt&&(yt=kt=null,Lt=0),!(n.subtreeFlags&2064)&&!(n.flags&2064)||Md||(Md=!0,aI(Oh,function(){return Va(),null})),i=(n.flags&15990)!==0,n.subtreeFlags&15990||i){i=Fn.transition,Fn.transition=null;var o=Ue;Ue=1;var a=De;De|=4,lw.current=null,MO(t,n),JS(n,t),lO(Jg),Lh=!!Xg,Jg=Xg=null,t.current=n,LO(n),fD(),De=a,Ue=o,Fn.transition=i}else t.current=n;if(Md&&(Md=!1,di=t,Zh=s),i=t.pendingLanes,i===0&&(wi=null),gD(n.stateNode),gn(t,pt()),e!==null)for(r=t.onRecoverableError,n=0;n<e.length;n++)s=e[n],r(s.value,{componentStack:s.stack,digest:s.digest});if(Jh)throw Jh=!1,t=vy,vy=null,t;return Zh&1&&t.tag!==0&&Va(),i=t.pendingLanes,i&1?t===wy?Lc++:(Lc=0,wy=t):Lc=0,Wi(),null}function Va(){if(di!==null){var t=VT(Zh),e=Fn.transition,n=Ue;try{if(Fn.transition=null,Ue=16>t?16:t,di===null)var r=!1;else{if(t=di,di=null,Zh=0,De&6)throw Error(q(331));var s=De;for(De|=4,se=t.current;se!==null;){var i=se,o=i.child;if(se.flags&16){var a=i.deletions;if(a!==null){for(var c=0;c<a.length;c++){var d=a[c];for(se=d;se!==null;){var h=se;switch(h.tag){case 0:case 11:case 15:Oc(8,h,i)}var f=h.child;if(f!==null)f.return=h,se=f;else for(;se!==null;){h=se;var p=h.sibling,m=h.return;if(QS(h),h===d){se=null;break}if(p!==null){p.return=m,se=p;break}se=m}}}var T=i.alternate;if(T!==null){var w=T.child;if(w!==null){T.child=null;do{var x=w.sibling;w.sibling=null,w=x}while(w!==null)}}se=i}}if(i.subtreeFlags&2064&&o!==null)o.return=i,se=o;else e:for(;se!==null;){if(i=se,i.flags&2048)switch(i.tag){case 0:case 11:case 15:Oc(9,i,i.return)}var _=i.sibling;if(_!==null){_.return=i.return,se=_;break e}se=i.return}}var v=t.current;for(se=v;se!==null;){o=se;var b=o.child;if(o.subtreeFlags&2064&&b!==null)b.return=o,se=b;else e:for(o=v;se!==null;){if(a=se,a.flags&2048)try{switch(a.tag){case 0:case 11:case 15:qf(9,a)}}catch(O){ut(a,a.return,O)}if(a===o){se=null;break e}var k=a.sibling;if(k!==null){k.return=a.return,se=k;break e}se=a.return}}if(De=s,Wi(),Vr&&typeof Vr.onPostCommitFiberRoot=="function")try{Vr.onPostCommitFiberRoot(Vf,t)}catch{}r=!0}return r}finally{Ue=n,Fn.transition=e}}return!1}function e1(t,e,n){e=al(n,e),e=VS(t,e,1),t=vi(t,e,1),e=tn(),t!==null&&(Vu(t,1,e),gn(t,e))}function ut(t,e,n){if(t.tag===3)e1(t,t,n);else for(;e!==null;){if(e.tag===3){e1(e,t,n);break}else if(e.tag===1){var r=e.stateNode;if(typeof e.type.getDerivedStateFromError=="function"||typeof r.componentDidCatch=="function"&&(wi===null||!wi.has(r))){t=al(n,t),t=FS(e,t,1),e=vi(e,t,1),t=tn(),e!==null&&(Vu(e,1,t),gn(e,t));break}}e=e.return}}function zO(t,e,n){var r=t.pingCache;r!==null&&r.delete(e),e=tn(),t.pingedLanes|=t.suspendedLanes&n,kt===t&&(Lt&n)===n&&(Tt===4||Tt===3&&(Lt&130023424)===Lt&&500>pt()-uw?Eo(t,0):cw|=n),gn(t,e)}function iI(t,e){e===0&&(t.mode&1?(e=Id,Id<<=1,!(Id&130023424)&&(Id=4194304)):e=1);var n=tn();t=_s(t,e),t!==null&&(Vu(t,e,n),gn(t,n))}function WO(t){var e=t.memoizedState,n=0;e!==null&&(n=e.retryLane),iI(t,n)}function HO(t,e){var n=0;switch(t.tag){case 13:var r=t.stateNode,s=t.memoizedState;s!==null&&(n=s.retryLane);break;case 19:r=t.stateNode;break;default:throw Error(q(314))}r!==null&&r.delete(e),iI(t,n)}var oI;oI=function(t,e,n){if(t!==null)if(t.memoizedProps!==e.pendingProps||pn.current)fn=!0;else{if(!(t.lanes&n)&&!(e.flags&128))return fn=!1,kO(t,e,n);fn=!!(t.flags&131072)}else fn=!1,Ze&&e.flags&1048576&&uS(e,Wh,e.index);switch(e.lanes=0,e.tag){case 2:var r=e.type;dh(t,e),t=e.pendingProps;var s=rl(e,Kt.current);La(e,n),s=rw(null,e,r,t,s,n);var i=sw();return e.flags|=1,typeof s=="object"&&s!==null&&typeof s.render=="function"&&s.$$typeof===void 0?(e.tag=1,e.memoizedState=null,e.updateQueue=null,mn(r)?(i=!0,Bh(e)):i=!1,e.memoizedState=s.state!==null&&s.state!==void 0?s.state:null,Jv(e),s.updater=Hf,e.stateNode=s,s._reactInternals=e,ay(e,r,t,n),e=uy(null,e,r,!0,i,n)):(e.tag=0,Ze&&i&&Hv(e),Zt(null,e,s,n),e=e.child),e;case 16:r=e.elementType;e:{switch(dh(t,e),t=e.pendingProps,s=r._init,r=s(r._payload),e.type=r,s=e.tag=GO(r),t=Jn(r,t),s){case 0:e=cy(null,e,r,t,n);break e;case 1:e=W_(null,e,r,t,n);break e;case 11:e=B_(null,e,r,t,n);break e;case 14:e=z_(null,e,r,Jn(r.type,t),n);break e}throw Error(q(306,r,""))}return e;case 0:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Jn(r,s),cy(t,e,r,s,n);case 1:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Jn(r,s),W_(t,e,r,s,n);case 3:e:{if(zS(e),t===null)throw Error(q(387));r=e.pendingProps,i=e.memoizedState,s=i.element,gS(t,e),Gh(e,r,null,n);var o=e.memoizedState;if(r=o.element,i.isDehydrated)if(i={element:r,isDehydrated:!1,cache:o.cache,pendingSuspenseBoundaries:o.pendingSuspenseBoundaries,transitions:o.transitions},e.updateQueue.baseState=i,e.memoizedState=i,e.flags&256){s=al(Error(q(423)),e),e=H_(t,e,r,n,s);break e}else if(r!==s){s=al(Error(q(424)),e),e=H_(t,e,r,n,s);break e}else for(bn=yi(e.stateNode.containerInfo.firstChild),Tn=e,Ze=!0,rr=null,n=pS(e,null,r,n),e.child=n;n;)n.flags=n.flags&-3|4096,n=n.sibling;else{if(sl(),r===s){e=bs(t,e,n);break e}Zt(t,e,r,n)}e=e.child}return e;case 5:return yS(e),t===null&&sy(e),r=e.type,s=e.pendingProps,i=t!==null?t.memoizedProps:null,o=s.children,Zg(r,s)?o=null:i!==null&&Zg(r,i)&&(e.flags|=32),BS(t,e),Zt(t,e,o,n),e.child;case 6:return t===null&&sy(e),null;case 13:return WS(t,e,n);case 4:return Zv(e,e.stateNode.containerInfo),r=e.pendingProps,t===null?e.child=il(e,null,r,n):Zt(t,e,r,n),e.child;case 11:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Jn(r,s),B_(t,e,r,s,n);case 7:return Zt(t,e,e.pendingProps,n),e.child;case 8:return Zt(t,e,e.pendingProps.children,n),e.child;case 12:return Zt(t,e,e.pendingProps.children,n),e.child;case 10:e:{if(r=e.type._context,s=e.pendingProps,i=e.memoizedProps,o=s.value,He(Hh,r._currentValue),r._currentValue=o,i!==null)if(hr(i.value,o)){if(i.children===s.children&&!pn.current){e=bs(t,e,n);break e}}else for(i=e.child,i!==null&&(i.return=e);i!==null;){var a=i.dependencies;if(a!==null){o=i.child;for(var c=a.firstContext;c!==null;){if(c.context===r){if(i.tag===1){c=gs(-1,n&-n),c.tag=2;var d=i.updateQueue;if(d!==null){d=d.shared;var h=d.pending;h===null?c.next=c:(c.next=h.next,h.next=c),d.pending=c}}i.lanes|=n,c=i.alternate,c!==null&&(c.lanes|=n),iy(i.return,n,e),a.lanes|=n;break}c=c.next}}else if(i.tag===10)o=i.type===e.type?null:i.child;else if(i.tag===18){if(o=i.return,o===null)throw Error(q(341));o.lanes|=n,a=o.alternate,a!==null&&(a.lanes|=n),iy(o,n,e),o=i.sibling}else o=i.child;if(o!==null)o.return=i;else for(o=i;o!==null;){if(o===e){o=null;break}if(i=o.sibling,i!==null){i.return=o.return,o=i;break}o=o.return}i=o}Zt(t,e,s.children,n),e=e.child}return e;case 9:return s=e.type,r=e.pendingProps.children,La(e,n),s=zn(s),r=r(s),e.flags|=1,Zt(t,e,r,n),e.child;case 14:return r=e.type,s=Jn(r,e.pendingProps),s=Jn(r.type,s),z_(t,e,r,s,n);case 15:return US(t,e,e.type,e.pendingProps,n);case 17:return r=e.type,s=e.pendingProps,s=e.elementType===r?s:Jn(r,s),dh(t,e),e.tag=1,mn(r)?(t=!0,Bh(e)):t=!1,La(e,n),LS(e,r,s),ay(e,r,s,n),uy(null,e,r,!0,t,n);case 19:return HS(t,e,n);case 22:return $S(t,e,n)}throw Error(q(156,e.tag))};function aI(t,e){return DT(t,e)}function qO(t,e,n,r){this.tag=t,this.key=n,this.sibling=this.child=this.return=this.stateNode=this.type=this.elementType=null,this.index=0,this.ref=null,this.pendingProps=e,this.dependencies=this.memoizedState=this.updateQueue=this.memoizedProps=null,this.mode=r,this.subtreeFlags=this.flags=0,this.deletions=null,this.childLanes=this.lanes=0,this.alternate=null}function Vn(t,e,n,r){return new qO(t,e,n,r)}function pw(t){return t=t.prototype,!(!t||!t.isReactComponent)}function GO(t){if(typeof t=="function")return pw(t)?1:0;if(t!=null){if(t=t.$$typeof,t===jv)return 11;if(t===Dv)return 14}return 2}function _i(t,e){var n=t.alternate;return n===null?(n=Vn(t.tag,e,t.key,t.mode),n.elementType=t.elementType,n.type=t.type,n.stateNode=t.stateNode,n.alternate=t,t.alternate=n):(n.pendingProps=e,n.type=t.type,n.flags=0,n.subtreeFlags=0,n.deletions=null),n.flags=t.flags&14680064,n.childLanes=t.childLanes,n.lanes=t.lanes,n.child=t.child,n.memoizedProps=t.memoizedProps,n.memoizedState=t.memoizedState,n.updateQueue=t.updateQueue,e=t.dependencies,n.dependencies=e===null?null:{lanes:e.lanes,firstContext:e.firstContext},n.sibling=t.sibling,n.index=t.index,n.ref=t.ref,n}function ph(t,e,n,r,s,i){var o=2;if(r=t,typeof t=="function")pw(t)&&(o=1);else if(typeof t=="string")o=5;else e:switch(t){case _a:return To(n.children,s,i,e);case kv:o=8,s|=8;break;case Ag:return t=Vn(12,n,e,s|2),t.elementType=Ag,t.lanes=i,t;case kg:return t=Vn(13,n,e,s),t.elementType=kg,t.lanes=i,t;case jg:return t=Vn(19,n,e,s),t.elementType=jg,t.lanes=i,t;case yT:return Kf(n,s,i,e);default:if(typeof t=="object"&&t!==null)switch(t.$$typeof){case mT:o=10;break e;case gT:o=9;break e;case jv:o=11;break e;case Dv:o=14;break e;case Qs:o=16,r=null;break e}throw Error(q(130,t==null?t:typeof t,""))}return e=Vn(o,n,e,s),e.elementType=t,e.type=r,e.lanes=i,e}function To(t,e,n,r){return t=Vn(7,t,r,e),t.lanes=n,t}function Kf(t,e,n,r){return t=Vn(22,t,r,e),t.elementType=yT,t.lanes=n,t.stateNode={isHidden:!1},t}function Gm(t,e,n){return t=Vn(6,t,null,e),t.lanes=n,t}function Km(t,e,n){return e=Vn(4,t.children!==null?t.children:[],t.key,e),e.lanes=n,e.stateNode={containerInfo:t.containerInfo,pendingChildren:null,implementation:t.implementation},e}function KO(t,e,n,r,s){this.tag=e,this.containerInfo=t,this.finishedWork=this.pingCache=this.current=this.pendingChildren=null,this.timeoutHandle=-1,this.callbackNode=this.pendingContext=this.context=null,this.callbackPriority=0,this.eventTimes=Nm(0),this.expirationTimes=Nm(-1),this.entangledLanes=this.finishedLanes=this.mutableReadLanes=this.expiredLanes=this.pingedLanes=this.suspendedLanes=this.pendingLanes=0,this.entanglements=Nm(0),this.identifierPrefix=r,this.onRecoverableError=s,this.mutableSourceEagerHydrationData=null}function mw(t,e,n,r,s,i,o,a,c){return t=new KO(t,e,n,a,c),e===1?(e=1,i===!0&&(e|=8)):e=0,i=Vn(3,null,null,e),t.current=i,i.stateNode=t,i.memoizedState={element:r,isDehydrated:n,cache:null,transitions:null,pendingSuspenseBoundaries:null},Jv(i),t}function QO(t,e,n){var r=3<arguments.length&&arguments[3]!==void 0?arguments[3]:null;return{$$typeof:xa,key:r==null?null:""+r,children:t,containerInfo:e,implementation:n}}function lI(t){if(!t)return Ri;t=t._reactInternals;e:{if(Qo(t)!==t||t.tag!==1)throw Error(q(170));var e=t;do{switch(e.tag){case 3:e=e.stateNode.context;break e;case 1:if(mn(e.type)){e=e.stateNode.__reactInternalMemoizedMergedChildContext;break e}}e=e.return}while(e!==null);throw Error(q(171))}if(t.tag===1){var n=t.type;if(mn(n))return lS(t,n,e)}return e}function cI(t,e,n,r,s,i,o,a,c){return t=mw(n,r,!0,t,s,i,o,a,c),t.context=lI(null),n=t.current,r=tn(),s=xi(n),i=gs(r,s),i.callback=e??null,vi(n,i,s),t.current.lanes=s,Vu(t,s,r),gn(t,r),t}function Qf(t,e,n,r){var s=e.current,i=tn(),o=xi(s);return n=lI(n),e.context===null?e.context=n:e.pendingContext=n,e=gs(i,o),e.payload={element:t},r=r===void 0?null:r,r!==null&&(e.callback=r),t=vi(s,e,o),t!==null&&(cr(t,s,o,i),lh(t,s,o)),o}function tf(t){if(t=t.current,!t.child)return null;switch(t.child.tag){case 5:return t.child.stateNode;default:return t.child.stateNode}}function t1(t,e){if(t=t.memoizedState,t!==null&&t.dehydrated!==null){var n=t.retryLane;t.retryLane=n!==0&&n<e?n:e}}function gw(t,e){t1(t,e),(t=t.alternate)&&t1(t,e)}function YO(){return null}var uI=typeof reportError=="function"?reportError:function(t){console.error(t)};function yw(t){this._internalRoot=t}Yf.prototype.render=yw.prototype.render=function(t){var e=this._internalRoot;if(e===null)throw Error(q(409));Qf(t,e,null,null)};Yf.prototype.unmount=yw.prototype.unmount=function(){var t=this._internalRoot;if(t!==null){this._internalRoot=null;var e=t.containerInfo;Ao(function(){Qf(null,t,null,null)}),e[xs]=null}};function Yf(t){this._internalRoot=t}Yf.prototype.unstable_scheduleHydration=function(t){if(t){var e=$T();t={blockedOn:null,target:t,priority:e};for(var n=0;n<Zs.length&&e!==0&&e<Zs[n].priority;n++);Zs.splice(n,0,t),n===0&&zT(t)}};function vw(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11)}function Xf(t){return!(!t||t.nodeType!==1&&t.nodeType!==9&&t.nodeType!==11&&(t.nodeType!==8||t.nodeValue!==" react-mount-point-unstable "))}function n1(){}function XO(t,e,n,r,s){if(s){if(typeof r=="function"){var i=r;r=function(){var d=tf(o);i.call(d)}}var o=cI(e,r,t,0,null,!1,!1,"",n1);return t._reactRootContainer=o,t[xs]=o.current,eu(t.nodeType===8?t.parentNode:t),Ao(),o}for(;s=t.lastChild;)t.removeChild(s);if(typeof r=="function"){var a=r;r=function(){var d=tf(c);a.call(d)}}var c=mw(t,0,!1,null,null,!1,!1,"",n1);return t._reactRootContainer=c,t[xs]=c.current,eu(t.nodeType===8?t.parentNode:t),Ao(function(){Qf(e,c,n,r)}),c}function Jf(t,e,n,r,s){var i=n._reactRootContainer;if(i){var o=i;if(typeof s=="function"){var a=s;s=function(){var c=tf(o);a.call(c)}}Qf(e,o,t,s)}else o=XO(n,e,t,s,r);return tf(o)}FT=function(t){switch(t.tag){case 3:var e=t.stateNode;if(e.current.memoizedState.isDehydrated){var n=yc(e.pendingLanes);n!==0&&(Lv(e,n|1),gn(e,pt()),!(De&6)&&(ll=pt()+500,Wi()))}break;case 13:Ao(function(){var r=_s(t,1);if(r!==null){var s=tn();cr(r,t,1,s)}}),gw(t,1)}};Vv=function(t){if(t.tag===13){var e=_s(t,134217728);if(e!==null){var n=tn();cr(e,t,134217728,n)}gw(t,134217728)}};UT=function(t){if(t.tag===13){var e=xi(t),n=_s(t,e);if(n!==null){var r=tn();cr(n,t,e,r)}gw(t,e)}};$T=function(){return Ue};BT=function(t,e){var n=Ue;try{return Ue=t,e()}finally{Ue=n}};zg=function(t,e,n){switch(e){case"input":if(Mg(t,n),e=n.name,n.type==="radio"&&e!=null){for(n=t;n.parentNode;)n=n.parentNode;for(n=n.querySelectorAll("input[name="+JSON.stringify(""+e)+'][type="radio"]'),e=0;e<n.length;e++){var r=n[e];if(r!==t&&r.form===t.form){var s=Bf(r);if(!s)throw Error(q(90));wT(r),Mg(r,s)}}}break;case"textarea":_T(t,n);break;case"select":e=n.value,e!=null&&ja(t,!!n.multiple,e,!1)}};NT=dw;RT=Ao;var JO={usingClientEntryPoint:!1,Events:[Uu,Sa,Bf,IT,CT,dw]},oc={findFiberByHostInstance:ho,bundleType:0,version:"18.3.1",rendererPackageName:"react-dom"},ZO={bundleType:oc.bundleType,version:oc.version,rendererPackageName:oc.rendererPackageName,rendererConfig:oc.rendererConfig,overrideHookState:null,overrideHookStateDeletePath:null,overrideHookStateRenamePath:null,overrideProps:null,overridePropsDeletePath:null,overridePropsRenamePath:null,setErrorHandler:null,setSuspenseHandler:null,scheduleUpdate:null,currentDispatcherRef:ks.ReactCurrentDispatcher,findHostInstanceByFiber:function(t){return t=kT(t),t===null?null:t.stateNode},findFiberByHostInstance:oc.findFiberByHostInstance||YO,findHostInstancesForRefresh:null,scheduleRefresh:null,scheduleRoot:null,setRefreshHandler:null,getCurrentFiber:null,reconcilerVersion:"18.3.1-next-f1338f8080-20240426"};if(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__<"u"){var Ld=__REACT_DEVTOOLS_GLOBAL_HOOK__;if(!Ld.isDisabled&&Ld.supportsFiber)try{Vf=Ld.inject(ZO),Vr=Ld}catch{}}Nn.__SECRET_INTERNALS_DO_NOT_USE_OR_YOU_WILL_BE_FIRED=JO;Nn.createPortal=function(t,e){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:null;if(!vw(e))throw Error(q(200));return QO(t,e,null,n)};Nn.createRoot=function(t,e){if(!vw(t))throw Error(q(299));var n=!1,r="",s=uI;return e!=null&&(e.unstable_strictMode===!0&&(n=!0),e.identifierPrefix!==void 0&&(r=e.identifierPrefix),e.onRecoverableError!==void 0&&(s=e.onRecoverableError)),e=mw(t,1,!1,null,null,n,!1,r,s),t[xs]=e.current,eu(t.nodeType===8?t.parentNode:t),new yw(e)};Nn.findDOMNode=function(t){if(t==null)return null;if(t.nodeType===1)return t;var e=t._reactInternals;if(e===void 0)throw typeof t.render=="function"?Error(q(188)):(t=Object.keys(t).join(","),Error(q(268,t)));return t=kT(e),t=t===null?null:t.stateNode,t};Nn.flushSync=function(t){return Ao(t)};Nn.hydrate=function(t,e,n){if(!Xf(e))throw Error(q(200));return Jf(null,t,e,!0,n)};Nn.hydrateRoot=function(t,e,n){if(!vw(t))throw Error(q(405));var r=n!=null&&n.hydratedSources||null,s=!1,i="",o=uI;if(n!=null&&(n.unstable_strictMode===!0&&(s=!0),n.identifierPrefix!==void 0&&(i=n.identifierPrefix),n.onRecoverableError!==void 0&&(o=n.onRecoverableError)),e=cI(e,null,t,1,n??null,s,!1,i,o),t[xs]=e.current,eu(t),r)for(t=0;t<r.length;t++)n=r[t],s=n._getVersion,s=s(n._source),e.mutableSourceEagerHydrationData==null?e.mutableSourceEagerHydrationData=[n,s]:e.mutableSourceEagerHydrationData.push(n,s);return new Yf(e)};Nn.render=function(t,e,n){if(!Xf(e))throw Error(q(200));return Jf(null,t,e,!1,n)};Nn.unmountComponentAtNode=function(t){if(!Xf(t))throw Error(q(40));return t._reactRootContainer?(Ao(function(){Jf(null,null,t,!1,function(){t._reactRootContainer=null,t[xs]=null})}),!0):!1};Nn.unstable_batchedUpdates=dw;Nn.unstable_renderSubtreeIntoContainer=function(t,e,n,r){if(!Xf(n))throw Error(q(200));if(t==null||t._reactInternals===void 0)throw Error(q(38));return Jf(t,e,n,!1,r)};Nn.version="18.3.1-next-f1338f8080-20240426";function dI(){if(!(typeof __REACT_DEVTOOLS_GLOBAL_HOOK__>"u"||typeof __REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE!="function"))try{__REACT_DEVTOOLS_GLOBAL_HOOK__.checkDCE(dI)}catch(t){console.error(t)}}dI(),dT.exports=Nn;var Yo=dT.exports;const hI=ZE(Yo);var fI,r1=Yo;fI=r1.createRoot,r1.hydrateRoot;const eM=1,tM=1e6;let Qm=0;function nM(){return Qm=(Qm+1)%Number.MAX_SAFE_INTEGER,Qm.toString()}const Ym=new Map,s1=t=>{if(Ym.has(t))return;const e=setTimeout(()=>{Ym.delete(t),Vc({type:"REMOVE_TOAST",toastId:t})},tM);Ym.set(t,e)},rM=(t,e)=>{switch(e.type){case"ADD_TOAST":return{...t,toasts:[e.toast,...t.toasts].slice(0,eM)};case"UPDATE_TOAST":return{...t,toasts:t.toasts.map(n=>n.id===e.toast.id?{...n,...e.toast}:n)};case"DISMISS_TOAST":{const{toastId:n}=e;return n?s1(n):t.toasts.forEach(r=>{s1(r.id)}),{...t,toasts:t.toasts.map(r=>r.id===n||n===void 0?{...r,open:!1}:r)}}case"REMOVE_TOAST":return e.toastId===void 0?{...t,toasts:[]}:{...t,toasts:t.toasts.filter(n=>n.id!==e.toastId)}}},mh=[];let gh={toasts:[]};function Vc(t){gh=rM(gh,t),mh.forEach(e=>{e(gh)})}function sM({...t}){const e=nM(),n=s=>Vc({type:"UPDATE_TOAST",toast:{...s,id:e}}),r=()=>Vc({type:"DISMISS_TOAST",toastId:e});return Vc({type:"ADD_TOAST",toast:{...t,id:e,open:!0,onOpenChange:s=>{s||r()}}}),{id:e,dismiss:r,update:n}}function iM(){const[t,e]=g.useState(gh);return g.useEffect(()=>(mh.push(e),()=>{const n=mh.indexOf(e);n>-1&&mh.splice(n,1)}),[t]),{...t,toast:sM,dismiss:n=>Vc({type:"DISMISS_TOAST",toastId:n})}}function ee(t,e,{checkForDefaultPrevented:n=!0}={}){return function(s){if(t==null||t(s),n===!1||!s.defaultPrevented)return e==null?void 0:e(s)}}function i1(t,e){if(typeof t=="function")return t(e);t!=null&&(t.current=e)}function Zf(...t){return e=>{let n=!1;const r=t.map(s=>{const i=i1(s,e);return!n&&typeof i=="function"&&(n=!0),i});if(n)return()=>{for(let s=0;s<r.length;s++){const i=r[s];typeof i=="function"?i():i1(t[s],null)}}}}function Me(...t){return g.useCallback(Zf(...t),t)}function oM(t,e){const n=g.createContext(e),r=i=>{const{children:o,...a}=i,c=g.useMemo(()=>a,Object.values(a));return l.jsx(n.Provider,{value:c,children:o})};r.displayName=t+"Provider";function s(i){const o=g.useContext(n);if(o)return o;if(e!==void 0)return e;throw new Error(`\`${i}\` must be used within \`${t}\``)}return[r,s]}function vr(t,e=[]){let n=[];function r(i,o){const a=g.createContext(o),c=n.length;n=[...n,o];const d=f=>{var _;const{scope:p,children:m,...T}=f,w=((_=p==null?void 0:p[t])==null?void 0:_[c])||a,x=g.useMemo(()=>T,Object.values(T));return l.jsx(w.Provider,{value:x,children:m})};d.displayName=i+"Provider";function h(f,p){var w;const m=((w=p==null?void 0:p[t])==null?void 0:w[c])||a,T=g.useContext(m);if(T)return T;if(o!==void 0)return o;throw new Error(`\`${f}\` must be used within \`${i}\``)}return[d,h]}const s=()=>{const i=n.map(o=>g.createContext(o));return function(a){const c=(a==null?void 0:a[t])||i;return g.useMemo(()=>({[`__scope${t}`]:{...a,[t]:c}}),[a,c])}};return s.scopeName=t,[r,aM(s,...e)]}function aM(...t){const e=t[0];if(t.length===1)return e;const n=()=>{const r=t.map(s=>({useScope:s(),scopeName:s.scopeName}));return function(i){const o=r.reduce((a,{useScope:c,scopeName:d})=>{const f=c(i)[`__scope${d}`];return{...a,...f}},{});return g.useMemo(()=>({[`__scope${e.scopeName}`]:o}),[o])}};return n.scopeName=e.scopeName,n}function ko(t){const e=lM(t),n=g.forwardRef((r,s)=>{const{children:i,...o}=r,a=g.Children.toArray(i),c=a.find(uM);if(c){const d=c.props.children,h=a.map(f=>f===c?g.Children.count(d)>1?g.Children.only(null):g.isValidElement(d)?d.props.children:null:f);return l.jsx(e,{...o,ref:s,children:g.isValidElement(d)?g.cloneElement(d,void 0,h):null})}return l.jsx(e,{...o,ref:s,children:i})});return n.displayName=`${t}.Slot`,n}var _l=ko("Slot");function lM(t){const e=g.forwardRef((n,r)=>{const{children:s,...i}=n;if(g.isValidElement(s)){const o=hM(s),a=dM(i,s.props);return s.type!==g.Fragment&&(a.ref=r?Zf(r,o):o),g.cloneElement(s,a)}return g.Children.count(s)>1?g.Children.only(null):null});return e.displayName=`${t}.SlotClone`,e}var pI=Symbol("radix.slottable");function cM(t){const e=({children:n})=>l.jsx(l.Fragment,{children:n});return e.displayName=`${t}.Slottable`,e.__radixId=pI,e}function uM(t){return g.isValidElement(t)&&typeof t.type=="function"&&"__radixId"in t.type&&t.type.__radixId===pI}function dM(t,e){const n={...e};for(const r in e){const s=t[r],i=e[r];/^on[A-Z]/.test(r)?s&&i?n[r]=(...a)=>{const c=i(...a);return s(...a),c}:s&&(n[r]=s):r==="style"?n[r]={...s,...i}:r==="className"&&(n[r]=[s,i].filter(Boolean).join(" "))}return{...t,...n}}function hM(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}function ep(t){const e=t+"CollectionProvider",[n,r]=vr(e),[s,i]=n(e,{collectionRef:{current:null},itemMap:new Map}),o=w=>{const{scope:x,children:_}=w,v=K.useRef(null),b=K.useRef(new Map).current;return l.jsx(s,{scope:x,itemMap:b,collectionRef:v,children:_})};o.displayName=e;const a=t+"CollectionSlot",c=ko(a),d=K.forwardRef((w,x)=>{const{scope:_,children:v}=w,b=i(a,_),k=Me(x,b.collectionRef);return l.jsx(c,{ref:k,children:v})});d.displayName=a;const h=t+"CollectionItemSlot",f="data-radix-collection-item",p=ko(h),m=K.forwardRef((w,x)=>{const{scope:_,children:v,...b}=w,k=K.useRef(null),O=Me(x,k),D=i(h,_);return K.useEffect(()=>(D.itemMap.set(k,{ref:k,...b}),()=>void D.itemMap.delete(k))),l.jsx(p,{[f]:"",ref:O,children:v})});m.displayName=h;function T(w){const x=i(t+"CollectionConsumer",w);return K.useCallback(()=>{const v=x.collectionRef.current;if(!v)return[];const b=Array.from(v.querySelectorAll(`[${f}]`));return Array.from(x.itemMap.values()).sort((D,C)=>b.indexOf(D.ref.current)-b.indexOf(C.ref.current))},[x.collectionRef,x.itemMap])}return[{Provider:o,Slot:d,ItemSlot:m},T,r]}var fM=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","select","span","svg","ul"],ce=fM.reduce((t,e)=>{const n=ko(`Primitive.${e}`),r=g.forwardRef((s,i)=>{const{asChild:o,...a}=s,c=o?n:e;return typeof window<"u"&&(window[Symbol.for("radix-ui")]=!0),l.jsx(c,{...a,ref:i})});return r.displayName=`Primitive.${e}`,{...t,[e]:r}},{});function ww(t,e){t&&Yo.flushSync(()=>t.dispatchEvent(e))}function yn(t){const e=g.useRef(t);return g.useEffect(()=>{e.current=t}),g.useMemo(()=>(...n)=>{var r;return(r=e.current)==null?void 0:r.call(e,...n)},[])}function pM(t,e=globalThis==null?void 0:globalThis.document){const n=yn(t);g.useEffect(()=>{const r=s=>{s.key==="Escape"&&n(s)};return e.addEventListener("keydown",r,{capture:!0}),()=>e.removeEventListener("keydown",r,{capture:!0})},[n,e])}var mM="DismissableLayer",by="dismissableLayer.update",gM="dismissableLayer.pointerDownOutside",yM="dismissableLayer.focusOutside",o1,mI=g.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),bl=g.forwardRef((t,e)=>{const{disableOutsidePointerEvents:n=!1,onEscapeKeyDown:r,onPointerDownOutside:s,onFocusOutside:i,onInteractOutside:o,onDismiss:a,...c}=t,d=g.useContext(mI),[h,f]=g.useState(null),p=(h==null?void 0:h.ownerDocument)??(globalThis==null?void 0:globalThis.document),[,m]=g.useState({}),T=Me(e,C=>f(C)),w=Array.from(d.layers),[x]=[...d.layersWithOutsidePointerEventsDisabled].slice(-1),_=w.indexOf(x),v=h?w.indexOf(h):-1,b=d.layersWithOutsidePointerEventsDisabled.size>0,k=v>=_,O=wM(C=>{const I=C.target,S=[...d.branches].some(N=>N.contains(I));!k||S||(s==null||s(C),o==null||o(C),C.defaultPrevented||a==null||a())},p),D=xM(C=>{const I=C.target;[...d.branches].some(N=>N.contains(I))||(i==null||i(C),o==null||o(C),C.defaultPrevented||a==null||a())},p);return pM(C=>{v===d.layers.size-1&&(r==null||r(C),!C.defaultPrevented&&a&&(C.preventDefault(),a()))},p),g.useEffect(()=>{if(h)return n&&(d.layersWithOutsidePointerEventsDisabled.size===0&&(o1=p.body.style.pointerEvents,p.body.style.pointerEvents="none"),d.layersWithOutsidePointerEventsDisabled.add(h)),d.layers.add(h),a1(),()=>{n&&d.layersWithOutsidePointerEventsDisabled.size===1&&(p.body.style.pointerEvents=o1)}},[h,p,n,d]),g.useEffect(()=>()=>{h&&(d.layers.delete(h),d.layersWithOutsidePointerEventsDisabled.delete(h),a1())},[h,d]),g.useEffect(()=>{const C=()=>m({});return document.addEventListener(by,C),()=>document.removeEventListener(by,C)},[]),l.jsx(ce.div,{...c,ref:T,style:{pointerEvents:b?k?"auto":"none":void 0,...t.style},onFocusCapture:ee(t.onFocusCapture,D.onFocusCapture),onBlurCapture:ee(t.onBlurCapture,D.onBlurCapture),onPointerDownCapture:ee(t.onPointerDownCapture,O.onPointerDownCapture)})});bl.displayName=mM;var vM="DismissableLayerBranch",gI=g.forwardRef((t,e)=>{const n=g.useContext(mI),r=g.useRef(null),s=Me(e,r);return g.useEffect(()=>{const i=r.current;if(i)return n.branches.add(i),()=>{n.branches.delete(i)}},[n.branches]),l.jsx(ce.div,{...t,ref:s})});gI.displayName=vM;function wM(t,e=globalThis==null?void 0:globalThis.document){const n=yn(t),r=g.useRef(!1),s=g.useRef(()=>{});return g.useEffect(()=>{const i=a=>{if(a.target&&!r.current){let c=function(){yI(gM,n,d,{discrete:!0})};const d={originalEvent:a};a.pointerType==="touch"?(e.removeEventListener("click",s.current),s.current=c,e.addEventListener("click",s.current,{once:!0})):c()}else e.removeEventListener("click",s.current);r.current=!1},o=window.setTimeout(()=>{e.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(o),e.removeEventListener("pointerdown",i),e.removeEventListener("click",s.current)}},[e,n]),{onPointerDownCapture:()=>r.current=!0}}function xM(t,e=globalThis==null?void 0:globalThis.document){const n=yn(t),r=g.useRef(!1);return g.useEffect(()=>{const s=i=>{i.target&&!r.current&&yI(yM,n,{originalEvent:i},{discrete:!1})};return e.addEventListener("focusin",s),()=>e.removeEventListener("focusin",s)},[e,n]),{onFocusCapture:()=>r.current=!0,onBlurCapture:()=>r.current=!1}}function a1(){const t=new CustomEvent(by);document.dispatchEvent(t)}function yI(t,e,n,{discrete:r}){const s=n.originalEvent.target,i=new CustomEvent(t,{bubbles:!1,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?ww(s,i):s.dispatchEvent(i)}var _M=bl,bM=gI,jt=globalThis!=null&&globalThis.document?g.useLayoutEffect:()=>{},EM="Portal",Bu=g.forwardRef((t,e)=>{var a;const{container:n,...r}=t,[s,i]=g.useState(!1);jt(()=>i(!0),[]);const o=n||s&&((a=globalThis==null?void 0:globalThis.document)==null?void 0:a.body);return o?hI.createPortal(l.jsx(ce.div,{...r,ref:e}),o):null});Bu.displayName=EM;function TM(t,e){return g.useReducer((n,r)=>e[n][r]??n,t)}var Hn=t=>{const{present:e,children:n}=t,r=SM(e),s=typeof n=="function"?n({present:r.isPresent}):g.Children.only(n),i=Me(r.ref,IM(s));return typeof n=="function"||r.isPresent?g.cloneElement(s,{ref:i}):null};Hn.displayName="Presence";function SM(t){const[e,n]=g.useState(),r=g.useRef(null),s=g.useRef(t),i=g.useRef("none"),o=t?"mounted":"unmounted",[a,c]=TM(o,{mounted:{UNMOUNT:"unmounted",ANIMATION_OUT:"unmountSuspended"},unmountSuspended:{MOUNT:"mounted",ANIMATION_END:"unmounted"},unmounted:{MOUNT:"mounted"}});return g.useEffect(()=>{const d=Vd(r.current);i.current=a==="mounted"?d:"none"},[a]),jt(()=>{const d=r.current,h=s.current;if(h!==t){const p=i.current,m=Vd(d);t?c("MOUNT"):m==="none"||(d==null?void 0:d.display)==="none"?c("UNMOUNT"):c(h&&p!==m?"ANIMATION_OUT":"UNMOUNT"),s.current=t}},[t,c]),jt(()=>{if(e){let d;const h=e.ownerDocument.defaultView??window,f=m=>{const w=Vd(r.current).includes(m.animationName);if(m.target===e&&w&&(c("ANIMATION_END"),!s.current)){const x=e.style.animationFillMode;e.style.animationFillMode="forwards",d=h.setTimeout(()=>{e.style.animationFillMode==="forwards"&&(e.style.animationFillMode=x)})}},p=m=>{m.target===e&&(i.current=Vd(r.current))};return e.addEventListener("animationstart",p),e.addEventListener("animationcancel",f),e.addEventListener("animationend",f),()=>{h.clearTimeout(d),e.removeEventListener("animationstart",p),e.removeEventListener("animationcancel",f),e.removeEventListener("animationend",f)}}else c("ANIMATION_END")},[e,c]),{isPresent:["mounted","unmountSuspended"].includes(a),ref:g.useCallback(d=>{r.current=d?getComputedStyle(d):null,n(d)},[])}}function Vd(t){return(t==null?void 0:t.animationName)||"none"}function IM(t){var r,s;let e=(r=Object.getOwnPropertyDescriptor(t.props,"ref"))==null?void 0:r.get,n=e&&"isReactWarning"in e&&e.isReactWarning;return n?t.ref:(e=(s=Object.getOwnPropertyDescriptor(t,"ref"))==null?void 0:s.get,n=e&&"isReactWarning"in e&&e.isReactWarning,n?t.props.ref:t.props.ref||t.ref)}var CM=Nv[" useInsertionEffect ".trim().toString()]||jt;function Es({prop:t,defaultProp:e,onChange:n=()=>{},caller:r}){const[s,i,o]=NM({defaultProp:e,onChange:n}),a=t!==void 0,c=a?t:s;{const h=g.useRef(t!==void 0);g.useEffect(()=>{const f=h.current;f!==a&&console.warn(`${r} is changing from ${f?"controlled":"uncontrolled"} to ${a?"controlled":"uncontrolled"}. Components should not switch from controlled to uncontrolled (or vice versa). Decide between using a controlled or uncontrolled value for the lifetime of the component.`),h.current=a},[a,r])}const d=g.useCallback(h=>{var f;if(a){const p=RM(h)?h(t):h;p!==t&&((f=o.current)==null||f.call(o,p))}else i(h)},[a,t,i,o]);return[c,d]}function NM({defaultProp:t,onChange:e}){const[n,r]=g.useState(t),s=g.useRef(n),i=g.useRef(e);return CM(()=>{i.current=e},[e]),g.useEffect(()=>{var o;s.current!==n&&((o=i.current)==null||o.call(i,n),s.current=n)},[n,s]),[n,r,i]}function RM(t){return typeof t=="function"}var vI=Object.freeze({position:"absolute",border:0,width:1,height:1,padding:0,margin:-1,overflow:"hidden",clip:"rect(0, 0, 0, 0)",whiteSpace:"nowrap",wordWrap:"normal"}),PM="VisuallyHidden",tp=g.forwardRef((t,e)=>l.jsx(ce.span,{...t,ref:e,style:{...vI,...t.style}}));tp.displayName=PM;var AM=tp,xw="ToastProvider",[_w,kM,jM]=ep("Toast"),[wI,xQ]=vr("Toast",[jM]),[DM,np]=wI(xw),xI=t=>{const{__scopeToast:e,label:n="Notification",duration:r=5e3,swipeDirection:s="right",swipeThreshold:i=50,children:o}=t,[a,c]=g.useState(null),[d,h]=g.useState(0),f=g.useRef(!1),p=g.useRef(!1);return n.trim()||console.error(`Invalid prop \`label\` supplied to \`${xw}\`. Expected non-empty \`string\`.`),l.jsx(_w.Provider,{scope:e,children:l.jsx(DM,{scope:e,label:n,duration:r,swipeDirection:s,swipeThreshold:i,toastCount:d,viewport:a,onViewportChange:c,onToastAdd:g.useCallback(()=>h(m=>m+1),[]),onToastRemove:g.useCallback(()=>h(m=>m-1),[]),isFocusedToastEscapeKeyDownRef:f,isClosePausedRef:p,children:o})})};xI.displayName=xw;var _I="ToastViewport",OM=["F8"],Ey="toast.viewportPause",Ty="toast.viewportResume",bI=g.forwardRef((t,e)=>{const{__scopeToast:n,hotkey:r=OM,label:s="Notifications ({hotkey})",...i}=t,o=np(_I,n),a=kM(n),c=g.useRef(null),d=g.useRef(null),h=g.useRef(null),f=g.useRef(null),p=Me(e,f,o.onViewportChange),m=r.join("+").replace(/Key/g,"").replace(/Digit/g,""),T=o.toastCount>0;g.useEffect(()=>{const x=_=>{var b;r.length!==0&&r.every(k=>_[k]||_.code===k)&&((b=f.current)==null||b.focus())};return document.addEventListener("keydown",x),()=>document.removeEventListener("keydown",x)},[r]),g.useEffect(()=>{const x=c.current,_=f.current;if(T&&x&&_){const v=()=>{if(!o.isClosePausedRef.current){const D=new CustomEvent(Ey);_.dispatchEvent(D),o.isClosePausedRef.current=!0}},b=()=>{if(o.isClosePausedRef.current){const D=new CustomEvent(Ty);_.dispatchEvent(D),o.isClosePausedRef.current=!1}},k=D=>{!x.contains(D.relatedTarget)&&b()},O=()=>{x.contains(document.activeElement)||b()};return x.addEventListener("focusin",v),x.addEventListener("focusout",k),x.addEventListener("pointermove",v),x.addEventListener("pointerleave",O),window.addEventListener("blur",v),window.addEventListener("focus",b),()=>{x.removeEventListener("focusin",v),x.removeEventListener("focusout",k),x.removeEventListener("pointermove",v),x.removeEventListener("pointerleave",O),window.removeEventListener("blur",v),window.removeEventListener("focus",b)}}},[T,o.isClosePausedRef]);const w=g.useCallback(({tabbingDirection:x})=>{const v=a().map(b=>{const k=b.ref.current,O=[k,...KM(k)];return x==="forwards"?O:O.reverse()});return(x==="forwards"?v.reverse():v).flat()},[a]);return g.useEffect(()=>{const x=f.current;if(x){const _=v=>{var O,D,C;const b=v.altKey||v.ctrlKey||v.metaKey;if(v.key==="Tab"&&!b){const I=document.activeElement,S=v.shiftKey;if(v.target===x&&S){(O=d.current)==null||O.focus();return}const j=w({tabbingDirection:S?"backwards":"forwards"}),R=j.findIndex(M=>M===I);Xm(j.slice(R+1))?v.preventDefault():S?(D=d.current)==null||D.focus():(C=h.current)==null||C.focus()}};return x.addEventListener("keydown",_),()=>x.removeEventListener("keydown",_)}},[a,w]),l.jsxs(bM,{ref:c,role:"region","aria-label":s.replace("{hotkey}",m),tabIndex:-1,style:{pointerEvents:T?void 0:"none"},children:[T&&l.jsx(Sy,{ref:d,onFocusFromOutsideViewport:()=>{const x=w({tabbingDirection:"forwards"});Xm(x)}}),l.jsx(_w.Slot,{scope:n,children:l.jsx(ce.ol,{tabIndex:-1,...i,ref:p})}),T&&l.jsx(Sy,{ref:h,onFocusFromOutsideViewport:()=>{const x=w({tabbingDirection:"backwards"});Xm(x)}})]})});bI.displayName=_I;var EI="ToastFocusProxy",Sy=g.forwardRef((t,e)=>{const{__scopeToast:n,onFocusFromOutsideViewport:r,...s}=t,i=np(EI,n);return l.jsx(tp,{"aria-hidden":!0,tabIndex:0,...s,ref:e,style:{position:"fixed"},onFocus:o=>{var d;const a=o.relatedTarget;!((d=i.viewport)!=null&&d.contains(a))&&r()}})});Sy.displayName=EI;var zu="Toast",MM="toast.swipeStart",LM="toast.swipeMove",VM="toast.swipeCancel",FM="toast.swipeEnd",TI=g.forwardRef((t,e)=>{const{forceMount:n,open:r,defaultOpen:s,onOpenChange:i,...o}=t,[a,c]=Es({prop:r,defaultProp:s??!0,onChange:i,caller:zu});return l.jsx(Hn,{present:n||a,children:l.jsx(BM,{open:a,...o,ref:e,onClose:()=>c(!1),onPause:yn(t.onPause),onResume:yn(t.onResume),onSwipeStart:ee(t.onSwipeStart,d=>{d.currentTarget.setAttribute("data-swipe","start")}),onSwipeMove:ee(t.onSwipeMove,d=>{const{x:h,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","move"),d.currentTarget.style.setProperty("--radix-toast-swipe-move-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-move-y",`${f}px`)}),onSwipeCancel:ee(t.onSwipeCancel,d=>{d.currentTarget.setAttribute("data-swipe","cancel"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-end-y")}),onSwipeEnd:ee(t.onSwipeEnd,d=>{const{x:h,y:f}=d.detail.delta;d.currentTarget.setAttribute("data-swipe","end"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-x"),d.currentTarget.style.removeProperty("--radix-toast-swipe-move-y"),d.currentTarget.style.setProperty("--radix-toast-swipe-end-x",`${h}px`),d.currentTarget.style.setProperty("--radix-toast-swipe-end-y",`${f}px`),c(!1)})})})});TI.displayName=zu;var[UM,$M]=wI(zu,{onClose(){}}),BM=g.forwardRef((t,e)=>{const{__scopeToast:n,type:r="foreground",duration:s,open:i,onClose:o,onEscapeKeyDown:a,onPause:c,onResume:d,onSwipeStart:h,onSwipeMove:f,onSwipeCancel:p,onSwipeEnd:m,...T}=t,w=np(zu,n),[x,_]=g.useState(null),v=Me(e,M=>_(M)),b=g.useRef(null),k=g.useRef(null),O=s||w.duration,D=g.useRef(0),C=g.useRef(O),I=g.useRef(0),{onToastAdd:S,onToastRemove:N}=w,P=yn(()=>{var G;(x==null?void 0:x.contains(document.activeElement))&&((G=w.viewport)==null||G.focus()),o()}),j=g.useCallback(M=>{!M||M===1/0||(window.clearTimeout(I.current),D.current=new Date().getTime(),I.current=window.setTimeout(P,M))},[P]);g.useEffect(()=>{const M=w.viewport;if(M){const G=()=>{j(C.current),d==null||d()},H=()=>{const ne=new Date().getTime()-D.current;C.current=C.current-ne,window.clearTimeout(I.current),c==null||c()};return M.addEventListener(Ey,H),M.addEventListener(Ty,G),()=>{M.removeEventListener(Ey,H),M.removeEventListener(Ty,G)}}},[w.viewport,O,c,d,j]),g.useEffect(()=>{i&&!w.isClosePausedRef.current&&j(O)},[i,O,w.isClosePausedRef,j]),g.useEffect(()=>(S(),()=>N()),[S,N]);const R=g.useMemo(()=>x?AI(x):null,[x]);return w.viewport?l.jsxs(l.Fragment,{children:[R&&l.jsx(zM,{__scopeToast:n,role:"status","aria-live":r==="foreground"?"assertive":"polite","aria-atomic":!0,children:R}),l.jsx(UM,{scope:n,onClose:P,children:Yo.createPortal(l.jsx(_w.ItemSlot,{scope:n,children:l.jsx(_M,{asChild:!0,onEscapeKeyDown:ee(a,()=>{w.isFocusedToastEscapeKeyDownRef.current||P(),w.isFocusedToastEscapeKeyDownRef.current=!1}),children:l.jsx(ce.li,{role:"status","aria-live":"off","aria-atomic":!0,tabIndex:0,"data-state":i?"open":"closed","data-swipe-direction":w.swipeDirection,...T,ref:v,style:{userSelect:"none",touchAction:"none",...t.style},onKeyDown:ee(t.onKeyDown,M=>{M.key==="Escape"&&(a==null||a(M.nativeEvent),M.nativeEvent.defaultPrevented||(w.isFocusedToastEscapeKeyDownRef.current=!0,P()))}),onPointerDown:ee(t.onPointerDown,M=>{M.button===0&&(b.current={x:M.clientX,y:M.clientY})}),onPointerMove:ee(t.onPointerMove,M=>{if(!b.current)return;const G=M.clientX-b.current.x,H=M.clientY-b.current.y,ne=!!k.current,F=["left","right"].includes(w.swipeDirection),V=["left","up"].includes(w.swipeDirection)?Math.min:Math.max,L=F?V(0,G):0,Z=F?0:V(0,H),X=M.pointerType==="touch"?10:2,oe={x:L,y:Z},ae={originalEvent:M,delta:oe};ne?(k.current=oe,Fd(LM,f,ae,{discrete:!1})):l1(oe,w.swipeDirection,X)?(k.current=oe,Fd(MM,h,ae,{discrete:!1}),M.target.setPointerCapture(M.pointerId)):(Math.abs(G)>X||Math.abs(H)>X)&&(b.current=null)}),onPointerUp:ee(t.onPointerUp,M=>{const G=k.current,H=M.target;if(H.hasPointerCapture(M.pointerId)&&H.releasePointerCapture(M.pointerId),k.current=null,b.current=null,G){const ne=M.currentTarget,F={originalEvent:M,delta:G};l1(G,w.swipeDirection,w.swipeThreshold)?Fd(FM,m,F,{discrete:!0}):Fd(VM,p,F,{discrete:!0}),ne.addEventListener("click",V=>V.preventDefault(),{once:!0})}})})})}),w.viewport)})]}):null}),zM=t=>{const{__scopeToast:e,children:n,...r}=t,s=np(zu,e),[i,o]=g.useState(!1),[a,c]=g.useState(!1);return qM(()=>o(!0)),g.useEffect(()=>{const d=window.setTimeout(()=>c(!0),1e3);return()=>window.clearTimeout(d)},[]),a?null:l.jsx(Bu,{asChild:!0,children:l.jsx(tp,{...r,children:i&&l.jsxs(l.Fragment,{children:[s.label," ",n]})})})},WM="ToastTitle",SI=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return l.jsx(ce.div,{...r,ref:e})});SI.displayName=WM;var HM="ToastDescription",II=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t;return l.jsx(ce.div,{...r,ref:e})});II.displayName=HM;var CI="ToastAction",NI=g.forwardRef((t,e)=>{const{altText:n,...r}=t;return n.trim()?l.jsx(PI,{altText:n,asChild:!0,children:l.jsx(bw,{...r,ref:e})}):(console.error(`Invalid prop \`altText\` supplied to \`${CI}\`. Expected non-empty \`string\`.`),null)});NI.displayName=CI;var RI="ToastClose",bw=g.forwardRef((t,e)=>{const{__scopeToast:n,...r}=t,s=$M(RI,n);return l.jsx(PI,{asChild:!0,children:l.jsx(ce.button,{type:"button",...r,ref:e,onClick:ee(t.onClick,s.onClose)})})});bw.displayName=RI;var PI=g.forwardRef((t,e)=>{const{__scopeToast:n,altText:r,...s}=t;return l.jsx(ce.div,{"data-radix-toast-announce-exclude":"","data-radix-toast-announce-alt":r||void 0,...s,ref:e})});function AI(t){const e=[];return Array.from(t.childNodes).forEach(r=>{if(r.nodeType===r.TEXT_NODE&&r.textContent&&e.push(r.textContent),GM(r)){const s=r.ariaHidden||r.hidden||r.style.display==="none",i=r.dataset.radixToastAnnounceExclude==="";if(!s)if(i){const o=r.dataset.radixToastAnnounceAlt;o&&e.push(o)}else e.push(...AI(r))}}),e}function Fd(t,e,n,{discrete:r}){const s=n.originalEvent.currentTarget,i=new CustomEvent(t,{bubbles:!0,cancelable:!0,detail:n});e&&s.addEventListener(t,e,{once:!0}),r?ww(s,i):s.dispatchEvent(i)}var l1=(t,e,n=0)=>{const r=Math.abs(t.x),s=Math.abs(t.y),i=r>s;return e==="left"||e==="right"?i&&r>n:!i&&s>n};function qM(t=()=>{}){const e=yn(t);jt(()=>{let n=0,r=0;return n=window.requestAnimationFrame(()=>r=window.requestAnimationFrame(e)),()=>{window.cancelAnimationFrame(n),window.cancelAnimationFrame(r)}},[e])}function GM(t){return t.nodeType===t.ELEMENT_NODE}function KM(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function Xm(t){const e=document.activeElement;return t.some(n=>n===e?!0:(n.focus(),document.activeElement!==e))}var QM=xI,kI=bI,jI=TI,DI=SI,OI=II,MI=NI,LI=bw;function VI(t){var e,n,r="";if(typeof t=="string"||typeof t=="number")r+=t;else if(typeof t=="object")if(Array.isArray(t)){var s=t.length;for(e=0;e<s;e++)t[e]&&(n=VI(t[e]))&&(r&&(r+=" "),r+=n)}else for(n in t)t[n]&&(r&&(r+=" "),r+=n);return r}function FI(){for(var t,e,n=0,r="",s=arguments.length;n<s;n++)(t=arguments[n])&&(e=VI(t))&&(r&&(r+=" "),r+=e);return r}const c1=t=>typeof t=="boolean"?`${t}`:t===0?"0":t,u1=FI,El=(t,e)=>n=>{var r;if((e==null?void 0:e.variants)==null)return u1(t,n==null?void 0:n.class,n==null?void 0:n.className);const{variants:s,defaultVariants:i}=e,o=Object.keys(s).map(d=>{const h=n==null?void 0:n[d],f=i==null?void 0:i[d];if(h===null)return null;const p=c1(h)||c1(f);return s[d][p]}),a=n&&Object.entries(n).reduce((d,h)=>{let[f,p]=h;return p===void 0||(d[f]=p),d},{}),c=e==null||(r=e.compoundVariants)===null||r===void 0?void 0:r.reduce((d,h)=>{let{class:f,className:p,...m}=h;return Object.entries(m).every(T=>{let[w,x]=T;return Array.isArray(x)?x.includes({...i,...a}[w]):{...i,...a}[w]===x})?[...d,f,p]:d},[]);return u1(t,o,c,n==null?void 0:n.class,n==null?void 0:n.className)};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const YM=t=>t.replace(/([a-z0-9])([A-Z])/g,"$1-$2").toLowerCase(),UI=(...t)=>t.filter((e,n,r)=>!!e&&e.trim()!==""&&r.indexOf(e)===n).join(" ").trim();/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */var XM={xmlns:"http://www.w3.org/2000/svg",width:24,height:24,viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:2,strokeLinecap:"round",strokeLinejoin:"round"};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const JM=g.forwardRef(({color:t="currentColor",size:e=24,strokeWidth:n=2,absoluteStrokeWidth:r,className:s="",children:i,iconNode:o,...a},c)=>g.createElement("svg",{ref:c,...XM,width:e,height:e,stroke:t,strokeWidth:r?Number(n)*24/Number(e):n,className:UI("lucide",s),...a},[...o.map(([d,h])=>g.createElement(d,h)),...Array.isArray(i)?i:[i]]));/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const _e=(t,e)=>{const n=g.forwardRef(({className:r,...s},i)=>g.createElement(JM,{ref:i,iconNode:e,className:UI(`lucide-${YM(t)}`,r),...s}));return n.displayName=`${t}`,n};/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ZM=_e("ArrowUpRight",[["path",{d:"M7 7h10v10",key:"1tivn9"}],["path",{d:"M7 17 17 7",key:"1vkiza"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const eL=_e("Bell",[["path",{d:"M6 8a6 6 0 0 1 12 0c0 7 3 9 3 9H3s3-2 3-9",key:"1qo2s2"}],["path",{d:"M10.3 21a1.94 1.94 0 0 0 3.4 0",key:"qgo35s"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const tL=_e("CalendarDays",[["path",{d:"M8 2v4",key:"1cmpym"}],["path",{d:"M16 2v4",key:"4m81vk"}],["rect",{width:"18",height:"18",x:"3",y:"4",rx:"2",key:"1hopcy"}],["path",{d:"M3 10h18",key:"8toen8"}],["path",{d:"M8 14h.01",key:"6423bh"}],["path",{d:"M12 14h.01",key:"1etili"}],["path",{d:"M16 14h.01",key:"1gbofw"}],["path",{d:"M8 18h.01",key:"lrp35t"}],["path",{d:"M12 18h.01",key:"mhygvu"}],["path",{d:"M16 18h.01",key:"kzsmim"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const $I=_e("Check",[["path",{d:"M20 6 9 17l-5-5",key:"1gmf2c"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ew=_e("ChevronDown",[["path",{d:"m6 9 6 6 6-6",key:"qrunsl"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const BI=_e("ChevronRight",[["path",{d:"m9 18 6-6-6-6",key:"mthhwq"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const nL=_e("ChevronUp",[["path",{d:"m18 15-6-6-6 6",key:"153udz"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iy=_e("CircleCheck",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["path",{d:"m9 12 2 2 4-4",key:"dzmm74"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rL=_e("Circle",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const d1=_e("Clock",[["circle",{cx:"12",cy:"12",r:"10",key:"1mglay"}],["polyline",{points:"12 6 12 12 16 14",key:"68esgv"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sL=_e("Download",[["path",{d:"M21 15v4a2 2 0 0 1-2 2H5a2 2 0 0 1-2-2v-4",key:"ih7n3h"}],["polyline",{points:"7 10 12 15 17 10",key:"2ggqvy"}],["line",{x1:"12",x2:"12",y1:"15",y2:"3",key:"1vk2je"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const iL=_e("EyeOff",[["path",{d:"M10.733 5.076a10.744 10.744 0 0 1 11.205 6.575 1 1 0 0 1 0 .696 10.747 10.747 0 0 1-1.444 2.49",key:"ct8e1f"}],["path",{d:"M14.084 14.158a3 3 0 0 1-4.242-4.242",key:"151rxh"}],["path",{d:"M17.479 17.499a10.75 10.75 0 0 1-15.417-5.151 1 1 0 0 1 0-.696 10.75 10.75 0 0 1 4.446-5.143",key:"13bj9a"}],["path",{d:"m2 2 20 20",key:"1ooewy"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const zI=_e("Eye",[["path",{d:"M2.062 12.348a1 1 0 0 1 0-.696 10.75 10.75 0 0 1 19.876 0 1 1 0 0 1 0 .696 10.75 10.75 0 0 1-19.876 0",key:"1nclc0"}],["circle",{cx:"12",cy:"12",r:"3",key:"1v7zrd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Pi=_e("FileText",[["path",{d:"M15 2H6a2 2 0 0 0-2 2v16a2 2 0 0 0 2 2h12a2 2 0 0 0 2-2V7Z",key:"1rqfz7"}],["path",{d:"M14 2v4a2 2 0 0 0 2 2h4",key:"tnqrlb"}],["path",{d:"M10 9H8",key:"b1mrlr"}],["path",{d:"M16 13H8",key:"t4e002"}],["path",{d:"M16 17H8",key:"z1uh3a"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const oL=_e("Filter",[["polygon",{points:"22 3 2 3 10 12.46 10 19 14 21 14 12.46 22 3",key:"1yg77f"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const aL=_e("History",[["path",{d:"M3 12a9 9 0 1 0 9-9 9.75 9.75 0 0 0-6.74 2.74L3 8",key:"1357e3"}],["path",{d:"M3 3v5h5",key:"1xhq8a"}],["path",{d:"M12 7v5l4 2",key:"1fdv2h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const lL=_e("Key",[["path",{d:"m15.5 7.5 2.3 2.3a1 1 0 0 0 1.4 0l2.1-2.1a1 1 0 0 0 0-1.4L19 4",key:"g0fldk"}],["path",{d:"m21 2-9.6 9.6",key:"1j0ho8"}],["circle",{cx:"7.5",cy:"15.5",r:"5.5",key:"yqb3hr"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cL=_e("LayoutDashboard",[["rect",{width:"7",height:"9",x:"3",y:"3",rx:"1",key:"10lvy0"}],["rect",{width:"7",height:"5",x:"14",y:"3",rx:"1",key:"16une8"}],["rect",{width:"7",height:"9",x:"14",y:"12",rx:"1",key:"1hutg5"}],["rect",{width:"7",height:"5",x:"3",y:"16",rx:"1",key:"ldoo1y"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const h1=_e("LoaderCircle",[["path",{d:"M21 12a9 9 0 1 1-6.219-8.56",key:"13zald"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const uL=_e("Lock",[["rect",{width:"18",height:"11",x:"3",y:"11",rx:"2",ry:"2",key:"1w4ew1"}],["path",{d:"M7 11V7a5 5 0 0 1 10 0v4",key:"fwvmzm"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const dL=_e("LogIn",[["path",{d:"M15 3h4a2 2 0 0 1 2 2v14a2 2 0 0 1-2 2h-4",key:"u53s6r"}],["polyline",{points:"10 17 15 12 10 7",key:"1ail0h"}],["line",{x1:"15",x2:"3",y1:"12",y2:"12",key:"v6grx8"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Cy=_e("LogOut",[["path",{d:"M9 21H5a2 2 0 0 1-2-2V5a2 2 0 0 1 2-2h4",key:"1uf3rs"}],["polyline",{points:"16 17 21 12 16 7",key:"1gabdz"}],["line",{x1:"21",x2:"9",y1:"12",y2:"12",key:"1uyos4"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Tw=_e("Mail",[["rect",{width:"20",height:"16",x:"2",y:"4",rx:"2",key:"18n3k1"}],["path",{d:"m22 7-8.97 5.7a1.94 1.94 0 0 1-2.06 0L2 7",key:"1ocrg3"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Gr=_e("MapPin",[["path",{d:"M20 10c0 4.993-5.539 10.193-7.399 11.799a1 1 0 0 1-1.202 0C9.539 20.193 4 14.993 4 10a8 8 0 0 1 16 0",key:"1r0f0z"}],["circle",{cx:"12",cy:"10",r:"3",key:"ilqhr7"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const WI=_e("Minus",[["path",{d:"M5 12h14",key:"1ays0h"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Ai=_e("Package",[["path",{d:"M11 21.73a2 2 0 0 0 2 0l7-4A2 2 0 0 0 21 16V8a2 2 0 0 0-1-1.73l-7-4a2 2 0 0 0-2 0l-7 4A2 2 0 0 0 3 8v8a2 2 0 0 0 1 1.73z",key:"1a0edw"}],["path",{d:"M12 22V12",key:"d0xqtd"}],["path",{d:"m3.3 7 7.703 4.734a2 2 0 0 0 1.994 0L20.7 7",key:"yx3hmr"}],["path",{d:"m7.5 4.27 9 5.15",key:"1c824w"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const hL=_e("PanelLeft",[["rect",{width:"18",height:"18",x:"3",y:"3",rx:"2",key:"afitv7"}],["path",{d:"M9 3v18",key:"fh3hqa"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Sw=_e("Pencil",[["path",{d:"M21.174 6.812a1 1 0 0 0-3.986-3.987L3.842 16.174a2 2 0 0 0-.5.83l-1.321 4.352a.5.5 0 0 0 .623.622l4.353-1.32a2 2 0 0 0 .83-.497z",key:"1a8usu"}],["path",{d:"m15 5 4 4",key:"1mk7zo"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const jo=_e("Phone",[["path",{d:"M22 16.92v3a2 2 0 0 1-2.18 2 19.79 19.79 0 0 1-8.63-3.07 19.5 19.5 0 0 1-6-6 19.79 19.79 0 0 1-3.07-8.67A2 2 0 0 1 4.11 2h3a2 2 0 0 1 2 1.72 12.84 12.84 0 0 0 .7 2.81 2 2 0 0 1-.45 2.11L8.09 9.91a16 16 0 0 0 6 6l1.27-1.27a2 2 0 0 1 2.11-.45 12.84 12.84 0 0 0 2.81.7A2 2 0 0 1 22 16.92z",key:"foiqr5"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Do=_e("Plus",[["path",{d:"M5 12h14",key:"1ays0h"}],["path",{d:"M12 5v14",key:"s699le"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const fL=_e("Route",[["circle",{cx:"6",cy:"19",r:"3",key:"1kj8tv"}],["path",{d:"M9 19h8.5a3.5 3.5 0 0 0 0-7h-11a3.5 3.5 0 0 1 0-7H15",key:"1d8sl"}],["circle",{cx:"18",cy:"5",r:"3",key:"gq8acd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const cl=_e("Search",[["circle",{cx:"11",cy:"11",r:"8",key:"4ej97u"}],["path",{d:"m21 21-4.3-4.3",key:"1qie3q"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Jm=_e("ShoppingBag",[["path",{d:"M6 2 3 6v14a2 2 0 0 0 2 2h14a2 2 0 0 0 2-2V6l-3-4Z",key:"hou9p0"}],["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M16 10a4 4 0 0 1-8 0",key:"1ltviw"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const pL=_e("ShoppingCart",[["circle",{cx:"8",cy:"21",r:"1",key:"jimo8o"}],["circle",{cx:"19",cy:"21",r:"1",key:"13723u"}],["path",{d:"M2.05 2.05h2l2.66 12.42a2 2 0 0 0 2 1.58h9.78a2 2 0 0 0 1.95-1.57l1.65-7.43H5.12",key:"9zh506"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const HI=_e("Sparkles",[["path",{d:"M9.937 15.5A2 2 0 0 0 8.5 14.063l-6.135-1.582a.5.5 0 0 1 0-.962L8.5 9.936A2 2 0 0 0 9.937 8.5l1.582-6.135a.5.5 0 0 1 .963 0L14.063 8.5A2 2 0 0 0 15.5 9.937l6.135 1.581a.5.5 0 0 1 0 .964L15.5 14.063a2 2 0 0 0-1.437 1.437l-1.582 6.135a.5.5 0 0 1-.963 0z",key:"4pj2yx"}],["path",{d:"M20 3v4",key:"1olli1"}],["path",{d:"M22 5h-4",key:"1gvqau"}],["path",{d:"M4 17v2",key:"vumght"}],["path",{d:"M5 18H3",key:"zchphs"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const rp=_e("Trash2",[["path",{d:"M3 6h18",key:"d0wm0j"}],["path",{d:"M19 6v14c0 1-1 2-2 2H7c-1 0-2-1-2-2V6",key:"4alrt4"}],["path",{d:"M8 6V4c0-1 1-2 2-2h4c1 0 2 1 2 2v2",key:"v07s0e"}],["line",{x1:"10",x2:"10",y1:"11",y2:"17",key:"1uufr5"}],["line",{x1:"14",x2:"14",y1:"11",y2:"17",key:"xtxkd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const qI=_e("TrendingUp",[["polyline",{points:"22 7 13.5 15.5 8.5 10.5 2 17",key:"126l90"}],["polyline",{points:"16 7 22 7 22 13",key:"kwv8wd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const ys=_e("Truck",[["path",{d:"M14 18V6a2 2 0 0 0-2-2H4a2 2 0 0 0-2 2v11a1 1 0 0 0 1 1h2",key:"wrbu53"}],["path",{d:"M15 18H9",key:"1lyqi6"}],["path",{d:"M19 18h2a1 1 0 0 0 1-1v-3.65a1 1 0 0 0-.22-.624l-3.48-4.35A1 1 0 0 0 17.52 8H14",key:"lysw3i"}],["circle",{cx:"17",cy:"18",r:"2",key:"332jqn"}],["circle",{cx:"7",cy:"18",r:"2",key:"19iecd"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const sp=_e("User",[["path",{d:"M19 21v-2a4 4 0 0 0-4-4H9a4 4 0 0 0-4 4v2",key:"975kel"}],["circle",{cx:"12",cy:"7",r:"4",key:"17ys0d"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Iw=_e("Users",[["path",{d:"M16 21v-2a4 4 0 0 0-4-4H6a4 4 0 0 0-4 4v2",key:"1yyitq"}],["circle",{cx:"9",cy:"7",r:"4",key:"nufk8"}],["path",{d:"M22 21v-2a4 4 0 0 0-3-3.87",key:"kshegd"}],["path",{d:"M16 3.13a4 4 0 0 1 0 7.75",key:"1da9ce"}]]);/**
 * @license lucide-react v0.462.0 - ISC
 *
 * This source code is licensed under the ISC license.
 * See the LICENSE file in the root directory of this source tree.
 */const Wu=_e("X",[["path",{d:"M18 6 6 18",key:"1bl5f8"}],["path",{d:"m6 6 12 12",key:"d8bk6v"}]]),Cw="-",mL=t=>{const e=yL(t),{conflictingClassGroups:n,conflictingClassGroupModifiers:r}=t;return{getClassGroupId:o=>{const a=o.split(Cw);return a[0]===""&&a.length!==1&&a.shift(),GI(a,e)||gL(o)},getConflictingClassGroupIds:(o,a)=>{const c=n[o]||[];return a&&r[o]?[...c,...r[o]]:c}}},GI=(t,e)=>{var o;if(t.length===0)return e.classGroupId;const n=t[0],r=e.nextPart.get(n),s=r?GI(t.slice(1),r):void 0;if(s)return s;if(e.validators.length===0)return;const i=t.join(Cw);return(o=e.validators.find(({validator:a})=>a(i)))==null?void 0:o.classGroupId},f1=/^\[(.+)\]$/,gL=t=>{if(f1.test(t)){const e=f1.exec(t)[1],n=e==null?void 0:e.substring(0,e.indexOf(":"));if(n)return"arbitrary.."+n}},yL=t=>{const{theme:e,prefix:n}=t,r={nextPart:new Map,validators:[]};return wL(Object.entries(t.classGroups),n).forEach(([i,o])=>{Ny(o,r,i,e)}),r},Ny=(t,e,n,r)=>{t.forEach(s=>{if(typeof s=="string"){const i=s===""?e:p1(e,s);i.classGroupId=n;return}if(typeof s=="function"){if(vL(s)){Ny(s(r),e,n,r);return}e.validators.push({validator:s,classGroupId:n});return}Object.entries(s).forEach(([i,o])=>{Ny(o,p1(e,i),n,r)})})},p1=(t,e)=>{let n=t;return e.split(Cw).forEach(r=>{n.nextPart.has(r)||n.nextPart.set(r,{nextPart:new Map,validators:[]}),n=n.nextPart.get(r)}),n},vL=t=>t.isThemeGetter,wL=(t,e)=>e?t.map(([n,r])=>{const s=r.map(i=>typeof i=="string"?e+i:typeof i=="object"?Object.fromEntries(Object.entries(i).map(([o,a])=>[e+o,a])):i);return[n,s]}):t,xL=t=>{if(t<1)return{get:()=>{},set:()=>{}};let e=0,n=new Map,r=new Map;const s=(i,o)=>{n.set(i,o),e++,e>t&&(e=0,r=n,n=new Map)};return{get(i){let o=n.get(i);if(o!==void 0)return o;if((o=r.get(i))!==void 0)return s(i,o),o},set(i,o){n.has(i)?n.set(i,o):s(i,o)}}},KI="!",_L=t=>{const{separator:e,experimentalParseClassName:n}=t,r=e.length===1,s=e[0],i=e.length,o=a=>{const c=[];let d=0,h=0,f;for(let x=0;x<a.length;x++){let _=a[x];if(d===0){if(_===s&&(r||a.slice(x,x+i)===e)){c.push(a.slice(h,x)),h=x+i;continue}if(_==="/"){f=x;continue}}_==="["?d++:_==="]"&&d--}const p=c.length===0?a:a.substring(h),m=p.startsWith(KI),T=m?p.substring(1):p,w=f&&f>h?f-h:void 0;return{modifiers:c,hasImportantModifier:m,baseClassName:T,maybePostfixModifierPosition:w}};return n?a=>n({className:a,parseClassName:o}):o},bL=t=>{if(t.length<=1)return t;const e=[];let n=[];return t.forEach(r=>{r[0]==="["?(e.push(...n.sort(),r),n=[]):n.push(r)}),e.push(...n.sort()),e},EL=t=>({cache:xL(t.cacheSize),parseClassName:_L(t),...mL(t)}),TL=/\s+/,SL=(t,e)=>{const{parseClassName:n,getClassGroupId:r,getConflictingClassGroupIds:s}=e,i=[],o=t.trim().split(TL);let a="";for(let c=o.length-1;c>=0;c-=1){const d=o[c],{modifiers:h,hasImportantModifier:f,baseClassName:p,maybePostfixModifierPosition:m}=n(d);let T=!!m,w=r(T?p.substring(0,m):p);if(!w){if(!T){a=d+(a.length>0?" "+a:a);continue}if(w=r(p),!w){a=d+(a.length>0?" "+a:a);continue}T=!1}const x=bL(h).join(":"),_=f?x+KI:x,v=_+w;if(i.includes(v))continue;i.push(v);const b=s(w,T);for(let k=0;k<b.length;++k){const O=b[k];i.push(_+O)}a=d+(a.length>0?" "+a:a)}return a};function IL(){let t=0,e,n,r="";for(;t<arguments.length;)(e=arguments[t++])&&(n=QI(e))&&(r&&(r+=" "),r+=n);return r}const QI=t=>{if(typeof t=="string")return t;let e,n="";for(let r=0;r<t.length;r++)t[r]&&(e=QI(t[r]))&&(n&&(n+=" "),n+=e);return n};function CL(t,...e){let n,r,s,i=o;function o(c){const d=e.reduce((h,f)=>f(h),t());return n=EL(d),r=n.cache.get,s=n.cache.set,i=a,a(c)}function a(c){const d=r(c);if(d)return d;const h=SL(c,n);return s(c,h),h}return function(){return i(IL.apply(null,arguments))}}const Ge=t=>{const e=n=>n[t]||[];return e.isThemeGetter=!0,e},YI=/^\[(?:([a-z-]+):)?(.+)\]$/i,NL=/^\d+\/\d+$/,RL=new Set(["px","full","screen"]),PL=/^(\d+(\.\d+)?)?(xs|sm|md|lg|xl)$/,AL=/\d+(%|px|r?em|[sdl]?v([hwib]|min|max)|pt|pc|in|cm|mm|cap|ch|ex|r?lh|cq(w|h|i|b|min|max))|\b(calc|min|max|clamp)\(.+\)|^0$/,kL=/^(rgba?|hsla?|hwb|(ok)?(lab|lch))\(.+\)$/,jL=/^(inset_)?-?((\d+)?\.?(\d+)[a-z]+|0)_-?((\d+)?\.?(\d+)[a-z]+|0)/,DL=/^(url|image|image-set|cross-fade|element|(repeating-)?(linear|radial|conic)-gradient)\(.+\)$/,ss=t=>Fa(t)||RL.has(t)||NL.test(t),zs=t=>Tl(t,"length",BL),Fa=t=>!!t&&!Number.isNaN(Number(t)),Zm=t=>Tl(t,"number",Fa),ac=t=>!!t&&Number.isInteger(Number(t)),OL=t=>t.endsWith("%")&&Fa(t.slice(0,-1)),xe=t=>YI.test(t),Ws=t=>PL.test(t),ML=new Set(["length","size","percentage"]),LL=t=>Tl(t,ML,XI),VL=t=>Tl(t,"position",XI),FL=new Set(["image","url"]),UL=t=>Tl(t,FL,WL),$L=t=>Tl(t,"",zL),lc=()=>!0,Tl=(t,e,n)=>{const r=YI.exec(t);return r?r[1]?typeof e=="string"?r[1]===e:e.has(r[1]):n(r[2]):!1},BL=t=>AL.test(t)&&!kL.test(t),XI=()=>!1,zL=t=>jL.test(t),WL=t=>DL.test(t),HL=()=>{const t=Ge("colors"),e=Ge("spacing"),n=Ge("blur"),r=Ge("brightness"),s=Ge("borderColor"),i=Ge("borderRadius"),o=Ge("borderSpacing"),a=Ge("borderWidth"),c=Ge("contrast"),d=Ge("grayscale"),h=Ge("hueRotate"),f=Ge("invert"),p=Ge("gap"),m=Ge("gradientColorStops"),T=Ge("gradientColorStopPositions"),w=Ge("inset"),x=Ge("margin"),_=Ge("opacity"),v=Ge("padding"),b=Ge("saturate"),k=Ge("scale"),O=Ge("sepia"),D=Ge("skew"),C=Ge("space"),I=Ge("translate"),S=()=>["auto","contain","none"],N=()=>["auto","hidden","clip","visible","scroll"],P=()=>["auto",xe,e],j=()=>[xe,e],R=()=>["",ss,zs],M=()=>["auto",Fa,xe],G=()=>["bottom","center","left","left-bottom","left-top","right","right-bottom","right-top","top"],H=()=>["solid","dashed","dotted","double","none"],ne=()=>["normal","multiply","screen","overlay","darken","lighten","color-dodge","color-burn","hard-light","soft-light","difference","exclusion","hue","saturation","color","luminosity"],F=()=>["start","end","center","between","around","evenly","stretch"],V=()=>["","0",xe],L=()=>["auto","avoid","all","avoid-page","page","left","right","column"],Z=()=>[Fa,xe];return{cacheSize:500,separator:":",theme:{colors:[lc],spacing:[ss,zs],blur:["none","",Ws,xe],brightness:Z(),borderColor:[t],borderRadius:["none","","full",Ws,xe],borderSpacing:j(),borderWidth:R(),contrast:Z(),grayscale:V(),hueRotate:Z(),invert:V(),gap:j(),gradientColorStops:[t],gradientColorStopPositions:[OL,zs],inset:P(),margin:P(),opacity:Z(),padding:j(),saturate:Z(),scale:Z(),sepia:V(),skew:Z(),space:j(),translate:j()},classGroups:{aspect:[{aspect:["auto","square","video",xe]}],container:["container"],columns:[{columns:[Ws]}],"break-after":[{"break-after":L()}],"break-before":[{"break-before":L()}],"break-inside":[{"break-inside":["auto","avoid","avoid-page","avoid-column"]}],"box-decoration":[{"box-decoration":["slice","clone"]}],box:[{box:["border","content"]}],display:["block","inline-block","inline","flex","inline-flex","table","inline-table","table-caption","table-cell","table-column","table-column-group","table-footer-group","table-header-group","table-row-group","table-row","flow-root","grid","inline-grid","contents","list-item","hidden"],float:[{float:["right","left","none","start","end"]}],clear:[{clear:["left","right","both","none","start","end"]}],isolation:["isolate","isolation-auto"],"object-fit":[{object:["contain","cover","fill","none","scale-down"]}],"object-position":[{object:[...G(),xe]}],overflow:[{overflow:N()}],"overflow-x":[{"overflow-x":N()}],"overflow-y":[{"overflow-y":N()}],overscroll:[{overscroll:S()}],"overscroll-x":[{"overscroll-x":S()}],"overscroll-y":[{"overscroll-y":S()}],position:["static","fixed","absolute","relative","sticky"],inset:[{inset:[w]}],"inset-x":[{"inset-x":[w]}],"inset-y":[{"inset-y":[w]}],start:[{start:[w]}],end:[{end:[w]}],top:[{top:[w]}],right:[{right:[w]}],bottom:[{bottom:[w]}],left:[{left:[w]}],visibility:["visible","invisible","collapse"],z:[{z:["auto",ac,xe]}],basis:[{basis:P()}],"flex-direction":[{flex:["row","row-reverse","col","col-reverse"]}],"flex-wrap":[{flex:["wrap","wrap-reverse","nowrap"]}],flex:[{flex:["1","auto","initial","none",xe]}],grow:[{grow:V()}],shrink:[{shrink:V()}],order:[{order:["first","last","none",ac,xe]}],"grid-cols":[{"grid-cols":[lc]}],"col-start-end":[{col:["auto",{span:["full",ac,xe]},xe]}],"col-start":[{"col-start":M()}],"col-end":[{"col-end":M()}],"grid-rows":[{"grid-rows":[lc]}],"row-start-end":[{row:["auto",{span:[ac,xe]},xe]}],"row-start":[{"row-start":M()}],"row-end":[{"row-end":M()}],"grid-flow":[{"grid-flow":["row","col","dense","row-dense","col-dense"]}],"auto-cols":[{"auto-cols":["auto","min","max","fr",xe]}],"auto-rows":[{"auto-rows":["auto","min","max","fr",xe]}],gap:[{gap:[p]}],"gap-x":[{"gap-x":[p]}],"gap-y":[{"gap-y":[p]}],"justify-content":[{justify:["normal",...F()]}],"justify-items":[{"justify-items":["start","end","center","stretch"]}],"justify-self":[{"justify-self":["auto","start","end","center","stretch"]}],"align-content":[{content:["normal",...F(),"baseline"]}],"align-items":[{items:["start","end","center","baseline","stretch"]}],"align-self":[{self:["auto","start","end","center","stretch","baseline"]}],"place-content":[{"place-content":[...F(),"baseline"]}],"place-items":[{"place-items":["start","end","center","baseline","stretch"]}],"place-self":[{"place-self":["auto","start","end","center","stretch"]}],p:[{p:[v]}],px:[{px:[v]}],py:[{py:[v]}],ps:[{ps:[v]}],pe:[{pe:[v]}],pt:[{pt:[v]}],pr:[{pr:[v]}],pb:[{pb:[v]}],pl:[{pl:[v]}],m:[{m:[x]}],mx:[{mx:[x]}],my:[{my:[x]}],ms:[{ms:[x]}],me:[{me:[x]}],mt:[{mt:[x]}],mr:[{mr:[x]}],mb:[{mb:[x]}],ml:[{ml:[x]}],"space-x":[{"space-x":[C]}],"space-x-reverse":["space-x-reverse"],"space-y":[{"space-y":[C]}],"space-y-reverse":["space-y-reverse"],w:[{w:["auto","min","max","fit","svw","lvw","dvw",xe,e]}],"min-w":[{"min-w":[xe,e,"min","max","fit"]}],"max-w":[{"max-w":[xe,e,"none","full","min","max","fit","prose",{screen:[Ws]},Ws]}],h:[{h:[xe,e,"auto","min","max","fit","svh","lvh","dvh"]}],"min-h":[{"min-h":[xe,e,"min","max","fit","svh","lvh","dvh"]}],"max-h":[{"max-h":[xe,e,"min","max","fit","svh","lvh","dvh"]}],size:[{size:[xe,e,"auto","min","max","fit"]}],"font-size":[{text:["base",Ws,zs]}],"font-smoothing":["antialiased","subpixel-antialiased"],"font-style":["italic","not-italic"],"font-weight":[{font:["thin","extralight","light","normal","medium","semibold","bold","extrabold","black",Zm]}],"font-family":[{font:[lc]}],"fvn-normal":["normal-nums"],"fvn-ordinal":["ordinal"],"fvn-slashed-zero":["slashed-zero"],"fvn-figure":["lining-nums","oldstyle-nums"],"fvn-spacing":["proportional-nums","tabular-nums"],"fvn-fraction":["diagonal-fractions","stacked-fractions"],tracking:[{tracking:["tighter","tight","normal","wide","wider","widest",xe]}],"line-clamp":[{"line-clamp":["none",Fa,Zm]}],leading:[{leading:["none","tight","snug","normal","relaxed","loose",ss,xe]}],"list-image":[{"list-image":["none",xe]}],"list-style-type":[{list:["none","disc","decimal",xe]}],"list-style-position":[{list:["inside","outside"]}],"placeholder-color":[{placeholder:[t]}],"placeholder-opacity":[{"placeholder-opacity":[_]}],"text-alignment":[{text:["left","center","right","justify","start","end"]}],"text-color":[{text:[t]}],"text-opacity":[{"text-opacity":[_]}],"text-decoration":["underline","overline","line-through","no-underline"],"text-decoration-style":[{decoration:[...H(),"wavy"]}],"text-decoration-thickness":[{decoration:["auto","from-font",ss,zs]}],"underline-offset":[{"underline-offset":["auto",ss,xe]}],"text-decoration-color":[{decoration:[t]}],"text-transform":["uppercase","lowercase","capitalize","normal-case"],"text-overflow":["truncate","text-ellipsis","text-clip"],"text-wrap":[{text:["wrap","nowrap","balance","pretty"]}],indent:[{indent:j()}],"vertical-align":[{align:["baseline","top","middle","bottom","text-top","text-bottom","sub","super",xe]}],whitespace:[{whitespace:["normal","nowrap","pre","pre-line","pre-wrap","break-spaces"]}],break:[{break:["normal","words","all","keep"]}],hyphens:[{hyphens:["none","manual","auto"]}],content:[{content:["none",xe]}],"bg-attachment":[{bg:["fixed","local","scroll"]}],"bg-clip":[{"bg-clip":["border","padding","content","text"]}],"bg-opacity":[{"bg-opacity":[_]}],"bg-origin":[{"bg-origin":["border","padding","content"]}],"bg-position":[{bg:[...G(),VL]}],"bg-repeat":[{bg:["no-repeat",{repeat:["","x","y","round","space"]}]}],"bg-size":[{bg:["auto","cover","contain",LL]}],"bg-image":[{bg:["none",{"gradient-to":["t","tr","r","br","b","bl","l","tl"]},UL]}],"bg-color":[{bg:[t]}],"gradient-from-pos":[{from:[T]}],"gradient-via-pos":[{via:[T]}],"gradient-to-pos":[{to:[T]}],"gradient-from":[{from:[m]}],"gradient-via":[{via:[m]}],"gradient-to":[{to:[m]}],rounded:[{rounded:[i]}],"rounded-s":[{"rounded-s":[i]}],"rounded-e":[{"rounded-e":[i]}],"rounded-t":[{"rounded-t":[i]}],"rounded-r":[{"rounded-r":[i]}],"rounded-b":[{"rounded-b":[i]}],"rounded-l":[{"rounded-l":[i]}],"rounded-ss":[{"rounded-ss":[i]}],"rounded-se":[{"rounded-se":[i]}],"rounded-ee":[{"rounded-ee":[i]}],"rounded-es":[{"rounded-es":[i]}],"rounded-tl":[{"rounded-tl":[i]}],"rounded-tr":[{"rounded-tr":[i]}],"rounded-br":[{"rounded-br":[i]}],"rounded-bl":[{"rounded-bl":[i]}],"border-w":[{border:[a]}],"border-w-x":[{"border-x":[a]}],"border-w-y":[{"border-y":[a]}],"border-w-s":[{"border-s":[a]}],"border-w-e":[{"border-e":[a]}],"border-w-t":[{"border-t":[a]}],"border-w-r":[{"border-r":[a]}],"border-w-b":[{"border-b":[a]}],"border-w-l":[{"border-l":[a]}],"border-opacity":[{"border-opacity":[_]}],"border-style":[{border:[...H(),"hidden"]}],"divide-x":[{"divide-x":[a]}],"divide-x-reverse":["divide-x-reverse"],"divide-y":[{"divide-y":[a]}],"divide-y-reverse":["divide-y-reverse"],"divide-opacity":[{"divide-opacity":[_]}],"divide-style":[{divide:H()}],"border-color":[{border:[s]}],"border-color-x":[{"border-x":[s]}],"border-color-y":[{"border-y":[s]}],"border-color-s":[{"border-s":[s]}],"border-color-e":[{"border-e":[s]}],"border-color-t":[{"border-t":[s]}],"border-color-r":[{"border-r":[s]}],"border-color-b":[{"border-b":[s]}],"border-color-l":[{"border-l":[s]}],"divide-color":[{divide:[s]}],"outline-style":[{outline:["",...H()]}],"outline-offset":[{"outline-offset":[ss,xe]}],"outline-w":[{outline:[ss,zs]}],"outline-color":[{outline:[t]}],"ring-w":[{ring:R()}],"ring-w-inset":["ring-inset"],"ring-color":[{ring:[t]}],"ring-opacity":[{"ring-opacity":[_]}],"ring-offset-w":[{"ring-offset":[ss,zs]}],"ring-offset-color":[{"ring-offset":[t]}],shadow:[{shadow:["","inner","none",Ws,$L]}],"shadow-color":[{shadow:[lc]}],opacity:[{opacity:[_]}],"mix-blend":[{"mix-blend":[...ne(),"plus-lighter","plus-darker"]}],"bg-blend":[{"bg-blend":ne()}],filter:[{filter:["","none"]}],blur:[{blur:[n]}],brightness:[{brightness:[r]}],contrast:[{contrast:[c]}],"drop-shadow":[{"drop-shadow":["","none",Ws,xe]}],grayscale:[{grayscale:[d]}],"hue-rotate":[{"hue-rotate":[h]}],invert:[{invert:[f]}],saturate:[{saturate:[b]}],sepia:[{sepia:[O]}],"backdrop-filter":[{"backdrop-filter":["","none"]}],"backdrop-blur":[{"backdrop-blur":[n]}],"backdrop-brightness":[{"backdrop-brightness":[r]}],"backdrop-contrast":[{"backdrop-contrast":[c]}],"backdrop-grayscale":[{"backdrop-grayscale":[d]}],"backdrop-hue-rotate":[{"backdrop-hue-rotate":[h]}],"backdrop-invert":[{"backdrop-invert":[f]}],"backdrop-opacity":[{"backdrop-opacity":[_]}],"backdrop-saturate":[{"backdrop-saturate":[b]}],"backdrop-sepia":[{"backdrop-sepia":[O]}],"border-collapse":[{border:["collapse","separate"]}],"border-spacing":[{"border-spacing":[o]}],"border-spacing-x":[{"border-spacing-x":[o]}],"border-spacing-y":[{"border-spacing-y":[o]}],"table-layout":[{table:["auto","fixed"]}],caption:[{caption:["top","bottom"]}],transition:[{transition:["none","all","","colors","opacity","shadow","transform",xe]}],duration:[{duration:Z()}],ease:[{ease:["linear","in","out","in-out",xe]}],delay:[{delay:Z()}],animate:[{animate:["none","spin","ping","pulse","bounce",xe]}],transform:[{transform:["","gpu","none"]}],scale:[{scale:[k]}],"scale-x":[{"scale-x":[k]}],"scale-y":[{"scale-y":[k]}],rotate:[{rotate:[ac,xe]}],"translate-x":[{"translate-x":[I]}],"translate-y":[{"translate-y":[I]}],"skew-x":[{"skew-x":[D]}],"skew-y":[{"skew-y":[D]}],"transform-origin":[{origin:["center","top","top-right","right","bottom-right","bottom","bottom-left","left","top-left",xe]}],accent:[{accent:["auto",t]}],appearance:[{appearance:["none","auto"]}],cursor:[{cursor:["auto","default","pointer","wait","text","move","help","not-allowed","none","context-menu","progress","cell","crosshair","vertical-text","alias","copy","no-drop","grab","grabbing","all-scroll","col-resize","row-resize","n-resize","e-resize","s-resize","w-resize","ne-resize","nw-resize","se-resize","sw-resize","ew-resize","ns-resize","nesw-resize","nwse-resize","zoom-in","zoom-out",xe]}],"caret-color":[{caret:[t]}],"pointer-events":[{"pointer-events":["none","auto"]}],resize:[{resize:["none","y","x",""]}],"scroll-behavior":[{scroll:["auto","smooth"]}],"scroll-m":[{"scroll-m":j()}],"scroll-mx":[{"scroll-mx":j()}],"scroll-my":[{"scroll-my":j()}],"scroll-ms":[{"scroll-ms":j()}],"scroll-me":[{"scroll-me":j()}],"scroll-mt":[{"scroll-mt":j()}],"scroll-mr":[{"scroll-mr":j()}],"scroll-mb":[{"scroll-mb":j()}],"scroll-ml":[{"scroll-ml":j()}],"scroll-p":[{"scroll-p":j()}],"scroll-px":[{"scroll-px":j()}],"scroll-py":[{"scroll-py":j()}],"scroll-ps":[{"scroll-ps":j()}],"scroll-pe":[{"scroll-pe":j()}],"scroll-pt":[{"scroll-pt":j()}],"scroll-pr":[{"scroll-pr":j()}],"scroll-pb":[{"scroll-pb":j()}],"scroll-pl":[{"scroll-pl":j()}],"snap-align":[{snap:["start","end","center","align-none"]}],"snap-stop":[{snap:["normal","always"]}],"snap-type":[{snap:["none","x","y","both"]}],"snap-strictness":[{snap:["mandatory","proximity"]}],touch:[{touch:["auto","none","manipulation"]}],"touch-x":[{"touch-pan":["x","left","right"]}],"touch-y":[{"touch-pan":["y","up","down"]}],"touch-pz":["touch-pinch-zoom"],select:[{select:["none","text","all","auto"]}],"will-change":[{"will-change":["auto","scroll","contents","transform",xe]}],fill:[{fill:[t,"none"]}],"stroke-w":[{stroke:[ss,zs,Zm]}],stroke:[{stroke:[t,"none"]}],sr:["sr-only","not-sr-only"],"forced-color-adjust":[{"forced-color-adjust":["auto","none"]}]},conflictingClassGroups:{overflow:["overflow-x","overflow-y"],overscroll:["overscroll-x","overscroll-y"],inset:["inset-x","inset-y","start","end","top","right","bottom","left"],"inset-x":["right","left"],"inset-y":["top","bottom"],flex:["basis","grow","shrink"],gap:["gap-x","gap-y"],p:["px","py","ps","pe","pt","pr","pb","pl"],px:["pr","pl"],py:["pt","pb"],m:["mx","my","ms","me","mt","mr","mb","ml"],mx:["mr","ml"],my:["mt","mb"],size:["w","h"],"font-size":["leading"],"fvn-normal":["fvn-ordinal","fvn-slashed-zero","fvn-figure","fvn-spacing","fvn-fraction"],"fvn-ordinal":["fvn-normal"],"fvn-slashed-zero":["fvn-normal"],"fvn-figure":["fvn-normal"],"fvn-spacing":["fvn-normal"],"fvn-fraction":["fvn-normal"],"line-clamp":["display","overflow"],rounded:["rounded-s","rounded-e","rounded-t","rounded-r","rounded-b","rounded-l","rounded-ss","rounded-se","rounded-ee","rounded-es","rounded-tl","rounded-tr","rounded-br","rounded-bl"],"rounded-s":["rounded-ss","rounded-es"],"rounded-e":["rounded-se","rounded-ee"],"rounded-t":["rounded-tl","rounded-tr"],"rounded-r":["rounded-tr","rounded-br"],"rounded-b":["rounded-br","rounded-bl"],"rounded-l":["rounded-tl","rounded-bl"],"border-spacing":["border-spacing-x","border-spacing-y"],"border-w":["border-w-s","border-w-e","border-w-t","border-w-r","border-w-b","border-w-l"],"border-w-x":["border-w-r","border-w-l"],"border-w-y":["border-w-t","border-w-b"],"border-color":["border-color-s","border-color-e","border-color-t","border-color-r","border-color-b","border-color-l"],"border-color-x":["border-color-r","border-color-l"],"border-color-y":["border-color-t","border-color-b"],"scroll-m":["scroll-mx","scroll-my","scroll-ms","scroll-me","scroll-mt","scroll-mr","scroll-mb","scroll-ml"],"scroll-mx":["scroll-mr","scroll-ml"],"scroll-my":["scroll-mt","scroll-mb"],"scroll-p":["scroll-px","scroll-py","scroll-ps","scroll-pe","scroll-pt","scroll-pr","scroll-pb","scroll-pl"],"scroll-px":["scroll-pr","scroll-pl"],"scroll-py":["scroll-pt","scroll-pb"],touch:["touch-x","touch-y","touch-pz"],"touch-x":["touch"],"touch-y":["touch"],"touch-pz":["touch"]},conflictingClassGroupModifiers:{"font-size":["leading"]}}},qL=CL(HL);function Y(...t){return qL(FI(t))}const GL=QM,JI=g.forwardRef(({className:t,...e},n)=>l.jsx(kI,{ref:n,className:Y("fixed top-0 z-[100] flex max-h-screen w-full flex-col-reverse p-4 sm:bottom-0 sm:right-0 sm:top-auto sm:flex-col md:max-w-[420px]",t),...e}));JI.displayName=kI.displayName;const KL=El("group pointer-events-auto relative flex w-full items-center justify-between space-x-4 overflow-hidden rounded-md border p-6 pr-8 shadow-lg transition-all data-[swipe=cancel]:translate-x-0 data-[swipe=end]:translate-x-[var(--radix-toast-swipe-end-x)] data-[swipe=move]:translate-x-[var(--radix-toast-swipe-move-x)] data-[swipe=move]:transition-none data-[state=open]:animate-in data-[state=closed]:animate-out data-[swipe=end]:animate-out data-[state=closed]:fade-out-80 data-[state=closed]:slide-out-to-right-full data-[state=open]:slide-in-from-top-full data-[state=open]:sm:slide-in-from-bottom-full",{variants:{variant:{default:"border bg-background text-foreground",destructive:"destructive group border-destructive bg-destructive text-destructive-foreground"}},defaultVariants:{variant:"default"}}),ZI=g.forwardRef(({className:t,variant:e,...n},r)=>l.jsx(jI,{ref:r,className:Y(KL({variant:e}),t),...n}));ZI.displayName=jI.displayName;const QL=g.forwardRef(({className:t,...e},n)=>l.jsx(MI,{ref:n,className:Y("inline-flex h-8 shrink-0 items-center justify-center rounded-md border bg-transparent px-3 text-sm font-medium ring-offset-background transition-colors group-[.destructive]:border-muted/40 hover:bg-secondary group-[.destructive]:hover:border-destructive/30 group-[.destructive]:hover:bg-destructive group-[.destructive]:hover:text-destructive-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 group-[.destructive]:focus:ring-destructive disabled:pointer-events-none disabled:opacity-50",t),...e}));QL.displayName=MI.displayName;const eC=g.forwardRef(({className:t,...e},n)=>l.jsx(LI,{ref:n,className:Y("absolute right-2 top-2 rounded-md p-1 text-foreground/50 opacity-0 transition-opacity group-hover:opacity-100 group-[.destructive]:text-red-300 hover:text-foreground group-[.destructive]:hover:text-red-50 focus:opacity-100 focus:outline-none focus:ring-2 group-[.destructive]:focus:ring-red-400 group-[.destructive]:focus:ring-offset-red-600",t),"toast-close":"",...e,children:l.jsx(Wu,{className:"h-4 w-4"})}));eC.displayName=LI.displayName;const tC=g.forwardRef(({className:t,...e},n)=>l.jsx(DI,{ref:n,className:Y("text-sm font-semibold",t),...e}));tC.displayName=DI.displayName;const nC=g.forwardRef(({className:t,...e},n)=>l.jsx(OI,{ref:n,className:Y("text-sm opacity-90",t),...e}));nC.displayName=OI.displayName;function YL(){const{toasts:t}=iM();return l.jsxs(GL,{children:[t.map(function({id:e,title:n,description:r,action:s,...i}){return l.jsxs(ZI,{...i,children:[l.jsxs("div",{className:"grid gap-1",children:[n&&l.jsx(tC,{children:n}),r&&l.jsx(nC,{children:r})]}),s,l.jsx(eC,{})]},e)}),l.jsx(JI,{})]})}var m1=["light","dark"],XL="(prefers-color-scheme: dark)",JL=g.createContext(void 0),ZL={setTheme:t=>{},themes:[]},e4=()=>{var t;return(t=g.useContext(JL))!=null?t:ZL};g.memo(({forcedTheme:t,storageKey:e,attribute:n,enableSystem:r,enableColorScheme:s,defaultTheme:i,value:o,attrs:a,nonce:c})=>{let d=i==="system",h=n==="class"?`var d=document.documentElement,c=d.classList;${`c.remove(${a.map(T=>`'${T}'`).join(",")})`};`:`var d=document.documentElement,n='${n}',s='setAttribute';`,f=s?m1.includes(i)&&i?`if(e==='light'||e==='dark'||!e)d.style.colorScheme=e||'${i}'`:"if(e==='light'||e==='dark')d.style.colorScheme=e":"",p=(T,w=!1,x=!0)=>{let _=o?o[T]:T,v=w?T+"|| ''":`'${_}'`,b="";return s&&x&&!w&&m1.includes(T)&&(b+=`d.style.colorScheme = '${T}';`),n==="class"?w||_?b+=`c.add(${v})`:b+="null":_&&(b+=`d[s](n,${v})`),b},m=t?`!function(){${h}${p(t)}}()`:r?`!function(){try{${h}var e=localStorage.getItem('${e}');if('system'===e||(!e&&${d})){var t='${XL}',m=window.matchMedia(t);if(m.media!==t||m.matches){${p("dark")}}else{${p("light")}}}else if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}${d?"":"else{"+p(i,!1,!1)+"}"}${f}}catch(e){}}()`:`!function(){try{${h}var e=localStorage.getItem('${e}');if(e){${o?`var x=${JSON.stringify(o)};`:""}${p(o?"x[e]":"e",!0)}}else{${p(i,!1,!1)};}${f}}catch(t){}}();`;return g.createElement("script",{nonce:c,dangerouslySetInnerHTML:{__html:m}})});var t4=t=>{switch(t){case"success":return s4;case"info":return o4;case"warning":return i4;case"error":return a4;default:return null}},n4=Array(12).fill(0),r4=({visible:t,className:e})=>K.createElement("div",{className:["sonner-loading-wrapper",e].filter(Boolean).join(" "),"data-visible":t},K.createElement("div",{className:"sonner-spinner"},n4.map((n,r)=>K.createElement("div",{className:"sonner-loading-bar",key:`spinner-bar-${r}`})))),s4=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zm3.857-9.809a.75.75 0 00-1.214-.882l-3.483 4.79-1.88-1.88a.75.75 0 10-1.06 1.061l2.5 2.5a.75.75 0 001.137-.089l4-5.5z",clipRule:"evenodd"})),i4=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 24 24",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M9.401 3.003c1.155-2 4.043-2 5.197 0l7.355 12.748c1.154 2-.29 4.5-2.599 4.5H4.645c-2.309 0-3.752-2.5-2.598-4.5L9.4 3.003zM12 8.25a.75.75 0 01.75.75v3.75a.75.75 0 01-1.5 0V9a.75.75 0 01.75-.75zm0 8.25a.75.75 0 100-1.5.75.75 0 000 1.5z",clipRule:"evenodd"})),o4=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-7-4a1 1 0 11-2 0 1 1 0 012 0zM9 9a.75.75 0 000 1.5h.253a.25.25 0 01.244.304l-.459 2.066A1.75 1.75 0 0010.747 15H11a.75.75 0 000-1.5h-.253a.25.25 0 01-.244-.304l.459-2.066A1.75 1.75 0 009.253 9H9z",clipRule:"evenodd"})),a4=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",viewBox:"0 0 20 20",fill:"currentColor",height:"20",width:"20"},K.createElement("path",{fillRule:"evenodd",d:"M18 10a8 8 0 11-16 0 8 8 0 0116 0zm-8-5a.75.75 0 01.75.75v4.5a.75.75 0 01-1.5 0v-4.5A.75.75 0 0110 5zm0 10a1 1 0 100-2 1 1 0 000 2z",clipRule:"evenodd"})),l4=K.createElement("svg",{xmlns:"http://www.w3.org/2000/svg",width:"12",height:"12",viewBox:"0 0 24 24",fill:"none",stroke:"currentColor",strokeWidth:"1.5",strokeLinecap:"round",strokeLinejoin:"round"},K.createElement("line",{x1:"18",y1:"6",x2:"6",y2:"18"}),K.createElement("line",{x1:"6",y1:"6",x2:"18",y2:"18"})),c4=()=>{let[t,e]=K.useState(document.hidden);return K.useEffect(()=>{let n=()=>{e(document.hidden)};return document.addEventListener("visibilitychange",n),()=>window.removeEventListener("visibilitychange",n)},[]),t},Ry=1,u4=class{constructor(){this.subscribe=t=>(this.subscribers.push(t),()=>{let e=this.subscribers.indexOf(t);this.subscribers.splice(e,1)}),this.publish=t=>{this.subscribers.forEach(e=>e(t))},this.addToast=t=>{this.publish(t),this.toasts=[...this.toasts,t]},this.create=t=>{var e;let{message:n,...r}=t,s=typeof(t==null?void 0:t.id)=="number"||((e=t.id)==null?void 0:e.length)>0?t.id:Ry++,i=this.toasts.find(a=>a.id===s),o=t.dismissible===void 0?!0:t.dismissible;return this.dismissedToasts.has(s)&&this.dismissedToasts.delete(s),i?this.toasts=this.toasts.map(a=>a.id===s?(this.publish({...a,...t,id:s,title:n}),{...a,...t,id:s,dismissible:o,title:n}):a):this.addToast({title:n,...r,dismissible:o,id:s}),s},this.dismiss=t=>(this.dismissedToasts.add(t),t||this.toasts.forEach(e=>{this.subscribers.forEach(n=>n({id:e.id,dismiss:!0}))}),this.subscribers.forEach(e=>e({id:t,dismiss:!0})),t),this.message=(t,e)=>this.create({...e,message:t}),this.error=(t,e)=>this.create({...e,message:t,type:"error"}),this.success=(t,e)=>this.create({...e,type:"success",message:t}),this.info=(t,e)=>this.create({...e,type:"info",message:t}),this.warning=(t,e)=>this.create({...e,type:"warning",message:t}),this.loading=(t,e)=>this.create({...e,type:"loading",message:t}),this.promise=(t,e)=>{if(!e)return;let n;e.loading!==void 0&&(n=this.create({...e,promise:t,type:"loading",message:e.loading,description:typeof e.description!="function"?e.description:void 0}));let r=t instanceof Promise?t:t(),s=n!==void 0,i,o=r.then(async c=>{if(i=["resolve",c],K.isValidElement(c))s=!1,this.create({id:n,type:"default",message:c});else if(h4(c)&&!c.ok){s=!1;let d=typeof e.error=="function"?await e.error(`HTTP error! status: ${c.status}`):e.error,h=typeof e.description=="function"?await e.description(`HTTP error! status: ${c.status}`):e.description;this.create({id:n,type:"error",message:d,description:h})}else if(e.success!==void 0){s=!1;let d=typeof e.success=="function"?await e.success(c):e.success,h=typeof e.description=="function"?await e.description(c):e.description;this.create({id:n,type:"success",message:d,description:h})}}).catch(async c=>{if(i=["reject",c],e.error!==void 0){s=!1;let d=typeof e.error=="function"?await e.error(c):e.error,h=typeof e.description=="function"?await e.description(c):e.description;this.create({id:n,type:"error",message:d,description:h})}}).finally(()=>{var c;s&&(this.dismiss(n),n=void 0),(c=e.finally)==null||c.call(e)}),a=()=>new Promise((c,d)=>o.then(()=>i[0]==="reject"?d(i[1]):c(i[1])).catch(d));return typeof n!="string"&&typeof n!="number"?{unwrap:a}:Object.assign(n,{unwrap:a})},this.custom=(t,e)=>{let n=(e==null?void 0:e.id)||Ry++;return this.create({jsx:t(n),id:n,...e}),n},this.getActiveToasts=()=>this.toasts.filter(t=>!this.dismissedToasts.has(t.id)),this.subscribers=[],this.toasts=[],this.dismissedToasts=new Set}},cn=new u4,d4=(t,e)=>{let n=(e==null?void 0:e.id)||Ry++;return cn.addToast({title:t,...e,id:n}),n},h4=t=>t&&typeof t=="object"&&"ok"in t&&typeof t.ok=="boolean"&&"status"in t&&typeof t.status=="number",f4=d4,p4=()=>cn.toasts,m4=()=>cn.getActiveToasts(),ie=Object.assign(f4,{success:cn.success,info:cn.info,warning:cn.warning,error:cn.error,custom:cn.custom,message:cn.message,promise:cn.promise,dismiss:cn.dismiss,loading:cn.loading},{getHistory:p4,getToasts:m4});function g4(t,{insertAt:e}={}){if(typeof document>"u")return;let n=document.head||document.getElementsByTagName("head")[0],r=document.createElement("style");r.type="text/css",e==="top"&&n.firstChild?n.insertBefore(r,n.firstChild):n.appendChild(r),r.styleSheet?r.styleSheet.cssText=t:r.appendChild(document.createTextNode(t))}g4(`:where(html[dir="ltr"]),:where([data-sonner-toaster][dir="ltr"]){--toast-icon-margin-start: -3px;--toast-icon-margin-end: 4px;--toast-svg-margin-start: -1px;--toast-svg-margin-end: 0px;--toast-button-margin-start: auto;--toast-button-margin-end: 0;--toast-close-button-start: 0;--toast-close-button-end: unset;--toast-close-button-transform: translate(-35%, -35%)}:where(html[dir="rtl"]),:where([data-sonner-toaster][dir="rtl"]){--toast-icon-margin-start: 4px;--toast-icon-margin-end: -3px;--toast-svg-margin-start: 0px;--toast-svg-margin-end: -1px;--toast-button-margin-start: 0;--toast-button-margin-end: auto;--toast-close-button-start: unset;--toast-close-button-end: 0;--toast-close-button-transform: translate(35%, -35%)}:where([data-sonner-toaster]){position:fixed;width:var(--width);font-family:ui-sans-serif,system-ui,-apple-system,BlinkMacSystemFont,Segoe UI,Roboto,Helvetica Neue,Arial,Noto Sans,sans-serif,Apple Color Emoji,Segoe UI Emoji,Segoe UI Symbol,Noto Color Emoji;--gray1: hsl(0, 0%, 99%);--gray2: hsl(0, 0%, 97.3%);--gray3: hsl(0, 0%, 95.1%);--gray4: hsl(0, 0%, 93%);--gray5: hsl(0, 0%, 90.9%);--gray6: hsl(0, 0%, 88.7%);--gray7: hsl(0, 0%, 85.8%);--gray8: hsl(0, 0%, 78%);--gray9: hsl(0, 0%, 56.1%);--gray10: hsl(0, 0%, 52.3%);--gray11: hsl(0, 0%, 43.5%);--gray12: hsl(0, 0%, 9%);--border-radius: 8px;box-sizing:border-box;padding:0;margin:0;list-style:none;outline:none;z-index:999999999;transition:transform .4s ease}:where([data-sonner-toaster][data-lifted="true"]){transform:translateY(-10px)}@media (hover: none) and (pointer: coarse){:where([data-sonner-toaster][data-lifted="true"]){transform:none}}:where([data-sonner-toaster][data-x-position="right"]){right:var(--offset-right)}:where([data-sonner-toaster][data-x-position="left"]){left:var(--offset-left)}:where([data-sonner-toaster][data-x-position="center"]){left:50%;transform:translate(-50%)}:where([data-sonner-toaster][data-y-position="top"]){top:var(--offset-top)}:where([data-sonner-toaster][data-y-position="bottom"]){bottom:var(--offset-bottom)}:where([data-sonner-toast]){--y: translateY(100%);--lift-amount: calc(var(--lift) * var(--gap));z-index:var(--z-index);position:absolute;opacity:0;transform:var(--y);filter:blur(0);touch-action:none;transition:transform .4s,opacity .4s,height .4s,box-shadow .2s;box-sizing:border-box;outline:none;overflow-wrap:anywhere}:where([data-sonner-toast][data-styled="true"]){padding:16px;background:var(--normal-bg);border:1px solid var(--normal-border);color:var(--normal-text);border-radius:var(--border-radius);box-shadow:0 4px 12px #0000001a;width:var(--width);font-size:13px;display:flex;align-items:center;gap:6px}:where([data-sonner-toast]:focus-visible){box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast][data-y-position="top"]){top:0;--y: translateY(-100%);--lift: 1;--lift-amount: calc(1 * var(--gap))}:where([data-sonner-toast][data-y-position="bottom"]){bottom:0;--y: translateY(100%);--lift: -1;--lift-amount: calc(var(--lift) * var(--gap))}:where([data-sonner-toast]) :where([data-description]){font-weight:400;line-height:1.4;color:inherit}:where([data-sonner-toast]) :where([data-title]){font-weight:500;line-height:1.5;color:inherit}:where([data-sonner-toast]) :where([data-icon]){display:flex;height:16px;width:16px;position:relative;justify-content:flex-start;align-items:center;flex-shrink:0;margin-left:var(--toast-icon-margin-start);margin-right:var(--toast-icon-margin-end)}:where([data-sonner-toast][data-promise="true"]) :where([data-icon])>svg{opacity:0;transform:scale(.8);transform-origin:center;animation:sonner-fade-in .3s ease forwards}:where([data-sonner-toast]) :where([data-icon])>*{flex-shrink:0}:where([data-sonner-toast]) :where([data-icon]) svg{margin-left:var(--toast-svg-margin-start);margin-right:var(--toast-svg-margin-end)}:where([data-sonner-toast]) :where([data-content]){display:flex;flex-direction:column;gap:2px}[data-sonner-toast][data-styled=true] [data-button]{border-radius:4px;padding-left:8px;padding-right:8px;height:24px;font-size:12px;color:var(--normal-bg);background:var(--normal-text);margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end);border:none;cursor:pointer;outline:none;display:flex;align-items:center;flex-shrink:0;transition:opacity .4s,box-shadow .2s}:where([data-sonner-toast]) :where([data-button]):focus-visible{box-shadow:0 0 0 2px #0006}:where([data-sonner-toast]) :where([data-button]):first-of-type{margin-left:var(--toast-button-margin-start);margin-right:var(--toast-button-margin-end)}:where([data-sonner-toast]) :where([data-cancel]){color:var(--normal-text);background:rgba(0,0,0,.08)}:where([data-sonner-toast][data-theme="dark"]) :where([data-cancel]){background:rgba(255,255,255,.3)}:where([data-sonner-toast]) :where([data-close-button]){position:absolute;left:var(--toast-close-button-start);right:var(--toast-close-button-end);top:0;height:20px;width:20px;display:flex;justify-content:center;align-items:center;padding:0;color:var(--gray12);border:1px solid var(--gray4);transform:var(--toast-close-button-transform);border-radius:50%;cursor:pointer;z-index:1;transition:opacity .1s,background .2s,border-color .2s}[data-sonner-toast] [data-close-button]{background:var(--gray1)}:where([data-sonner-toast]) :where([data-close-button]):focus-visible{box-shadow:0 4px 12px #0000001a,0 0 0 2px #0003}:where([data-sonner-toast]) :where([data-disabled="true"]){cursor:not-allowed}:where([data-sonner-toast]):hover :where([data-close-button]):hover{background:var(--gray2);border-color:var(--gray5)}:where([data-sonner-toast][data-swiping="true"]):before{content:"";position:absolute;left:-50%;right:-50%;height:100%;z-index:-1}:where([data-sonner-toast][data-y-position="top"][data-swiping="true"]):before{bottom:50%;transform:scaleY(3) translateY(50%)}:where([data-sonner-toast][data-y-position="bottom"][data-swiping="true"]):before{top:50%;transform:scaleY(3) translateY(-50%)}:where([data-sonner-toast][data-swiping="false"][data-removed="true"]):before{content:"";position:absolute;inset:0;transform:scaleY(2)}:where([data-sonner-toast]):after{content:"";position:absolute;left:0;height:calc(var(--gap) + 1px);bottom:100%;width:100%}:where([data-sonner-toast][data-mounted="true"]){--y: translateY(0);opacity:1}:where([data-sonner-toast][data-expanded="false"][data-front="false"]){--scale: var(--toasts-before) * .05 + 1;--y: translateY(calc(var(--lift-amount) * var(--toasts-before))) scale(calc(-1 * var(--scale)));height:var(--front-toast-height)}:where([data-sonner-toast])>*{transition:opacity .4s}:where([data-sonner-toast][data-expanded="false"][data-front="false"][data-styled="true"])>*{opacity:0}:where([data-sonner-toast][data-visible="false"]){opacity:0;pointer-events:none}:where([data-sonner-toast][data-mounted="true"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset)));height:var(--initial-height)}:where([data-sonner-toast][data-removed="true"][data-front="true"][data-swipe-out="false"]){--y: translateY(calc(var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="true"]){--y: translateY(calc(var(--lift) * var(--offset) + var(--lift) * -100%));opacity:0}:where([data-sonner-toast][data-removed="true"][data-front="false"][data-swipe-out="false"][data-expanded="false"]){--y: translateY(40%);opacity:0;transition:transform .5s,opacity .2s}:where([data-sonner-toast][data-removed="true"][data-front="false"]):before{height:calc(var(--initial-height) + 20%)}[data-sonner-toast][data-swiping=true]{transform:var(--y) translateY(var(--swipe-amount-y, 0px)) translate(var(--swipe-amount-x, 0px));transition:none}[data-sonner-toast][data-swiped=true]{user-select:none}[data-sonner-toast][data-swipe-out=true][data-y-position=bottom],[data-sonner-toast][data-swipe-out=true][data-y-position=top]{animation-duration:.2s;animation-timing-function:ease-out;animation-fill-mode:forwards}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=left]{animation-name:swipe-out-left}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=right]{animation-name:swipe-out-right}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=up]{animation-name:swipe-out-up}[data-sonner-toast][data-swipe-out=true][data-swipe-direction=down]{animation-name:swipe-out-down}@keyframes swipe-out-left{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) - 100%));opacity:0}}@keyframes swipe-out-right{0%{transform:var(--y) translate(var(--swipe-amount-x));opacity:1}to{transform:var(--y) translate(calc(var(--swipe-amount-x) + 100%));opacity:0}}@keyframes swipe-out-up{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) - 100%));opacity:0}}@keyframes swipe-out-down{0%{transform:var(--y) translateY(var(--swipe-amount-y));opacity:1}to{transform:var(--y) translateY(calc(var(--swipe-amount-y) + 100%));opacity:0}}@media (max-width: 600px){[data-sonner-toaster]{position:fixed;right:var(--mobile-offset-right);left:var(--mobile-offset-left);width:100%}[data-sonner-toaster][dir=rtl]{left:calc(var(--mobile-offset-left) * -1)}[data-sonner-toaster] [data-sonner-toast]{left:0;right:0;width:calc(100% - var(--mobile-offset-left) * 2)}[data-sonner-toaster][data-x-position=left]{left:var(--mobile-offset-left)}[data-sonner-toaster][data-y-position=bottom]{bottom:var(--mobile-offset-bottom)}[data-sonner-toaster][data-y-position=top]{top:var(--mobile-offset-top)}[data-sonner-toaster][data-x-position=center]{left:var(--mobile-offset-left);right:var(--mobile-offset-right);transform:none}}[data-sonner-toaster][data-theme=light]{--normal-bg: #fff;--normal-border: var(--gray4);--normal-text: var(--gray12);--success-bg: hsl(143, 85%, 96%);--success-border: hsl(145, 92%, 91%);--success-text: hsl(140, 100%, 27%);--info-bg: hsl(208, 100%, 97%);--info-border: hsl(221, 91%, 91%);--info-text: hsl(210, 92%, 45%);--warning-bg: hsl(49, 100%, 97%);--warning-border: hsl(49, 91%, 91%);--warning-text: hsl(31, 92%, 45%);--error-bg: hsl(359, 100%, 97%);--error-border: hsl(359, 100%, 94%);--error-text: hsl(360, 100%, 45%)}[data-sonner-toaster][data-theme=light] [data-sonner-toast][data-invert=true]{--normal-bg: #000;--normal-border: hsl(0, 0%, 20%);--normal-text: var(--gray1)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast][data-invert=true]{--normal-bg: #fff;--normal-border: var(--gray3);--normal-text: var(--gray12)}[data-sonner-toaster][data-theme=dark]{--normal-bg: #000;--normal-bg-hover: hsl(0, 0%, 12%);--normal-border: hsl(0, 0%, 20%);--normal-border-hover: hsl(0, 0%, 25%);--normal-text: var(--gray1);--success-bg: hsl(150, 100%, 6%);--success-border: hsl(147, 100%, 12%);--success-text: hsl(150, 86%, 65%);--info-bg: hsl(215, 100%, 6%);--info-border: hsl(223, 100%, 12%);--info-text: hsl(216, 87%, 65%);--warning-bg: hsl(64, 100%, 6%);--warning-border: hsl(60, 100%, 12%);--warning-text: hsl(46, 87%, 65%);--error-bg: hsl(358, 76%, 10%);--error-border: hsl(357, 89%, 16%);--error-text: hsl(358, 100%, 81%)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]{background:var(--normal-bg);border-color:var(--normal-border);color:var(--normal-text)}[data-sonner-toaster][data-theme=dark] [data-sonner-toast] [data-close-button]:hover{background:var(--normal-bg-hover);border-color:var(--normal-border-hover)}[data-rich-colors=true][data-sonner-toast][data-type=success],[data-rich-colors=true][data-sonner-toast][data-type=success] [data-close-button]{background:var(--success-bg);border-color:var(--success-border);color:var(--success-text)}[data-rich-colors=true][data-sonner-toast][data-type=info],[data-rich-colors=true][data-sonner-toast][data-type=info] [data-close-button]{background:var(--info-bg);border-color:var(--info-border);color:var(--info-text)}[data-rich-colors=true][data-sonner-toast][data-type=warning],[data-rich-colors=true][data-sonner-toast][data-type=warning] [data-close-button]{background:var(--warning-bg);border-color:var(--warning-border);color:var(--warning-text)}[data-rich-colors=true][data-sonner-toast][data-type=error],[data-rich-colors=true][data-sonner-toast][data-type=error] [data-close-button]{background:var(--error-bg);border-color:var(--error-border);color:var(--error-text)}.sonner-loading-wrapper{--size: 16px;height:var(--size);width:var(--size);position:absolute;inset:0;z-index:10}.sonner-loading-wrapper[data-visible=false]{transform-origin:center;animation:sonner-fade-out .2s ease forwards}.sonner-spinner{position:relative;top:50%;left:50%;height:var(--size);width:var(--size)}.sonner-loading-bar{animation:sonner-spin 1.2s linear infinite;background:var(--gray11);border-radius:6px;height:8%;left:-10%;position:absolute;top:-3.9%;width:24%}.sonner-loading-bar:nth-child(1){animation-delay:-1.2s;transform:rotate(.0001deg) translate(146%)}.sonner-loading-bar:nth-child(2){animation-delay:-1.1s;transform:rotate(30deg) translate(146%)}.sonner-loading-bar:nth-child(3){animation-delay:-1s;transform:rotate(60deg) translate(146%)}.sonner-loading-bar:nth-child(4){animation-delay:-.9s;transform:rotate(90deg) translate(146%)}.sonner-loading-bar:nth-child(5){animation-delay:-.8s;transform:rotate(120deg) translate(146%)}.sonner-loading-bar:nth-child(6){animation-delay:-.7s;transform:rotate(150deg) translate(146%)}.sonner-loading-bar:nth-child(7){animation-delay:-.6s;transform:rotate(180deg) translate(146%)}.sonner-loading-bar:nth-child(8){animation-delay:-.5s;transform:rotate(210deg) translate(146%)}.sonner-loading-bar:nth-child(9){animation-delay:-.4s;transform:rotate(240deg) translate(146%)}.sonner-loading-bar:nth-child(10){animation-delay:-.3s;transform:rotate(270deg) translate(146%)}.sonner-loading-bar:nth-child(11){animation-delay:-.2s;transform:rotate(300deg) translate(146%)}.sonner-loading-bar:nth-child(12){animation-delay:-.1s;transform:rotate(330deg) translate(146%)}@keyframes sonner-fade-in{0%{opacity:0;transform:scale(.8)}to{opacity:1;transform:scale(1)}}@keyframes sonner-fade-out{0%{opacity:1;transform:scale(1)}to{opacity:0;transform:scale(.8)}}@keyframes sonner-spin{0%{opacity:1}to{opacity:.15}}@media (prefers-reduced-motion){[data-sonner-toast],[data-sonner-toast]>*,.sonner-loading-bar{transition:none!important;animation:none!important}}.sonner-loader{position:absolute;top:50%;left:50%;transform:translate(-50%,-50%);transform-origin:center;transition:opacity .2s,transform .2s}.sonner-loader[data-visible=false]{opacity:0;transform:scale(.8) translate(-50%,-50%)}
`);function Ud(t){return t.label!==void 0}var y4=3,v4="32px",w4="16px",g1=4e3,x4=356,_4=14,b4=20,E4=200;function Yn(...t){return t.filter(Boolean).join(" ")}function T4(t){let[e,n]=t.split("-"),r=[];return e&&r.push(e),n&&r.push(n),r}var S4=t=>{var e,n,r,s,i,o,a,c,d,h,f;let{invert:p,toast:m,unstyled:T,interacting:w,setHeights:x,visibleToasts:_,heights:v,index:b,toasts:k,expanded:O,removeToast:D,defaultRichColors:C,closeButton:I,style:S,cancelButtonStyle:N,actionButtonStyle:P,className:j="",descriptionClassName:R="",duration:M,position:G,gap:H,loadingIcon:ne,expandByDefault:F,classNames:V,icons:L,closeButtonAriaLabel:Z="Close toast",pauseWhenPageIsHidden:X}=t,[oe,ae]=K.useState(null),[we,ke]=K.useState(null),[Q,Te]=K.useState(!1),[Pe,Se]=K.useState(!1),[Ie,Ae]=K.useState(!1),[mt,Yt]=K.useState(!1),[ts,Pn]=K.useState(!1),[qn,Ds]=K.useState(0),[tt,It]=K.useState(0),br=K.useRef(m.duration||M||g1),ad=K.useRef(null),Er=K.useRef(null),om=b===0,eo=b+1<=_,Xt=m.type,ns=m.dismissible!==!1,Fl=m.className||"",am=m.descriptionClassName||"",ia=K.useMemo(()=>v.findIndex(ue=>ue.toastId===m.id)||0,[v,m.id]),ld=K.useMemo(()=>{var ue;return(ue=m.closeButton)!=null?ue:I},[m.closeButton,I]),Ul=K.useMemo(()=>m.duration||M||g1,[m.duration,M]),rs=K.useRef(0),Tr=K.useRef(0),oa=K.useRef(0),an=K.useRef(null),[cd,aa]=G.split("-"),$l=K.useMemo(()=>v.reduce((ue,Le,ze)=>ze>=ia?ue:ue+Le.height,0),[v,ia]),Os=c4(),ud=m.invert||p,_t=Xt==="loading";Tr.current=K.useMemo(()=>ia*H+$l,[ia,$l]),K.useEffect(()=>{br.current=Ul},[Ul]),K.useEffect(()=>{Te(!0)},[]),K.useEffect(()=>{let ue=Er.current;if(ue){let Le=ue.getBoundingClientRect().height;return It(Le),x(ze=>[{toastId:m.id,height:Le,position:m.position},...ze]),()=>x(ze=>ze.filter(Ct=>Ct.toastId!==m.id))}},[x,m.id]),K.useLayoutEffect(()=>{if(!Q)return;let ue=Er.current,Le=ue.style.height;ue.style.height="auto";let ze=ue.getBoundingClientRect().height;ue.style.height=Le,It(ze),x(Ct=>Ct.find(vn=>vn.toastId===m.id)?Ct.map(vn=>vn.toastId===m.id?{...vn,height:ze}:vn):[{toastId:m.id,height:ze,position:m.position},...Ct])},[Q,m.title,m.description,x,m.id]);let Gn=K.useCallback(()=>{Se(!0),Ds(Tr.current),x(ue=>ue.filter(Le=>Le.toastId!==m.id)),setTimeout(()=>{D(m)},E4)},[m,D,x,Tr]);K.useEffect(()=>{if(m.promise&&Xt==="loading"||m.duration===1/0||m.type==="loading")return;let ue;return O||w||X&&Os?(()=>{if(oa.current<rs.current){let Le=new Date().getTime()-rs.current;br.current=br.current-Le}oa.current=new Date().getTime()})():br.current!==1/0&&(rs.current=new Date().getTime(),ue=setTimeout(()=>{var Le;(Le=m.onAutoClose)==null||Le.call(m,m),Gn()},br.current)),()=>clearTimeout(ue)},[O,w,m,Xt,X,Os,Gn]),K.useEffect(()=>{m.delete&&Gn()},[Gn,m.delete]);function to(){var ue,Le,ze;return L!=null&&L.loading?K.createElement("div",{className:Yn(V==null?void 0:V.loader,(ue=m==null?void 0:m.classNames)==null?void 0:ue.loader,"sonner-loader"),"data-visible":Xt==="loading"},L.loading):ne?K.createElement("div",{className:Yn(V==null?void 0:V.loader,(Le=m==null?void 0:m.classNames)==null?void 0:Le.loader,"sonner-loader"),"data-visible":Xt==="loading"},ne):K.createElement(r4,{className:Yn(V==null?void 0:V.loader,(ze=m==null?void 0:m.classNames)==null?void 0:ze.loader),visible:Xt==="loading"})}return K.createElement("li",{tabIndex:0,ref:Er,className:Yn(j,Fl,V==null?void 0:V.toast,(e=m==null?void 0:m.classNames)==null?void 0:e.toast,V==null?void 0:V.default,V==null?void 0:V[Xt],(n=m==null?void 0:m.classNames)==null?void 0:n[Xt]),"data-sonner-toast":"","data-rich-colors":(r=m.richColors)!=null?r:C,"data-styled":!(m.jsx||m.unstyled||T),"data-mounted":Q,"data-promise":!!m.promise,"data-swiped":ts,"data-removed":Pe,"data-visible":eo,"data-y-position":cd,"data-x-position":aa,"data-index":b,"data-front":om,"data-swiping":Ie,"data-dismissible":ns,"data-type":Xt,"data-invert":ud,"data-swipe-out":mt,"data-swipe-direction":we,"data-expanded":!!(O||F&&Q),style:{"--index":b,"--toasts-before":b,"--z-index":k.length-b,"--offset":`${Pe?qn:Tr.current}px`,"--initial-height":F?"auto":`${tt}px`,...S,...m.style},onDragEnd:()=>{Ae(!1),ae(null),an.current=null},onPointerDown:ue=>{_t||!ns||(ad.current=new Date,Ds(Tr.current),ue.target.setPointerCapture(ue.pointerId),ue.target.tagName!=="BUTTON"&&(Ae(!0),an.current={x:ue.clientX,y:ue.clientY}))},onPointerUp:()=>{var ue,Le,ze,Ct;if(mt||!ns)return;an.current=null;let vn=Number(((ue=Er.current)==null?void 0:ue.style.getPropertyValue("--swipe-amount-x").replace("px",""))||0),Sr=Number(((Le=Er.current)==null?void 0:Le.style.getPropertyValue("--swipe-amount-y").replace("px",""))||0),An=new Date().getTime()-((ze=ad.current)==null?void 0:ze.getTime()),ln=oe==="x"?vn:Sr,Kn=Math.abs(ln)/An;if(Math.abs(ln)>=b4||Kn>.11){Ds(Tr.current),(Ct=m.onDismiss)==null||Ct.call(m,m),ke(oe==="x"?vn>0?"right":"left":Sr>0?"down":"up"),Gn(),Yt(!0),Pn(!1);return}Ae(!1),ae(null)},onPointerMove:ue=>{var Le,ze,Ct,vn;if(!an.current||!ns||((Le=window.getSelection())==null?void 0:Le.toString().length)>0)return;let Sr=ue.clientY-an.current.y,An=ue.clientX-an.current.x,ln=(ze=t.swipeDirections)!=null?ze:T4(G);!oe&&(Math.abs(An)>1||Math.abs(Sr)>1)&&ae(Math.abs(An)>Math.abs(Sr)?"x":"y");let Kn={x:0,y:0};oe==="y"?(ln.includes("top")||ln.includes("bottom"))&&(ln.includes("top")&&Sr<0||ln.includes("bottom")&&Sr>0)&&(Kn.y=Sr):oe==="x"&&(ln.includes("left")||ln.includes("right"))&&(ln.includes("left")&&An<0||ln.includes("right")&&An>0)&&(Kn.x=An),(Math.abs(Kn.x)>0||Math.abs(Kn.y)>0)&&Pn(!0),(Ct=Er.current)==null||Ct.style.setProperty("--swipe-amount-x",`${Kn.x}px`),(vn=Er.current)==null||vn.style.setProperty("--swipe-amount-y",`${Kn.y}px`)}},ld&&!m.jsx?K.createElement("button",{"aria-label":Z,"data-disabled":_t,"data-close-button":!0,onClick:_t||!ns?()=>{}:()=>{var ue;Gn(),(ue=m.onDismiss)==null||ue.call(m,m)},className:Yn(V==null?void 0:V.closeButton,(s=m==null?void 0:m.classNames)==null?void 0:s.closeButton)},(i=L==null?void 0:L.close)!=null?i:l4):null,m.jsx||g.isValidElement(m.title)?m.jsx?m.jsx:typeof m.title=="function"?m.title():m.title:K.createElement(K.Fragment,null,Xt||m.icon||m.promise?K.createElement("div",{"data-icon":"",className:Yn(V==null?void 0:V.icon,(o=m==null?void 0:m.classNames)==null?void 0:o.icon)},m.promise||m.type==="loading"&&!m.icon?m.icon||to():null,m.type!=="loading"?m.icon||(L==null?void 0:L[Xt])||t4(Xt):null):null,K.createElement("div",{"data-content":"",className:Yn(V==null?void 0:V.content,(a=m==null?void 0:m.classNames)==null?void 0:a.content)},K.createElement("div",{"data-title":"",className:Yn(V==null?void 0:V.title,(c=m==null?void 0:m.classNames)==null?void 0:c.title)},typeof m.title=="function"?m.title():m.title),m.description?K.createElement("div",{"data-description":"",className:Yn(R,am,V==null?void 0:V.description,(d=m==null?void 0:m.classNames)==null?void 0:d.description)},typeof m.description=="function"?m.description():m.description):null),g.isValidElement(m.cancel)?m.cancel:m.cancel&&Ud(m.cancel)?K.createElement("button",{"data-button":!0,"data-cancel":!0,style:m.cancelButtonStyle||N,onClick:ue=>{var Le,ze;Ud(m.cancel)&&ns&&((ze=(Le=m.cancel).onClick)==null||ze.call(Le,ue),Gn())},className:Yn(V==null?void 0:V.cancelButton,(h=m==null?void 0:m.classNames)==null?void 0:h.cancelButton)},m.cancel.label):null,g.isValidElement(m.action)?m.action:m.action&&Ud(m.action)?K.createElement("button",{"data-button":!0,"data-action":!0,style:m.actionButtonStyle||P,onClick:ue=>{var Le,ze;Ud(m.action)&&((ze=(Le=m.action).onClick)==null||ze.call(Le,ue),!ue.defaultPrevented&&Gn())},className:Yn(V==null?void 0:V.actionButton,(f=m==null?void 0:m.classNames)==null?void 0:f.actionButton)},m.action.label):null))};function y1(){if(typeof window>"u"||typeof document>"u")return"ltr";let t=document.documentElement.getAttribute("dir");return t==="auto"||!t?window.getComputedStyle(document.documentElement).direction:t}function I4(t,e){let n={};return[t,e].forEach((r,s)=>{let i=s===1,o=i?"--mobile-offset":"--offset",a=i?w4:v4;function c(d){["top","right","bottom","left"].forEach(h=>{n[`${o}-${h}`]=typeof d=="number"?`${d}px`:d})}typeof r=="number"||typeof r=="string"?c(r):typeof r=="object"?["top","right","bottom","left"].forEach(d=>{r[d]===void 0?n[`${o}-${d}`]=a:n[`${o}-${d}`]=typeof r[d]=="number"?`${r[d]}px`:r[d]}):c(a)}),n}var C4=g.forwardRef(function(t,e){let{invert:n,position:r="bottom-right",hotkey:s=["altKey","KeyT"],expand:i,closeButton:o,className:a,offset:c,mobileOffset:d,theme:h="light",richColors:f,duration:p,style:m,visibleToasts:T=y4,toastOptions:w,dir:x=y1(),gap:_=_4,loadingIcon:v,icons:b,containerAriaLabel:k="Notifications",pauseWhenPageIsHidden:O}=t,[D,C]=K.useState([]),I=K.useMemo(()=>Array.from(new Set([r].concat(D.filter(X=>X.position).map(X=>X.position)))),[D,r]),[S,N]=K.useState([]),[P,j]=K.useState(!1),[R,M]=K.useState(!1),[G,H]=K.useState(h!=="system"?h:typeof window<"u"&&window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?"dark":"light"),ne=K.useRef(null),F=s.join("+").replace(/Key/g,"").replace(/Digit/g,""),V=K.useRef(null),L=K.useRef(!1),Z=K.useCallback(X=>{C(oe=>{var ae;return(ae=oe.find(we=>we.id===X.id))!=null&&ae.delete||cn.dismiss(X.id),oe.filter(({id:we})=>we!==X.id)})},[]);return K.useEffect(()=>cn.subscribe(X=>{if(X.dismiss){C(oe=>oe.map(ae=>ae.id===X.id?{...ae,delete:!0}:ae));return}setTimeout(()=>{hI.flushSync(()=>{C(oe=>{let ae=oe.findIndex(we=>we.id===X.id);return ae!==-1?[...oe.slice(0,ae),{...oe[ae],...X},...oe.slice(ae+1)]:[X,...oe]})})})}),[]),K.useEffect(()=>{if(h!=="system"){H(h);return}if(h==="system"&&(window.matchMedia&&window.matchMedia("(prefers-color-scheme: dark)").matches?H("dark"):H("light")),typeof window>"u")return;let X=window.matchMedia("(prefers-color-scheme: dark)");try{X.addEventListener("change",({matches:oe})=>{H(oe?"dark":"light")})}catch{X.addListener(({matches:ae})=>{try{H(ae?"dark":"light")}catch(we){console.error(we)}})}},[h]),K.useEffect(()=>{D.length<=1&&j(!1)},[D]),K.useEffect(()=>{let X=oe=>{var ae,we;s.every(ke=>oe[ke]||oe.code===ke)&&(j(!0),(ae=ne.current)==null||ae.focus()),oe.code==="Escape"&&(document.activeElement===ne.current||(we=ne.current)!=null&&we.contains(document.activeElement))&&j(!1)};return document.addEventListener("keydown",X),()=>document.removeEventListener("keydown",X)},[s]),K.useEffect(()=>{if(ne.current)return()=>{V.current&&(V.current.focus({preventScroll:!0}),V.current=null,L.current=!1)}},[ne.current]),K.createElement("section",{ref:e,"aria-label":`${k} ${F}`,tabIndex:-1,"aria-live":"polite","aria-relevant":"additions text","aria-atomic":"false",suppressHydrationWarning:!0},I.map((X,oe)=>{var ae;let[we,ke]=X.split("-");return D.length?K.createElement("ol",{key:X,dir:x==="auto"?y1():x,tabIndex:-1,ref:ne,className:a,"data-sonner-toaster":!0,"data-theme":G,"data-y-position":we,"data-lifted":P&&D.length>1&&!i,"data-x-position":ke,style:{"--front-toast-height":`${((ae=S[0])==null?void 0:ae.height)||0}px`,"--width":`${x4}px`,"--gap":`${_}px`,...m,...I4(c,d)},onBlur:Q=>{L.current&&!Q.currentTarget.contains(Q.relatedTarget)&&(L.current=!1,V.current&&(V.current.focus({preventScroll:!0}),V.current=null))},onFocus:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||L.current||(L.current=!0,V.current=Q.relatedTarget)},onMouseEnter:()=>j(!0),onMouseMove:()=>j(!0),onMouseLeave:()=>{R||j(!1)},onDragEnd:()=>j(!1),onPointerDown:Q=>{Q.target instanceof HTMLElement&&Q.target.dataset.dismissible==="false"||M(!0)},onPointerUp:()=>M(!1)},D.filter(Q=>!Q.position&&oe===0||Q.position===X).map((Q,Te)=>{var Pe,Se;return K.createElement(S4,{key:Q.id,icons:b,index:Te,toast:Q,defaultRichColors:f,duration:(Pe=w==null?void 0:w.duration)!=null?Pe:p,className:w==null?void 0:w.className,descriptionClassName:w==null?void 0:w.descriptionClassName,invert:n,visibleToasts:T,closeButton:(Se=w==null?void 0:w.closeButton)!=null?Se:o,interacting:R,position:X,style:w==null?void 0:w.style,unstyled:w==null?void 0:w.unstyled,classNames:w==null?void 0:w.classNames,cancelButtonStyle:w==null?void 0:w.cancelButtonStyle,actionButtonStyle:w==null?void 0:w.actionButtonStyle,removeToast:Z,toasts:D.filter(Ie=>Ie.position==Q.position),heights:S.filter(Ie=>Ie.position==Q.position),setHeights:N,expandByDefault:i,gap:_,loadingIcon:v,expanded:P,pauseWhenPageIsHidden:O,swipeDirections:t.swipeDirections})})):null}))});const N4=({...t})=>{const{theme:e="system"}=e4();return l.jsx(C4,{theme:e,className:"toaster group",toastOptions:{classNames:{toast:"group toast group-[.toaster]:bg-background group-[.toaster]:text-foreground group-[.toaster]:border-border group-[.toaster]:shadow-lg",description:"group-[.toast]:text-muted-foreground",actionButton:"group-[.toast]:bg-primary group-[.toast]:text-primary-foreground",cancelButton:"group-[.toast]:bg-muted group-[.toast]:text-muted-foreground"}},...t})};var R4=Nv[" useId ".trim().toString()]||(()=>{}),P4=0;function Un(t){const[e,n]=g.useState(R4());return jt(()=>{n(r=>r??String(P4++))},[t]),e?`radix-${e}`:""}const A4=["top","right","bottom","left"],ki=Math.min,_n=Math.max,nf=Math.round,$d=Math.floor,Ur=t=>({x:t,y:t}),k4={left:"right",right:"left",bottom:"top",top:"bottom"},j4={start:"end",end:"start"};function Py(t,e,n){return _n(t,ki(e,n))}function Ts(t,e){return typeof t=="function"?t(e):t}function Ss(t){return t.split("-")[0]}function Sl(t){return t.split("-")[1]}function Nw(t){return t==="x"?"y":"x"}function Rw(t){return t==="y"?"height":"width"}const D4=new Set(["top","bottom"]);function Lr(t){return D4.has(Ss(t))?"y":"x"}function Pw(t){return Nw(Lr(t))}function O4(t,e,n){n===void 0&&(n=!1);const r=Sl(t),s=Pw(t),i=Rw(s);let o=s==="x"?r===(n?"end":"start")?"right":"left":r==="start"?"bottom":"top";return e.reference[i]>e.floating[i]&&(o=rf(o)),[o,rf(o)]}function M4(t){const e=rf(t);return[Ay(t),e,Ay(e)]}function Ay(t){return t.replace(/start|end/g,e=>j4[e])}const v1=["left","right"],w1=["right","left"],L4=["top","bottom"],V4=["bottom","top"];function F4(t,e,n){switch(t){case"top":case"bottom":return n?e?w1:v1:e?v1:w1;case"left":case"right":return e?L4:V4;default:return[]}}function U4(t,e,n,r){const s=Sl(t);let i=F4(Ss(t),n==="start",r);return s&&(i=i.map(o=>o+"-"+s),e&&(i=i.concat(i.map(Ay)))),i}function rf(t){return t.replace(/left|right|bottom|top/g,e=>k4[e])}function $4(t){return{top:0,right:0,bottom:0,left:0,...t}}function rC(t){return typeof t!="number"?$4(t):{top:t,right:t,bottom:t,left:t}}function sf(t){const{x:e,y:n,width:r,height:s}=t;return{width:r,height:s,top:n,left:e,right:e+r,bottom:n+s,x:e,y:n}}function x1(t,e,n){let{reference:r,floating:s}=t;const i=Lr(e),o=Pw(e),a=Rw(o),c=Ss(e),d=i==="y",h=r.x+r.width/2-s.width/2,f=r.y+r.height/2-s.height/2,p=r[a]/2-s[a]/2;let m;switch(c){case"top":m={x:h,y:r.y-s.height};break;case"bottom":m={x:h,y:r.y+r.height};break;case"right":m={x:r.x+r.width,y:f};break;case"left":m={x:r.x-s.width,y:f};break;default:m={x:r.x,y:r.y}}switch(Sl(e)){case"start":m[o]-=p*(n&&d?-1:1);break;case"end":m[o]+=p*(n&&d?-1:1);break}return m}const B4=async(t,e,n)=>{const{placement:r="bottom",strategy:s="absolute",middleware:i=[],platform:o}=n,a=i.filter(Boolean),c=await(o.isRTL==null?void 0:o.isRTL(e));let d=await o.getElementRects({reference:t,floating:e,strategy:s}),{x:h,y:f}=x1(d,r,c),p=r,m={},T=0;for(let w=0;w<a.length;w++){const{name:x,fn:_}=a[w],{x:v,y:b,data:k,reset:O}=await _({x:h,y:f,initialPlacement:r,placement:p,strategy:s,middlewareData:m,rects:d,platform:o,elements:{reference:t,floating:e}});h=v??h,f=b??f,m={...m,[x]:{...m[x],...k}},O&&T<=50&&(T++,typeof O=="object"&&(O.placement&&(p=O.placement),O.rects&&(d=O.rects===!0?await o.getElementRects({reference:t,floating:e,strategy:s}):O.rects),{x:h,y:f}=x1(d,p,c)),w=-1)}return{x:h,y:f,placement:p,strategy:s,middlewareData:m}};async function cu(t,e){var n;e===void 0&&(e={});const{x:r,y:s,platform:i,rects:o,elements:a,strategy:c}=t,{boundary:d="clippingAncestors",rootBoundary:h="viewport",elementContext:f="floating",altBoundary:p=!1,padding:m=0}=Ts(e,t),T=rC(m),x=a[p?f==="floating"?"reference":"floating":f],_=sf(await i.getClippingRect({element:(n=await(i.isElement==null?void 0:i.isElement(x)))==null||n?x:x.contextElement||await(i.getDocumentElement==null?void 0:i.getDocumentElement(a.floating)),boundary:d,rootBoundary:h,strategy:c})),v=f==="floating"?{x:r,y:s,width:o.floating.width,height:o.floating.height}:o.reference,b=await(i.getOffsetParent==null?void 0:i.getOffsetParent(a.floating)),k=await(i.isElement==null?void 0:i.isElement(b))?await(i.getScale==null?void 0:i.getScale(b))||{x:1,y:1}:{x:1,y:1},O=sf(i.convertOffsetParentRelativeRectToViewportRelativeRect?await i.convertOffsetParentRelativeRectToViewportRelativeRect({elements:a,rect:v,offsetParent:b,strategy:c}):v);return{top:(_.top-O.top+T.top)/k.y,bottom:(O.bottom-_.bottom+T.bottom)/k.y,left:(_.left-O.left+T.left)/k.x,right:(O.right-_.right+T.right)/k.x}}const z4=t=>({name:"arrow",options:t,async fn(e){const{x:n,y:r,placement:s,rects:i,platform:o,elements:a,middlewareData:c}=e,{element:d,padding:h=0}=Ts(t,e)||{};if(d==null)return{};const f=rC(h),p={x:n,y:r},m=Pw(s),T=Rw(m),w=await o.getDimensions(d),x=m==="y",_=x?"top":"left",v=x?"bottom":"right",b=x?"clientHeight":"clientWidth",k=i.reference[T]+i.reference[m]-p[m]-i.floating[T],O=p[m]-i.reference[m],D=await(o.getOffsetParent==null?void 0:o.getOffsetParent(d));let C=D?D[b]:0;(!C||!await(o.isElement==null?void 0:o.isElement(D)))&&(C=a.floating[b]||i.floating[T]);const I=k/2-O/2,S=C/2-w[T]/2-1,N=ki(f[_],S),P=ki(f[v],S),j=N,R=C-w[T]-P,M=C/2-w[T]/2+I,G=Py(j,M,R),H=!c.arrow&&Sl(s)!=null&&M!==G&&i.reference[T]/2-(M<j?N:P)-w[T]/2<0,ne=H?M<j?M-j:M-R:0;return{[m]:p[m]+ne,data:{[m]:G,centerOffset:M-G-ne,...H&&{alignmentOffset:ne}},reset:H}}}),W4=function(t){return t===void 0&&(t={}),{name:"flip",options:t,async fn(e){var n,r;const{placement:s,middlewareData:i,rects:o,initialPlacement:a,platform:c,elements:d}=e,{mainAxis:h=!0,crossAxis:f=!0,fallbackPlacements:p,fallbackStrategy:m="bestFit",fallbackAxisSideDirection:T="none",flipAlignment:w=!0,...x}=Ts(t,e);if((n=i.arrow)!=null&&n.alignmentOffset)return{};const _=Ss(s),v=Lr(a),b=Ss(a)===a,k=await(c.isRTL==null?void 0:c.isRTL(d.floating)),O=p||(b||!w?[rf(a)]:M4(a)),D=T!=="none";!p&&D&&O.push(...U4(a,w,T,k));const C=[a,...O],I=await cu(e,x),S=[];let N=((r=i.flip)==null?void 0:r.overflows)||[];if(h&&S.push(I[_]),f){const M=O4(s,o,k);S.push(I[M[0]],I[M[1]])}if(N=[...N,{placement:s,overflows:S}],!S.every(M=>M<=0)){var P,j;const M=(((P=i.flip)==null?void 0:P.index)||0)+1,G=C[M];if(G&&(!(f==="alignment"?v!==Lr(G):!1)||N.every(F=>F.overflows[0]>0&&Lr(F.placement)===v)))return{data:{index:M,overflows:N},reset:{placement:G}};let H=(j=N.filter(ne=>ne.overflows[0]<=0).sort((ne,F)=>ne.overflows[1]-F.overflows[1])[0])==null?void 0:j.placement;if(!H)switch(m){case"bestFit":{var R;const ne=(R=N.filter(F=>{if(D){const V=Lr(F.placement);return V===v||V==="y"}return!0}).map(F=>[F.placement,F.overflows.filter(V=>V>0).reduce((V,L)=>V+L,0)]).sort((F,V)=>F[1]-V[1])[0])==null?void 0:R[0];ne&&(H=ne);break}case"initialPlacement":H=a;break}if(s!==H)return{reset:{placement:H}}}return{}}}};function _1(t,e){return{top:t.top-e.height,right:t.right-e.width,bottom:t.bottom-e.height,left:t.left-e.width}}function b1(t){return A4.some(e=>t[e]>=0)}const H4=function(t){return t===void 0&&(t={}),{name:"hide",options:t,async fn(e){const{rects:n}=e,{strategy:r="referenceHidden",...s}=Ts(t,e);switch(r){case"referenceHidden":{const i=await cu(e,{...s,elementContext:"reference"}),o=_1(i,n.reference);return{data:{referenceHiddenOffsets:o,referenceHidden:b1(o)}}}case"escaped":{const i=await cu(e,{...s,altBoundary:!0}),o=_1(i,n.floating);return{data:{escapedOffsets:o,escaped:b1(o)}}}default:return{}}}}},sC=new Set(["left","top"]);async function q4(t,e){const{placement:n,platform:r,elements:s}=t,i=await(r.isRTL==null?void 0:r.isRTL(s.floating)),o=Ss(n),a=Sl(n),c=Lr(n)==="y",d=sC.has(o)?-1:1,h=i&&c?-1:1,f=Ts(e,t);let{mainAxis:p,crossAxis:m,alignmentAxis:T}=typeof f=="number"?{mainAxis:f,crossAxis:0,alignmentAxis:null}:{mainAxis:f.mainAxis||0,crossAxis:f.crossAxis||0,alignmentAxis:f.alignmentAxis};return a&&typeof T=="number"&&(m=a==="end"?T*-1:T),c?{x:m*h,y:p*d}:{x:p*d,y:m*h}}const G4=function(t){return t===void 0&&(t=0),{name:"offset",options:t,async fn(e){var n,r;const{x:s,y:i,placement:o,middlewareData:a}=e,c=await q4(e,t);return o===((n=a.offset)==null?void 0:n.placement)&&(r=a.arrow)!=null&&r.alignmentOffset?{}:{x:s+c.x,y:i+c.y,data:{...c,placement:o}}}}},K4=function(t){return t===void 0&&(t={}),{name:"shift",options:t,async fn(e){const{x:n,y:r,placement:s}=e,{mainAxis:i=!0,crossAxis:o=!1,limiter:a={fn:x=>{let{x:_,y:v}=x;return{x:_,y:v}}},...c}=Ts(t,e),d={x:n,y:r},h=await cu(e,c),f=Lr(Ss(s)),p=Nw(f);let m=d[p],T=d[f];if(i){const x=p==="y"?"top":"left",_=p==="y"?"bottom":"right",v=m+h[x],b=m-h[_];m=Py(v,m,b)}if(o){const x=f==="y"?"top":"left",_=f==="y"?"bottom":"right",v=T+h[x],b=T-h[_];T=Py(v,T,b)}const w=a.fn({...e,[p]:m,[f]:T});return{...w,data:{x:w.x-n,y:w.y-r,enabled:{[p]:i,[f]:o}}}}}},Q4=function(t){return t===void 0&&(t={}),{options:t,fn(e){const{x:n,y:r,placement:s,rects:i,middlewareData:o}=e,{offset:a=0,mainAxis:c=!0,crossAxis:d=!0}=Ts(t,e),h={x:n,y:r},f=Lr(s),p=Nw(f);let m=h[p],T=h[f];const w=Ts(a,e),x=typeof w=="number"?{mainAxis:w,crossAxis:0}:{mainAxis:0,crossAxis:0,...w};if(c){const b=p==="y"?"height":"width",k=i.reference[p]-i.floating[b]+x.mainAxis,O=i.reference[p]+i.reference[b]-x.mainAxis;m<k?m=k:m>O&&(m=O)}if(d){var _,v;const b=p==="y"?"width":"height",k=sC.has(Ss(s)),O=i.reference[f]-i.floating[b]+(k&&((_=o.offset)==null?void 0:_[f])||0)+(k?0:x.crossAxis),D=i.reference[f]+i.reference[b]+(k?0:((v=o.offset)==null?void 0:v[f])||0)-(k?x.crossAxis:0);T<O?T=O:T>D&&(T=D)}return{[p]:m,[f]:T}}}},Y4=function(t){return t===void 0&&(t={}),{name:"size",options:t,async fn(e){var n,r;const{placement:s,rects:i,platform:o,elements:a}=e,{apply:c=()=>{},...d}=Ts(t,e),h=await cu(e,d),f=Ss(s),p=Sl(s),m=Lr(s)==="y",{width:T,height:w}=i.floating;let x,_;f==="top"||f==="bottom"?(x=f,_=p===(await(o.isRTL==null?void 0:o.isRTL(a.floating))?"start":"end")?"left":"right"):(_=f,x=p==="end"?"top":"bottom");const v=w-h.top-h.bottom,b=T-h.left-h.right,k=ki(w-h[x],v),O=ki(T-h[_],b),D=!e.middlewareData.shift;let C=k,I=O;if((n=e.middlewareData.shift)!=null&&n.enabled.x&&(I=b),(r=e.middlewareData.shift)!=null&&r.enabled.y&&(C=v),D&&!p){const N=_n(h.left,0),P=_n(h.right,0),j=_n(h.top,0),R=_n(h.bottom,0);m?I=T-2*(N!==0||P!==0?N+P:_n(h.left,h.right)):C=w-2*(j!==0||R!==0?j+R:_n(h.top,h.bottom))}await c({...e,availableWidth:I,availableHeight:C});const S=await o.getDimensions(a.floating);return T!==S.width||w!==S.height?{reset:{rects:!0}}:{}}}};function ip(){return typeof window<"u"}function Il(t){return iC(t)?(t.nodeName||"").toLowerCase():"#document"}function Sn(t){var e;return(t==null||(e=t.ownerDocument)==null?void 0:e.defaultView)||window}function es(t){var e;return(e=(iC(t)?t.ownerDocument:t.document)||window.document)==null?void 0:e.documentElement}function iC(t){return ip()?t instanceof Node||t instanceof Sn(t).Node:!1}function fr(t){return ip()?t instanceof Element||t instanceof Sn(t).Element:!1}function Kr(t){return ip()?t instanceof HTMLElement||t instanceof Sn(t).HTMLElement:!1}function E1(t){return!ip()||typeof ShadowRoot>"u"?!1:t instanceof ShadowRoot||t instanceof Sn(t).ShadowRoot}const X4=new Set(["inline","contents"]);function Hu(t){const{overflow:e,overflowX:n,overflowY:r,display:s}=pr(t);return/auto|scroll|overlay|hidden|clip/.test(e+r+n)&&!X4.has(s)}const J4=new Set(["table","td","th"]);function Z4(t){return J4.has(Il(t))}const eV=[":popover-open",":modal"];function op(t){return eV.some(e=>{try{return t.matches(e)}catch{return!1}})}const tV=["transform","translate","scale","rotate","perspective"],nV=["transform","translate","scale","rotate","perspective","filter"],rV=["paint","layout","strict","content"];function Aw(t){const e=kw(),n=fr(t)?pr(t):t;return tV.some(r=>n[r]?n[r]!=="none":!1)||(n.containerType?n.containerType!=="normal":!1)||!e&&(n.backdropFilter?n.backdropFilter!=="none":!1)||!e&&(n.filter?n.filter!=="none":!1)||nV.some(r=>(n.willChange||"").includes(r))||rV.some(r=>(n.contain||"").includes(r))}function sV(t){let e=ji(t);for(;Kr(e)&&!ul(e);){if(Aw(e))return e;if(op(e))return null;e=ji(e)}return null}function kw(){return typeof CSS>"u"||!CSS.supports?!1:CSS.supports("-webkit-backdrop-filter","none")}const iV=new Set(["html","body","#document"]);function ul(t){return iV.has(Il(t))}function pr(t){return Sn(t).getComputedStyle(t)}function ap(t){return fr(t)?{scrollLeft:t.scrollLeft,scrollTop:t.scrollTop}:{scrollLeft:t.scrollX,scrollTop:t.scrollY}}function ji(t){if(Il(t)==="html")return t;const e=t.assignedSlot||t.parentNode||E1(t)&&t.host||es(t);return E1(e)?e.host:e}function oC(t){const e=ji(t);return ul(e)?t.ownerDocument?t.ownerDocument.body:t.body:Kr(e)&&Hu(e)?e:oC(e)}function uu(t,e,n){var r;e===void 0&&(e=[]),n===void 0&&(n=!0);const s=oC(t),i=s===((r=t.ownerDocument)==null?void 0:r.body),o=Sn(s);if(i){const a=ky(o);return e.concat(o,o.visualViewport||[],Hu(s)?s:[],a&&n?uu(a):[])}return e.concat(s,uu(s,[],n))}function ky(t){return t.parent&&Object.getPrototypeOf(t.parent)?t.frameElement:null}function aC(t){const e=pr(t);let n=parseFloat(e.width)||0,r=parseFloat(e.height)||0;const s=Kr(t),i=s?t.offsetWidth:n,o=s?t.offsetHeight:r,a=nf(n)!==i||nf(r)!==o;return a&&(n=i,r=o),{width:n,height:r,$:a}}function jw(t){return fr(t)?t:t.contextElement}function Ua(t){const e=jw(t);if(!Kr(e))return Ur(1);const n=e.getBoundingClientRect(),{width:r,height:s,$:i}=aC(e);let o=(i?nf(n.width):n.width)/r,a=(i?nf(n.height):n.height)/s;return(!o||!Number.isFinite(o))&&(o=1),(!a||!Number.isFinite(a))&&(a=1),{x:o,y:a}}const oV=Ur(0);function lC(t){const e=Sn(t);return!kw()||!e.visualViewport?oV:{x:e.visualViewport.offsetLeft,y:e.visualViewport.offsetTop}}function aV(t,e,n){return e===void 0&&(e=!1),!n||e&&n!==Sn(t)?!1:e}function Oo(t,e,n,r){e===void 0&&(e=!1),n===void 0&&(n=!1);const s=t.getBoundingClientRect(),i=jw(t);let o=Ur(1);e&&(r?fr(r)&&(o=Ua(r)):o=Ua(t));const a=aV(i,n,r)?lC(i):Ur(0);let c=(s.left+a.x)/o.x,d=(s.top+a.y)/o.y,h=s.width/o.x,f=s.height/o.y;if(i){const p=Sn(i),m=r&&fr(r)?Sn(r):r;let T=p,w=ky(T);for(;w&&r&&m!==T;){const x=Ua(w),_=w.getBoundingClientRect(),v=pr(w),b=_.left+(w.clientLeft+parseFloat(v.paddingLeft))*x.x,k=_.top+(w.clientTop+parseFloat(v.paddingTop))*x.y;c*=x.x,d*=x.y,h*=x.x,f*=x.y,c+=b,d+=k,T=Sn(w),w=ky(T)}}return sf({width:h,height:f,x:c,y:d})}function Dw(t,e){const n=ap(t).scrollLeft;return e?e.left+n:Oo(es(t)).left+n}function cC(t,e,n){n===void 0&&(n=!1);const r=t.getBoundingClientRect(),s=r.left+e.scrollLeft-(n?0:Dw(t,r)),i=r.top+e.scrollTop;return{x:s,y:i}}function lV(t){let{elements:e,rect:n,offsetParent:r,strategy:s}=t;const i=s==="fixed",o=es(r),a=e?op(e.floating):!1;if(r===o||a&&i)return n;let c={scrollLeft:0,scrollTop:0},d=Ur(1);const h=Ur(0),f=Kr(r);if((f||!f&&!i)&&((Il(r)!=="body"||Hu(o))&&(c=ap(r)),Kr(r))){const m=Oo(r);d=Ua(r),h.x=m.x+r.clientLeft,h.y=m.y+r.clientTop}const p=o&&!f&&!i?cC(o,c,!0):Ur(0);return{width:n.width*d.x,height:n.height*d.y,x:n.x*d.x-c.scrollLeft*d.x+h.x+p.x,y:n.y*d.y-c.scrollTop*d.y+h.y+p.y}}function cV(t){return Array.from(t.getClientRects())}function uV(t){const e=es(t),n=ap(t),r=t.ownerDocument.body,s=_n(e.scrollWidth,e.clientWidth,r.scrollWidth,r.clientWidth),i=_n(e.scrollHeight,e.clientHeight,r.scrollHeight,r.clientHeight);let o=-n.scrollLeft+Dw(t);const a=-n.scrollTop;return pr(r).direction==="rtl"&&(o+=_n(e.clientWidth,r.clientWidth)-s),{width:s,height:i,x:o,y:a}}function dV(t,e){const n=Sn(t),r=es(t),s=n.visualViewport;let i=r.clientWidth,o=r.clientHeight,a=0,c=0;if(s){i=s.width,o=s.height;const d=kw();(!d||d&&e==="fixed")&&(a=s.offsetLeft,c=s.offsetTop)}return{width:i,height:o,x:a,y:c}}const hV=new Set(["absolute","fixed"]);function fV(t,e){const n=Oo(t,!0,e==="fixed"),r=n.top+t.clientTop,s=n.left+t.clientLeft,i=Kr(t)?Ua(t):Ur(1),o=t.clientWidth*i.x,a=t.clientHeight*i.y,c=s*i.x,d=r*i.y;return{width:o,height:a,x:c,y:d}}function T1(t,e,n){let r;if(e==="viewport")r=dV(t,n);else if(e==="document")r=uV(es(t));else if(fr(e))r=fV(e,n);else{const s=lC(t);r={x:e.x-s.x,y:e.y-s.y,width:e.width,height:e.height}}return sf(r)}function uC(t,e){const n=ji(t);return n===e||!fr(n)||ul(n)?!1:pr(n).position==="fixed"||uC(n,e)}function pV(t,e){const n=e.get(t);if(n)return n;let r=uu(t,[],!1).filter(a=>fr(a)&&Il(a)!=="body"),s=null;const i=pr(t).position==="fixed";let o=i?ji(t):t;for(;fr(o)&&!ul(o);){const a=pr(o),c=Aw(o);!c&&a.position==="fixed"&&(s=null),(i?!c&&!s:!c&&a.position==="static"&&!!s&&hV.has(s.position)||Hu(o)&&!c&&uC(t,o))?r=r.filter(h=>h!==o):s=a,o=ji(o)}return e.set(t,r),r}function mV(t){let{element:e,boundary:n,rootBoundary:r,strategy:s}=t;const o=[...n==="clippingAncestors"?op(e)?[]:pV(e,this._c):[].concat(n),r],a=o[0],c=o.reduce((d,h)=>{const f=T1(e,h,s);return d.top=_n(f.top,d.top),d.right=ki(f.right,d.right),d.bottom=ki(f.bottom,d.bottom),d.left=_n(f.left,d.left),d},T1(e,a,s));return{width:c.right-c.left,height:c.bottom-c.top,x:c.left,y:c.top}}function gV(t){const{width:e,height:n}=aC(t);return{width:e,height:n}}function yV(t,e,n){const r=Kr(e),s=es(e),i=n==="fixed",o=Oo(t,!0,i,e);let a={scrollLeft:0,scrollTop:0};const c=Ur(0);function d(){c.x=Dw(s)}if(r||!r&&!i)if((Il(e)!=="body"||Hu(s))&&(a=ap(e)),r){const m=Oo(e,!0,i,e);c.x=m.x+e.clientLeft,c.y=m.y+e.clientTop}else s&&d();i&&!r&&s&&d();const h=s&&!r&&!i?cC(s,a):Ur(0),f=o.left+a.scrollLeft-c.x-h.x,p=o.top+a.scrollTop-c.y-h.y;return{x:f,y:p,width:o.width,height:o.height}}function eg(t){return pr(t).position==="static"}function S1(t,e){if(!Kr(t)||pr(t).position==="fixed")return null;if(e)return e(t);let n=t.offsetParent;return es(t)===n&&(n=n.ownerDocument.body),n}function dC(t,e){const n=Sn(t);if(op(t))return n;if(!Kr(t)){let s=ji(t);for(;s&&!ul(s);){if(fr(s)&&!eg(s))return s;s=ji(s)}return n}let r=S1(t,e);for(;r&&Z4(r)&&eg(r);)r=S1(r,e);return r&&ul(r)&&eg(r)&&!Aw(r)?n:r||sV(t)||n}const vV=async function(t){const e=this.getOffsetParent||dC,n=this.getDimensions,r=await n(t.floating);return{reference:yV(t.reference,await e(t.floating),t.strategy),floating:{x:0,y:0,width:r.width,height:r.height}}};function wV(t){return pr(t).direction==="rtl"}const xV={convertOffsetParentRelativeRectToViewportRelativeRect:lV,getDocumentElement:es,getClippingRect:mV,getOffsetParent:dC,getElementRects:vV,getClientRects:cV,getDimensions:gV,getScale:Ua,isElement:fr,isRTL:wV};function hC(t,e){return t.x===e.x&&t.y===e.y&&t.width===e.width&&t.height===e.height}function _V(t,e){let n=null,r;const s=es(t);function i(){var a;clearTimeout(r),(a=n)==null||a.disconnect(),n=null}function o(a,c){a===void 0&&(a=!1),c===void 0&&(c=1),i();const d=t.getBoundingClientRect(),{left:h,top:f,width:p,height:m}=d;if(a||e(),!p||!m)return;const T=$d(f),w=$d(s.clientWidth-(h+p)),x=$d(s.clientHeight-(f+m)),_=$d(h),b={rootMargin:-T+"px "+-w+"px "+-x+"px "+-_+"px",threshold:_n(0,ki(1,c))||1};let k=!0;function O(D){const C=D[0].intersectionRatio;if(C!==c){if(!k)return o();C?o(!1,C):r=setTimeout(()=>{o(!1,1e-7)},1e3)}C===1&&!hC(d,t.getBoundingClientRect())&&o(),k=!1}try{n=new IntersectionObserver(O,{...b,root:s.ownerDocument})}catch{n=new IntersectionObserver(O,b)}n.observe(t)}return o(!0),i}function bV(t,e,n,r){r===void 0&&(r={});const{ancestorScroll:s=!0,ancestorResize:i=!0,elementResize:o=typeof ResizeObserver=="function",layoutShift:a=typeof IntersectionObserver=="function",animationFrame:c=!1}=r,d=jw(t),h=s||i?[...d?uu(d):[],...uu(e)]:[];h.forEach(_=>{s&&_.addEventListener("scroll",n,{passive:!0}),i&&_.addEventListener("resize",n)});const f=d&&a?_V(d,n):null;let p=-1,m=null;o&&(m=new ResizeObserver(_=>{let[v]=_;v&&v.target===d&&m&&(m.unobserve(e),cancelAnimationFrame(p),p=requestAnimationFrame(()=>{var b;(b=m)==null||b.observe(e)})),n()}),d&&!c&&m.observe(d),m.observe(e));let T,w=c?Oo(t):null;c&&x();function x(){const _=Oo(t);w&&!hC(w,_)&&n(),w=_,T=requestAnimationFrame(x)}return n(),()=>{var _;h.forEach(v=>{s&&v.removeEventListener("scroll",n),i&&v.removeEventListener("resize",n)}),f==null||f(),(_=m)==null||_.disconnect(),m=null,c&&cancelAnimationFrame(T)}}const EV=G4,TV=K4,SV=W4,IV=Y4,CV=H4,I1=z4,NV=Q4,RV=(t,e,n)=>{const r=new Map,s={platform:xV,...n},i={...s.platform,_c:r};return B4(t,e,{...s,platform:i})};var PV=typeof document<"u",AV=function(){},yh=PV?g.useLayoutEffect:AV;function of(t,e){if(t===e)return!0;if(typeof t!=typeof e)return!1;if(typeof t=="function"&&t.toString()===e.toString())return!0;let n,r,s;if(t&&e&&typeof t=="object"){if(Array.isArray(t)){if(n=t.length,n!==e.length)return!1;for(r=n;r--!==0;)if(!of(t[r],e[r]))return!1;return!0}if(s=Object.keys(t),n=s.length,n!==Object.keys(e).length)return!1;for(r=n;r--!==0;)if(!{}.hasOwnProperty.call(e,s[r]))return!1;for(r=n;r--!==0;){const i=s[r];if(!(i==="_owner"&&t.$$typeof)&&!of(t[i],e[i]))return!1}return!0}return t!==t&&e!==e}function fC(t){return typeof window>"u"?1:(t.ownerDocument.defaultView||window).devicePixelRatio||1}function C1(t,e){const n=fC(t);return Math.round(e*n)/n}function tg(t){const e=g.useRef(t);return yh(()=>{e.current=t}),e}function kV(t){t===void 0&&(t={});const{placement:e="bottom",strategy:n="absolute",middleware:r=[],platform:s,elements:{reference:i,floating:o}={},transform:a=!0,whileElementsMounted:c,open:d}=t,[h,f]=g.useState({x:0,y:0,strategy:n,placement:e,middlewareData:{},isPositioned:!1}),[p,m]=g.useState(r);of(p,r)||m(r);const[T,w]=g.useState(null),[x,_]=g.useState(null),v=g.useCallback(F=>{F!==D.current&&(D.current=F,w(F))},[]),b=g.useCallback(F=>{F!==C.current&&(C.current=F,_(F))},[]),k=i||T,O=o||x,D=g.useRef(null),C=g.useRef(null),I=g.useRef(h),S=c!=null,N=tg(c),P=tg(s),j=tg(d),R=g.useCallback(()=>{if(!D.current||!C.current)return;const F={placement:e,strategy:n,middleware:p};P.current&&(F.platform=P.current),RV(D.current,C.current,F).then(V=>{const L={...V,isPositioned:j.current!==!1};M.current&&!of(I.current,L)&&(I.current=L,Yo.flushSync(()=>{f(L)}))})},[p,e,n,P,j]);yh(()=>{d===!1&&I.current.isPositioned&&(I.current.isPositioned=!1,f(F=>({...F,isPositioned:!1})))},[d]);const M=g.useRef(!1);yh(()=>(M.current=!0,()=>{M.current=!1}),[]),yh(()=>{if(k&&(D.current=k),O&&(C.current=O),k&&O){if(N.current)return N.current(k,O,R);R()}},[k,O,R,N,S]);const G=g.useMemo(()=>({reference:D,floating:C,setReference:v,setFloating:b}),[v,b]),H=g.useMemo(()=>({reference:k,floating:O}),[k,O]),ne=g.useMemo(()=>{const F={position:n,left:0,top:0};if(!H.floating)return F;const V=C1(H.floating,h.x),L=C1(H.floating,h.y);return a?{...F,transform:"translate("+V+"px, "+L+"px)",...fC(H.floating)>=1.5&&{willChange:"transform"}}:{position:n,left:V,top:L}},[n,a,H.floating,h.x,h.y]);return g.useMemo(()=>({...h,update:R,refs:G,elements:H,floatingStyles:ne}),[h,R,G,H,ne])}const jV=t=>{function e(n){return{}.hasOwnProperty.call(n,"current")}return{name:"arrow",options:t,fn(n){const{element:r,padding:s}=typeof t=="function"?t(n):t;return r&&e(r)?r.current!=null?I1({element:r.current,padding:s}).fn(n):{}:r?I1({element:r,padding:s}).fn(n):{}}}},DV=(t,e)=>({...EV(t),options:[t,e]}),OV=(t,e)=>({...TV(t),options:[t,e]}),MV=(t,e)=>({...NV(t),options:[t,e]}),LV=(t,e)=>({...SV(t),options:[t,e]}),VV=(t,e)=>({...IV(t),options:[t,e]}),FV=(t,e)=>({...CV(t),options:[t,e]}),UV=(t,e)=>({...jV(t),options:[t,e]});var $V="Arrow",pC=g.forwardRef((t,e)=>{const{children:n,width:r=10,height:s=5,...i}=t;return l.jsx(ce.svg,{...i,ref:e,width:r,height:s,viewBox:"0 0 30 10",preserveAspectRatio:"none",children:t.asChild?n:l.jsx("polygon",{points:"0,0 30,0 15,10"})})});pC.displayName=$V;var BV=pC;function zV(t){const[e,n]=g.useState(void 0);return jt(()=>{if(t){n({width:t.offsetWidth,height:t.offsetHeight});const r=new ResizeObserver(s=>{if(!Array.isArray(s)||!s.length)return;const i=s[0];let o,a;if("borderBoxSize"in i){const c=i.borderBoxSize,d=Array.isArray(c)?c[0]:c;o=d.inlineSize,a=d.blockSize}else o=t.offsetWidth,a=t.offsetHeight;n({width:o,height:a})});return r.observe(t,{box:"border-box"}),()=>r.unobserve(t)}else n(void 0)},[t]),e}var Ow="Popper",[mC,Cl]=vr(Ow),[WV,gC]=mC(Ow),yC=t=>{const{__scopePopper:e,children:n}=t,[r,s]=g.useState(null);return l.jsx(WV,{scope:e,anchor:r,onAnchorChange:s,children:n})};yC.displayName=Ow;var vC="PopperAnchor",wC=g.forwardRef((t,e)=>{const{__scopePopper:n,virtualRef:r,...s}=t,i=gC(vC,n),o=g.useRef(null),a=Me(e,o);return g.useEffect(()=>{i.onAnchorChange((r==null?void 0:r.current)||o.current)}),r?null:l.jsx(ce.div,{...s,ref:a})});wC.displayName=vC;var Mw="PopperContent",[HV,qV]=mC(Mw),xC=g.forwardRef((t,e)=>{var Q,Te,Pe,Se,Ie,Ae;const{__scopePopper:n,side:r="bottom",sideOffset:s=0,align:i="center",alignOffset:o=0,arrowPadding:a=0,avoidCollisions:c=!0,collisionBoundary:d=[],collisionPadding:h=0,sticky:f="partial",hideWhenDetached:p=!1,updatePositionStrategy:m="optimized",onPlaced:T,...w}=t,x=gC(Mw,n),[_,v]=g.useState(null),b=Me(e,mt=>v(mt)),[k,O]=g.useState(null),D=zV(k),C=(D==null?void 0:D.width)??0,I=(D==null?void 0:D.height)??0,S=r+(i!=="center"?"-"+i:""),N=typeof h=="number"?h:{top:0,right:0,bottom:0,left:0,...h},P=Array.isArray(d)?d:[d],j=P.length>0,R={padding:N,boundary:P.filter(KV),altBoundary:j},{refs:M,floatingStyles:G,placement:H,isPositioned:ne,middlewareData:F}=kV({strategy:"fixed",placement:S,whileElementsMounted:(...mt)=>bV(...mt,{animationFrame:m==="always"}),elements:{reference:x.anchor},middleware:[DV({mainAxis:s+I,alignmentAxis:o}),c&&OV({mainAxis:!0,crossAxis:!1,limiter:f==="partial"?MV():void 0,...R}),c&&LV({...R}),VV({...R,apply:({elements:mt,rects:Yt,availableWidth:ts,availableHeight:Pn})=>{const{width:qn,height:Ds}=Yt.reference,tt=mt.floating.style;tt.setProperty("--radix-popper-available-width",`${ts}px`),tt.setProperty("--radix-popper-available-height",`${Pn}px`),tt.setProperty("--radix-popper-anchor-width",`${qn}px`),tt.setProperty("--radix-popper-anchor-height",`${Ds}px`)}}),k&&UV({element:k,padding:a}),QV({arrowWidth:C,arrowHeight:I}),p&&FV({strategy:"referenceHidden",...R})]}),[V,L]=EC(H),Z=yn(T);jt(()=>{ne&&(Z==null||Z())},[ne,Z]);const X=(Q=F.arrow)==null?void 0:Q.x,oe=(Te=F.arrow)==null?void 0:Te.y,ae=((Pe=F.arrow)==null?void 0:Pe.centerOffset)!==0,[we,ke]=g.useState();return jt(()=>{_&&ke(window.getComputedStyle(_).zIndex)},[_]),l.jsx("div",{ref:M.setFloating,"data-radix-popper-content-wrapper":"",style:{...G,transform:ne?G.transform:"translate(0, -200%)",minWidth:"max-content",zIndex:we,"--radix-popper-transform-origin":[(Se=F.transformOrigin)==null?void 0:Se.x,(Ie=F.transformOrigin)==null?void 0:Ie.y].join(" "),...((Ae=F.hide)==null?void 0:Ae.referenceHidden)&&{visibility:"hidden",pointerEvents:"none"}},dir:t.dir,children:l.jsx(HV,{scope:n,placedSide:V,onArrowChange:O,arrowX:X,arrowY:oe,shouldHideArrow:ae,children:l.jsx(ce.div,{"data-side":V,"data-align":L,...w,ref:b,style:{...w.style,animation:ne?void 0:"none"}})})})});xC.displayName=Mw;var _C="PopperArrow",GV={top:"bottom",right:"left",bottom:"top",left:"right"},bC=g.forwardRef(function(e,n){const{__scopePopper:r,...s}=e,i=qV(_C,r),o=GV[i.placedSide];return l.jsx("span",{ref:i.onArrowChange,style:{position:"absolute",left:i.arrowX,top:i.arrowY,[o]:0,transformOrigin:{top:"",right:"0 0",bottom:"center 0",left:"100% 0"}[i.placedSide],transform:{top:"translateY(100%)",right:"translateY(50%) rotate(90deg) translateX(-50%)",bottom:"rotate(180deg)",left:"translateY(50%) rotate(-90deg) translateX(50%)"}[i.placedSide],visibility:i.shouldHideArrow?"hidden":void 0},children:l.jsx(BV,{...s,ref:n,style:{...s.style,display:"block"}})})});bC.displayName=_C;function KV(t){return t!==null}var QV=t=>({name:"transformOrigin",options:t,fn(e){var x,_,v;const{placement:n,rects:r,middlewareData:s}=e,o=((x=s.arrow)==null?void 0:x.centerOffset)!==0,a=o?0:t.arrowWidth,c=o?0:t.arrowHeight,[d,h]=EC(n),f={start:"0%",center:"50%",end:"100%"}[h],p=(((_=s.arrow)==null?void 0:_.x)??0)+a/2,m=(((v=s.arrow)==null?void 0:v.y)??0)+c/2;let T="",w="";return d==="bottom"?(T=o?f:`${p}px`,w=`${-c}px`):d==="top"?(T=o?f:`${p}px`,w=`${r.floating.height+c}px`):d==="right"?(T=`${-c}px`,w=o?f:`${m}px`):d==="left"&&(T=`${r.floating.width+c}px`,w=o?f:`${m}px`),{data:{x:T,y:w}}}});function EC(t){const[e,n="center"]=t.split("-");return[e,n]}var Lw=yC,Vw=wC,Fw=xC,Uw=bC,[lp,_Q]=vr("Tooltip",[Cl]),cp=Cl(),TC="TooltipProvider",YV=700,jy="tooltip.open",[XV,$w]=lp(TC),SC=t=>{const{__scopeTooltip:e,delayDuration:n=YV,skipDelayDuration:r=300,disableHoverableContent:s=!1,children:i}=t,o=g.useRef(!0),a=g.useRef(!1),c=g.useRef(0);return g.useEffect(()=>{const d=c.current;return()=>window.clearTimeout(d)},[]),l.jsx(XV,{scope:e,isOpenDelayedRef:o,delayDuration:n,onOpen:g.useCallback(()=>{window.clearTimeout(c.current),o.current=!1},[]),onClose:g.useCallback(()=>{window.clearTimeout(c.current),c.current=window.setTimeout(()=>o.current=!0,r)},[r]),isPointerInTransitRef:a,onPointerInTransitChange:g.useCallback(d=>{a.current=d},[]),disableHoverableContent:s,children:i})};SC.displayName=TC;var du="Tooltip",[JV,up]=lp(du),IC=t=>{const{__scopeTooltip:e,children:n,open:r,defaultOpen:s,onOpenChange:i,disableHoverableContent:o,delayDuration:a}=t,c=$w(du,t.__scopeTooltip),d=cp(e),[h,f]=g.useState(null),p=Un(),m=g.useRef(0),T=o??c.disableHoverableContent,w=a??c.delayDuration,x=g.useRef(!1),[_,v]=Es({prop:r,defaultProp:s??!1,onChange:C=>{C?(c.onOpen(),document.dispatchEvent(new CustomEvent(jy))):c.onClose(),i==null||i(C)},caller:du}),b=g.useMemo(()=>_?x.current?"delayed-open":"instant-open":"closed",[_]),k=g.useCallback(()=>{window.clearTimeout(m.current),m.current=0,x.current=!1,v(!0)},[v]),O=g.useCallback(()=>{window.clearTimeout(m.current),m.current=0,v(!1)},[v]),D=g.useCallback(()=>{window.clearTimeout(m.current),m.current=window.setTimeout(()=>{x.current=!0,v(!0),m.current=0},w)},[w,v]);return g.useEffect(()=>()=>{m.current&&(window.clearTimeout(m.current),m.current=0)},[]),l.jsx(Lw,{...d,children:l.jsx(JV,{scope:e,contentId:p,open:_,stateAttribute:b,trigger:h,onTriggerChange:f,onTriggerEnter:g.useCallback(()=>{c.isOpenDelayedRef.current?D():k()},[c.isOpenDelayedRef,D,k]),onTriggerLeave:g.useCallback(()=>{T?O():(window.clearTimeout(m.current),m.current=0)},[O,T]),onOpen:k,onClose:O,disableHoverableContent:T,children:n})})};IC.displayName=du;var Dy="TooltipTrigger",CC=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=up(Dy,n),i=$w(Dy,n),o=cp(n),a=g.useRef(null),c=Me(e,a,s.onTriggerChange),d=g.useRef(!1),h=g.useRef(!1),f=g.useCallback(()=>d.current=!1,[]);return g.useEffect(()=>()=>document.removeEventListener("pointerup",f),[f]),l.jsx(Vw,{asChild:!0,...o,children:l.jsx(ce.button,{"aria-describedby":s.open?s.contentId:void 0,"data-state":s.stateAttribute,...r,ref:c,onPointerMove:ee(t.onPointerMove,p=>{p.pointerType!=="touch"&&!h.current&&!i.isPointerInTransitRef.current&&(s.onTriggerEnter(),h.current=!0)}),onPointerLeave:ee(t.onPointerLeave,()=>{s.onTriggerLeave(),h.current=!1}),onPointerDown:ee(t.onPointerDown,()=>{s.open&&s.onClose(),d.current=!0,document.addEventListener("pointerup",f,{once:!0})}),onFocus:ee(t.onFocus,()=>{d.current||s.onOpen()}),onBlur:ee(t.onBlur,s.onClose),onClick:ee(t.onClick,s.onClose)})})});CC.displayName=Dy;var ZV="TooltipPortal",[bQ,e5]=lp(ZV,{forceMount:void 0}),dl="TooltipContent",NC=g.forwardRef((t,e)=>{const n=e5(dl,t.__scopeTooltip),{forceMount:r=n.forceMount,side:s="top",...i}=t,o=up(dl,t.__scopeTooltip);return l.jsx(Hn,{present:r||o.open,children:o.disableHoverableContent?l.jsx(RC,{side:s,...i,ref:e}):l.jsx(t5,{side:s,...i,ref:e})})}),t5=g.forwardRef((t,e)=>{const n=up(dl,t.__scopeTooltip),r=$w(dl,t.__scopeTooltip),s=g.useRef(null),i=Me(e,s),[o,a]=g.useState(null),{trigger:c,onClose:d}=n,h=s.current,{onPointerInTransitChange:f}=r,p=g.useCallback(()=>{a(null),f(!1)},[f]),m=g.useCallback((T,w)=>{const x=T.currentTarget,_={x:T.clientX,y:T.clientY},v=o5(_,x.getBoundingClientRect()),b=a5(_,v),k=l5(w.getBoundingClientRect()),O=u5([...b,...k]);a(O),f(!0)},[f]);return g.useEffect(()=>()=>p(),[p]),g.useEffect(()=>{if(c&&h){const T=x=>m(x,h),w=x=>m(x,c);return c.addEventListener("pointerleave",T),h.addEventListener("pointerleave",w),()=>{c.removeEventListener("pointerleave",T),h.removeEventListener("pointerleave",w)}}},[c,h,m,p]),g.useEffect(()=>{if(o){const T=w=>{const x=w.target,_={x:w.clientX,y:w.clientY},v=(c==null?void 0:c.contains(x))||(h==null?void 0:h.contains(x)),b=!c5(_,o);v?p():b&&(p(),d())};return document.addEventListener("pointermove",T),()=>document.removeEventListener("pointermove",T)}},[c,h,o,d,p]),l.jsx(RC,{...t,ref:i})}),[n5,r5]=lp(du,{isInside:!1}),s5=cM("TooltipContent"),RC=g.forwardRef((t,e)=>{const{__scopeTooltip:n,children:r,"aria-label":s,onEscapeKeyDown:i,onPointerDownOutside:o,...a}=t,c=up(dl,n),d=cp(n),{onClose:h}=c;return g.useEffect(()=>(document.addEventListener(jy,h),()=>document.removeEventListener(jy,h)),[h]),g.useEffect(()=>{if(c.trigger){const f=p=>{const m=p.target;m!=null&&m.contains(c.trigger)&&h()};return window.addEventListener("scroll",f,{capture:!0}),()=>window.removeEventListener("scroll",f,{capture:!0})}},[c.trigger,h]),l.jsx(bl,{asChild:!0,disableOutsidePointerEvents:!1,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:f=>f.preventDefault(),onDismiss:h,children:l.jsxs(Fw,{"data-state":c.stateAttribute,...d,...a,ref:e,style:{...a.style,"--radix-tooltip-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-tooltip-content-available-width":"var(--radix-popper-available-width)","--radix-tooltip-content-available-height":"var(--radix-popper-available-height)","--radix-tooltip-trigger-width":"var(--radix-popper-anchor-width)","--radix-tooltip-trigger-height":"var(--radix-popper-anchor-height)"},children:[l.jsx(s5,{children:r}),l.jsx(n5,{scope:n,isInside:!0,children:l.jsx(AM,{id:c.contentId,role:"tooltip",children:s||r})})]})})});NC.displayName=dl;var PC="TooltipArrow",i5=g.forwardRef((t,e)=>{const{__scopeTooltip:n,...r}=t,s=cp(n);return r5(PC,n).isInside?null:l.jsx(Uw,{...s,...r,ref:e})});i5.displayName=PC;function o5(t,e){const n=Math.abs(e.top-t.y),r=Math.abs(e.bottom-t.y),s=Math.abs(e.right-t.x),i=Math.abs(e.left-t.x);switch(Math.min(n,r,s,i)){case i:return"left";case s:return"right";case n:return"top";case r:return"bottom";default:throw new Error("unreachable")}}function a5(t,e,n=5){const r=[];switch(e){case"top":r.push({x:t.x-n,y:t.y+n},{x:t.x+n,y:t.y+n});break;case"bottom":r.push({x:t.x-n,y:t.y-n},{x:t.x+n,y:t.y-n});break;case"left":r.push({x:t.x+n,y:t.y-n},{x:t.x+n,y:t.y+n});break;case"right":r.push({x:t.x-n,y:t.y-n},{x:t.x-n,y:t.y+n});break}return r}function l5(t){const{top:e,right:n,bottom:r,left:s}=t;return[{x:s,y:e},{x:n,y:e},{x:n,y:r},{x:s,y:r}]}function c5(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],c=e[o],d=a.x,h=a.y,f=c.x,p=c.y;h>r!=p>r&&n<(f-d)*(r-h)/(p-h)+d&&(s=!s)}return s}function u5(t){const e=t.slice();return e.sort((n,r)=>n.x<r.x?-1:n.x>r.x?1:n.y<r.y?-1:n.y>r.y?1:0),d5(e)}function d5(t){if(t.length<=1)return t.slice();const e=[];for(let r=0;r<t.length;r++){const s=t[r];for(;e.length>=2;){const i=e[e.length-1],o=e[e.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))e.pop();else break}e.push(s)}e.pop();const n=[];for(let r=t.length-1;r>=0;r--){const s=t[r];for(;n.length>=2;){const i=n[n.length-1],o=n[n.length-2];if((i.x-o.x)*(s.y-o.y)>=(i.y-o.y)*(s.x-o.x))n.pop();else break}n.push(s)}return n.pop(),e.length===1&&n.length===1&&e[0].x===n[0].x&&e[0].y===n[0].y?e:e.concat(n)}var h5=SC,f5=IC,p5=CC,AC=NC;const kC=h5,m5=f5,g5=p5,jC=g.forwardRef(({className:t,sideOffset:e=4,...n},r)=>l.jsx(AC,{ref:r,sideOffset:e,className:Y("z-50 overflow-hidden rounded-md border bg-popover px-3 py-1.5 text-sm text-popover-foreground shadow-md animate-in fade-in-0 zoom-in-95 data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=closed]:zoom-out-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n}));jC.displayName=AC.displayName;var dp=class{constructor(){this.listeners=new Set,this.subscribe=this.subscribe.bind(this)}subscribe(t){return this.listeners.add(t),this.onSubscribe(),()=>{this.listeners.delete(t),this.onUnsubscribe()}}hasListeners(){return this.listeners.size>0}onSubscribe(){}onUnsubscribe(){}},hp=typeof window>"u"||"Deno"in globalThis;function Zn(){}function y5(t,e){return typeof t=="function"?t(e):t}function v5(t){return typeof t=="number"&&t>=0&&t!==1/0}function w5(t,e){return Math.max(t+(e||0)-Date.now(),0)}function Oy(t,e){return typeof t=="function"?t(e):t}function x5(t,e){return typeof t=="function"?t(e):t}function N1(t,e){const{type:n="all",exact:r,fetchStatus:s,predicate:i,queryKey:o,stale:a}=t;if(o){if(r){if(e.queryHash!==Bw(o,e.options))return!1}else if(!fu(e.queryKey,o))return!1}if(n!=="all"){const c=e.isActive();if(n==="active"&&!c||n==="inactive"&&c)return!1}return!(typeof a=="boolean"&&e.isStale()!==a||s&&s!==e.state.fetchStatus||i&&!i(e))}function R1(t,e){const{exact:n,status:r,predicate:s,mutationKey:i}=t;if(i){if(!e.options.mutationKey)return!1;if(n){if(hu(e.options.mutationKey)!==hu(i))return!1}else if(!fu(e.options.mutationKey,i))return!1}return!(r&&e.state.status!==r||s&&!s(e))}function Bw(t,e){return((e==null?void 0:e.queryKeyHashFn)||hu)(t)}function hu(t){return JSON.stringify(t,(e,n)=>My(n)?Object.keys(n).sort().reduce((r,s)=>(r[s]=n[s],r),{}):n)}function fu(t,e){return t===e?!0:typeof t!=typeof e?!1:t&&e&&typeof t=="object"&&typeof e=="object"?Object.keys(e).every(n=>fu(t[n],e[n])):!1}function DC(t,e){if(t===e)return t;const n=P1(t)&&P1(e);if(n||My(t)&&My(e)){const r=n?t:Object.keys(t),s=r.length,i=n?e:Object.keys(e),o=i.length,a=n?[]:{},c=new Set(r);let d=0;for(let h=0;h<o;h++){const f=n?h:i[h];(!n&&c.has(f)||n)&&t[f]===void 0&&e[f]===void 0?(a[f]=void 0,d++):(a[f]=DC(t[f],e[f]),a[f]===t[f]&&t[f]!==void 0&&d++)}return s===o&&d===s?t:a}return e}function P1(t){return Array.isArray(t)&&t.length===Object.keys(t).length}function My(t){if(!A1(t))return!1;const e=t.constructor;if(e===void 0)return!0;const n=e.prototype;return!(!A1(n)||!n.hasOwnProperty("isPrototypeOf")||Object.getPrototypeOf(t)!==Object.prototype)}function A1(t){return Object.prototype.toString.call(t)==="[object Object]"}function _5(t){return new Promise(e=>{setTimeout(e,t)})}function b5(t,e,n){return typeof n.structuralSharing=="function"?n.structuralSharing(t,e):n.structuralSharing!==!1?DC(t,e):e}function E5(t,e,n=0){const r=[...t,e];return n&&r.length>n?r.slice(1):r}function T5(t,e,n=0){const r=[e,...t];return n&&r.length>n?r.slice(0,-1):r}var zw=Symbol();function OC(t,e){return!t.queryFn&&(e!=null&&e.initialPromise)?()=>e.initialPromise:!t.queryFn||t.queryFn===zw?()=>Promise.reject(new Error(`Missing queryFn: '${t.queryHash}'`)):t.queryFn}var yo,ii,Ka,HE,S5=(HE=class extends dp{constructor(){super();Oe(this,yo);Oe(this,ii);Oe(this,Ka);ye(this,Ka,e=>{if(!hp&&window.addEventListener){const n=()=>e();return window.addEventListener("visibilitychange",n,!1),()=>{window.removeEventListener("visibilitychange",n)}}})}onSubscribe(){B(this,ii)||this.setEventListener(B(this,Ka))}onUnsubscribe(){var e;this.hasListeners()||((e=B(this,ii))==null||e.call(this),ye(this,ii,void 0))}setEventListener(e){var n;ye(this,Ka,e),(n=B(this,ii))==null||n.call(this),ye(this,ii,e(r=>{typeof r=="boolean"?this.setFocused(r):this.onFocus()}))}setFocused(e){B(this,yo)!==e&&(ye(this,yo,e),this.onFocus())}onFocus(){const e=this.isFocused();this.listeners.forEach(n=>{n(e)})}isFocused(){var e;return typeof B(this,yo)=="boolean"?B(this,yo):((e=globalThis.document)==null?void 0:e.visibilityState)!=="hidden"}},yo=new WeakMap,ii=new WeakMap,Ka=new WeakMap,HE),MC=new S5,Qa,oi,Ya,qE,I5=(qE=class extends dp{constructor(){super();Oe(this,Qa,!0);Oe(this,oi);Oe(this,Ya);ye(this,Ya,e=>{if(!hp&&window.addEventListener){const n=()=>e(!0),r=()=>e(!1);return window.addEventListener("online",n,!1),window.addEventListener("offline",r,!1),()=>{window.removeEventListener("online",n),window.removeEventListener("offline",r)}}})}onSubscribe(){B(this,oi)||this.setEventListener(B(this,Ya))}onUnsubscribe(){var e;this.hasListeners()||((e=B(this,oi))==null||e.call(this),ye(this,oi,void 0))}setEventListener(e){var n;ye(this,Ya,e),(n=B(this,oi))==null||n.call(this),ye(this,oi,e(this.setOnline.bind(this)))}setOnline(e){B(this,Qa)!==e&&(ye(this,Qa,e),this.listeners.forEach(r=>{r(e)}))}isOnline(){return B(this,Qa)}},Qa=new WeakMap,oi=new WeakMap,Ya=new WeakMap,qE),af=new I5;function C5(){let t,e;const n=new Promise((s,i)=>{t=s,e=i});n.status="pending",n.catch(()=>{});function r(s){Object.assign(n,s),delete n.resolve,delete n.reject}return n.resolve=s=>{r({status:"fulfilled",value:s}),t(s)},n.reject=s=>{r({status:"rejected",reason:s}),e(s)},n}function N5(t){return Math.min(1e3*2**t,3e4)}function LC(t){return(t??"online")==="online"?af.isOnline():!0}var VC=class extends Error{constructor(t){super("CancelledError"),this.revert=t==null?void 0:t.revert,this.silent=t==null?void 0:t.silent}};function ng(t){return t instanceof VC}function FC(t){let e=!1,n=0,r=!1,s;const i=C5(),o=w=>{var x;r||(p(new VC(w)),(x=t.abort)==null||x.call(t))},a=()=>{e=!0},c=()=>{e=!1},d=()=>MC.isFocused()&&(t.networkMode==="always"||af.isOnline())&&t.canRun(),h=()=>LC(t.networkMode)&&t.canRun(),f=w=>{var x;r||(r=!0,(x=t.onSuccess)==null||x.call(t,w),s==null||s(),i.resolve(w))},p=w=>{var x;r||(r=!0,(x=t.onError)==null||x.call(t,w),s==null||s(),i.reject(w))},m=()=>new Promise(w=>{var x;s=_=>{(r||d())&&w(_)},(x=t.onPause)==null||x.call(t)}).then(()=>{var w;s=void 0,r||(w=t.onContinue)==null||w.call(t)}),T=()=>{if(r)return;let w;const x=n===0?t.initialPromise:void 0;try{w=x??t.fn()}catch(_){w=Promise.reject(_)}Promise.resolve(w).then(f).catch(_=>{var D;if(r)return;const v=t.retry??(hp?0:3),b=t.retryDelay??N5,k=typeof b=="function"?b(n,_):b,O=v===!0||typeof v=="number"&&n<v||typeof v=="function"&&v(n,_);if(e||!O){p(_);return}n++,(D=t.onFail)==null||D.call(t,n,_),_5(k).then(()=>d()?void 0:m()).then(()=>{e?p(_):T()})})};return{promise:i,cancel:o,continue:()=>(s==null||s(),i),cancelRetry:a,continueRetry:c,canStart:h,start:()=>(h()?T():m().then(T),i)}}var R5=t=>setTimeout(t,0);function P5(){let t=[],e=0,n=a=>{a()},r=a=>{a()},s=R5;const i=a=>{e?t.push(a):s(()=>{n(a)})},o=()=>{const a=t;t=[],a.length&&s(()=>{r(()=>{a.forEach(c=>{n(c)})})})};return{batch:a=>{let c;e++;try{c=a()}finally{e--,e||o()}return c},batchCalls:a=>(...c)=>{i(()=>{a(...c)})},schedule:i,setNotifyFunction:a=>{n=a},setBatchNotifyFunction:a=>{r=a},setScheduler:a=>{s=a}}}var en=P5(),vo,GE,UC=(GE=class{constructor(){Oe(this,vo)}destroy(){this.clearGcTimeout()}scheduleGc(){this.clearGcTimeout(),v5(this.gcTime)&&ye(this,vo,setTimeout(()=>{this.optionalRemove()},this.gcTime))}updateGcTime(t){this.gcTime=Math.max(this.gcTime||0,t??(hp?1/0:5*60*1e3))}clearGcTimeout(){B(this,vo)&&(clearTimeout(B(this,vo)),ye(this,vo,void 0))}},vo=new WeakMap,GE),Xa,wo,jn,xo,Wt,Ou,_o,er,is,KE,A5=(KE=class extends UC{constructor(n){super();Oe(this,er);Oe(this,Xa);Oe(this,wo);Oe(this,jn);Oe(this,xo);Oe(this,Wt);Oe(this,Ou);Oe(this,_o);ye(this,_o,!1),ye(this,Ou,n.defaultOptions),this.setOptions(n.options),this.observers=[],ye(this,xo,n.client),ye(this,jn,B(this,xo).getQueryCache()),this.queryKey=n.queryKey,this.queryHash=n.queryHash,ye(this,Xa,j5(this.options)),this.state=n.state??B(this,Xa),this.scheduleGc()}get meta(){return this.options.meta}get promise(){var n;return(n=B(this,Wt))==null?void 0:n.promise}setOptions(n){this.options={...B(this,Ou),...n},this.updateGcTime(this.options.gcTime)}optionalRemove(){!this.observers.length&&this.state.fetchStatus==="idle"&&B(this,jn).remove(this)}setData(n,r){const s=b5(this.state.data,n,this.options);return Ut(this,er,is).call(this,{data:s,type:"success",dataUpdatedAt:r==null?void 0:r.updatedAt,manual:r==null?void 0:r.manual}),s}setState(n,r){Ut(this,er,is).call(this,{type:"setState",state:n,setStateOptions:r})}cancel(n){var s,i;const r=(s=B(this,Wt))==null?void 0:s.promise;return(i=B(this,Wt))==null||i.cancel(n),r?r.then(Zn).catch(Zn):Promise.resolve()}destroy(){super.destroy(),this.cancel({silent:!0})}reset(){this.destroy(),this.setState(B(this,Xa))}isActive(){return this.observers.some(n=>x5(n.options.enabled,this)!==!1)}isDisabled(){return this.getObserversCount()>0?!this.isActive():this.options.queryFn===zw||this.state.dataUpdateCount+this.state.errorUpdateCount===0}isStatic(){return this.getObserversCount()>0?this.observers.some(n=>Oy(n.options.staleTime,this)==="static"):!1}isStale(){return this.getObserversCount()>0?this.observers.some(n=>n.getCurrentResult().isStale):this.state.data===void 0||this.state.isInvalidated}isStaleByTime(n=0){return this.state.data===void 0?!0:n==="static"?!1:this.state.isInvalidated?!0:!w5(this.state.dataUpdatedAt,n)}onFocus(){var r;const n=this.observers.find(s=>s.shouldFetchOnWindowFocus());n==null||n.refetch({cancelRefetch:!1}),(r=B(this,Wt))==null||r.continue()}onOnline(){var r;const n=this.observers.find(s=>s.shouldFetchOnReconnect());n==null||n.refetch({cancelRefetch:!1}),(r=B(this,Wt))==null||r.continue()}addObserver(n){this.observers.includes(n)||(this.observers.push(n),this.clearGcTimeout(),B(this,jn).notify({type:"observerAdded",query:this,observer:n}))}removeObserver(n){this.observers.includes(n)&&(this.observers=this.observers.filter(r=>r!==n),this.observers.length||(B(this,Wt)&&(B(this,_o)?B(this,Wt).cancel({revert:!0}):B(this,Wt).cancelRetry()),this.scheduleGc()),B(this,jn).notify({type:"observerRemoved",query:this,observer:n}))}getObserversCount(){return this.observers.length}invalidate(){this.state.isInvalidated||Ut(this,er,is).call(this,{type:"invalidate"})}fetch(n,r){var h,f,p;if(this.state.fetchStatus!=="idle"){if(this.state.data!==void 0&&(r!=null&&r.cancelRefetch))this.cancel({silent:!0});else if(B(this,Wt))return B(this,Wt).continueRetry(),B(this,Wt).promise}if(n&&this.setOptions(n),!this.options.queryFn){const m=this.observers.find(T=>T.options.queryFn);m&&this.setOptions(m.options)}const s=new AbortController,i=m=>{Object.defineProperty(m,"signal",{enumerable:!0,get:()=>(ye(this,_o,!0),s.signal)})},o=()=>{const m=OC(this.options,r),w=(()=>{const x={client:B(this,xo),queryKey:this.queryKey,meta:this.meta};return i(x),x})();return ye(this,_o,!1),this.options.persister?this.options.persister(m,w,this):m(w)},c=(()=>{const m={fetchOptions:r,options:this.options,queryKey:this.queryKey,client:B(this,xo),state:this.state,fetchFn:o};return i(m),m})();(h=this.options.behavior)==null||h.onFetch(c,this),ye(this,wo,this.state),(this.state.fetchStatus==="idle"||this.state.fetchMeta!==((f=c.fetchOptions)==null?void 0:f.meta))&&Ut(this,er,is).call(this,{type:"fetch",meta:(p=c.fetchOptions)==null?void 0:p.meta});const d=m=>{var T,w,x,_;ng(m)&&m.silent||Ut(this,er,is).call(this,{type:"error",error:m}),ng(m)||((w=(T=B(this,jn).config).onError)==null||w.call(T,m,this),(_=(x=B(this,jn).config).onSettled)==null||_.call(x,this.state.data,m,this)),this.scheduleGc()};return ye(this,Wt,FC({initialPromise:r==null?void 0:r.initialPromise,fn:c.fetchFn,abort:s.abort.bind(s),onSuccess:m=>{var T,w,x,_;if(m===void 0){d(new Error(`${this.queryHash} data is undefined`));return}try{this.setData(m)}catch(v){d(v);return}(w=(T=B(this,jn).config).onSuccess)==null||w.call(T,m,this),(_=(x=B(this,jn).config).onSettled)==null||_.call(x,m,this.state.error,this),this.scheduleGc()},onError:d,onFail:(m,T)=>{Ut(this,er,is).call(this,{type:"failed",failureCount:m,error:T})},onPause:()=>{Ut(this,er,is).call(this,{type:"pause"})},onContinue:()=>{Ut(this,er,is).call(this,{type:"continue"})},retry:c.options.retry,retryDelay:c.options.retryDelay,networkMode:c.options.networkMode,canRun:()=>!0})),B(this,Wt).start()}},Xa=new WeakMap,wo=new WeakMap,jn=new WeakMap,xo=new WeakMap,Wt=new WeakMap,Ou=new WeakMap,_o=new WeakMap,er=new WeakSet,is=function(n){const r=s=>{switch(n.type){case"failed":return{...s,fetchFailureCount:n.failureCount,fetchFailureReason:n.error};case"pause":return{...s,fetchStatus:"paused"};case"continue":return{...s,fetchStatus:"fetching"};case"fetch":return{...s,...k5(s.data,this.options),fetchMeta:n.meta??null};case"success":return ye(this,wo,void 0),{...s,data:n.data,dataUpdateCount:s.dataUpdateCount+1,dataUpdatedAt:n.dataUpdatedAt??Date.now(),error:null,isInvalidated:!1,status:"success",...!n.manual&&{fetchStatus:"idle",fetchFailureCount:0,fetchFailureReason:null}};case"error":const i=n.error;return ng(i)&&i.revert&&B(this,wo)?{...B(this,wo),fetchStatus:"idle"}:{...s,error:i,errorUpdateCount:s.errorUpdateCount+1,errorUpdatedAt:Date.now(),fetchFailureCount:s.fetchFailureCount+1,fetchFailureReason:i,fetchStatus:"idle",status:"error"};case"invalidate":return{...s,isInvalidated:!0};case"setState":return{...s,...n.state}}};this.state=r(this.state),en.batch(()=>{this.observers.forEach(s=>{s.onQueryUpdate()}),B(this,jn).notify({query:this,type:"updated",action:n})})},KE);function k5(t,e){return{fetchFailureCount:0,fetchFailureReason:null,fetchStatus:LC(e.networkMode)?"fetching":"paused",...t===void 0&&{error:null,status:"pending"}}}function j5(t){const e=typeof t.initialData=="function"?t.initialData():t.initialData,n=e!==void 0,r=n?typeof t.initialDataUpdatedAt=="function"?t.initialDataUpdatedAt():t.initialDataUpdatedAt:0;return{data:e,dataUpdateCount:0,dataUpdatedAt:n?r??Date.now():0,error:null,errorUpdateCount:0,errorUpdatedAt:0,fetchFailureCount:0,fetchFailureReason:null,fetchMeta:null,isInvalidated:!1,status:n?"success":"pending",fetchStatus:"idle"}}var kr,QE,D5=(QE=class extends dp{constructor(e={}){super();Oe(this,kr);this.config=e,ye(this,kr,new Map)}build(e,n,r){const s=n.queryKey,i=n.queryHash??Bw(s,n);let o=this.get(i);return o||(o=new A5({client:e,queryKey:s,queryHash:i,options:e.defaultQueryOptions(n),state:r,defaultOptions:e.getQueryDefaults(s)}),this.add(o)),o}add(e){B(this,kr).has(e.queryHash)||(B(this,kr).set(e.queryHash,e),this.notify({type:"added",query:e}))}remove(e){const n=B(this,kr).get(e.queryHash);n&&(e.destroy(),n===e&&B(this,kr).delete(e.queryHash),this.notify({type:"removed",query:e}))}clear(){en.batch(()=>{this.getAll().forEach(e=>{this.remove(e)})})}get(e){return B(this,kr).get(e)}getAll(){return[...B(this,kr).values()]}find(e){const n={exact:!0,...e};return this.getAll().find(r=>N1(n,r))}findAll(e={}){const n=this.getAll();return Object.keys(e).length>0?n.filter(r=>N1(e,r)):n}notify(e){en.batch(()=>{this.listeners.forEach(n=>{n(e)})})}onFocus(){en.batch(()=>{this.getAll().forEach(e=>{e.onFocus()})})}onOnline(){en.batch(()=>{this.getAll().forEach(e=>{e.onOnline()})})}},kr=new WeakMap,QE),jr,Jt,bo,Dr,Gs,YE,O5=(YE=class extends UC{constructor(n){super();Oe(this,Dr);Oe(this,jr);Oe(this,Jt);Oe(this,bo);this.mutationId=n.mutationId,ye(this,Jt,n.mutationCache),ye(this,jr,[]),this.state=n.state||M5(),this.setOptions(n.options),this.scheduleGc()}setOptions(n){this.options=n,this.updateGcTime(this.options.gcTime)}get meta(){return this.options.meta}addObserver(n){B(this,jr).includes(n)||(B(this,jr).push(n),this.clearGcTimeout(),B(this,Jt).notify({type:"observerAdded",mutation:this,observer:n}))}removeObserver(n){ye(this,jr,B(this,jr).filter(r=>r!==n)),this.scheduleGc(),B(this,Jt).notify({type:"observerRemoved",mutation:this,observer:n})}optionalRemove(){B(this,jr).length||(this.state.status==="pending"?this.scheduleGc():B(this,Jt).remove(this))}continue(){var n;return((n=B(this,bo))==null?void 0:n.continue())??this.execute(this.state.variables)}async execute(n){var o,a,c,d,h,f,p,m,T,w,x,_,v,b,k,O,D,C,I,S;const r=()=>{Ut(this,Dr,Gs).call(this,{type:"continue"})};ye(this,bo,FC({fn:()=>this.options.mutationFn?this.options.mutationFn(n):Promise.reject(new Error("No mutationFn found")),onFail:(N,P)=>{Ut(this,Dr,Gs).call(this,{type:"failed",failureCount:N,error:P})},onPause:()=>{Ut(this,Dr,Gs).call(this,{type:"pause"})},onContinue:r,retry:this.options.retry??0,retryDelay:this.options.retryDelay,networkMode:this.options.networkMode,canRun:()=>B(this,Jt).canRun(this)}));const s=this.state.status==="pending",i=!B(this,bo).canStart();try{if(s)r();else{Ut(this,Dr,Gs).call(this,{type:"pending",variables:n,isPaused:i}),await((a=(o=B(this,Jt).config).onMutate)==null?void 0:a.call(o,n,this));const P=await((d=(c=this.options).onMutate)==null?void 0:d.call(c,n));P!==this.state.context&&Ut(this,Dr,Gs).call(this,{type:"pending",context:P,variables:n,isPaused:i})}const N=await B(this,bo).start();return await((f=(h=B(this,Jt).config).onSuccess)==null?void 0:f.call(h,N,n,this.state.context,this)),await((m=(p=this.options).onSuccess)==null?void 0:m.call(p,N,n,this.state.context)),await((w=(T=B(this,Jt).config).onSettled)==null?void 0:w.call(T,N,null,this.state.variables,this.state.context,this)),await((_=(x=this.options).onSettled)==null?void 0:_.call(x,N,null,n,this.state.context)),Ut(this,Dr,Gs).call(this,{type:"success",data:N}),N}catch(N){try{throw await((b=(v=B(this,Jt).config).onError)==null?void 0:b.call(v,N,n,this.state.context,this)),await((O=(k=this.options).onError)==null?void 0:O.call(k,N,n,this.state.context)),await((C=(D=B(this,Jt).config).onSettled)==null?void 0:C.call(D,void 0,N,this.state.variables,this.state.context,this)),await((S=(I=this.options).onSettled)==null?void 0:S.call(I,void 0,N,n,this.state.context)),N}finally{Ut(this,Dr,Gs).call(this,{type:"error",error:N})}}finally{B(this,Jt).runNext(this)}}},jr=new WeakMap,Jt=new WeakMap,bo=new WeakMap,Dr=new WeakSet,Gs=function(n){const r=s=>{switch(n.type){case"failed":return{...s,failureCount:n.failureCount,failureReason:n.error};case"pause":return{...s,isPaused:!0};case"continue":return{...s,isPaused:!1};case"pending":return{...s,context:n.context,data:void 0,failureCount:0,failureReason:null,error:null,isPaused:n.isPaused,status:"pending",variables:n.variables,submittedAt:Date.now()};case"success":return{...s,data:n.data,failureCount:0,failureReason:null,error:null,status:"success",isPaused:!1};case"error":return{...s,data:void 0,error:n.error,failureCount:s.failureCount+1,failureReason:n.error,isPaused:!1,status:"error"}}};this.state=r(this.state),en.batch(()=>{B(this,jr).forEach(s=>{s.onMutationUpdate(n)}),B(this,Jt).notify({mutation:this,type:"updated",action:n})})},YE);function M5(){return{context:void 0,data:void 0,error:null,failureCount:0,failureReason:null,isPaused:!1,status:"idle",variables:void 0,submittedAt:0}}var ds,tr,Mu,XE,L5=(XE=class extends dp{constructor(e={}){super();Oe(this,ds);Oe(this,tr);Oe(this,Mu);this.config=e,ye(this,ds,new Set),ye(this,tr,new Map),ye(this,Mu,0)}build(e,n,r){const s=new O5({mutationCache:this,mutationId:++xd(this,Mu)._,options:e.defaultMutationOptions(n),state:r});return this.add(s),s}add(e){B(this,ds).add(e);const n=Bd(e);if(typeof n=="string"){const r=B(this,tr).get(n);r?r.push(e):B(this,tr).set(n,[e])}this.notify({type:"added",mutation:e})}remove(e){if(B(this,ds).delete(e)){const n=Bd(e);if(typeof n=="string"){const r=B(this,tr).get(n);if(r)if(r.length>1){const s=r.indexOf(e);s!==-1&&r.splice(s,1)}else r[0]===e&&B(this,tr).delete(n)}}this.notify({type:"removed",mutation:e})}canRun(e){const n=Bd(e);if(typeof n=="string"){const r=B(this,tr).get(n),s=r==null?void 0:r.find(i=>i.state.status==="pending");return!s||s===e}else return!0}runNext(e){var r;const n=Bd(e);if(typeof n=="string"){const s=(r=B(this,tr).get(n))==null?void 0:r.find(i=>i!==e&&i.state.isPaused);return(s==null?void 0:s.continue())??Promise.resolve()}else return Promise.resolve()}clear(){en.batch(()=>{B(this,ds).forEach(e=>{this.notify({type:"removed",mutation:e})}),B(this,ds).clear(),B(this,tr).clear()})}getAll(){return Array.from(B(this,ds))}find(e){const n={exact:!0,...e};return this.getAll().find(r=>R1(n,r))}findAll(e={}){return this.getAll().filter(n=>R1(e,n))}notify(e){en.batch(()=>{this.listeners.forEach(n=>{n(e)})})}resumePausedMutations(){const e=this.getAll().filter(n=>n.state.isPaused);return en.batch(()=>Promise.all(e.map(n=>n.continue().catch(Zn))))}},ds=new WeakMap,tr=new WeakMap,Mu=new WeakMap,XE);function Bd(t){var e;return(e=t.options.scope)==null?void 0:e.id}function k1(t){return{onFetch:(e,n)=>{var h,f,p,m,T;const r=e.options,s=(p=(f=(h=e.fetchOptions)==null?void 0:h.meta)==null?void 0:f.fetchMore)==null?void 0:p.direction,i=((m=e.state.data)==null?void 0:m.pages)||[],o=((T=e.state.data)==null?void 0:T.pageParams)||[];let a={pages:[],pageParams:[]},c=0;const d=async()=>{let w=!1;const x=b=>{Object.defineProperty(b,"signal",{enumerable:!0,get:()=>(e.signal.aborted?w=!0:e.signal.addEventListener("abort",()=>{w=!0}),e.signal)})},_=OC(e.options,e.fetchOptions),v=async(b,k,O)=>{if(w)return Promise.reject();if(k==null&&b.pages.length)return Promise.resolve(b);const C=(()=>{const P={client:e.client,queryKey:e.queryKey,pageParam:k,direction:O?"backward":"forward",meta:e.options.meta};return x(P),P})(),I=await _(C),{maxPages:S}=e.options,N=O?T5:E5;return{pages:N(b.pages,I,S),pageParams:N(b.pageParams,k,S)}};if(s&&i.length){const b=s==="backward",k=b?V5:j1,O={pages:i,pageParams:o},D=k(r,O);a=await v(O,D,b)}else{const b=t??i.length;do{const k=c===0?o[0]??r.initialPageParam:j1(r,a);if(c>0&&k==null)break;a=await v(a,k),c++}while(c<b)}return a};e.options.persister?e.fetchFn=()=>{var w,x;return(x=(w=e.options).persister)==null?void 0:x.call(w,d,{client:e.client,queryKey:e.queryKey,meta:e.options.meta,signal:e.signal},n)}:e.fetchFn=d}}}function j1(t,{pages:e,pageParams:n}){const r=e.length-1;return e.length>0?t.getNextPageParam(e[r],e,n[r],n):void 0}function V5(t,{pages:e,pageParams:n}){var r;return e.length>0?(r=t.getPreviousPageParam)==null?void 0:r.call(t,e[0],e,n[0],n):void 0}var lt,ai,li,Ja,Za,ci,el,tl,JE,F5=(JE=class{constructor(t={}){Oe(this,lt);Oe(this,ai);Oe(this,li);Oe(this,Ja);Oe(this,Za);Oe(this,ci);Oe(this,el);Oe(this,tl);ye(this,lt,t.queryCache||new D5),ye(this,ai,t.mutationCache||new L5),ye(this,li,t.defaultOptions||{}),ye(this,Ja,new Map),ye(this,Za,new Map),ye(this,ci,0)}mount(){xd(this,ci)._++,B(this,ci)===1&&(ye(this,el,MC.subscribe(async t=>{t&&(await this.resumePausedMutations(),B(this,lt).onFocus())})),ye(this,tl,af.subscribe(async t=>{t&&(await this.resumePausedMutations(),B(this,lt).onOnline())})))}unmount(){var t,e;xd(this,ci)._--,B(this,ci)===0&&((t=B(this,el))==null||t.call(this),ye(this,el,void 0),(e=B(this,tl))==null||e.call(this),ye(this,tl,void 0))}isFetching(t){return B(this,lt).findAll({...t,fetchStatus:"fetching"}).length}isMutating(t){return B(this,ai).findAll({...t,status:"pending"}).length}getQueryData(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=B(this,lt).get(e.queryHash))==null?void 0:n.state.data}ensureQueryData(t){const e=this.defaultQueryOptions(t),n=B(this,lt).build(this,e),r=n.state.data;return r===void 0?this.fetchQuery(t):(t.revalidateIfStale&&n.isStaleByTime(Oy(e.staleTime,n))&&this.prefetchQuery(e),Promise.resolve(r))}getQueriesData(t){return B(this,lt).findAll(t).map(({queryKey:e,state:n})=>{const r=n.data;return[e,r]})}setQueryData(t,e,n){const r=this.defaultQueryOptions({queryKey:t}),s=B(this,lt).get(r.queryHash),i=s==null?void 0:s.state.data,o=y5(e,i);if(o!==void 0)return B(this,lt).build(this,r).setData(o,{...n,manual:!0})}setQueriesData(t,e,n){return en.batch(()=>B(this,lt).findAll(t).map(({queryKey:r})=>[r,this.setQueryData(r,e,n)]))}getQueryState(t){var n;const e=this.defaultQueryOptions({queryKey:t});return(n=B(this,lt).get(e.queryHash))==null?void 0:n.state}removeQueries(t){const e=B(this,lt);en.batch(()=>{e.findAll(t).forEach(n=>{e.remove(n)})})}resetQueries(t,e){const n=B(this,lt);return en.batch(()=>(n.findAll(t).forEach(r=>{r.reset()}),this.refetchQueries({type:"active",...t},e)))}cancelQueries(t,e={}){const n={revert:!0,...e},r=en.batch(()=>B(this,lt).findAll(t).map(s=>s.cancel(n)));return Promise.all(r).then(Zn).catch(Zn)}invalidateQueries(t,e={}){return en.batch(()=>(B(this,lt).findAll(t).forEach(n=>{n.invalidate()}),(t==null?void 0:t.refetchType)==="none"?Promise.resolve():this.refetchQueries({...t,type:(t==null?void 0:t.refetchType)??(t==null?void 0:t.type)??"active"},e)))}refetchQueries(t,e={}){const n={...e,cancelRefetch:e.cancelRefetch??!0},r=en.batch(()=>B(this,lt).findAll(t).filter(s=>!s.isDisabled()&&!s.isStatic()).map(s=>{let i=s.fetch(void 0,n);return n.throwOnError||(i=i.catch(Zn)),s.state.fetchStatus==="paused"?Promise.resolve():i}));return Promise.all(r).then(Zn)}fetchQuery(t){const e=this.defaultQueryOptions(t);e.retry===void 0&&(e.retry=!1);const n=B(this,lt).build(this,e);return n.isStaleByTime(Oy(e.staleTime,n))?n.fetch(e):Promise.resolve(n.state.data)}prefetchQuery(t){return this.fetchQuery(t).then(Zn).catch(Zn)}fetchInfiniteQuery(t){return t.behavior=k1(t.pages),this.fetchQuery(t)}prefetchInfiniteQuery(t){return this.fetchInfiniteQuery(t).then(Zn).catch(Zn)}ensureInfiniteQueryData(t){return t.behavior=k1(t.pages),this.ensureQueryData(t)}resumePausedMutations(){return af.isOnline()?B(this,ai).resumePausedMutations():Promise.resolve()}getQueryCache(){return B(this,lt)}getMutationCache(){return B(this,ai)}getDefaultOptions(){return B(this,li)}setDefaultOptions(t){ye(this,li,t)}setQueryDefaults(t,e){B(this,Ja).set(hu(t),{queryKey:t,defaultOptions:e})}getQueryDefaults(t){const e=[...B(this,Ja).values()],n={};return e.forEach(r=>{fu(t,r.queryKey)&&Object.assign(n,r.defaultOptions)}),n}setMutationDefaults(t,e){B(this,Za).set(hu(t),{mutationKey:t,defaultOptions:e})}getMutationDefaults(t){const e=[...B(this,Za).values()],n={};return e.forEach(r=>{fu(t,r.mutationKey)&&Object.assign(n,r.defaultOptions)}),n}defaultQueryOptions(t){if(t._defaulted)return t;const e={...B(this,li).queries,...this.getQueryDefaults(t.queryKey),...t,_defaulted:!0};return e.queryHash||(e.queryHash=Bw(e.queryKey,e)),e.refetchOnReconnect===void 0&&(e.refetchOnReconnect=e.networkMode!=="always"),e.throwOnError===void 0&&(e.throwOnError=!!e.suspense),!e.networkMode&&e.persister&&(e.networkMode="offlineFirst"),e.queryFn===zw&&(e.enabled=!1),e}defaultMutationOptions(t){return t!=null&&t._defaulted?t:{...B(this,li).mutations,...(t==null?void 0:t.mutationKey)&&this.getMutationDefaults(t.mutationKey),...t,_defaulted:!0}}clear(){B(this,lt).clear(),B(this,ai).clear()}},lt=new WeakMap,ai=new WeakMap,li=new WeakMap,Ja=new WeakMap,Za=new WeakMap,ci=new WeakMap,el=new WeakMap,tl=new WeakMap,JE),U5=g.createContext(void 0),$5=({client:t,children:e})=>(g.useEffect(()=>(t.mount(),()=>{t.unmount()}),[t]),l.jsx(U5.Provider,{value:t,children:e}));/**
 * @remix-run/router v1.23.0
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function pu(){return pu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},pu.apply(this,arguments)}var hi;(function(t){t.Pop="POP",t.Push="PUSH",t.Replace="REPLACE"})(hi||(hi={}));const D1="popstate";function B5(t){t===void 0&&(t={});function e(r,s){let{pathname:i,search:o,hash:a}=r.location;return Ly("",{pathname:i,search:o,hash:a},s.state&&s.state.usr||null,s.state&&s.state.key||"default")}function n(r,s){return typeof s=="string"?s:lf(s)}return W5(e,n,null,t)}function st(t,e){if(t===!1||t===null||typeof t>"u")throw new Error(e)}function $C(t,e){if(!t){typeof console<"u"&&console.warn(e);try{throw new Error(e)}catch{}}}function z5(){return Math.random().toString(36).substr(2,8)}function O1(t,e){return{usr:t.state,key:t.key,idx:e}}function Ly(t,e,n,r){return n===void 0&&(n=null),pu({pathname:typeof t=="string"?t:t.pathname,search:"",hash:""},typeof e=="string"?Nl(e):e,{state:n,key:e&&e.key||r||z5()})}function lf(t){let{pathname:e="/",search:n="",hash:r=""}=t;return n&&n!=="?"&&(e+=n.charAt(0)==="?"?n:"?"+n),r&&r!=="#"&&(e+=r.charAt(0)==="#"?r:"#"+r),e}function Nl(t){let e={};if(t){let n=t.indexOf("#");n>=0&&(e.hash=t.substr(n),t=t.substr(0,n));let r=t.indexOf("?");r>=0&&(e.search=t.substr(r),t=t.substr(0,r)),t&&(e.pathname=t)}return e}function W5(t,e,n,r){r===void 0&&(r={});let{window:s=document.defaultView,v5Compat:i=!1}=r,o=s.history,a=hi.Pop,c=null,d=h();d==null&&(d=0,o.replaceState(pu({},o.state,{idx:d}),""));function h(){return(o.state||{idx:null}).idx}function f(){a=hi.Pop;let x=h(),_=x==null?null:x-d;d=x,c&&c({action:a,location:w.location,delta:_})}function p(x,_){a=hi.Push;let v=Ly(w.location,x,_);d=h()+1;let b=O1(v,d),k=w.createHref(v);try{o.pushState(b,"",k)}catch(O){if(O instanceof DOMException&&O.name==="DataCloneError")throw O;s.location.assign(k)}i&&c&&c({action:a,location:w.location,delta:1})}function m(x,_){a=hi.Replace;let v=Ly(w.location,x,_);d=h();let b=O1(v,d),k=w.createHref(v);o.replaceState(b,"",k),i&&c&&c({action:a,location:w.location,delta:0})}function T(x){let _=s.location.origin!=="null"?s.location.origin:s.location.href,v=typeof x=="string"?x:lf(x);return v=v.replace(/ $/,"%20"),st(_,"No window.location.(origin|href) available to create URL for href: "+v),new URL(v,_)}let w={get action(){return a},get location(){return t(s,o)},listen(x){if(c)throw new Error("A history only accepts one active listener");return s.addEventListener(D1,f),c=x,()=>{s.removeEventListener(D1,f),c=null}},createHref(x){return e(s,x)},createURL:T,encodeLocation(x){let _=T(x);return{pathname:_.pathname,search:_.search,hash:_.hash}},push:p,replace:m,go(x){return o.go(x)}};return w}var M1;(function(t){t.data="data",t.deferred="deferred",t.redirect="redirect",t.error="error"})(M1||(M1={}));function H5(t,e,n){return n===void 0&&(n="/"),q5(t,e,n,!1)}function q5(t,e,n,r){let s=typeof e=="string"?Nl(e):e,i=hl(s.pathname||"/",n);if(i==null)return null;let o=BC(t);G5(o);let a=null;for(let c=0;a==null&&c<o.length;++c){let d=sF(i);a=nF(o[c],d,r)}return a}function BC(t,e,n,r){e===void 0&&(e=[]),n===void 0&&(n=[]),r===void 0&&(r="");let s=(i,o,a)=>{let c={relativePath:a===void 0?i.path||"":a,caseSensitive:i.caseSensitive===!0,childrenIndex:o,route:i};c.relativePath.startsWith("/")&&(st(c.relativePath.startsWith(r),'Absolute route path "'+c.relativePath+'" nested under path '+('"'+r+'" is not valid. An absolute child route path ')+"must start with the combined path of all its parent routes."),c.relativePath=c.relativePath.slice(r.length));let d=bi([r,c.relativePath]),h=n.concat(c);i.children&&i.children.length>0&&(st(i.index!==!0,"Index routes must not have child routes. Please remove "+('all child routes from route path "'+d+'".')),BC(i.children,e,h,d)),!(i.path==null&&!i.index)&&e.push({path:d,score:eF(d,i.index),routesMeta:h})};return t.forEach((i,o)=>{var a;if(i.path===""||!((a=i.path)!=null&&a.includes("?")))s(i,o);else for(let c of zC(i.path))s(i,o,c)}),e}function zC(t){let e=t.split("/");if(e.length===0)return[];let[n,...r]=e,s=n.endsWith("?"),i=n.replace(/\?$/,"");if(r.length===0)return s?[i,""]:[i];let o=zC(r.join("/")),a=[];return a.push(...o.map(c=>c===""?i:[i,c].join("/"))),s&&a.push(...o),a.map(c=>t.startsWith("/")&&c===""?"/":c)}function G5(t){t.sort((e,n)=>e.score!==n.score?n.score-e.score:tF(e.routesMeta.map(r=>r.childrenIndex),n.routesMeta.map(r=>r.childrenIndex)))}const K5=/^:[\w-]+$/,Q5=3,Y5=2,X5=1,J5=10,Z5=-2,L1=t=>t==="*";function eF(t,e){let n=t.split("/"),r=n.length;return n.some(L1)&&(r+=Z5),e&&(r+=Y5),n.filter(s=>!L1(s)).reduce((s,i)=>s+(K5.test(i)?Q5:i===""?X5:J5),r)}function tF(t,e){return t.length===e.length&&t.slice(0,-1).every((r,s)=>r===e[s])?t[t.length-1]-e[e.length-1]:0}function nF(t,e,n){let{routesMeta:r}=t,s={},i="/",o=[];for(let a=0;a<r.length;++a){let c=r[a],d=a===r.length-1,h=i==="/"?e:e.slice(i.length)||"/",f=cf({path:c.relativePath,caseSensitive:c.caseSensitive,end:d},h),p=c.route;if(!f&&d&&n&&!r[r.length-1].route.index&&(f=cf({path:c.relativePath,caseSensitive:c.caseSensitive,end:!1},h)),!f)return null;Object.assign(s,f.params),o.push({params:s,pathname:bi([i,f.pathname]),pathnameBase:lF(bi([i,f.pathnameBase])),route:p}),f.pathnameBase!=="/"&&(i=bi([i,f.pathnameBase]))}return o}function cf(t,e){typeof t=="string"&&(t={path:t,caseSensitive:!1,end:!0});let[n,r]=rF(t.path,t.caseSensitive,t.end),s=e.match(n);if(!s)return null;let i=s[0],o=i.replace(/(.)\/+$/,"$1"),a=s.slice(1);return{params:r.reduce((d,h,f)=>{let{paramName:p,isOptional:m}=h;if(p==="*"){let w=a[f]||"";o=i.slice(0,i.length-w.length).replace(/(.)\/+$/,"$1")}const T=a[f];return m&&!T?d[p]=void 0:d[p]=(T||"").replace(/%2F/g,"/"),d},{}),pathname:i,pathnameBase:o,pattern:t}}function rF(t,e,n){e===void 0&&(e=!1),n===void 0&&(n=!0),$C(t==="*"||!t.endsWith("*")||t.endsWith("/*"),'Route path "'+t+'" will be treated as if it were '+('"'+t.replace(/\*$/,"/*")+'" because the `*` character must ')+"always follow a `/` in the pattern. To get rid of this warning, "+('please change the route path to "'+t.replace(/\*$/,"/*")+'".'));let r=[],s="^"+t.replace(/\/*\*?$/,"").replace(/^\/*/,"/").replace(/[\\.*+^${}|()[\]]/g,"\\$&").replace(/\/:([\w-]+)(\?)?/g,(o,a,c)=>(r.push({paramName:a,isOptional:c!=null}),c?"/?([^\\/]+)?":"/([^\\/]+)"));return t.endsWith("*")?(r.push({paramName:"*"}),s+=t==="*"||t==="/*"?"(.*)$":"(?:\\/(.+)|\\/*)$"):n?s+="\\/*$":t!==""&&t!=="/"&&(s+="(?:(?=\\/|$))"),[new RegExp(s,e?void 0:"i"),r]}function sF(t){try{return t.split("/").map(e=>decodeURIComponent(e).replace(/\//g,"%2F")).join("/")}catch(e){return $C(!1,'The URL path "'+t+'" could not be decoded because it is is a malformed URL segment. This is probably due to a bad percent '+("encoding ("+e+").")),t}}function hl(t,e){if(e==="/")return t;if(!t.toLowerCase().startsWith(e.toLowerCase()))return null;let n=e.endsWith("/")?e.length-1:e.length,r=t.charAt(n);return r&&r!=="/"?null:t.slice(n)||"/"}function iF(t,e){e===void 0&&(e="/");let{pathname:n,search:r="",hash:s=""}=typeof t=="string"?Nl(t):t;return{pathname:n?n.startsWith("/")?n:oF(n,e):e,search:cF(r),hash:uF(s)}}function oF(t,e){let n=e.replace(/\/+$/,"").split("/");return t.split("/").forEach(s=>{s===".."?n.length>1&&n.pop():s!=="."&&n.push(s)}),n.length>1?n.join("/"):"/"}function rg(t,e,n,r){return"Cannot include a '"+t+"' character in a manually specified "+("`to."+e+"` field ["+JSON.stringify(r)+"].  Please separate it out to the ")+("`to."+n+"` field. Alternatively you may provide the full path as ")+'a string in <Link to="..."> and the router will parse it for you.'}function aF(t){return t.filter((e,n)=>n===0||e.route.path&&e.route.path.length>0)}function Ww(t,e){let n=aF(t);return e?n.map((r,s)=>s===n.length-1?r.pathname:r.pathnameBase):n.map(r=>r.pathnameBase)}function Hw(t,e,n,r){r===void 0&&(r=!1);let s;typeof t=="string"?s=Nl(t):(s=pu({},t),st(!s.pathname||!s.pathname.includes("?"),rg("?","pathname","search",s)),st(!s.pathname||!s.pathname.includes("#"),rg("#","pathname","hash",s)),st(!s.search||!s.search.includes("#"),rg("#","search","hash",s)));let i=t===""||s.pathname==="",o=i?"/":s.pathname,a;if(o==null)a=n;else{let f=e.length-1;if(!r&&o.startsWith("..")){let p=o.split("/");for(;p[0]==="..";)p.shift(),f-=1;s.pathname=p.join("/")}a=f>=0?e[f]:"/"}let c=iF(s,a),d=o&&o!=="/"&&o.endsWith("/"),h=(i||o===".")&&n.endsWith("/");return!c.pathname.endsWith("/")&&(d||h)&&(c.pathname+="/"),c}const bi=t=>t.join("/").replace(/\/\/+/g,"/"),lF=t=>t.replace(/\/+$/,"").replace(/^\/*/,"/"),cF=t=>!t||t==="?"?"":t.startsWith("?")?t:"?"+t,uF=t=>!t||t==="#"?"":t.startsWith("#")?t:"#"+t;function dF(t){return t!=null&&typeof t.status=="number"&&typeof t.statusText=="string"&&typeof t.internal=="boolean"&&"data"in t}const WC=["post","put","patch","delete"];new Set(WC);const hF=["get",...WC];new Set(hF);/**
 * React Router v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function mu(){return mu=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},mu.apply(this,arguments)}const fp=g.createContext(null),HC=g.createContext(null),js=g.createContext(null),pp=g.createContext(null),Hi=g.createContext({outlet:null,matches:[],isDataRoute:!1}),qC=g.createContext(null);function fF(t,e){let{relative:n}=e===void 0?{}:e;Rl()||st(!1);let{basename:r,navigator:s}=g.useContext(js),{hash:i,pathname:o,search:a}=mp(t,{relative:n}),c=o;return r!=="/"&&(c=o==="/"?r:bi([r,o])),s.createHref({pathname:c,search:a,hash:i})}function Rl(){return g.useContext(pp)!=null}function qi(){return Rl()||st(!1),g.useContext(pp).location}function GC(t){g.useContext(js).static||g.useLayoutEffect(t)}function Xo(){let{isDataRoute:t}=g.useContext(Hi);return t?IF():pF()}function pF(){Rl()||st(!1);let t=g.useContext(fp),{basename:e,future:n,navigator:r}=g.useContext(js),{matches:s}=g.useContext(Hi),{pathname:i}=qi(),o=JSON.stringify(Ww(s,n.v7_relativeSplatPath)),a=g.useRef(!1);return GC(()=>{a.current=!0}),g.useCallback(function(d,h){if(h===void 0&&(h={}),!a.current)return;if(typeof d=="number"){r.go(d);return}let f=Hw(d,JSON.parse(o),i,h.relative==="path");t==null&&e!=="/"&&(f.pathname=f.pathname==="/"?e:bi([e,f.pathname])),(h.replace?r.replace:r.push)(f,h.state,h)},[e,r,o,i,t])}function mp(t,e){let{relative:n}=e===void 0?{}:e,{future:r}=g.useContext(js),{matches:s}=g.useContext(Hi),{pathname:i}=qi(),o=JSON.stringify(Ww(s,r.v7_relativeSplatPath));return g.useMemo(()=>Hw(t,JSON.parse(o),i,n==="path"),[t,o,i,n])}function mF(t,e){return gF(t,e)}function gF(t,e,n,r){Rl()||st(!1);let{navigator:s}=g.useContext(js),{matches:i}=g.useContext(Hi),o=i[i.length-1],a=o?o.params:{};o&&o.pathname;let c=o?o.pathnameBase:"/";o&&o.route;let d=qi(),h;if(e){var f;let x=typeof e=="string"?Nl(e):e;c==="/"||(f=x.pathname)!=null&&f.startsWith(c)||st(!1),h=x}else h=d;let p=h.pathname||"/",m=p;if(c!=="/"){let x=c.replace(/^\//,"").split("/");m="/"+p.replace(/^\//,"").split("/").slice(x.length).join("/")}let T=H5(t,{pathname:m}),w=_F(T&&T.map(x=>Object.assign({},x,{params:Object.assign({},a,x.params),pathname:bi([c,s.encodeLocation?s.encodeLocation(x.pathname).pathname:x.pathname]),pathnameBase:x.pathnameBase==="/"?c:bi([c,s.encodeLocation?s.encodeLocation(x.pathnameBase).pathname:x.pathnameBase])})),i,n,r);return e&&w?g.createElement(pp.Provider,{value:{location:mu({pathname:"/",search:"",hash:"",state:null,key:"default"},h),navigationType:hi.Pop}},w):w}function yF(){let t=SF(),e=dF(t)?t.status+" "+t.statusText:t instanceof Error?t.message:JSON.stringify(t),n=t instanceof Error?t.stack:null,s={padding:"0.5rem",backgroundColor:"rgba(200,200,200, 0.5)"};return g.createElement(g.Fragment,null,g.createElement("h2",null,"Unexpected Application Error!"),g.createElement("h3",{style:{fontStyle:"italic"}},e),n?g.createElement("pre",{style:s},n):null,null)}const vF=g.createElement(yF,null);class wF extends g.Component{constructor(e){super(e),this.state={location:e.location,revalidation:e.revalidation,error:e.error}}static getDerivedStateFromError(e){return{error:e}}static getDerivedStateFromProps(e,n){return n.location!==e.location||n.revalidation!=="idle"&&e.revalidation==="idle"?{error:e.error,location:e.location,revalidation:e.revalidation}:{error:e.error!==void 0?e.error:n.error,location:n.location,revalidation:e.revalidation||n.revalidation}}componentDidCatch(e,n){console.error("React Router caught the following error during render",e,n)}render(){return this.state.error!==void 0?g.createElement(Hi.Provider,{value:this.props.routeContext},g.createElement(qC.Provider,{value:this.state.error,children:this.props.component})):this.props.children}}function xF(t){let{routeContext:e,match:n,children:r}=t,s=g.useContext(fp);return s&&s.static&&s.staticContext&&(n.route.errorElement||n.route.ErrorBoundary)&&(s.staticContext._deepestRenderedBoundaryId=n.route.id),g.createElement(Hi.Provider,{value:e},r)}function _F(t,e,n,r){var s;if(e===void 0&&(e=[]),n===void 0&&(n=null),r===void 0&&(r=null),t==null){var i;if(!n)return null;if(n.errors)t=n.matches;else if((i=r)!=null&&i.v7_partialHydration&&e.length===0&&!n.initialized&&n.matches.length>0)t=n.matches;else return null}let o=t,a=(s=n)==null?void 0:s.errors;if(a!=null){let h=o.findIndex(f=>f.route.id&&(a==null?void 0:a[f.route.id])!==void 0);h>=0||st(!1),o=o.slice(0,Math.min(o.length,h+1))}let c=!1,d=-1;if(n&&r&&r.v7_partialHydration)for(let h=0;h<o.length;h++){let f=o[h];if((f.route.HydrateFallback||f.route.hydrateFallbackElement)&&(d=h),f.route.id){let{loaderData:p,errors:m}=n,T=f.route.loader&&p[f.route.id]===void 0&&(!m||m[f.route.id]===void 0);if(f.route.lazy||T){c=!0,d>=0?o=o.slice(0,d+1):o=[o[0]];break}}}return o.reduceRight((h,f,p)=>{let m,T=!1,w=null,x=null;n&&(m=a&&f.route.id?a[f.route.id]:void 0,w=f.route.errorElement||vF,c&&(d<0&&p===0?(T=!0,x=null):d===p&&(T=!0,x=f.route.hydrateFallbackElement||null)));let _=e.concat(o.slice(0,p+1)),v=()=>{let b;return m?b=w:T?b=x:f.route.Component?b=g.createElement(f.route.Component,null):f.route.element?b=f.route.element:b=h,g.createElement(xF,{match:f,routeContext:{outlet:h,matches:_,isDataRoute:n!=null},children:b})};return n&&(f.route.ErrorBoundary||f.route.errorElement||p===0)?g.createElement(wF,{location:n.location,revalidation:n.revalidation,component:w,error:m,children:v(),routeContext:{outlet:null,matches:_,isDataRoute:!0}}):v()},null)}var KC=function(t){return t.UseBlocker="useBlocker",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t}(KC||{}),uf=function(t){return t.UseBlocker="useBlocker",t.UseLoaderData="useLoaderData",t.UseActionData="useActionData",t.UseRouteError="useRouteError",t.UseNavigation="useNavigation",t.UseRouteLoaderData="useRouteLoaderData",t.UseMatches="useMatches",t.UseRevalidator="useRevalidator",t.UseNavigateStable="useNavigate",t.UseRouteId="useRouteId",t}(uf||{});function bF(t){let e=g.useContext(fp);return e||st(!1),e}function EF(t){let e=g.useContext(HC);return e||st(!1),e}function TF(t){let e=g.useContext(Hi);return e||st(!1),e}function QC(t){let e=TF(),n=e.matches[e.matches.length-1];return n.route.id||st(!1),n.route.id}function SF(){var t;let e=g.useContext(qC),n=EF(uf.UseRouteError),r=QC(uf.UseRouteError);return e!==void 0?e:(t=n.errors)==null?void 0:t[r]}function IF(){let{router:t}=bF(KC.UseNavigateStable),e=QC(uf.UseNavigateStable),n=g.useRef(!1);return GC(()=>{n.current=!0}),g.useCallback(function(s,i){i===void 0&&(i={}),n.current&&(typeof s=="number"?t.navigate(s):t.navigate(s,mu({fromRouteId:e},i)))},[t,e])}function CF(t,e){t==null||t.v7_startTransition,t==null||t.v7_relativeSplatPath}function NF(t){let{to:e,replace:n,state:r,relative:s}=t;Rl()||st(!1);let{future:i,static:o}=g.useContext(js),{matches:a}=g.useContext(Hi),{pathname:c}=qi(),d=Xo(),h=Hw(e,Ww(a,i.v7_relativeSplatPath),c,s==="path"),f=JSON.stringify(h);return g.useEffect(()=>d(JSON.parse(f),{replace:n,state:r,relative:s}),[d,f,s,n,r]),null}function ls(t){st(!1)}function RF(t){let{basename:e="/",children:n=null,location:r,navigationType:s=hi.Pop,navigator:i,static:o=!1,future:a}=t;Rl()&&st(!1);let c=e.replace(/^\/*/,"/"),d=g.useMemo(()=>({basename:c,navigator:i,static:o,future:mu({v7_relativeSplatPath:!1},a)}),[c,a,i,o]);typeof r=="string"&&(r=Nl(r));let{pathname:h="/",search:f="",hash:p="",state:m=null,key:T="default"}=r,w=g.useMemo(()=>{let x=hl(h,c);return x==null?null:{location:{pathname:x,search:f,hash:p,state:m,key:T},navigationType:s}},[c,h,f,p,m,T,s]);return w==null?null:g.createElement(js.Provider,{value:d},g.createElement(pp.Provider,{children:n,value:w}))}function YC(t){let{children:e,location:n}=t;return mF(Vy(e),n)}new Promise(()=>{});function Vy(t,e){e===void 0&&(e=[]);let n=[];return g.Children.forEach(t,(r,s)=>{if(!g.isValidElement(r))return;let i=[...e,s];if(r.type===g.Fragment){n.push.apply(n,Vy(r.props.children,i));return}r.type!==ls&&st(!1),!r.props.index||!r.props.children||st(!1);let o={id:r.props.id||i.join("-"),caseSensitive:r.props.caseSensitive,element:r.props.element,Component:r.props.Component,index:r.props.index,path:r.props.path,loader:r.props.loader,action:r.props.action,errorElement:r.props.errorElement,ErrorBoundary:r.props.ErrorBoundary,hasErrorBoundary:r.props.ErrorBoundary!=null||r.props.errorElement!=null,shouldRevalidate:r.props.shouldRevalidate,handle:r.props.handle,lazy:r.props.lazy};r.props.children&&(o.children=Vy(r.props.children,i)),n.push(o)}),n}/**
 * React Router DOM v6.30.1
 *
 * Copyright (c) Remix Software Inc.
 *
 * This source code is licensed under the MIT license found in the
 * LICENSE.md file in the root directory of this source tree.
 *
 * @license MIT
 */function df(){return df=Object.assign?Object.assign.bind():function(t){for(var e=1;e<arguments.length;e++){var n=arguments[e];for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&(t[r]=n[r])}return t},df.apply(this,arguments)}function XC(t,e){if(t==null)return{};var n={},r=Object.keys(t),s,i;for(i=0;i<r.length;i++)s=r[i],!(e.indexOf(s)>=0)&&(n[s]=t[s]);return n}function PF(t){return!!(t.metaKey||t.altKey||t.ctrlKey||t.shiftKey)}function AF(t,e){return t.button===0&&(!e||e==="_self")&&!PF(t)}const kF=["onClick","relative","reloadDocument","replace","state","target","to","preventScrollReset","viewTransition"],jF=["aria-current","caseSensitive","className","end","style","to","viewTransition","children"],DF="6";try{window.__reactRouterVersion=DF}catch{}const OF=g.createContext({isTransitioning:!1}),MF="startTransition",V1=Nv[MF];function LF(t){let{basename:e,children:n,future:r,window:s}=t,i=g.useRef();i.current==null&&(i.current=B5({window:s,v5Compat:!0}));let o=i.current,[a,c]=g.useState({action:o.action,location:o.location}),{v7_startTransition:d}=r||{},h=g.useCallback(f=>{d&&V1?V1(()=>c(f)):c(f)},[c,d]);return g.useLayoutEffect(()=>o.listen(h),[o,h]),g.useEffect(()=>CF(r),[r]),g.createElement(RF,{basename:e,children:n,location:a.location,navigationType:a.action,navigator:o,future:r})}const VF=typeof window<"u"&&typeof window.document<"u"&&typeof window.document.createElement<"u",FF=/^(?:[a-z][a-z0-9+.-]*:|\/\/)/i,UF=g.forwardRef(function(e,n){let{onClick:r,relative:s,reloadDocument:i,replace:o,state:a,target:c,to:d,preventScrollReset:h,viewTransition:f}=e,p=XC(e,kF),{basename:m}=g.useContext(js),T,w=!1;if(typeof d=="string"&&FF.test(d)&&(T=d,VF))try{let b=new URL(window.location.href),k=d.startsWith("//")?new URL(b.protocol+d):new URL(d),O=hl(k.pathname,m);k.origin===b.origin&&O!=null?d=O+k.search+k.hash:w=!0}catch{}let x=fF(d,{relative:s}),_=zF(d,{replace:o,state:a,target:c,preventScrollReset:h,relative:s,viewTransition:f});function v(b){r&&r(b),b.defaultPrevented||_(b)}return g.createElement("a",df({},p,{href:T||x,onClick:w||i?r:v,ref:n,target:c}))}),$F=g.forwardRef(function(e,n){let{"aria-current":r="page",caseSensitive:s=!1,className:i="",end:o=!1,style:a,to:c,viewTransition:d,children:h}=e,f=XC(e,jF),p=mp(c,{relative:f.relative}),m=qi(),T=g.useContext(HC),{navigator:w,basename:x}=g.useContext(js),_=T!=null&&WF(p)&&d===!0,v=w.encodeLocation?w.encodeLocation(p).pathname:p.pathname,b=m.pathname,k=T&&T.navigation&&T.navigation.location?T.navigation.location.pathname:null;s||(b=b.toLowerCase(),k=k?k.toLowerCase():null,v=v.toLowerCase()),k&&x&&(k=hl(k,x)||k);const O=v!=="/"&&v.endsWith("/")?v.length-1:v.length;let D=b===v||!o&&b.startsWith(v)&&b.charAt(O)==="/",C=k!=null&&(k===v||!o&&k.startsWith(v)&&k.charAt(v.length)==="/"),I={isActive:D,isPending:C,isTransitioning:_},S=D?r:void 0,N;typeof i=="function"?N=i(I):N=[i,D?"active":null,C?"pending":null,_?"transitioning":null].filter(Boolean).join(" ");let P=typeof a=="function"?a(I):a;return g.createElement(UF,df({},f,{"aria-current":S,className:N,ref:n,style:P,to:c,viewTransition:d}),typeof h=="function"?h(I):h)});var Fy;(function(t){t.UseScrollRestoration="useScrollRestoration",t.UseSubmit="useSubmit",t.UseSubmitFetcher="useSubmitFetcher",t.UseFetcher="useFetcher",t.useViewTransitionState="useViewTransitionState"})(Fy||(Fy={}));var F1;(function(t){t.UseFetcher="useFetcher",t.UseFetchers="useFetchers",t.UseScrollRestoration="useScrollRestoration"})(F1||(F1={}));function BF(t){let e=g.useContext(fp);return e||st(!1),e}function zF(t,e){let{target:n,replace:r,state:s,preventScrollReset:i,relative:o,viewTransition:a}=e===void 0?{}:e,c=Xo(),d=qi(),h=mp(t,{relative:o});return g.useCallback(f=>{if(AF(f,n)){f.preventDefault();let p=r!==void 0?r:lf(d)===lf(h);c(t,{replace:p,state:s,preventScrollReset:i,relative:o,viewTransition:a})}},[d,c,h,r,s,n,t,i,o,a])}function WF(t,e){e===void 0&&(e={});let n=g.useContext(OF);n==null&&st(!1);let{basename:r}=BF(Fy.useViewTransitionState),s=mp(t,{relative:e.relative});if(!n.isTransitioning)return!1;let i=hl(n.currentLocation.pathname,r)||n.currentLocation.pathname,o=hl(n.nextLocation.pathname,r)||n.nextLocation.pathname;return cf(s.pathname,o)!=null||cf(s.pathname,i)!=null}const HF=()=>{};var U1={};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const JC=function(t){const e=[];let n=0;for(let r=0;r<t.length;r++){let s=t.charCodeAt(r);s<128?e[n++]=s:s<2048?(e[n++]=s>>6|192,e[n++]=s&63|128):(s&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(s=65536+((s&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=s>>18|240,e[n++]=s>>12&63|128,e[n++]=s>>6&63|128,e[n++]=s&63|128):(e[n++]=s>>12|224,e[n++]=s>>6&63|128,e[n++]=s&63|128)}return e},qF=function(t){const e=[];let n=0,r=0;for(;n<t.length;){const s=t[n++];if(s<128)e[r++]=String.fromCharCode(s);else if(s>191&&s<224){const i=t[n++];e[r++]=String.fromCharCode((s&31)<<6|i&63)}else if(s>239&&s<365){const i=t[n++],o=t[n++],a=t[n++],c=((s&7)<<18|(i&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(c>>10)),e[r++]=String.fromCharCode(56320+(c&1023))}else{const i=t[n++],o=t[n++];e[r++]=String.fromCharCode((s&15)<<12|(i&63)<<6|o&63)}}return e.join("")},ZC={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();const n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let s=0;s<t.length;s+=3){const i=t[s],o=s+1<t.length,a=o?t[s+1]:0,c=s+2<t.length,d=c?t[s+2]:0,h=i>>2,f=(i&3)<<4|a>>4;let p=(a&15)<<2|d>>6,m=d&63;c||(m=64,o||(p=64)),r.push(n[h],n[f],n[p],n[m])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(JC(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):qF(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();const n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let s=0;s<t.length;){const i=n[t.charAt(s++)],a=s<t.length?n[t.charAt(s)]:0;++s;const d=s<t.length?n[t.charAt(s)]:64;++s;const f=s<t.length?n[t.charAt(s)]:64;if(++s,i==null||a==null||d==null||f==null)throw new GF;const p=i<<2|a>>4;if(r.push(p),d!==64){const m=a<<4&240|d>>2;if(r.push(m),f!==64){const T=d<<6&192|f;r.push(T)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}};class GF extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}}const KF=function(t){const e=JC(t);return ZC.encodeByteArray(e,!0)},hf=function(t){return KF(t).replace(/\./g,"")},eN=function(t){try{return ZC.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function QF(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const YF=()=>QF().__FIREBASE_DEFAULTS__,XF=()=>{if(typeof process>"u"||typeof U1>"u")return;const t=U1.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},JF=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}const e=t&&eN(t[1]);return e&&JSON.parse(e)},gp=()=>{try{return HF()||YF()||XF()||JF()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},tN=t=>{var e,n;return(n=(e=gp())==null?void 0:e.emulatorHosts)==null?void 0:n[t]},ZF=t=>{const e=tN(t);if(!e)return;const n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);const r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},nN=()=>{var t;return(t=gp())==null?void 0:t.config},rN=t=>{var e;return(e=gp())==null?void 0:e[`_${t}`]};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e3{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Pl(t){try{return(t.startsWith("http://")||t.startsWith("https://")?new URL(t).hostname:t).endsWith(".cloudworkstations.dev")}catch{return!1}}async function sN(t){return(await fetch(t,{credentials:"include"})).ok}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function t3(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');const n={alg:"none",type:"JWT"},r=e||"demo-project",s=t.iat||0,i=t.sub||t.user_id;if(!i)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");const o={iss:`https://securetoken.google.com/${r}`,aud:r,iat:s,exp:s+3600,auth_time:s,sub:i,user_id:i,firebase:{sign_in_provider:"custom",identities:{}},...t};return[hf(JSON.stringify(n)),hf(JSON.stringify(o)),""].join(".")}const Fc={};function n3(){const t={prod:[],emulator:[]};for(const e of Object.keys(Fc))Fc[e]?t.emulator.push(e):t.prod.push(e);return t}function r3(t){let e=document.getElementById(t),n=!1;return e||(e=document.createElement("div"),e.setAttribute("id",t),n=!0),{created:n,element:e}}let $1=!1;function iN(t,e){if(typeof window>"u"||typeof document>"u"||!Pl(window.location.host)||Fc[t]===e||Fc[t]||$1)return;Fc[t]=e;function n(p){return`__firebase__banner__${p}`}const r="__firebase__banner",i=n3().prod.length>0;function o(){const p=document.getElementById(r);p&&p.remove()}function a(p){p.style.display="flex",p.style.background="#7faaf0",p.style.position="fixed",p.style.bottom="5px",p.style.left="5px",p.style.padding=".5em",p.style.borderRadius="5px",p.style.alignItems="center"}function c(p,m){p.setAttribute("width","24"),p.setAttribute("id",m),p.setAttribute("height","24"),p.setAttribute("viewBox","0 0 24 24"),p.setAttribute("fill","none"),p.style.marginLeft="-6px"}function d(){const p=document.createElement("span");return p.style.cursor="pointer",p.style.marginLeft="16px",p.style.fontSize="24px",p.innerHTML=" &times;",p.onclick=()=>{$1=!0,o()},p}function h(p,m){p.setAttribute("id",m),p.innerText="Learn more",p.href="https://firebase.google.com/docs/studio/preview-apps#preview-backend",p.setAttribute("target","__blank"),p.style.paddingLeft="5px",p.style.textDecoration="underline"}function f(){const p=r3(r),m=n("text"),T=document.getElementById(m)||document.createElement("span"),w=n("learnmore"),x=document.getElementById(w)||document.createElement("a"),_=n("preprendIcon"),v=document.getElementById(_)||document.createElementNS("http://www.w3.org/2000/svg","svg");if(p.created){const b=p.element;a(b),h(x,w);const k=d();c(v,_),b.append(v,T,x,k),document.body.appendChild(b)}i?(T.innerText="Preview backend disconnected.",v.innerHTML=`<g clip-path="url(#clip0_6013_33858)">
<path d="M4.8 17.6L12 5.6L19.2 17.6H4.8ZM6.91667 16.4H17.0833L12 7.93333L6.91667 16.4ZM12 15.6C12.1667 15.6 12.3056 15.5444 12.4167 15.4333C12.5389 15.3111 12.6 15.1667 12.6 15C12.6 14.8333 12.5389 14.6944 12.4167 14.5833C12.3056 14.4611 12.1667 14.4 12 14.4C11.8333 14.4 11.6889 14.4611 11.5667 14.5833C11.4556 14.6944 11.4 14.8333 11.4 15C11.4 15.1667 11.4556 15.3111 11.5667 15.4333C11.6889 15.5444 11.8333 15.6 12 15.6ZM11.4 13.6H12.6V10.4H11.4V13.6Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6013_33858">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`):(v.innerHTML=`<g clip-path="url(#clip0_6083_34804)">
<path d="M11.4 15.2H12.6V11.2H11.4V15.2ZM12 10C12.1667 10 12.3056 9.94444 12.4167 9.83333C12.5389 9.71111 12.6 9.56667 12.6 9.4C12.6 9.23333 12.5389 9.09444 12.4167 8.98333C12.3056 8.86111 12.1667 8.8 12 8.8C11.8333 8.8 11.6889 8.86111 11.5667 8.98333C11.4556 9.09444 11.4 9.23333 11.4 9.4C11.4 9.56667 11.4556 9.71111 11.5667 9.83333C11.6889 9.94444 11.8333 10 12 10ZM12 18.4C11.1222 18.4 10.2944 18.2333 9.51667 17.9C8.73889 17.5667 8.05556 17.1111 7.46667 16.5333C6.88889 15.9444 6.43333 15.2611 6.1 14.4833C5.76667 13.7056 5.6 12.8778 5.6 12C5.6 11.1111 5.76667 10.2833 6.1 9.51667C6.43333 8.73889 6.88889 8.06111 7.46667 7.48333C8.05556 6.89444 8.73889 6.43333 9.51667 6.1C10.2944 5.76667 11.1222 5.6 12 5.6C12.8889 5.6 13.7167 5.76667 14.4833 6.1C15.2611 6.43333 15.9389 6.89444 16.5167 7.48333C17.1056 8.06111 17.5667 8.73889 17.9 9.51667C18.2333 10.2833 18.4 11.1111 18.4 12C18.4 12.8778 18.2333 13.7056 17.9 14.4833C17.5667 15.2611 17.1056 15.9444 16.5167 16.5333C15.9389 17.1111 15.2611 17.5667 14.4833 17.9C13.7167 18.2333 12.8889 18.4 12 18.4ZM12 17.2C13.4444 17.2 14.6722 16.6944 15.6833 15.6833C16.6944 14.6722 17.2 13.4444 17.2 12C17.2 10.5556 16.6944 9.32778 15.6833 8.31667C14.6722 7.30555 13.4444 6.8 12 6.8C10.5556 6.8 9.32778 7.30555 8.31667 8.31667C7.30556 9.32778 6.8 10.5556 6.8 12C6.8 13.4444 7.30556 14.6722 8.31667 15.6833C9.32778 16.6944 10.5556 17.2 12 17.2Z" fill="#212121"/>
</g>
<defs>
<clipPath id="clip0_6083_34804">
<rect width="24" height="24" fill="white"/>
</clipPath>
</defs>`,T.innerText="Preview backend running in this workspace."),T.setAttribute("id",m)}document.readyState==="loading"?window.addEventListener("DOMContentLoaded",f):f()}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Qt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function s3(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(Qt())}function i3(){var e;const t=(e=gp())==null?void 0:e.forceEnvironment;if(t==="node")return!0;if(t==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function o3(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function oN(){const t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function a3(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function l3(){const t=Qt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function c3(){return!i3()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function aN(){try{return typeof indexedDB=="object"}catch{return!1}}function lN(){return new Promise((t,e)=>{try{let n=!0;const r="validate-browser-context-for-indexeddb-analytics-module",s=self.indexedDB.open(r);s.onsuccess=()=>{s.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},s.onupgradeneeded=()=>{n=!1},s.onerror=()=>{var i;e(((i=s.error)==null?void 0:i.message)||"")}}catch(n){e(n)}})}function u3(){return!(typeof navigator>"u"||!navigator.cookieEnabled)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const d3="FirebaseError";class wr extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=d3,Object.setPrototypeOf(this,wr.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Jo.prototype.create)}}class Jo{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){const r=n[0]||{},s=`${this.service}/${e}`,i=this.errors[e],o=i?h3(i,r):"Error",a=`${this.serviceName}: ${o} (${s}).`;return new wr(s,a,r)}}function h3(t,e){return t.replace(f3,(n,r)=>{const s=e[r];return s!=null?String(s):`<${r}?>`})}const f3=/\{\$([^}]+)}/g;function p3(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Di(t,e){if(t===e)return!0;const n=Object.keys(t),r=Object.keys(e);for(const s of n){if(!r.includes(s))return!1;const i=t[s],o=e[s];if(B1(i)&&B1(o)){if(!Di(i,o))return!1}else if(i!==o)return!1}for(const s of r)if(!n.includes(s))return!1;return!0}function B1(t){return t!==null&&typeof t=="object"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qu(t){const e=[];for(const[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(s=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(s))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function wc(t){const e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){const[s,i]=r.split("=");e[decodeURIComponent(s)]=decodeURIComponent(i)}}),e}function xc(t){const e=t.indexOf("?");if(!e)return"";const n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function m3(t,e){const n=new g3(t,e);return n.subscribe.bind(n)}class g3{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let s;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");y3(e,["next","error","complete"])?s=e:s={next:e,error:n,complete:r},s.next===void 0&&(s.next=sg),s.error===void 0&&(s.error=sg),s.complete===void 0&&(s.complete=sg);const i=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?s.error(this.finalError):s.complete()}catch{}}),this.observers.push(s),i}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}}function y3(t,e){if(typeof t!="object"||t===null)return!1;for(const n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function sg(){}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v3=1e3,w3=2,x3=4*60*60*1e3,_3=.5;function z1(t,e=v3,n=w3){const r=e*Math.pow(n,t),s=Math.round(_3*r*(Math.random()-.5)*2);return Math.min(x3,r+s)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function dt(t){return t&&t._delegate?t._delegate:t}class mr{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lo="[DEFAULT]";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class b3{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){const n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){const r=new e3;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{const s=this.getOrInitializeService({instanceIdentifier:n});s&&r.resolve(s)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){const n=this.normalizeInstanceIdentifier(e==null?void 0:e.identifier),r=(e==null?void 0:e.optional)??!1;if(this.isInitialized(n)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:n})}catch(s){if(r)return null;throw s}else{if(r)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(T3(e))try{this.getOrInitializeService({instanceIdentifier:lo})}catch{}for(const[n,r]of this.instancesDeferred.entries()){const s=this.normalizeInstanceIdentifier(n);try{const i=this.getOrInitializeService({instanceIdentifier:s});r.resolve(i)}catch{}}}}clearInstance(e=lo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}async delete(){const e=Array.from(this.instances.values());await Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])}isComponentSet(){return this.component!=null}isInitialized(e=lo){return this.instances.has(e)}getOptions(e=lo){return this.instancesOptions.get(e)||{}}initialize(e={}){const{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);const s=this.getOrInitializeService({instanceIdentifier:r,options:n});for(const[i,o]of this.instancesDeferred.entries()){const a=this.normalizeInstanceIdentifier(i);r===a&&o.resolve(s)}return s}onInit(e,n){const r=this.normalizeInstanceIdentifier(n),s=this.onInitCallbacks.get(r)??new Set;s.add(e),this.onInitCallbacks.set(r,s);const i=this.instances.get(r);return i&&e(i,r),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){const r=this.onInitCallbacks.get(n);if(r)for(const s of r)try{s(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:E3(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=lo){return this.component?this.component.multipleInstances?e:lo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}}function E3(t){return t===lo?void 0:t}function T3(t){return t.instantiationMode==="EAGER"}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class S3{constructor(e){this.name=e,this.providers=new Map}addComponent(e){const n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);const n=new b3(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var Ce;(function(t){t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT"})(Ce||(Ce={}));const I3={debug:Ce.DEBUG,verbose:Ce.VERBOSE,info:Ce.INFO,warn:Ce.WARN,error:Ce.ERROR,silent:Ce.SILENT},C3=Ce.INFO,N3={[Ce.DEBUG]:"log",[Ce.VERBOSE]:"log",[Ce.INFO]:"info",[Ce.WARN]:"warn",[Ce.ERROR]:"error"},R3=(t,e,...n)=>{if(e<t.logLevel)return;const r=new Date().toISOString(),s=N3[e];if(s)console[s](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)};class yp{constructor(e){this.name=e,this._logLevel=C3,this._logHandler=R3,this._userLogHandler=null}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in Ce))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?I3[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,Ce.DEBUG,...e),this._logHandler(this,Ce.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,Ce.VERBOSE,...e),this._logHandler(this,Ce.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,Ce.INFO,...e),this._logHandler(this,Ce.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,Ce.WARN,...e),this._logHandler(this,Ce.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,Ce.ERROR,...e),this._logHandler(this,Ce.ERROR,...e)}}const P3=(t,e)=>e.some(n=>t instanceof n);let W1,H1;function A3(){return W1||(W1=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function k3(){return H1||(H1=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}const cN=new WeakMap,Uy=new WeakMap,uN=new WeakMap,ig=new WeakMap,qw=new WeakMap;function j3(t){const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("success",i),t.removeEventListener("error",o)},i=()=>{n(Ei(t.result)),s()},o=()=>{r(t.error),s()};t.addEventListener("success",i),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&cN.set(n,t)}).catch(()=>{}),qw.set(e,t),e}function D3(t){if(Uy.has(t))return;const e=new Promise((n,r)=>{const s=()=>{t.removeEventListener("complete",i),t.removeEventListener("error",o),t.removeEventListener("abort",o)},i=()=>{n(),s()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),s()};t.addEventListener("complete",i),t.addEventListener("error",o),t.addEventListener("abort",o)});Uy.set(t,e)}let $y={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return Uy.get(t);if(e==="objectStoreNames")return t.objectStoreNames||uN.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ei(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function O3(t){$y=t($y)}function M3(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){const r=t.call(og(this),e,...n);return uN.set(r,e.sort?e.sort():[e]),Ei(r)}:k3().includes(t)?function(...e){return t.apply(og(this),e),Ei(cN.get(this))}:function(...e){return Ei(t.apply(og(this),e))}}function L3(t){return typeof t=="function"?M3(t):(t instanceof IDBTransaction&&D3(t),P3(t,A3())?new Proxy(t,$y):t)}function Ei(t){if(t instanceof IDBRequest)return j3(t);if(ig.has(t))return ig.get(t);const e=L3(t);return e!==t&&(ig.set(t,e),qw.set(e,t)),e}const og=t=>qw.get(t);function dN(t,e,{blocked:n,upgrade:r,blocking:s,terminated:i}={}){const o=indexedDB.open(t,e),a=Ei(o);return r&&o.addEventListener("upgradeneeded",c=>{r(Ei(o.result),c.oldVersion,c.newVersion,Ei(o.transaction),c)}),n&&o.addEventListener("blocked",c=>n(c.oldVersion,c.newVersion,c)),a.then(c=>{i&&c.addEventListener("close",()=>i()),s&&c.addEventListener("versionchange",d=>s(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}const V3=["get","getKey","getAll","getAllKeys","count"],F3=["put","add","delete","clear"],ag=new Map;function q1(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(ag.get(e))return ag.get(e);const n=e.replace(/FromIndex$/,""),r=e!==n,s=F3.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(s||V3.includes(n)))return;const i=async function(o,...a){const c=this.transaction(o,s?"readwrite":"readonly");let d=c.store;return r&&(d=d.index(a.shift())),(await Promise.all([d[n](...a),s&&c.done]))[0]};return ag.set(e,i),i}O3(t=>({...t,get:(e,n,r)=>q1(e,n)||t.get(e,n,r),has:(e,n)=>!!q1(e,n)||t.has(e,n)}));/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class U3{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if($3(n)){const r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}}function $3(t){const e=t.getComponent();return(e==null?void 0:e.type)==="VERSION"}const By="@firebase/app",G1="0.14.8";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Is=new yp("@firebase/app"),B3="@firebase/app-compat",z3="@firebase/analytics-compat",W3="@firebase/analytics",H3="@firebase/app-check-compat",q3="@firebase/app-check",G3="@firebase/auth",K3="@firebase/auth-compat",Q3="@firebase/database",Y3="@firebase/data-connect",X3="@firebase/database-compat",J3="@firebase/functions",Z3="@firebase/functions-compat",e6="@firebase/installations",t6="@firebase/installations-compat",n6="@firebase/messaging",r6="@firebase/messaging-compat",s6="@firebase/performance",i6="@firebase/performance-compat",o6="@firebase/remote-config",a6="@firebase/remote-config-compat",l6="@firebase/storage",c6="@firebase/storage-compat",u6="@firebase/firestore",d6="@firebase/ai",h6="@firebase/firestore-compat",f6="firebase",p6="12.9.0";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zy="[DEFAULT]",m6={[By]:"fire-core",[B3]:"fire-core-compat",[W3]:"fire-analytics",[z3]:"fire-analytics-compat",[q3]:"fire-app-check",[H3]:"fire-app-check-compat",[G3]:"fire-auth",[K3]:"fire-auth-compat",[Q3]:"fire-rtdb",[Y3]:"fire-data-connect",[X3]:"fire-rtdb-compat",[J3]:"fire-fn",[Z3]:"fire-fn-compat",[e6]:"fire-iid",[t6]:"fire-iid-compat",[n6]:"fire-fcm",[r6]:"fire-fcm-compat",[s6]:"fire-perf",[i6]:"fire-perf-compat",[o6]:"fire-rc",[a6]:"fire-rc-compat",[l6]:"fire-gcs",[c6]:"fire-gcs-compat",[u6]:"fire-fst",[h6]:"fire-fst-compat",[d6]:"fire-vertex","fire-js":"fire-js",[f6]:"fire-js-all"};/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gu=new Map,g6=new Map,Wy=new Map;function K1(t,e){try{t.container.addComponent(e)}catch(n){Is.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Qr(t){const e=t.name;if(Wy.has(e))return Is.debug(`There were multiple attempts to register component ${e}.`),!1;Wy.set(e,t);for(const n of gu.values())K1(n,t);for(const n of g6.values())K1(n,t);return!0}function Zo(t,e){const n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Mn(t){return t==null?!1:t.settings!==void 0}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const y6={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Ti=new Jo("app","Firebase",y6);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class v6{constructor(e,n,r){this._isDeleted=!1,this._options={...e},this._config={...n},this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mr("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Ti.create("app-deleted",{appName:this._name})}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Al=p6;function Gw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});const r={name:zy,automaticDataCollectionEnabled:!0,...e},s=r.name;if(typeof s!="string"||!s)throw Ti.create("bad-app-name",{appName:String(s)});if(n||(n=nN()),!n)throw Ti.create("no-options");const i=gu.get(s);if(i){if(Di(n,i.options)&&Di(r,i.config))return i;throw Ti.create("duplicate-app",{appName:s})}const o=new S3(s);for(const c of Wy.values())o.addComponent(c);const a=new v6(n,r,o);return gu.set(s,a),a}function Kw(t=zy){const e=gu.get(t);if(!e&&t===zy&&nN())return Gw();if(!e)throw Ti.create("no-app",{appName:t});return e}function w6(){return Array.from(gu.values())}function $n(t,e,n){let r=m6[t]??t;n&&(r+=`-${n}`);const s=r.match(/\s|\//),i=e.match(/\s|\//);if(s||i){const o=[`Unable to register library "${r}" with version "${e}":`];s&&o.push(`library name "${r}" contains illegal characters (whitespace or "/")`),s&&i&&o.push("and"),i&&o.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Is.warn(o.join(" "));return}Qr(new mr(`${r}-version`,()=>({library:r,version:e}),"VERSION"))}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x6="firebase-heartbeat-database",_6=1,yu="firebase-heartbeat-store";let lg=null;function hN(){return lg||(lg=dN(x6,_6,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(yu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Ti.create("idb-open",{originalErrorMessage:t.message})})),lg}async function b6(t){try{const n=(await hN()).transaction(yu),r=await n.objectStore(yu).get(fN(t));return await n.done,r}catch(e){if(e instanceof wr)Is.warn(e.message);else{const n=Ti.create("idb-get",{originalErrorMessage:e==null?void 0:e.message});Is.warn(n.message)}}}async function Q1(t,e){try{const r=(await hN()).transaction(yu,"readwrite");await r.objectStore(yu).put(e,fN(t)),await r.done}catch(n){if(n instanceof wr)Is.warn(n.message);else{const r=Ti.create("idb-set",{originalErrorMessage:n==null?void 0:n.message});Is.warn(r.message)}}}function fN(t){return`${t.name}!${t.options.appId}`}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const E6=1024,T6=30;class S6{constructor(e){this.container=e,this._heartbeatsCache=null;const n=this.container.getProvider("app").getImmediate();this._storage=new C6(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}async triggerHeartbeat(){var e,n;try{const s=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),i=Y1();if(((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null&&(this._heartbeatsCache=await this._heartbeatsCachePromise,((n=this._heartbeatsCache)==null?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===i||this._heartbeatsCache.heartbeats.some(o=>o.date===i))return;if(this._heartbeatsCache.heartbeats.push({date:i,agent:s}),this._heartbeatsCache.heartbeats.length>T6){const o=N6(this._heartbeatsCache.heartbeats);this._heartbeatsCache.heartbeats.splice(o,1)}return this._storage.overwrite(this._heartbeatsCache)}catch(r){Is.warn(r)}}async getHeartbeatsHeader(){var e;try{if(this._heartbeatsCache===null&&await this._heartbeatsCachePromise,((e=this._heartbeatsCache)==null?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";const n=Y1(),{heartbeatsToSend:r,unsentEntries:s}=I6(this._heartbeatsCache.heartbeats),i=hf(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,s.length>0?(this._heartbeatsCache.heartbeats=s,await this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),i}catch(n){return Is.warn(n),""}}}function Y1(){return new Date().toISOString().substring(0,10)}function I6(t,e=E6){const n=[];let r=t.slice();for(const s of t){const i=n.find(o=>o.agent===s.agent);if(i){if(i.dates.push(s.date),X1(n)>e){i.dates.pop();break}}else if(n.push({agent:s.agent,dates:[s.date]}),X1(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}class C6{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}async runIndexedDBEnvironmentCheck(){return aN()?lN().then(()=>!0).catch(()=>!1):!1}async read(){if(await this._canUseIndexedDBPromise){const n=await b6(this.app);return n!=null&&n.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}}async overwrite(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Q1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return}async add(e){if(await this._canUseIndexedDBPromise){const r=await this.read();return Q1(this.app,{lastSentHeartbeatDate:e.lastSentHeartbeatDate??r.lastSentHeartbeatDate,heartbeats:[...r.heartbeats,...e.heartbeats]})}else return}}function X1(t){return hf(JSON.stringify({version:2,heartbeats:t})).length}function N6(t){if(t.length===0)return-1;let e=0,n=t[0].date;for(let r=1;r<t.length;r++)t[r].date<n&&(n=t[r].date,e=r);return e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function R6(t){Qr(new mr("platform-logger",e=>new U3(e),"PRIVATE")),Qr(new mr("heartbeat",e=>new S6(e),"PRIVATE")),$n(By,G1,t),$n(By,G1,"esm2020"),$n("fire-js","")}R6("");var P6="firebase",A6="12.9.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */$n(P6,A6,"app");const pN="@firebase/installations",Qw="0.6.19";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mN=1e4,gN=`w:${Qw}`,yN="FIS_v2",k6="https://firebaseinstallations.googleapis.com/v1",j6=60*60*1e3,D6="installations",O6="Installations";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M6={"missing-app-config-values":'Missing App configuration value: "{$valueName}"',"not-registered":"Firebase Installation is not registered.","installation-not-found":"Firebase Installation not found.","request-failed":'{$requestName} request failed with error "{$serverCode} {$serverStatus}: {$serverMessage}"',"app-offline":"Could not process request. Application offline.","delete-pending-registration":"Can't delete installation while there is a pending registration request."},Mo=new Jo(D6,O6,M6);function vN(t){return t instanceof wr&&t.code.includes("request-failed")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wN({projectId:t}){return`${k6}/projects/${t}/installations`}function xN(t){return{token:t.token,requestStatus:2,expiresIn:V6(t.expiresIn),creationTime:Date.now()}}async function _N(t,e){const r=(await e.json()).error;return Mo.create("request-failed",{requestName:t,serverCode:r.code,serverMessage:r.message,serverStatus:r.status})}function bN({apiKey:t}){return new Headers({"Content-Type":"application/json",Accept:"application/json","x-goog-api-key":t})}function L6(t,{refreshToken:e}){const n=bN(t);return n.append("Authorization",F6(e)),n}async function EN(t){const e=await t();return e.status>=500&&e.status<600?t():e}function V6(t){return Number(t.replace("s","000"))}function F6(t){return`${yN} ${t}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function U6({appConfig:t,heartbeatServiceProvider:e},{fid:n}){const r=wN(t),s=bN(t),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={fid:n,authVersion:yN,appId:t.appId,sdkVersion:gN},a={method:"POST",headers:s,body:JSON.stringify(o)},c=await EN(()=>fetch(r,a));if(c.ok){const d=await c.json();return{fid:d.fid||n,registrationStatus:2,refreshToken:d.refreshToken,authToken:xN(d.authToken)}}else throw await _N("Create Installation",c)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TN(t){return new Promise(e=>{setTimeout(e,t)})}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function $6(t){return btoa(String.fromCharCode(...t)).replace(/\+/g,"-").replace(/\//g,"_")}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const B6=/^[cdef][\w-]{21}$/,Hy="";function z6(){try{const t=new Uint8Array(17);(self.crypto||self.msCrypto).getRandomValues(t),t[0]=112+t[0]%16;const n=W6(t);return B6.test(n)?n:Hy}catch{return Hy}}function W6(t){return $6(t).substr(0,22)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vp(t){return`${t.appName}!${t.appId}`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const SN=new Map;function IN(t,e){const n=vp(t);CN(n,e),H6(n,e)}function CN(t,e){const n=SN.get(t);if(n)for(const r of n)r(e)}function H6(t,e){const n=q6();n&&n.postMessage({key:t,fid:e}),G6()}let mo=null;function q6(){return!mo&&"BroadcastChannel"in self&&(mo=new BroadcastChannel("[Firebase] FID Change"),mo.onmessage=t=>{CN(t.data.key,t.data.fid)}),mo}function G6(){SN.size===0&&mo&&(mo.close(),mo=null)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const K6="firebase-installations-database",Q6=1,Lo="firebase-installations-store";let cg=null;function Yw(){return cg||(cg=dN(K6,Q6,{upgrade:(t,e)=>{switch(e){case 0:t.createObjectStore(Lo)}}})),cg}async function ff(t,e){const n=vp(t),s=(await Yw()).transaction(Lo,"readwrite"),i=s.objectStore(Lo),o=await i.get(n);return await i.put(e,n),await s.done,(!o||o.fid!==e.fid)&&IN(t,e.fid),e}async function NN(t){const e=vp(t),r=(await Yw()).transaction(Lo,"readwrite");await r.objectStore(Lo).delete(e),await r.done}async function wp(t,e){const n=vp(t),s=(await Yw()).transaction(Lo,"readwrite"),i=s.objectStore(Lo),o=await i.get(n),a=e(o);return a===void 0?await i.delete(n):await i.put(a,n),await s.done,a&&(!o||o.fid!==a.fid)&&IN(t,a.fid),a}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Xw(t){let e;const n=await wp(t.appConfig,r=>{const s=Y6(r),i=X6(t,s);return e=i.registrationPromise,i.installationEntry});return n.fid===Hy?{installationEntry:await e}:{installationEntry:n,registrationPromise:e}}function Y6(t){const e=t||{fid:z6(),registrationStatus:0};return RN(e)}function X6(t,e){if(e.registrationStatus===0){if(!navigator.onLine){const s=Promise.reject(Mo.create("app-offline"));return{installationEntry:e,registrationPromise:s}}const n={fid:e.fid,registrationStatus:1,registrationTime:Date.now()},r=J6(t,n);return{installationEntry:n,registrationPromise:r}}else return e.registrationStatus===1?{installationEntry:e,registrationPromise:Z6(t)}:{installationEntry:e}}async function J6(t,e){try{const n=await U6(t,e);return ff(t.appConfig,n)}catch(n){throw vN(n)&&n.customData.serverCode===409?await NN(t.appConfig):await ff(t.appConfig,{fid:e.fid,registrationStatus:0}),n}}async function Z6(t){let e=await J1(t.appConfig);for(;e.registrationStatus===1;)await TN(100),e=await J1(t.appConfig);if(e.registrationStatus===0){const{installationEntry:n,registrationPromise:r}=await Xw(t);return r||n}return e}function J1(t){return wp(t,e=>{if(!e)throw Mo.create("installation-not-found");return RN(e)})}function RN(t){return e9(t)?{fid:t.fid,registrationStatus:0}:t}function e9(t){return t.registrationStatus===1&&t.registrationTime+mN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function t9({appConfig:t,heartbeatServiceProvider:e},n){const r=n9(t,n),s=L6(t,n),i=e.getImmediate({optional:!0});if(i){const d=await i.getHeartbeatsHeader();d&&s.append("x-firebase-client",d)}const o={installation:{sdkVersion:gN,appId:t.appId}},a={method:"POST",headers:s,body:JSON.stringify(o)},c=await EN(()=>fetch(r,a));if(c.ok){const d=await c.json();return xN(d)}else throw await _N("Generate Auth Token",c)}function n9(t,{fid:e}){return`${wN(t)}/${e}/authTokens:generate`}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Jw(t,e=!1){let n;const r=await wp(t.appConfig,i=>{if(!PN(i))throw Mo.create("not-registered");const o=i.authToken;if(!e&&i9(o))return i;if(o.requestStatus===1)return n=r9(t,e),i;{if(!navigator.onLine)throw Mo.create("app-offline");const a=a9(i);return n=s9(t,a),a}});return n?await n:r.authToken}async function r9(t,e){let n=await Z1(t.appConfig);for(;n.authToken.requestStatus===1;)await TN(100),n=await Z1(t.appConfig);const r=n.authToken;return r.requestStatus===0?Jw(t,e):r}function Z1(t){return wp(t,e=>{if(!PN(e))throw Mo.create("not-registered");const n=e.authToken;return l9(n)?{...e,authToken:{requestStatus:0}}:e})}async function s9(t,e){try{const n=await t9(t,e),r={...e,authToken:n};return await ff(t.appConfig,r),n}catch(n){if(vN(n)&&(n.customData.serverCode===401||n.customData.serverCode===404))await NN(t.appConfig);else{const r={...e,authToken:{requestStatus:0}};await ff(t.appConfig,r)}throw n}}function PN(t){return t!==void 0&&t.registrationStatus===2}function i9(t){return t.requestStatus===2&&!o9(t)}function o9(t){const e=Date.now();return e<t.creationTime||t.creationTime+t.expiresIn<e+j6}function a9(t){const e={requestStatus:1,requestTime:Date.now()};return{...t,authToken:e}}function l9(t){return t.requestStatus===1&&t.requestTime+mN<Date.now()}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function c9(t){const e=t,{installationEntry:n,registrationPromise:r}=await Xw(e);return r?r.catch(console.error):Jw(e).catch(console.error),n.fid}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function u9(t,e=!1){const n=t;return await d9(n),(await Jw(n,e)).token}async function d9(t){const{registrationPromise:e}=await Xw(t);e&&await e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function h9(t){if(!t||!t.options)throw ug("App Configuration");if(!t.name)throw ug("App Name");const e=["projectId","apiKey","appId"];for(const n of e)if(!t.options[n])throw ug(n);return{appName:t.name,projectId:t.options.projectId,apiKey:t.options.apiKey,appId:t.options.appId}}function ug(t){return Mo.create("missing-app-config-values",{valueName:t})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const AN="installations",f9="installations-internal",p9=t=>{const e=t.getProvider("app").getImmediate(),n=h9(e),r=Zo(e,"heartbeat");return{app:e,appConfig:n,heartbeatServiceProvider:r,_delete:()=>Promise.resolve()}},m9=t=>{const e=t.getProvider("app").getImmediate(),n=Zo(e,AN).getImmediate();return{getId:()=>c9(n),getToken:s=>u9(n,s)}};function g9(){Qr(new mr(AN,p9,"PUBLIC")),Qr(new mr(f9,m9,"PRIVATE"))}g9();$n(pN,Qw);$n(pN,Qw,"esm2020");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const pf="analytics",y9="firebase_id",v9="origin",w9=60*1e3,x9="https://firebase.googleapis.com/v1alpha/projects/-/apps/{app-id}/webConfig",Zw="https://www.googletagmanager.com/gtag/js";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const nn=new yp("@firebase/analytics");/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _9={"already-exists":"A Firebase Analytics instance with the appId {$id}  already exists. Only one Firebase Analytics instance can be created for each appId.","already-initialized":"initializeAnalytics() cannot be called again with different options than those it was initially called with. It can be called again with the same options to return the existing instance, or getAnalytics() can be used to get a reference to the already-initialized instance.","already-initialized-settings":"Firebase Analytics has already been initialized.settings() must be called before initializing any Analytics instanceor it will have no effect.","interop-component-reg-failed":"Firebase Analytics Interop Component failed to instantiate: {$reason}","invalid-analytics-context":"Firebase Analytics is not supported in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","indexeddb-unavailable":"IndexedDB unavailable or restricted in this environment. Wrap initialization of analytics in analytics.isSupported() to prevent initialization in unsupported environments. Details: {$errorInfo}","fetch-throttle":"The config fetch request timed out while in an exponential backoff state. Unix timestamp in milliseconds when fetch request throttling ends: {$throttleEndTimeMillis}.","config-fetch-failed":"Dynamic config fetch failed: [{$httpStatus}] {$responseMessage}","no-api-key":'The "apiKey" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid API key.',"no-app-id":'The "appId" field is empty in the local Firebase config. Firebase Analytics requires this field tocontain a valid app ID.',"no-client-id":'The "client_id" field is empty.',"invalid-gtag-resource":"Trusted Types detected an invalid gtag resource: {$gtagURL}."},In=new Jo("analytics","Analytics",_9);/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function b9(t){if(!t.startsWith(Zw)){const e=In.create("invalid-gtag-resource",{gtagURL:t});return nn.warn(e.message),""}return t}function kN(t){return Promise.all(t.map(e=>e.catch(n=>n)))}function E9(t,e){let n;return window.trustedTypes&&(n=window.trustedTypes.createPolicy(t,e)),n}function T9(t,e){const n=E9("firebase-js-sdk-policy",{createScriptURL:b9}),r=document.createElement("script"),s=`${Zw}?l=${t}&id=${e}`;r.src=n?n==null?void 0:n.createScriptURL(s):s,r.async=!0,document.head.appendChild(r)}function S9(t){let e=[];return Array.isArray(window[t])?e=window[t]:window[t]=e,e}async function I9(t,e,n,r,s,i){const o=r[s];try{if(o)await e[o];else{const c=(await kN(n)).find(d=>d.measurementId===s);c&&await e[c.appId]}}catch(a){nn.error(a)}t("config",s,i)}async function C9(t,e,n,r,s){try{let i=[];if(s&&s.send_to){let o=s.send_to;Array.isArray(o)||(o=[o]);const a=await kN(n);for(const c of o){const d=a.find(f=>f.measurementId===c),h=d&&e[d.appId];if(h)i.push(h);else{i=[];break}}}i.length===0&&(i=Object.values(e)),await Promise.all(i),t("event",r,s||{})}catch(i){nn.error(i)}}function N9(t,e,n,r){async function s(i,...o){try{if(i==="event"){const[a,c]=o;await C9(t,e,n,a,c)}else if(i==="config"){const[a,c]=o;await I9(t,e,n,r,a,c)}else if(i==="consent"){const[a,c]=o;t("consent",a,c)}else if(i==="get"){const[a,c,d]=o;t("get",a,c,d)}else if(i==="set"){const[a]=o;t("set",a)}else t(i,...o)}catch(a){nn.error(a)}}return s}function R9(t,e,n,r,s){let i=function(...o){window[r].push(arguments)};return window[s]&&typeof window[s]=="function"&&(i=window[s]),window[s]=N9(i,t,e,n),{gtagCore:i,wrappedGtag:window[s]}}function P9(t){const e=window.document.getElementsByTagName("script");for(const n of Object.values(e))if(n.src&&n.src.includes(Zw)&&n.src.includes(t))return n;return null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const A9=30,k9=1e3;class j9{constructor(e={},n=k9){this.throttleMetadata=e,this.intervalMillis=n}getThrottleMetadata(e){return this.throttleMetadata[e]}setThrottleMetadata(e,n){this.throttleMetadata[e]=n}deleteThrottleMetadata(e){delete this.throttleMetadata[e]}}const jN=new j9;function D9(t){return new Headers({Accept:"application/json","x-goog-api-key":t})}async function O9(t){var o;const{appId:e,apiKey:n}=t,r={method:"GET",headers:D9(n)},s=x9.replace("{app-id}",e),i=await fetch(s,r);if(i.status!==200&&i.status!==304){let a="";try{const c=await i.json();(o=c.error)!=null&&o.message&&(a=c.error.message)}catch{}throw In.create("config-fetch-failed",{httpStatus:i.status,responseMessage:a})}return i.json()}async function M9(t,e=jN,n){const{appId:r,apiKey:s,measurementId:i}=t.options;if(!r)throw In.create("no-app-id");if(!s){if(i)return{measurementId:i,appId:r};throw In.create("no-api-key")}const o=e.getThrottleMetadata(r)||{backoffCount:0,throttleEndTimeMillis:Date.now()},a=new F9;return setTimeout(async()=>{a.abort()},w9),DN({appId:r,apiKey:s,measurementId:i},o,a,e)}async function DN(t,{throttleEndTimeMillis:e,backoffCount:n},r,s=jN){var a;const{appId:i,measurementId:o}=t;try{await L9(r,e)}catch(c){if(o)return nn.warn(`Timed out fetching this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${c==null?void 0:c.message}]`),{appId:i,measurementId:o};throw c}try{const c=await O9(t);return s.deleteThrottleMetadata(i),c}catch(c){const d=c;if(!V9(d)){if(s.deleteThrottleMetadata(i),o)return nn.warn(`Failed to fetch this Firebase app's measurement ID from the server. Falling back to the measurement ID ${o} provided in the "measurementId" field in the local Firebase config. [${d==null?void 0:d.message}]`),{appId:i,measurementId:o};throw c}const h=Number((a=d==null?void 0:d.customData)==null?void 0:a.httpStatus)===503?z1(n,s.intervalMillis,A9):z1(n,s.intervalMillis),f={throttleEndTimeMillis:Date.now()+h,backoffCount:n+1};return s.setThrottleMetadata(i,f),nn.debug(`Calling attemptFetch again in ${h} millis`),DN(t,f,r,s)}}function L9(t,e){return new Promise((n,r)=>{const s=Math.max(e-Date.now(),0),i=setTimeout(n,s);t.addEventListener(()=>{clearTimeout(i),r(In.create("fetch-throttle",{throttleEndTimeMillis:e}))})})}function V9(t){if(!(t instanceof wr)||!t.customData)return!1;const e=Number(t.customData.httpStatus);return e===429||e===500||e===503||e===504}class F9{constructor(){this.listeners=[]}addEventListener(e){this.listeners.push(e)}abort(){this.listeners.forEach(e=>e())}}async function U9(t,e,n,r,s){if(s&&s.global){t("event",n,r);return}else{const i=await e,o={...r,send_to:i};t("event",n,o)}}async function $9(t,e,n,r){if(r&&r.global){const s={};for(const i of Object.keys(n))s[`user_properties.${i}`]=n[i];return t("set",s),Promise.resolve()}else{const s=await e;t("config",s,{update:!0,user_properties:n})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function B9(){if(aN())try{await lN()}catch(t){return nn.warn(In.create("indexeddb-unavailable",{errorInfo:t==null?void 0:t.toString()}).message),!1}else return nn.warn(In.create("indexeddb-unavailable",{errorInfo:"IndexedDB is not available in this environment."}).message),!1;return!0}async function z9(t,e,n,r,s,i,o){const a=M9(t);a.then(p=>{n[p.measurementId]=p.appId,t.options.measurementId&&p.measurementId!==t.options.measurementId&&nn.warn(`The measurement ID in the local Firebase config (${t.options.measurementId}) does not match the measurement ID fetched from the server (${p.measurementId}). To ensure analytics events are always sent to the correct Analytics property, update the measurement ID field in the local config or remove it from the local config.`)}).catch(p=>nn.error(p)),e.push(a);const c=B9().then(p=>{if(p)return r.getId()}),[d,h]=await Promise.all([a,c]);P9(i)||T9(i,d.measurementId),s("js",new Date);const f=(o==null?void 0:o.config)??{};return f[v9]="firebase",f.update=!0,h!=null&&(f[y9]=h),s("config",d.measurementId,f),d.measurementId}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W9{constructor(e){this.app=e}_delete(){return delete $a[this.app.options.appId],Promise.resolve()}}let $a={},eb=[];const tb={};let dg="dataLayer",H9="gtag",nb,ex,rb=!1;function q9(){const t=[];if(oN()&&t.push("This is a browser extension environment."),u3()||t.push("Cookies are not available."),t.length>0){const e=t.map((r,s)=>`(${s+1}) ${r}`).join(" "),n=In.create("invalid-analytics-context",{errorInfo:e});nn.warn(n.message)}}function G9(t,e,n){q9();const r=t.options.appId;if(!r)throw In.create("no-app-id");if(!t.options.apiKey)if(t.options.measurementId)nn.warn(`The "apiKey" field is empty in the local Firebase config. This is needed to fetch the latest measurement ID for this Firebase app. Falling back to the measurement ID ${t.options.measurementId} provided in the "measurementId" field in the local Firebase config.`);else throw In.create("no-api-key");if($a[r]!=null)throw In.create("already-exists",{id:r});if(!rb){S9(dg);const{wrappedGtag:i,gtagCore:o}=R9($a,eb,tb,dg,H9);ex=i,nb=o,rb=!0}return $a[r]=z9(t,eb,tb,e,nb,dg,n),new W9(t)}function K9(t=Kw()){t=dt(t);const e=Zo(t,pf);return e.isInitialized()?e.getImmediate():Q9(t)}function Q9(t,e={}){const n=Zo(t,pf);if(n.isInitialized()){const s=n.getImmediate();if(Di(e,n.getOptions()))return s;throw In.create("already-initialized")}return n.initialize({options:e})}function Y9(t,e,n){t=dt(t),$9(ex,$a[t.app.options.appId],e,n).catch(r=>nn.error(r))}function X9(t,e,n,r){t=dt(t),U9(ex,$a[t.app.options.appId],e,n,r).catch(s=>nn.error(s))}const sb="@firebase/analytics",ib="0.10.19";function J9(){Qr(new mr(pf,(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("installations-internal").getImmediate();return G9(r,s,n)},"PUBLIC")),Qr(new mr("analytics-internal",t,"PRIVATE")),$n(sb,ib),$n(sb,ib,"esm2020");function t(e){try{const n=e.getProvider(pf).getImmediate();return{logEvent:(r,s,i)=>X9(n,r,s,i),setUserProperties:(r,s)=>Y9(n,r,s)}}catch(n){throw In.create("interop-component-reg-failed",{reason:n})}}}J9();function ON(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}const Z9=ON,MN=new Jo("auth","Firebase",ON());/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const mf=new yp("@firebase/auth");function eU(t,...e){mf.logLevel<=Ce.WARN&&mf.warn(`Auth (${Al}): ${t}`,...e)}function vh(t,...e){mf.logLevel<=Ce.ERROR&&mf.error(`Auth (${Al}): ${t}`,...e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function gr(t,...e){throw tx(t,...e)}function $r(t,...e){return tx(t,...e)}function LN(t,e,n){const r={...Z9(),[e]:n};return new Jo("auth","Firebase",r).create(e,{appName:t.name})}function vs(t){return LN(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function tx(t,...e){if(typeof t!="string"){const n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return MN.create(t,...e)}function de(t,e,...n){if(!t)throw tx(e,...n)}function ps(t){const e="INTERNAL ASSERTION FAILED: "+t;throw vh(e),new Error(e)}function Cs(t,e){t||ps(e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function qy(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.href)||""}function tU(){return ob()==="http:"||ob()==="https:"}function ob(){var t;return typeof self<"u"&&((t=self.location)==null?void 0:t.protocol)||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(tU()||oN()||"connection"in navigator)?navigator.onLine:!0}function rU(){if(typeof navigator>"u")return null;const t=navigator;return t.languages&&t.languages[0]||t.language||null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gu{constructor(e,n){this.shortDelay=e,this.longDelay=n,Cs(n>e,"Short delay should be less than long delay!"),this.isMobile=s3()||a3()}get(){return nU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function nx(t,e){Cs(t.emulator,"Emulator should always be set here");const{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class VN{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;ps("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;ps("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;ps("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const iU=["/v1/accounts:signInWithCustomToken","/v1/accounts:signInWithEmailLink","/v1/accounts:signInWithIdp","/v1/accounts:signInWithPassword","/v1/accounts:signInWithPhoneNumber","/v1/token"],oU=new Gu(3e4,6e4);function Gi(t,e){return t.tenantId&&!e.tenantId?{...e,tenantId:t.tenantId}:e}async function Ki(t,e,n,r,s={}){return FN(t,s,async()=>{let i={},o={};r&&(e==="GET"?o=r:i={body:JSON.stringify(r)});const a=qu({key:t.config.apiKey,...o}).slice(1),c=await t._getAdditionalHeaders();c["Content-Type"]="application/json",t.languageCode&&(c["X-Firebase-Locale"]=t.languageCode);const d={method:e,headers:c,...i};return o3()||(d.referrerPolicy="no-referrer"),t.emulatorConfig&&Pl(t.emulatorConfig.host)&&(d.credentials="include"),VN.fetch()(await UN(t,t.config.apiHost,n,a),d)})}async function FN(t,e,n){t._canInitEmulator=!1;const r={...sU,...e};try{const s=new lU(t),i=await Promise.race([n(),s.promise]);s.clearNetworkTimeout();const o=await i.json();if("needConfirmation"in o)throw zd(t,"account-exists-with-different-credential",o);if(i.ok&&!("errorMessage"in o))return o;{const a=i.ok?o.errorMessage:o.error.message,[c,d]=a.split(" : ");if(c==="FEDERATED_USER_ID_ALREADY_LINKED")throw zd(t,"credential-already-in-use",o);if(c==="EMAIL_EXISTS")throw zd(t,"email-already-in-use",o);if(c==="USER_DISABLED")throw zd(t,"user-disabled",o);const h=r[c]||c.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw LN(t,h,d);gr(t,h)}}catch(s){if(s instanceof wr)throw s;gr(t,"network-request-failed",{message:String(s)})}}async function Ku(t,e,n,r,s={}){const i=await Ki(t,e,n,r,s);return"mfaPendingCredential"in i&&gr(t,"multi-factor-auth-required",{_serverResponse:i}),i}async function UN(t,e,n,r){const s=`${e}${n}?${r}`,i=t,o=i.config.emulator?nx(t.config,s):`${t.config.apiScheme}://${s}`;return iU.includes(n)&&(await i._persistenceManagerAvailable,i._getPersistenceType()==="COOKIE")?i._getPersistence()._getFinalTarget(o).toString():o}function aU(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}class lU{clearNetworkTimeout(){clearTimeout(this.timer)}constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r($r(this.auth,"network-request-failed")),oU.get())})}}function zd(t,e,n){const r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);const s=$r(t,e,r);return s.customData._tokenResponse=n,s}function ab(t){return t!==void 0&&t.enterprise!==void 0}class cU{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(const n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return aU(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}isAnyProviderEnabled(){return this.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")||this.isProviderEnabled("PHONE_PROVIDER")}}async function uU(t,e){return Ki(t,"GET","/v2/recaptchaConfig",Gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function dU(t,e){return Ki(t,"POST","/v1/accounts:delete",e)}async function gf(t,e){return Ki(t,"POST","/v1/accounts:lookup",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Uc(t){if(t)try{const e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}async function hU(t,e=!1){const n=dt(t),r=await n.getIdToken(e),s=rx(r);de(s&&s.exp&&s.auth_time&&s.iat,n.auth,"internal-error");const i=typeof s.firebase=="object"?s.firebase:void 0,o=i==null?void 0:i.sign_in_provider;return{claims:s,token:r,authTime:Uc(hg(s.auth_time)),issuedAtTime:Uc(hg(s.iat)),expirationTime:Uc(hg(s.exp)),signInProvider:o||null,signInSecondFactor:(i==null?void 0:i.sign_in_second_factor)||null}}function hg(t){return Number(t)*1e3}function rx(t){const[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return vh("JWT malformed, contained fewer than 3 sections"),null;try{const s=eN(n);return s?JSON.parse(s):(vh("Failed to decode base64 JWT payload"),null)}catch(s){return vh("Caught error parsing JWT payload as JSON",s==null?void 0:s.toString()),null}}function lb(t){const e=rx(t);return de(e,"internal-error"),de(typeof e.exp<"u","internal-error"),de(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function vu(t,e,n=!1){if(n)return e;try{return await e}catch(r){throw r instanceof wr&&fU(r)&&t.auth.currentUser===t&&await t.auth.signOut(),r}}function fU({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pU{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){if(e){const n=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),n}else{this.errorBackoff=3e4;const r=(this.user.stsTokenManager.expirationTime??0)-Date.now()-3e5;return Math.max(0,r)}}schedule(e=!1){if(!this.isRunning)return;const n=this.getInterval(e);this.timerId=setTimeout(async()=>{await this.iteration()},n)}async iteration(){try{await this.user.getIdToken(!0)}catch(e){(e==null?void 0:e.code)==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gy{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Uc(this.lastLoginAt),this.creationTime=Uc(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yf(t){var f;const e=t.auth,n=await t.getIdToken(),r=await vu(t,gf(e,{idToken:n}));de(r==null?void 0:r.users.length,e,"internal-error");const s=r.users[0];t._notifyReloadListener(s);const i=(f=s.providerUserInfo)!=null&&f.length?$N(s.providerUserInfo):[],o=gU(t.providerData,i),a=t.isAnonymous,c=!(t.email&&s.passwordHash)&&!(o!=null&&o.length),d=a?c:!1,h={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:o,metadata:new Gy(s.createdAt,s.lastLoginAt),isAnonymous:d};Object.assign(t,h)}async function mU(t){const e=dt(t);await yf(e),await e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)}function gU(t,e){return[...t.filter(r=>!e.some(s=>s.providerId===r.providerId)),...e]}function $N(t){return t.map(({providerId:e,...n})=>({providerId:e,uid:n.rawId||"",displayName:n.displayName||null,email:n.email||null,phoneNumber:n.phoneNumber||null,photoURL:n.photoUrl||null}))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function yU(t,e){const n=await FN(t,{},async()=>{const r=qu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:s,apiKey:i}=t.config,o=await UN(t,s,"/v1/token",`key=${i}`),a=await t._getAdditionalHeaders();a["Content-Type"]="application/x-www-form-urlencoded";const c={method:"POST",headers:a,body:r};return t.emulatorConfig&&Pl(t.emulatorConfig.host)&&(c.credentials="include"),VN.fetch()(o,c)});return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}}async function vU(t,e){return Ki(t,"POST","/v2/accounts:revokeToken",Gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ba{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){de(e.idToken,"internal-error"),de(typeof e.idToken<"u","internal-error"),de(typeof e.refreshToken<"u","internal-error");const n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):lb(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){de(e.length!==0,"internal-error");const n=lb(e);this.updateTokensAndExpiration(e,null,n)}async getToken(e,n=!1){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(de(this.refreshToken,e,"user-token-expired"),this.refreshToken?(await this.refresh(e,this.refreshToken),this.accessToken):null)}clearRefreshToken(){this.refreshToken=null}async refresh(e,n){const{accessToken:r,refreshToken:s,expiresIn:i}=await yU(e,n);this.updateTokensAndExpiration(r,s,Number(i))}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){const{refreshToken:r,accessToken:s,expirationTime:i}=n,o=new Ba;return r&&(de(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),s&&(de(typeof s=="string","internal-error",{appName:e}),o.accessToken=s),i&&(de(typeof i=="number","internal-error",{appName:e}),o.expirationTime=i),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new Ba,this.toJSON())}_performRefresh(){return ps("not implemented")}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Hs(t,e){de(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}class ir{constructor({uid:e,auth:n,stsTokenManager:r,...s}){this.providerId="firebase",this.proactiveRefresh=new pU(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=e,this.auth=n,this.stsTokenManager=r,this.accessToken=r.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Gy(s.createdAt||void 0,s.lastLoginAt||void 0)}async getIdToken(e){const n=await vu(this,this.stsTokenManager.getToken(this.auth,e));return de(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,await this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n}getIdTokenResult(e){return hU(this,e)}reload(){return mU(this)}_assign(e){this!==e&&(de(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>({...n})),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){const n=new ir({...this,auth:e,stsTokenManager:this.stsTokenManager._clone()});return n.metadata._copy(this.metadata),n}_onReload(e){de(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}async _updateTokensIfNecessary(e,n=!1){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&await yf(this),await this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)}async delete(){if(Mn(this.auth.app))return Promise.reject(vs(this.auth));const e=await this.getIdToken();return await vu(this,dU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()}toJSON(){return{uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>({...e})),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId,...this.metadata.toJSON(),apiKey:this.auth.config.apiKey,appName:this.auth.name}}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){const r=n.displayName??void 0,s=n.email??void 0,i=n.phoneNumber??void 0,o=n.photoURL??void 0,a=n.tenantId??void 0,c=n._redirectEventId??void 0,d=n.createdAt??void 0,h=n.lastLoginAt??void 0,{uid:f,emailVerified:p,isAnonymous:m,providerData:T,stsTokenManager:w}=n;de(f&&w,e,"internal-error");const x=Ba.fromJSON(this.name,w);de(typeof f=="string",e,"internal-error"),Hs(r,e.name),Hs(s,e.name),de(typeof p=="boolean",e,"internal-error"),de(typeof m=="boolean",e,"internal-error"),Hs(i,e.name),Hs(o,e.name),Hs(a,e.name),Hs(c,e.name),Hs(d,e.name),Hs(h,e.name);const _=new ir({uid:f,auth:e,email:s,emailVerified:p,displayName:r,isAnonymous:m,photoURL:o,phoneNumber:i,tenantId:a,stsTokenManager:x,createdAt:d,lastLoginAt:h});return T&&Array.isArray(T)&&(_.providerData=T.map(v=>({...v}))),c&&(_._redirectEventId=c),_}static async _fromIdTokenResponse(e,n,r=!1){const s=new Ba;s.updateFromServerResponse(n);const i=new ir({uid:n.localId,auth:e,stsTokenManager:s,isAnonymous:r});return await yf(i),i}static async _fromGetAccountInfoResponse(e,n,r){const s=n.users[0];de(s.localId!==void 0,"internal-error");const i=s.providerUserInfo!==void 0?$N(s.providerUserInfo):[],o=!(s.email&&s.passwordHash)&&!(i!=null&&i.length),a=new Ba;a.updateFromIdToken(r);const c=new ir({uid:s.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:i,metadata:new Gy(s.createdAt,s.lastLoginAt),isAnonymous:!(s.email&&s.passwordHash)&&!(i!=null&&i.length)};return Object.assign(c,d),c}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const cb=new Map;function ms(t){Cs(t instanceof Function,"Expected a class definition");let e=cb.get(t);return e?(Cs(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,cb.set(t,e),e)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class BN{constructor(){this.type="NONE",this.storage={}}async _isAvailable(){return!0}async _set(e,n){this.storage[e]=n}async _get(e){const n=this.storage[e];return n===void 0?null:n}async _remove(e){delete this.storage[e]}_addListener(e,n){}_removeListener(e,n){}}BN.type="NONE";const ub=BN;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wh(t,e,n){return`firebase:${t}:${e}:${n}`}class za{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;const{config:s,name:i}=this.auth;this.fullUserKey=wh(this.userKey,s.apiKey,i),this.fullPersistenceKey=wh("persistence",s.apiKey,i),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}async getCurrentUser(){const e=await this.persistence._get(this.fullUserKey);if(!e)return null;if(typeof e=="string"){const n=await gf(this.auth,{idToken:e}).catch(()=>{});return n?ir._fromGetAccountInfoResponse(this.auth,n,e):null}return ir._fromJSON(this.auth,e)}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}async setPersistence(e){if(this.persistence===e)return;const n=await this.getCurrentUser();if(await this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static async create(e,n,r="authUser"){if(!n.length)return new za(ms(ub),e,r);const s=(await Promise.all(n.map(async d=>{if(await d._isAvailable())return d}))).filter(d=>d);let i=s[0]||ms(ub);const o=wh(r,e.config.apiKey,e.name);let a=null;for(const d of n)try{const h=await d._get(o);if(h){let f;if(typeof h=="string"){const p=await gf(e,{idToken:h}).catch(()=>{});if(!p)break;f=await ir._fromGetAccountInfoResponse(e,p,h)}else f=ir._fromJSON(e,h);d!==i&&(a=f),i=d;break}}catch{}const c=s.filter(d=>d._shouldAllowMigration);return!i._shouldAllowMigration||!c.length?new za(i,e,r):(i=c[0],a&&await i._set(o,a.toJSON()),await Promise.all(n.map(async d=>{if(d!==i)try{await d._remove(o)}catch{}})),new za(i,e,r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function db(t){const e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(qN(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(zN(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(KN(e))return"Blackberry";if(QN(e))return"Webos";if(WN(e))return"Safari";if((e.includes("chrome/")||HN(e))&&!e.includes("edge/"))return"Chrome";if(GN(e))return"Android";{const n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if((r==null?void 0:r.length)===2)return r[1]}return"Other"}function zN(t=Qt()){return/firefox\//i.test(t)}function WN(t=Qt()){const e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function HN(t=Qt()){return/crios\//i.test(t)}function qN(t=Qt()){return/iemobile/i.test(t)}function GN(t=Qt()){return/android/i.test(t)}function KN(t=Qt()){return/blackberry/i.test(t)}function QN(t=Qt()){return/webos/i.test(t)}function sx(t=Qt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function wU(t=Qt()){var e;return sx(t)&&!!((e=window.navigator)!=null&&e.standalone)}function xU(){return l3()&&document.documentMode===10}function YN(t=Qt()){return sx(t)||GN(t)||QN(t)||KN(t)||/windows phone/i.test(t)||qN(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function XN(t,e=[]){let n;switch(t){case"Browser":n=db(Qt());break;case"Worker":n=`${db(Qt())}-${t}`;break;default:n=t}const r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Al}/${r}`}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _U{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){const r=i=>new Promise((o,a)=>{try{const c=e(i);o(c)}catch(c){a(c)}});r.onAbort=n,this.queue.push(r);const s=this.queue.length-1;return()=>{this.queue[s]=()=>Promise.resolve()}}async runMiddleware(e){if(this.auth.currentUser===e)return;const n=[];try{for(const r of this.queue)await r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(const s of n)try{s()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r==null?void 0:r.message})}}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function bU(t,e={}){return Ki(t,"GET","/v2/passwordPolicy",Gi(t,e))}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const EU=6;class TU{constructor(e){var r;const n=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=n.minPasswordLength??EU,n.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=n.maxPasswordLength),n.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=n.containsLowercaseCharacter),n.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=n.containsUppercaseCharacter),n.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=n.containsNumericCharacter),n.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=n.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=((r=e.allowedNonAlphanumericCharacters)==null?void 0:r.join(""))??"",this.forceUpgradeOnSignin=e.forceUpgradeOnSignin??!1,this.schemaVersion=e.schemaVersion}validatePassword(e){const n={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,n),this.validatePasswordCharacterOptions(e,n),n.isValid&&(n.isValid=n.meetsMinPasswordLength??!0),n.isValid&&(n.isValid=n.meetsMaxPasswordLength??!0),n.isValid&&(n.isValid=n.containsLowercaseLetter??!0),n.isValid&&(n.isValid=n.containsUppercaseLetter??!0),n.isValid&&(n.isValid=n.containsNumericCharacter??!0),n.isValid&&(n.isValid=n.containsNonAlphanumericCharacter??!0),n}validatePasswordLengthOptions(e,n){const r=this.customStrengthOptions.minPasswordLength,s=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),s&&(n.meetsMaxPasswordLength=e.length<=s)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let s=0;s<e.length;s++)r=e.charAt(s),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,s,i){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=s)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class SU{constructor(e,n,r,s){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=s,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new hb(this),this.idTokenSubscription=new hb(this),this.beforeStateQueue=new _U(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=MN,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this._resolvePersistenceManagerAvailable=void 0,this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=s.sdkClientVersion,this._persistenceManagerAvailable=new Promise(i=>this._resolvePersistenceManagerAvailable=i)}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=ms(n)),this._initializationPromise=this.queue(async()=>{var r,s,i;if(!this._deleted&&(this.persistenceManager=await za.create(this,e),(r=this._resolvePersistenceManagerAvailable)==null||r.call(this),!this._deleted)){if((s=this._popupRedirectResolver)!=null&&s._shouldInitProactively)try{await this._popupRedirectResolver._initialize(this)}catch{}await this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)==null?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}}),this._initializationPromise}async _onStorageEvent(){if(this._deleted)return;const e=await this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),await this.currentUser.getIdToken();return}await this._updateCurrentUser(e,!0)}}async initializeCurrentUserFromIdToken(e){try{const n=await gf(this,{idToken:e}),r=await ir._fromGetAccountInfoResponse(this,n,e);await this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),await this.directlySetCurrentUser(null)}}async initializeCurrentUser(e){var i;if(Mn(this.app)){const o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}const n=await this.assertedPersistence.getCurrentUser();let r=n,s=!1;if(e&&this.config.authDomain){await this.getOrInitRedirectPersistenceManager();const o=(i=this.redirectUser)==null?void 0:i._redirectEventId,a=r==null?void 0:r._redirectEventId,c=await this.tryRedirectSignIn(e);(!o||o===a)&&(c!=null&&c.user)&&(r=c.user,s=!0)}if(!r)return this.directlySetCurrentUser(null);if(!r._redirectEventId){if(s)try{await this.beforeStateQueue.runMiddleware(r)}catch(o){r=n,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return r?this.reloadAndSetCurrentUserOrClear(r):this.directlySetCurrentUser(null)}return de(this._popupRedirectResolver,this,"argument-error"),await this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===r._redirectEventId?this.directlySetCurrentUser(r):this.reloadAndSetCurrentUserOrClear(r)}async tryRedirectSignIn(e){let n=null;try{n=await this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{await this._setRedirectUser(null)}return n}async reloadAndSetCurrentUserOrClear(e){try{await yf(e)}catch(n){if((n==null?void 0:n.code)!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)}useDeviceLanguage(){this.languageCode=rU()}async _delete(){this._deleted=!0}async updateCurrentUser(e){if(Mn(this.app))return Promise.reject(vs(this));const n=e?dt(e):null;return n&&de(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))}async _updateCurrentUser(e,n=!1){if(!this._deleted)return e&&de(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||await this.beforeStateQueue.runMiddleware(e),this.queue(async()=>{await this.directlySetCurrentUser(e),this.notifyAuthListeners()})}async signOut(){return Mn(this.app)?Promise.reject(vs(this)):(await this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&await this._setRedirectUser(null),this._updateCurrentUser(null,!0))}setPersistence(e){return Mn(this.app)?Promise.reject(vs(this)):this.queue(async()=>{await this.assertedPersistence.setPersistence(ms(e))})}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}async validatePassword(e){this._getPasswordPolicyInternal()||await this._updatePasswordPolicy();const n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}async _updatePasswordPolicy(){const e=await bU(this),n=new TU(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n}_getPersistenceType(){return this.assertedPersistence.persistence.type}_getPersistence(){return this.assertedPersistence.persistence}_updateErrorMap(e){this._errorFactory=new Jo("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{const r=this.onAuthStateChanged(()=>{r(),e()},n)}})}async revokeAccessToken(e){if(this.currentUser){const n=await this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),await vU(this,r)}}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)==null?void 0:e.toJSON()}}async _setRedirectUser(e,n){const r=await this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)}async getOrInitRedirectPersistenceManager(e){if(!this.redirectPersistenceManager){const n=e&&ms(e)||this._popupRedirectResolver;de(n,this,"argument-error"),this.redirectPersistenceManager=await za.create(this,[ms(n._redirectPersistence)],"redirectUser"),this.redirectUser=await this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager}async _redirectUserForId(e){var n,r;return this._isInitialized&&await this.queue(async()=>{}),((n=this._currentUser)==null?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)==null?void 0:r._redirectEventId)===e?this.redirectUser:null}async _persistUserIfCurrent(e){if(e===this.currentUser)return this.queue(async()=>this.directlySetCurrentUser(e))}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);const e=((n=this.currentUser)==null?void 0:n.uid)??null;this.lastNotifiedUid!==e&&(this.lastNotifiedUid=e,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,s){if(this._deleted)return()=>{};const i=typeof n=="function"?n:n.next.bind(n);let o=!1;const a=this._isInitialized?Promise.resolve():this._initializationPromise;if(de(a,this,"internal-error"),a.then(()=>{o||i(this.currentUser)}),typeof n=="function"){const c=e.addObserver(n,r,s);return()=>{o=!0,c()}}else{const c=e.addObserver(n);return()=>{o=!0,c()}}}async directlySetCurrentUser(e){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?await this.assertedPersistence.setCurrentUser(e):await this.assertedPersistence.removeCurrentUser()}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return de(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XN(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}async _getAdditionalHeaders(){var s;const e={"X-Client-Version":this.clientVersion};this.app.options.appId&&(e["X-Firebase-gmpid"]=this.app.options.appId);const n=await((s=this.heartbeatServiceProvider.getImmediate({optional:!0}))==null?void 0:s.getHeartbeatsHeader());n&&(e["X-Firebase-Client"]=n);const r=await this._getAppCheckToken();return r&&(e["X-Firebase-AppCheck"]=r),e}async _getAppCheckToken(){var n;if(Mn(this.app)&&this.app.settings.appCheckToken)return this.app.settings.appCheckToken;const e=await((n=this.appCheckServiceProvider.getImmediate({optional:!0}))==null?void 0:n.getToken());return e!=null&&e.error&&eU(`Error while retrieving App Check token: ${e.error}`),e==null?void 0:e.token}}function ea(t){return dt(t)}class hb{constructor(e){this.auth=e,this.observer=null,this.addObserver=m3(n=>this.observer=n)}get next(){return de(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let xp={async loadJS(){throw new Error("Unable to load external scripts")},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function IU(t){xp=t}function JN(t){return xp.loadJS(t)}function CU(){return xp.recaptchaEnterpriseScript}function NU(){return xp.gapiScript}function RU(t){return`__${t}${Math.floor(Math.random()*1e6)}`}class PU{constructor(){this.enterprise=new AU}ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}class AU{ready(e){e()}execute(e,n){return Promise.resolve("token")}render(e,n){return""}}const kU="recaptcha-enterprise",ZN="NO_RECAPTCHA";class jU{constructor(e){this.type=kU,this.auth=ea(e)}async verify(e="verify",n=!1){async function r(i){if(!n){if(i.tenantId==null&&i._agentRecaptchaConfig!=null)return i._agentRecaptchaConfig.siteKey;if(i.tenantId!=null&&i._tenantRecaptchaConfigs[i.tenantId]!==void 0)return i._tenantRecaptchaConfigs[i.tenantId].siteKey}return new Promise(async(o,a)=>{uU(i,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(c=>{if(c.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{const d=new cU(c);return i.tenantId==null?i._agentRecaptchaConfig=d:i._tenantRecaptchaConfigs[i.tenantId]=d,o(d.siteKey)}}).catch(c=>{a(c)})})}function s(i,o,a){const c=window.grecaptcha;ab(c)?c.enterprise.ready(()=>{c.enterprise.execute(i,{action:e}).then(d=>{o(d)}).catch(()=>{o(ZN)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return this.auth.settings.appVerificationDisabledForTesting?new PU().execute("siteKey",{action:"verify"}):new Promise((i,o)=>{r(this.auth).then(a=>{if(!n&&ab(window.grecaptcha))s(a,i,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let c=CU();c.length!==0&&(c+=a),JN(c).then(()=>{s(a,i,o)}).catch(d=>{o(d)})}}).catch(a=>{o(a)})})}}async function fb(t,e,n,r=!1,s=!1){const i=new jU(t);let o;if(s)o=ZN;else try{o=await i.verify(n)}catch{o=await i.verify(n,!0)}const a={...e};if(n==="mfaSmsEnrollment"||n==="mfaSmsSignIn"){if("phoneEnrollmentInfo"in a){const c=a.phoneEnrollmentInfo.phoneNumber,d=a.phoneEnrollmentInfo.recaptchaToken;Object.assign(a,{phoneEnrollmentInfo:{phoneNumber:c,recaptchaToken:d,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}else if("phoneSignInInfo"in a){const c=a.phoneSignInInfo.recaptchaToken;Object.assign(a,{phoneSignInInfo:{recaptchaToken:c,captchaResponse:o,clientType:"CLIENT_TYPE_WEB",recaptchaVersion:"RECAPTCHA_ENTERPRISE"}})}return a}return r?Object.assign(a,{captchaResp:o}):Object.assign(a,{captchaResponse:o}),Object.assign(a,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(a,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),a}async function Ky(t,e,n,r,s){var i;if((i=t._getRecaptchaConfig())!=null&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){const o=await fb(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(async o=>{if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);const a=await fb(t,e,n,n==="getOobCode");return r(t,a)}else return Promise.reject(o)})}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function DU(t,e){const n=Zo(t,"auth");if(n.isInitialized()){const s=n.getImmediate(),i=n.getOptions();if(Di(i,e??{}))return s;gr(s,"already-initialized")}return n.initialize({options:e})}function OU(t,e){const n=(e==null?void 0:e.persistence)||[],r=(Array.isArray(n)?n:[n]).map(ms);e!=null&&e.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e==null?void 0:e.popupRedirectResolver)}function MU(t,e,n){const r=ea(t);de(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");const s=!!(n!=null&&n.disableWarnings),i=eR(e),{host:o,port:a}=LU(e),c=a===null?"":`:${a}`,d={url:`${i}//${o}${c}/`},h=Object.freeze({host:o,port:a,protocol:i.replace(":",""),options:Object.freeze({disableWarnings:s})});if(!r._canInitEmulator){de(r.config.emulator&&r.emulatorConfig,r,"emulator-config-failed"),de(Di(d,r.config.emulator)&&Di(h,r.emulatorConfig),r,"emulator-config-failed");return}r.config.emulator=d,r.emulatorConfig=h,r.settings.appVerificationDisabledForTesting=!0,Pl(o)?(sN(`${i}//${o}${c}`),iN("Auth",!0)):VU()}function eR(t){const e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function LU(t){const e=eR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};const r=n[2].split("@").pop()||"",s=/^(\[[^\]]+\])(:|$)/.exec(r);if(s){const i=s[1];return{host:i,port:pb(r.substr(i.length+1))}}else{const[i,o]=r.split(":");return{host:i,port:pb(o)}}}function pb(t){if(!t)return null;const e=Number(t);return isNaN(e)?null:e}function VU(){function t(){const e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ix{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return ps("not implemented")}_getIdTokenResponse(e){return ps("not implemented")}_linkToIdToken(e,n){return ps("not implemented")}_getReauthenticationResolver(e){return ps("not implemented")}}async function FU(t,e){return Ki(t,"POST","/v1/accounts:signUp",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function UU(t,e){return Ku(t,"POST","/v1/accounts:signInWithPassword",Gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function $U(t,e){return Ku(t,"POST","/v1/accounts:signInWithEmailLink",Gi(t,e))}async function BU(t,e){return Ku(t,"POST","/v1/accounts:signInWithEmailLink",Gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class wu extends ix{constructor(e,n,r,s=null){super("password",r),this._email=e,this._password=n,this._tenantId=s}static _fromEmailAndPassword(e,n){return new wu(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new wu(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e;if(n!=null&&n.email&&(n!=null&&n.password)){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}async _getIdTokenResponse(e){switch(this.signInMethod){case"password":const n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ky(e,n,"signInWithPassword",UU);case"emailLink":return $U(e,{email:this._email,oobCode:this._password});default:gr(e,"internal-error")}}async _linkToIdToken(e,n){switch(this.signInMethod){case"password":const r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Ky(e,r,"signUpPassword",FU);case"emailLink":return BU(e,{idToken:n,email:this._email,oobCode:this._password});default:gr(e,"internal-error")}}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Wa(t,e){return Ku(t,"POST","/v1/accounts:signInWithIdp",Gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zU="http://localhost";class Vo extends ix{constructor(){super(...arguments),this.pendingToken=null}static _fromParams(e){const n=new Vo(e.providerId,e.signInMethod);return e.idToken||e.accessToken?(e.idToken&&(n.idToken=e.idToken),e.accessToken&&(n.accessToken=e.accessToken),e.nonce&&!e.pendingToken&&(n.nonce=e.nonce),e.pendingToken&&(n.pendingToken=e.pendingToken)):e.oauthToken&&e.oauthTokenSecret?(n.accessToken=e.oauthToken,n.secret=e.oauthTokenSecret):gr("argument-error"),n}toJSON(){return{idToken:this.idToken,accessToken:this.accessToken,secret:this.secret,nonce:this.nonce,pendingToken:this.pendingToken,providerId:this.providerId,signInMethod:this.signInMethod}}static fromJSON(e){const n=typeof e=="string"?JSON.parse(e):e,{providerId:r,signInMethod:s,...i}=n;if(!r||!s)return null;const o=new Vo(r,s);return o.idToken=i.idToken||void 0,o.accessToken=i.accessToken||void 0,o.secret=i.secret,o.nonce=i.nonce,o.pendingToken=i.pendingToken||null,o}_getIdTokenResponse(e){const n=this.buildRequest();return Wa(e,n)}_linkToIdToken(e,n){const r=this.buildRequest();return r.idToken=n,Wa(e,r)}_getReauthenticationResolver(e){const n=this.buildRequest();return n.autoCreate=!1,Wa(e,n)}buildRequest(){const e={requestUri:zU,returnSecureToken:!0};if(this.pendingToken)e.pendingToken=this.pendingToken;else{const n={};this.idToken&&(n.id_token=this.idToken),this.accessToken&&(n.access_token=this.accessToken),this.secret&&(n.oauth_token_secret=this.secret),n.providerId=this.providerId,this.nonce&&!this.pendingToken&&(n.nonce=this.nonce),e.postBody=qu(n)}return e}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function WU(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function HU(t){const e=wc(xc(t)).link,n=e?wc(xc(e)).deep_link_id:null,r=wc(xc(t)).deep_link_id;return(r?wc(xc(r)).link:null)||r||n||e||t}class ox{constructor(e){const n=wc(xc(e)),r=n.apiKey??null,s=n.oobCode??null,i=WU(n.mode??null);de(r&&s&&i,"argument-error"),this.apiKey=r,this.operation=i,this.code=s,this.continueUrl=n.continueUrl??null,this.languageCode=n.lang??null,this.tenantId=n.tenantId??null}static parseLink(e){const n=HU(e);try{return new ox(n)}catch{return null}}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class kl{constructor(){this.providerId=kl.PROVIDER_ID}static credential(e,n){return wu._fromEmailAndPassword(e,n)}static credentialWithLink(e,n){const r=ox.parseLink(n);return de(r,"argument-error"),wu._fromEmailAndCode(e,r.code,r.tenantId)}}kl.PROVIDER_ID="password";kl.EMAIL_PASSWORD_SIGN_IN_METHOD="password";kl.EMAIL_LINK_SIGN_IN_METHOD="emailLink";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class tR{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qu extends tR{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ti extends Qu{constructor(){super("facebook.com")}static credential(e){return Vo._fromParams({providerId:ti.PROVIDER_ID,signInMethod:ti.FACEBOOK_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ti.credentialFromTaggedObject(e)}static credentialFromError(e){return ti.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ti.credential(e.oauthAccessToken)}catch{return null}}}ti.FACEBOOK_SIGN_IN_METHOD="facebook.com";ti.PROVIDER_ID="facebook.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ni extends Qu{constructor(){super("google.com"),this.addScope("profile")}static credential(e,n){return Vo._fromParams({providerId:ni.PROVIDER_ID,signInMethod:ni.GOOGLE_SIGN_IN_METHOD,idToken:e,accessToken:n})}static credentialFromResult(e){return ni.credentialFromTaggedObject(e)}static credentialFromError(e){return ni.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthIdToken:n,oauthAccessToken:r}=e;if(!n&&!r)return null;try{return ni.credential(n,r)}catch{return null}}}ni.GOOGLE_SIGN_IN_METHOD="google.com";ni.PROVIDER_ID="google.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ri extends Qu{constructor(){super("github.com")}static credential(e){return Vo._fromParams({providerId:ri.PROVIDER_ID,signInMethod:ri.GITHUB_SIGN_IN_METHOD,accessToken:e})}static credentialFromResult(e){return ri.credentialFromTaggedObject(e)}static credentialFromError(e){return ri.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e||!("oauthAccessToken"in e)||!e.oauthAccessToken)return null;try{return ri.credential(e.oauthAccessToken)}catch{return null}}}ri.GITHUB_SIGN_IN_METHOD="github.com";ri.PROVIDER_ID="github.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class si extends Qu{constructor(){super("twitter.com")}static credential(e,n){return Vo._fromParams({providerId:si.PROVIDER_ID,signInMethod:si.TWITTER_SIGN_IN_METHOD,oauthToken:e,oauthTokenSecret:n})}static credentialFromResult(e){return si.credentialFromTaggedObject(e)}static credentialFromError(e){return si.credentialFromTaggedObject(e.customData||{})}static credentialFromTaggedObject({_tokenResponse:e}){if(!e)return null;const{oauthAccessToken:n,oauthTokenSecret:r}=e;if(!n||!r)return null;try{return si.credential(n,r)}catch{return null}}}si.TWITTER_SIGN_IN_METHOD="twitter.com";si.PROVIDER_ID="twitter.com";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function qU(t,e){return Ku(t,"POST","/v1/accounts:signUp",Gi(t,e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Fo{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static async _fromIdTokenResponse(e,n,r,s=!1){const i=await ir._fromIdTokenResponse(e,r,s),o=mb(r);return new Fo({user:i,providerId:o,_tokenResponse:r,operationType:n})}static async _forOperation(e,n,r){await e._updateTokensIfNecessary(r,!0);const s=mb(r);return new Fo({user:e,providerId:s,_tokenResponse:r,operationType:n})}}function mb(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class vf extends wr{constructor(e,n,r,s){super(n.code,n.message),this.operationType=r,this.user=s,Object.setPrototypeOf(this,vf.prototype),this.customData={appName:e.name,tenantId:e.tenantId??void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,s){return new vf(e,n,r,s)}}function nR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(i=>{throw i.code==="auth/multi-factor-auth-required"?vf._fromErrorAndOperation(t,i,e,r):i})}async function GU(t,e,n=!1){const r=await vu(t,e._linkToIdToken(t.auth,await t.getIdToken()),n);return Fo._forOperation(t,"link",r)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function KU(t,e,n=!1){const{auth:r}=t;if(Mn(r.app))return Promise.reject(vs(r));const s="reauthenticate";try{const i=await vu(t,nR(r,s,e,t),n);de(i.idToken,r,"internal-error");const o=rx(i.idToken);de(o,r,"internal-error");const{sub:a}=o;return de(t.uid===a,r,"user-mismatch"),Fo._forOperation(t,s,i)}catch(i){throw(i==null?void 0:i.code)==="auth/user-not-found"&&gr(r,"user-mismatch"),i}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function rR(t,e,n=!1){if(Mn(t.app))return Promise.reject(vs(t));const r="signIn",s=await nR(t,r,e),i=await Fo._fromIdTokenResponse(t,r,s);return n||await t._updateCurrentUser(i.user),i}async function QU(t,e){return rR(ea(t),e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function sR(t){const e=ea(t);e._getPasswordPolicyInternal()&&await e._updatePasswordPolicy()}async function YU(t,e,n){if(Mn(t.app))return Promise.reject(vs(t));const r=ea(t),o=await Ky(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",qU).catch(c=>{throw c.code==="auth/password-does-not-meet-requirements"&&sR(t),c}),a=await Fo._fromIdTokenResponse(r,"signIn",o);return await r._updateCurrentUser(a.user),a}function Qy(t,e,n){return Mn(t.app)?Promise.reject(vs(t)):QU(dt(t),kl.credential(e,n)).catch(async r=>{throw r.code==="auth/password-does-not-meet-requirements"&&sR(t),r})}function XU(t,e,n,r){return dt(t).onIdTokenChanged(e,n,r)}function JU(t,e,n){return dt(t).beforeAuthStateChanged(e,n)}function ZU(t,e,n,r){return dt(t).onAuthStateChanged(e,n,r)}function e$(t){return dt(t).signOut()}const wf="__sak";/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iR{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(wf,"1"),this.storage.removeItem(wf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){const n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const t$=1e3,n$=10;class oR extends iR{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(e,n)=>this.onStorageEvent(e,n),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=YN(),this._shouldAllowMigration=!0}forAllChangedKeys(e){for(const n of Object.keys(this.listeners)){const r=this.storage.getItem(n),s=this.localCache[n];r!==s&&e(n,s,r)}}onStorageEvent(e,n=!1){if(!e.key){this.forAllChangedKeys((o,a,c)=>{this.notifyListeners(o,c)});return}const r=e.key;n?this.detachListener():this.stopPolling();const s=()=>{const o=this.storage.getItem(r);!n&&this.localCache[r]===o||this.notifyListeners(r,o)},i=this.storage.getItem(r);xU()&&i!==e.newValue&&e.newValue!==e.oldValue?setTimeout(s,n$):s()}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n&&JSON.parse(n))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((e,n,r)=>{this.onStorageEvent(new StorageEvent("storage",{key:e,oldValue:n,newValue:r}),!0)})},t$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(e,n){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[e]||(this.listeners[e]=new Set,this.localCache[e]=this.storage.getItem(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}async _set(e,n){await super._set(e,n),this.localCache[e]=JSON.stringify(n)}async _get(e){const n=await super._get(e);return this.localCache[e]=JSON.stringify(n),n}async _remove(e){await super._remove(e),delete this.localCache[e]}}oR.type="LOCAL";const r$=oR;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class aR extends iR{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(e,n){}_removeListener(e,n){}}aR.type="SESSION";const lR=aR;/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function s$(t){return Promise.all(t.map(async e=>{try{return{fulfilled:!0,value:await e}}catch(n){return{fulfilled:!1,reason:n}}}))}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class _p{constructor(e){this.eventTarget=e,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(e){const n=this.receivers.find(s=>s.isListeningto(e));if(n)return n;const r=new _p(e);return this.receivers.push(r),r}isListeningto(e){return this.eventTarget===e}async handleEvent(e){const n=e,{eventId:r,eventType:s,data:i}=n.data,o=this.handlersMap[s];if(!(o!=null&&o.size))return;n.ports[0].postMessage({status:"ack",eventId:r,eventType:s});const a=Array.from(o).map(async d=>d(n.origin,i)),c=await s$(a);n.ports[0].postMessage({status:"done",eventId:r,eventType:s,response:c})}_subscribe(e,n){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[e]||(this.handlersMap[e]=new Set),this.handlersMap[e].add(n)}_unsubscribe(e,n){this.handlersMap[e]&&n&&this.handlersMap[e].delete(n),(!n||this.handlersMap[e].size===0)&&delete this.handlersMap[e],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}_p.receivers=[];/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function ax(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i${constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}async _send(e,n,r=50){const s=typeof MessageChannel<"u"?new MessageChannel:null;if(!s)throw new Error("connection_unavailable");let i,o;return new Promise((a,c)=>{const d=ax("",20);s.port1.start();const h=setTimeout(()=>{c(new Error("unsupported_event"))},r);o={messageChannel:s,onMessage(f){const p=f;if(p.data.eventId===d)switch(p.data.status){case"ack":clearTimeout(h),i=setTimeout(()=>{c(new Error("timeout"))},3e3);break;case"done":clearTimeout(i),a(p.data.response);break;default:clearTimeout(h),clearTimeout(i),c(new Error("invalid_response"));break}}},this.handlers.add(o),s.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[s.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function Br(){return window}function o$(t){Br().location.href=t}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function cR(){return typeof Br().WorkerGlobalScope<"u"&&typeof Br().importScripts=="function"}async function a$(){if(!(navigator!=null&&navigator.serviceWorker))return null;try{return(await navigator.serviceWorker.ready).active}catch{return null}}function l$(){var t;return((t=navigator==null?void 0:navigator.serviceWorker)==null?void 0:t.controller)||null}function c$(){return cR()?self:null}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const uR="firebaseLocalStorageDb",u$=1,xf="firebaseLocalStorage",dR="fbase_key";class Yu{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}}function bp(t,e){return t.transaction([xf],e?"readwrite":"readonly").objectStore(xf)}function d$(){const t=indexedDB.deleteDatabase(uR);return new Yu(t).toPromise()}function Yy(){const t=indexedDB.open(uR,u$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{const r=t.result;try{r.createObjectStore(xf,{keyPath:dR})}catch(s){n(s)}}),t.addEventListener("success",async()=>{const r=t.result;r.objectStoreNames.contains(xf)?e(r):(r.close(),await d$(),e(await Yy()))})})}async function gb(t,e,n){const r=bp(t,!0).put({[dR]:e,value:n});return new Yu(r).toPromise()}async function h$(t,e){const n=bp(t,!1).get(e),r=await new Yu(n).toPromise();return r===void 0?null:r.value}function yb(t,e){const n=bp(t,!0).delete(e);return new Yu(n).toPromise()}const f$=800,p$=3;class hR{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}async _openDb(){return this.db?this.db:(this.db=await Yy(),this.db)}async _withRetries(e){let n=0;for(;;)try{const r=await this._openDb();return await e(r)}catch(r){if(n++>p$)throw r;this.db&&(this.db.close(),this.db=void 0)}}async initializeServiceWorkerMessaging(){return cR()?this.initializeReceiver():this.initializeSender()}async initializeReceiver(){this.receiver=_p._getInstance(c$()),this.receiver._subscribe("keyChanged",async(e,n)=>({keyProcessed:(await this._poll()).includes(n.key)})),this.receiver._subscribe("ping",async(e,n)=>["keyChanged"])}async initializeSender(){var n,r;if(this.activeServiceWorker=await a$(),!this.activeServiceWorker)return;this.sender=new i$(this.activeServiceWorker);const e=await this.sender._send("ping",{},800);e&&(n=e[0])!=null&&n.fulfilled&&(r=e[0])!=null&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)}async notifyServiceWorker(e){if(!(!this.sender||!this.activeServiceWorker||l$()!==this.activeServiceWorker))try{await this.sender._send("keyChanged",{key:e},this.serviceWorkerReceiverAvailable?800:50)}catch{}}async _isAvailable(){try{if(!indexedDB)return!1;const e=await Yy();return await gb(e,wf,"1"),await yb(e,wf),!0}catch{}return!1}async _withPendingWrite(e){this.pendingWrites++;try{await e()}finally{this.pendingWrites--}}async _set(e,n){return this._withPendingWrite(async()=>(await this._withRetries(r=>gb(r,e,n)),this.localCache[e]=n,this.notifyServiceWorker(e)))}async _get(e){const n=await this._withRetries(r=>h$(r,e));return this.localCache[e]=n,n}async _remove(e){return this._withPendingWrite(async()=>(await this._withRetries(n=>yb(n,e)),delete this.localCache[e],this.notifyServiceWorker(e)))}async _poll(){const e=await this._withRetries(s=>{const i=bp(s,!1).getAll();return new Yu(i).toPromise()});if(!e)return[];if(this.pendingWrites!==0)return[];const n=[],r=new Set;if(e.length!==0)for(const{fbase_key:s,value:i}of e)r.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(i)&&(this.notifyListeners(s,i),n.push(s));for(const s of Object.keys(this.localCache))this.localCache[s]&&!r.has(s)&&(this.notifyListeners(s,null),n.push(s));return n}notifyListeners(e,n){this.localCache[e]=n;const r=this.listeners[e];if(r)for(const s of Array.from(r))s(n)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(async()=>this._poll(),f$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(e,n){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[e]||(this.listeners[e]=new Set,this._get(e)),this.listeners[e].add(n)}_removeListener(e,n){this.listeners[e]&&(this.listeners[e].delete(n),this.listeners[e].size===0&&delete this.listeners[e]),Object.keys(this.listeners).length===0&&this.stopPolling()}}hR.type="LOCAL";const m$=hR;new Gu(3e4,6e4);/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function g$(t,e){return e?ms(e):(de(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lx extends ix{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Wa(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Wa(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Wa(e,this._buildIdpRequest())}_buildIdpRequest(e){const n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}}function y$(t){return rR(t.auth,new lx(t),t.bypassAuthState)}function v$(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),KU(n,new lx(t),t.bypassAuthState)}async function w$(t){const{auth:e,user:n}=t;return de(n,e,"internal-error"),GU(n,new lx(t),t.bypassAuthState)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fR{constructor(e,n,r,s,i=!1){this.auth=e,this.resolver=r,this.user=s,this.bypassAuthState=i,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise(async(e,n)=>{this.pendingPromise={resolve:e,reject:n};try{this.eventManager=await this.resolver._initialize(this.auth),await this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}})}async onAuthEvent(e){const{urlResponse:n,sessionId:r,postBody:s,tenantId:i,error:o,type:a}=e;if(o){this.reject(o);return}const c={auth:this.auth,requestUri:n,sessionId:r,tenantId:i||void 0,postBody:s||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(await this.getIdpTask(a)(c))}catch(d){this.reject(d)}}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return y$;case"linkViaPopup":case"linkViaRedirect":return w$;case"reauthViaPopup":case"reauthViaRedirect":return v$;default:gr(this.auth,"internal-error")}}resolve(e){Cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Cs(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const x$=new Gu(2e3,1e4);class ka extends fR{constructor(e,n,r,s,i){super(e,n,s,i),this.provider=r,this.authWindow=null,this.pollId=null,ka.currentPopupAction&&ka.currentPopupAction.cancel(),ka.currentPopupAction=this}async executeNotNull(){const e=await this.execute();return de(e,this.auth,"internal-error"),e}async onExecution(){Cs(this.filter.length===1,"Popup operations only handle one event");const e=ax();this.authWindow=await this.resolver._openPopup(this.auth,this.provider,this.filter[0],e),this.authWindow.associatedEvent=e,this.resolver._originValidation(this.auth).catch(n=>{this.reject(n)}),this.resolver._isIframeWebStorageSupported(this.auth,n=>{n||this.reject($r(this.auth,"web-storage-unsupported"))}),this.pollUserCancellation()}get eventId(){var e;return((e=this.authWindow)==null?void 0:e.associatedEvent)||null}cancel(){this.reject($r(this.auth,"cancelled-popup-request"))}cleanUp(){this.authWindow&&this.authWindow.close(),this.pollId&&window.clearTimeout(this.pollId),this.authWindow=null,this.pollId=null,ka.currentPopupAction=null}pollUserCancellation(){const e=()=>{var n,r;if((r=(n=this.authWindow)==null?void 0:n.window)!=null&&r.closed){this.pollId=window.setTimeout(()=>{this.pollId=null,this.reject($r(this.auth,"popup-closed-by-user"))},8e3);return}this.pollId=window.setTimeout(e,x$.get())};e()}}ka.currentPopupAction=null;/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const _$="pendingRedirect",xh=new Map;class b$ extends fR{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}async execute(){let e=xh.get(this.auth._key());if(!e){try{const r=await E$(this.resolver,this.auth)?await super.execute():null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}xh.set(this.auth._key(),e)}return this.bypassAuthState||xh.set(this.auth._key(),()=>Promise.resolve(null)),e()}async onAuthEvent(e){if(e.type==="signInViaRedirect")return super.onAuthEvent(e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){const n=await this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,super.onAuthEvent(e);this.resolve(null)}}async onExecution(){}cleanUp(){}}async function E$(t,e){const n=I$(e),r=S$(t);if(!await r._isAvailable())return!1;const s=await r._get(n)==="true";return await r._remove(n),s}function T$(t,e){xh.set(t._key(),e)}function S$(t){return ms(t._redirectPersistence)}function I$(t){return wh(_$,t.config.apiKey,t.name)}async function C$(t,e,n=!1){if(Mn(t.app))return Promise.reject(vs(t));const r=ea(t),s=g$(r,e),o=await new b$(r,s,n).execute();return o&&!n&&(delete o.user._redirectEventId,await r._persistUserIfCurrent(o.user),await r._setRedirectUser(null,e)),o}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const N$=10*60*1e3;class R${constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!P$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!pR(e)){const s=((r=e.error.code)==null?void 0:r.split("auth/")[1])||"internal-error";n.onError($r(this.auth,s))}else n.onAuthEvent(e)}isEventForConsumer(e,n){const r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=N$&&this.cachedEventUids.clear(),this.cachedEventUids.has(vb(e))}saveEventToCache(e){this.cachedEventUids.add(vb(e)),this.lastProcessedEventTime=Date.now()}}function vb(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function pR({type:t,error:e}){return t==="unknown"&&(e==null?void 0:e.code)==="auth/no-auth-event"}function P$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return pR(t);default:return!1}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function A$(t,e={}){return Ki(t,"GET","/v1/projects",e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const k$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,j$=/^https?/;async function D$(t){if(t.config.emulator)return;const{authorizedDomains:e}=await A$(t);for(const n of e)try{if(O$(n))return}catch{}gr(t,"unauthorized-domain")}function O$(t){const e=qy(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){const o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!j$.test(n))return!1;if(k$.test(t))return r===t;const s=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+s+"|"+s+")$","i").test(r)}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const M$=new Gu(3e4,6e4);function wb(){const t=Br().___jsl;if(t!=null&&t.H){for(const e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function L$(t){return new Promise((e,n)=>{var s,i,o;function r(){wb(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{wb(),n($r(t,"network-request-failed"))},timeout:M$.get()})}if((i=(s=Br().gapi)==null?void 0:s.iframes)!=null&&i.Iframe)e(gapi.iframes.getContext());else if((o=Br().gapi)!=null&&o.load)r();else{const a=RU("iframefcb");return Br()[a]=()=>{gapi.load?r():n($r(t,"network-request-failed"))},JN(`${NU()}?onload=${a}`).catch(c=>n(c))}}).catch(e=>{throw _h=null,e})}let _h=null;function V$(t){return _h=_h||L$(t),_h}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const F$=new Gu(5e3,15e3),U$="__/auth/iframe",$$="emulator/auth/iframe",B$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},z$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function W$(t){const e=t.config;de(e.authDomain,t,"auth-domain-config-required");const n=e.emulator?nx(e,$$):`https://${t.config.authDomain}/${U$}`,r={apiKey:e.apiKey,appName:t.name,v:Al},s=z$.get(t.config.apiHost);s&&(r.eid=s);const i=t._getFrameworks();return i.length&&(r.fw=i.join(",")),`${n}?${qu(r).slice(1)}`}async function H$(t){const e=await V$(t),n=Br().gapi;return de(n,t,"internal-error"),e.open({where:document.body,url:W$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:B$,dontclear:!0},r=>new Promise(async(s,i)=>{await r.restyle({setHideOnLeave:!1});const o=$r(t,"network-request-failed"),a=Br().setTimeout(()=>{i(o)},F$.get());function c(){Br().clearTimeout(a),s(r)}r.ping(c).then(c,()=>{i(o)})}))}/**
 * @license
 * Copyright 2020 Google LLC.
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const q$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},G$=500,K$=600,Q$="_blank",Y$="http://localhost";class xb{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}}function X$(t,e,n,r=G$,s=K$){const i=Math.max((window.screen.availHeight-s)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString();let a="";const c={...q$,width:r.toString(),height:s.toString(),top:i,left:o},d=Qt().toLowerCase();n&&(a=HN(d)?Q$:n),zN(d)&&(e=e||Y$,c.scrollbars="yes");const h=Object.entries(c).reduce((p,[m,T])=>`${p}${m}=${T},`,"");if(wU(d)&&a!=="_self")return J$(e||"",a),new xb(null);const f=window.open(e||"",a,h);de(f,t,"popup-blocked");try{f.focus()}catch{}return new xb(f)}function J$(t,e){const n=document.createElement("a");n.href=t,n.target=e;const r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Z$="__/auth/handler",eB="emulator/auth/handler",tB=encodeURIComponent("fac");async function _b(t,e,n,r,s,i){de(t.config.authDomain,t,"auth-domain-config-required"),de(t.config.apiKey,t,"invalid-api-key");const o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Al,eventId:s};if(e instanceof tR){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",p3(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(const[h,f]of Object.entries({}))o[h]=f}if(e instanceof Qu){const h=e.getScopes().filter(f=>f!=="");h.length>0&&(o.scopes=h.join(","))}t.tenantId&&(o.tid=t.tenantId);const a=o;for(const h of Object.keys(a))a[h]===void 0&&delete a[h];const c=await t._getAppCheckToken(),d=c?`#${tB}=${encodeURIComponent(c)}`:"";return`${nB(t)}?${qu(a).slice(1)}${d}`}function nB({config:t}){return t.emulator?nx(t,eB):`https://${t.authDomain}/${Z$}`}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const fg="webStorageSupport";class rB{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=lR,this._completeRedirectFn=C$,this._overrideRedirectResult=T$}async _openPopup(e,n,r,s){var o;Cs((o=this.eventManagers[e._key()])==null?void 0:o.manager,"_initialize() not called before _openPopup()");const i=await _b(e,n,r,qy(),s);return X$(e,i,ax())}async _openRedirect(e,n,r,s){await this._originValidation(e);const i=await _b(e,n,r,qy(),s);return o$(i),new Promise(()=>{})}_initialize(e){const n=e._key();if(this.eventManagers[n]){const{manager:s,promise:i}=this.eventManagers[n];return s?Promise.resolve(s):(Cs(i,"If manager is not set, promise should be"),i)}const r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}async initAndGetManager(e){const n=await H$(e),r=new R$(e);return n.register("authEvent",s=>(de(s==null?void 0:s.authEvent,e,"invalid-auth-event"),{status:r.onEvent(s.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(fg,{type:fg},s=>{var o;const i=(o=s==null?void 0:s[0])==null?void 0:o[fg];i!==void 0&&n(!!i),gr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){const n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=D$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return YN()||WN()||sx()}}const sB=rB;var bb="@firebase/auth",Eb="1.12.0";/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class iB{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)==null?void 0:e.uid)||null}async getToken(e){return this.assertAuthConfigured(),await this.auth._initializationPromise,this.auth.currentUser?{accessToken:await this.auth.currentUser.getIdToken(e)}:null}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;const n=this.auth.onIdTokenChanged(r=>{e((r==null?void 0:r.stsTokenManager.accessToken)||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();const n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){de(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function oB(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function aB(t){Qr(new mr("auth",(e,{options:n})=>{const r=e.getProvider("app").getImmediate(),s=e.getProvider("heartbeat"),i=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;de(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});const c={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XN(t)},d=new SU(r,s,i,c);return OU(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Qr(new mr("auth-internal",e=>{const n=ea(e.getProvider("auth").getImmediate());return(r=>new iB(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$n(bb,Eb,oB(t)),$n(bb,Eb,"esm2020")}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const lB=5*60,cB=rN("authIdTokenMaxAge")||lB;let Tb=null;const uB=t=>async e=>{const n=e&&await e.getIdTokenResult(),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>cB)return;const s=n==null?void 0:n.token;Tb!==s&&(Tb=s,await fetch(t,{method:s?"POST":"DELETE",headers:s?{Authorization:`Bearer ${s}`}:{}}))};function mR(t=Kw()){const e=Zo(t,"auth");if(e.isInitialized())return e.getImmediate();const n=DU(t,{popupRedirectResolver:sB,persistence:[m$,r$,lR]}),r=rN("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){const i=new URL(r,location.origin);if(location.origin===i.origin){const o=uB(i.toString());JU(n,o,()=>o(n.currentUser)),XU(n,a=>o(a))}}const s=tN("auth");return s&&MU(n,`http://${s}`),n}function dB(){var t;return((t=document.getElementsByTagName("head"))==null?void 0:t[0])??document}IU({loadJS(t){return new Promise((e,n)=>{const r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=s=>{const i=$r("internal-error");i.customData=s,n(i)},r.type="text/javascript",r.charset="UTF-8",dB().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});aB("Browser");var Sb=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var Si,gR;(function(){var t;/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/function e(C,I){function S(){}S.prototype=I.prototype,C.F=I.prototype,C.prototype=new S,C.prototype.constructor=C,C.D=function(N,P,j){for(var R=Array(arguments.length-2),M=2;M<arguments.length;M++)R[M-2]=arguments[M];return I.prototype[P].apply(N,R)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.C=Array(this.blockSize),this.o=this.h=0,this.u()}e(r,n),r.prototype.u=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function s(C,I,S){S||(S=0);const N=Array(16);if(typeof I=="string")for(var P=0;P<16;++P)N[P]=I.charCodeAt(S++)|I.charCodeAt(S++)<<8|I.charCodeAt(S++)<<16|I.charCodeAt(S++)<<24;else for(P=0;P<16;++P)N[P]=I[S++]|I[S++]<<8|I[S++]<<16|I[S++]<<24;I=C.g[0],S=C.g[1],P=C.g[2];let j=C.g[3],R;R=I+(j^S&(P^j))+N[0]+3614090360&4294967295,I=S+(R<<7&4294967295|R>>>25),R=j+(P^I&(S^P))+N[1]+3905402710&4294967295,j=I+(R<<12&4294967295|R>>>20),R=P+(S^j&(I^S))+N[2]+606105819&4294967295,P=j+(R<<17&4294967295|R>>>15),R=S+(I^P&(j^I))+N[3]+3250441966&4294967295,S=P+(R<<22&4294967295|R>>>10),R=I+(j^S&(P^j))+N[4]+4118548399&4294967295,I=S+(R<<7&4294967295|R>>>25),R=j+(P^I&(S^P))+N[5]+1200080426&4294967295,j=I+(R<<12&4294967295|R>>>20),R=P+(S^j&(I^S))+N[6]+2821735955&4294967295,P=j+(R<<17&4294967295|R>>>15),R=S+(I^P&(j^I))+N[7]+4249261313&4294967295,S=P+(R<<22&4294967295|R>>>10),R=I+(j^S&(P^j))+N[8]+1770035416&4294967295,I=S+(R<<7&4294967295|R>>>25),R=j+(P^I&(S^P))+N[9]+2336552879&4294967295,j=I+(R<<12&4294967295|R>>>20),R=P+(S^j&(I^S))+N[10]+4294925233&4294967295,P=j+(R<<17&4294967295|R>>>15),R=S+(I^P&(j^I))+N[11]+2304563134&4294967295,S=P+(R<<22&4294967295|R>>>10),R=I+(j^S&(P^j))+N[12]+1804603682&4294967295,I=S+(R<<7&4294967295|R>>>25),R=j+(P^I&(S^P))+N[13]+4254626195&4294967295,j=I+(R<<12&4294967295|R>>>20),R=P+(S^j&(I^S))+N[14]+2792965006&4294967295,P=j+(R<<17&4294967295|R>>>15),R=S+(I^P&(j^I))+N[15]+1236535329&4294967295,S=P+(R<<22&4294967295|R>>>10),R=I+(P^j&(S^P))+N[1]+4129170786&4294967295,I=S+(R<<5&4294967295|R>>>27),R=j+(S^P&(I^S))+N[6]+3225465664&4294967295,j=I+(R<<9&4294967295|R>>>23),R=P+(I^S&(j^I))+N[11]+643717713&4294967295,P=j+(R<<14&4294967295|R>>>18),R=S+(j^I&(P^j))+N[0]+3921069994&4294967295,S=P+(R<<20&4294967295|R>>>12),R=I+(P^j&(S^P))+N[5]+3593408605&4294967295,I=S+(R<<5&4294967295|R>>>27),R=j+(S^P&(I^S))+N[10]+38016083&4294967295,j=I+(R<<9&4294967295|R>>>23),R=P+(I^S&(j^I))+N[15]+3634488961&4294967295,P=j+(R<<14&4294967295|R>>>18),R=S+(j^I&(P^j))+N[4]+3889429448&4294967295,S=P+(R<<20&4294967295|R>>>12),R=I+(P^j&(S^P))+N[9]+568446438&4294967295,I=S+(R<<5&4294967295|R>>>27),R=j+(S^P&(I^S))+N[14]+3275163606&4294967295,j=I+(R<<9&4294967295|R>>>23),R=P+(I^S&(j^I))+N[3]+4107603335&4294967295,P=j+(R<<14&4294967295|R>>>18),R=S+(j^I&(P^j))+N[8]+1163531501&4294967295,S=P+(R<<20&4294967295|R>>>12),R=I+(P^j&(S^P))+N[13]+2850285829&4294967295,I=S+(R<<5&4294967295|R>>>27),R=j+(S^P&(I^S))+N[2]+4243563512&4294967295,j=I+(R<<9&4294967295|R>>>23),R=P+(I^S&(j^I))+N[7]+1735328473&4294967295,P=j+(R<<14&4294967295|R>>>18),R=S+(j^I&(P^j))+N[12]+2368359562&4294967295,S=P+(R<<20&4294967295|R>>>12),R=I+(S^P^j)+N[5]+4294588738&4294967295,I=S+(R<<4&4294967295|R>>>28),R=j+(I^S^P)+N[8]+2272392833&4294967295,j=I+(R<<11&4294967295|R>>>21),R=P+(j^I^S)+N[11]+1839030562&4294967295,P=j+(R<<16&4294967295|R>>>16),R=S+(P^j^I)+N[14]+4259657740&4294967295,S=P+(R<<23&4294967295|R>>>9),R=I+(S^P^j)+N[1]+2763975236&4294967295,I=S+(R<<4&4294967295|R>>>28),R=j+(I^S^P)+N[4]+1272893353&4294967295,j=I+(R<<11&4294967295|R>>>21),R=P+(j^I^S)+N[7]+4139469664&4294967295,P=j+(R<<16&4294967295|R>>>16),R=S+(P^j^I)+N[10]+3200236656&4294967295,S=P+(R<<23&4294967295|R>>>9),R=I+(S^P^j)+N[13]+681279174&4294967295,I=S+(R<<4&4294967295|R>>>28),R=j+(I^S^P)+N[0]+3936430074&4294967295,j=I+(R<<11&4294967295|R>>>21),R=P+(j^I^S)+N[3]+3572445317&4294967295,P=j+(R<<16&4294967295|R>>>16),R=S+(P^j^I)+N[6]+76029189&4294967295,S=P+(R<<23&4294967295|R>>>9),R=I+(S^P^j)+N[9]+3654602809&4294967295,I=S+(R<<4&4294967295|R>>>28),R=j+(I^S^P)+N[12]+3873151461&4294967295,j=I+(R<<11&4294967295|R>>>21),R=P+(j^I^S)+N[15]+530742520&4294967295,P=j+(R<<16&4294967295|R>>>16),R=S+(P^j^I)+N[2]+3299628645&4294967295,S=P+(R<<23&4294967295|R>>>9),R=I+(P^(S|~j))+N[0]+4096336452&4294967295,I=S+(R<<6&4294967295|R>>>26),R=j+(S^(I|~P))+N[7]+1126891415&4294967295,j=I+(R<<10&4294967295|R>>>22),R=P+(I^(j|~S))+N[14]+2878612391&4294967295,P=j+(R<<15&4294967295|R>>>17),R=S+(j^(P|~I))+N[5]+4237533241&4294967295,S=P+(R<<21&4294967295|R>>>11),R=I+(P^(S|~j))+N[12]+1700485571&4294967295,I=S+(R<<6&4294967295|R>>>26),R=j+(S^(I|~P))+N[3]+2399980690&4294967295,j=I+(R<<10&4294967295|R>>>22),R=P+(I^(j|~S))+N[10]+4293915773&4294967295,P=j+(R<<15&4294967295|R>>>17),R=S+(j^(P|~I))+N[1]+2240044497&4294967295,S=P+(R<<21&4294967295|R>>>11),R=I+(P^(S|~j))+N[8]+1873313359&4294967295,I=S+(R<<6&4294967295|R>>>26),R=j+(S^(I|~P))+N[15]+4264355552&4294967295,j=I+(R<<10&4294967295|R>>>22),R=P+(I^(j|~S))+N[6]+2734768916&4294967295,P=j+(R<<15&4294967295|R>>>17),R=S+(j^(P|~I))+N[13]+1309151649&4294967295,S=P+(R<<21&4294967295|R>>>11),R=I+(P^(S|~j))+N[4]+4149444226&4294967295,I=S+(R<<6&4294967295|R>>>26),R=j+(S^(I|~P))+N[11]+3174756917&4294967295,j=I+(R<<10&4294967295|R>>>22),R=P+(I^(j|~S))+N[2]+718787259&4294967295,P=j+(R<<15&4294967295|R>>>17),R=S+(j^(P|~I))+N[9]+3951481745&4294967295,C.g[0]=C.g[0]+I&4294967295,C.g[1]=C.g[1]+(P+(R<<21&4294967295|R>>>11))&4294967295,C.g[2]=C.g[2]+P&4294967295,C.g[3]=C.g[3]+j&4294967295}r.prototype.v=function(C,I){I===void 0&&(I=C.length);const S=I-this.blockSize,N=this.C;let P=this.h,j=0;for(;j<I;){if(P==0)for(;j<=S;)s(this,C,j),j+=this.blockSize;if(typeof C=="string"){for(;j<I;)if(N[P++]=C.charCodeAt(j++),P==this.blockSize){s(this,N),P=0;break}}else for(;j<I;)if(N[P++]=C[j++],P==this.blockSize){s(this,N),P=0;break}}this.h=P,this.o+=I},r.prototype.A=function(){var C=Array((this.h<56?this.blockSize:this.blockSize*2)-this.h);C[0]=128;for(var I=1;I<C.length-8;++I)C[I]=0;I=this.o*8;for(var S=C.length-8;S<C.length;++S)C[S]=I&255,I/=256;for(this.v(C),C=Array(16),I=0,S=0;S<4;++S)for(let N=0;N<32;N+=8)C[I++]=this.g[S]>>>N&255;return C};function i(C,I){var S=a;return Object.prototype.hasOwnProperty.call(S,C)?S[C]:S[C]=I(C)}function o(C,I){this.h=I;const S=[];let N=!0;for(let P=C.length-1;P>=0;P--){const j=C[P]|0;N&&j==I||(S[P]=j,N=!1)}this.g=S}var a={};function c(C){return-128<=C&&C<128?i(C,function(I){return new o([I|0],I<0?-1:0)}):new o([C|0],C<0?-1:0)}function d(C){if(isNaN(C)||!isFinite(C))return f;if(C<0)return x(d(-C));const I=[];let S=1;for(let N=0;C>=S;N++)I[N]=C/S|0,S*=4294967296;return new o(I,0)}function h(C,I){if(C.length==0)throw Error("number format error: empty string");if(I=I||10,I<2||36<I)throw Error("radix out of range: "+I);if(C.charAt(0)=="-")return x(h(C.substring(1),I));if(C.indexOf("-")>=0)throw Error('number format error: interior "-" character');const S=d(Math.pow(I,8));let N=f;for(let j=0;j<C.length;j+=8){var P=Math.min(8,C.length-j);const R=parseInt(C.substring(j,j+P),I);P<8?(P=d(Math.pow(I,P)),N=N.j(P).add(d(R))):(N=N.j(S),N=N.add(d(R)))}return N}var f=c(0),p=c(1),m=c(16777216);t=o.prototype,t.m=function(){if(w(this))return-x(this).m();let C=0,I=1;for(let S=0;S<this.g.length;S++){const N=this.i(S);C+=(N>=0?N:4294967296+N)*I,I*=4294967296}return C},t.toString=function(C){if(C=C||10,C<2||36<C)throw Error("radix out of range: "+C);if(T(this))return"0";if(w(this))return"-"+x(this).toString(C);const I=d(Math.pow(C,6));var S=this;let N="";for(;;){const P=k(S,I).g;S=_(S,P.j(I));let j=((S.g.length>0?S.g[0]:S.h)>>>0).toString(C);if(S=P,T(S))return j+N;for(;j.length<6;)j="0"+j;N=j+N}},t.i=function(C){return C<0?0:C<this.g.length?this.g[C]:this.h};function T(C){if(C.h!=0)return!1;for(let I=0;I<C.g.length;I++)if(C.g[I]!=0)return!1;return!0}function w(C){return C.h==-1}t.l=function(C){return C=_(this,C),w(C)?-1:T(C)?0:1};function x(C){const I=C.g.length,S=[];for(let N=0;N<I;N++)S[N]=~C.g[N];return new o(S,~C.h).add(p)}t.abs=function(){return w(this)?x(this):this},t.add=function(C){const I=Math.max(this.g.length,C.g.length),S=[];let N=0;for(let P=0;P<=I;P++){let j=N+(this.i(P)&65535)+(C.i(P)&65535),R=(j>>>16)+(this.i(P)>>>16)+(C.i(P)>>>16);N=R>>>16,j&=65535,R&=65535,S[P]=R<<16|j}return new o(S,S[S.length-1]&-2147483648?-1:0)};function _(C,I){return C.add(x(I))}t.j=function(C){if(T(this)||T(C))return f;if(w(this))return w(C)?x(this).j(x(C)):x(x(this).j(C));if(w(C))return x(this.j(x(C)));if(this.l(m)<0&&C.l(m)<0)return d(this.m()*C.m());const I=this.g.length+C.g.length,S=[];for(var N=0;N<2*I;N++)S[N]=0;for(N=0;N<this.g.length;N++)for(let P=0;P<C.g.length;P++){const j=this.i(N)>>>16,R=this.i(N)&65535,M=C.i(P)>>>16,G=C.i(P)&65535;S[2*N+2*P]+=R*G,v(S,2*N+2*P),S[2*N+2*P+1]+=j*G,v(S,2*N+2*P+1),S[2*N+2*P+1]+=R*M,v(S,2*N+2*P+1),S[2*N+2*P+2]+=j*M,v(S,2*N+2*P+2)}for(C=0;C<I;C++)S[C]=S[2*C+1]<<16|S[2*C];for(C=I;C<2*I;C++)S[C]=0;return new o(S,0)};function v(C,I){for(;(C[I]&65535)!=C[I];)C[I+1]+=C[I]>>>16,C[I]&=65535,I++}function b(C,I){this.g=C,this.h=I}function k(C,I){if(T(I))throw Error("division by zero");if(T(C))return new b(f,f);if(w(C))return I=k(x(C),I),new b(x(I.g),x(I.h));if(w(I))return I=k(C,x(I)),new b(x(I.g),I.h);if(C.g.length>30){if(w(C)||w(I))throw Error("slowDivide_ only works with positive integers.");for(var S=p,N=I;N.l(C)<=0;)S=O(S),N=O(N);var P=D(S,1),j=D(N,1);for(N=D(N,2),S=D(S,2);!T(N);){var R=j.add(N);R.l(C)<=0&&(P=P.add(S),j=R),N=D(N,1),S=D(S,1)}return I=_(C,P.j(I)),new b(P,I)}for(P=f;C.l(I)>=0;){for(S=Math.max(1,Math.floor(C.m()/I.m())),N=Math.ceil(Math.log(S)/Math.LN2),N=N<=48?1:Math.pow(2,N-48),j=d(S),R=j.j(I);w(R)||R.l(C)>0;)S-=N,j=d(S),R=j.j(I);T(j)&&(j=p),P=P.add(j),C=_(C,R)}return new b(P,C)}t.B=function(C){return k(this,C).h},t.and=function(C){const I=Math.max(this.g.length,C.g.length),S=[];for(let N=0;N<I;N++)S[N]=this.i(N)&C.i(N);return new o(S,this.h&C.h)},t.or=function(C){const I=Math.max(this.g.length,C.g.length),S=[];for(let N=0;N<I;N++)S[N]=this.i(N)|C.i(N);return new o(S,this.h|C.h)},t.xor=function(C){const I=Math.max(this.g.length,C.g.length),S=[];for(let N=0;N<I;N++)S[N]=this.i(N)^C.i(N);return new o(S,this.h^C.h)};function O(C){const I=C.g.length+1,S=[];for(let N=0;N<I;N++)S[N]=C.i(N)<<1|C.i(N-1)>>>31;return new o(S,C.h)}function D(C,I){const S=I>>5;I%=32;const N=C.g.length-S,P=[];for(let j=0;j<N;j++)P[j]=I>0?C.i(j+S)>>>I|C.i(j+S+1)<<32-I:C.i(j+S);return new o(P,C.h)}r.prototype.digest=r.prototype.A,r.prototype.reset=r.prototype.u,r.prototype.update=r.prototype.v,gR=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.B,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=h,Si=o}).apply(typeof Sb<"u"?Sb:typeof self<"u"?self:typeof window<"u"?window:{});var Wd=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{};/** @license
Copyright The Closure Library Authors.
SPDX-License-Identifier: Apache-2.0
*/var yR,_c,vR,bh,Xy,wR,xR,_R;(function(){var t,e=Object.defineProperty;function n(u){u=[typeof globalThis=="object"&&globalThis,u,typeof window=="object"&&window,typeof self=="object"&&self,typeof Wd=="object"&&Wd];for(var y=0;y<u.length;++y){var E=u[y];if(E&&E.Math==Math)return E}throw Error("Cannot find global object")}var r=n(this);function s(u,y){if(y)e:{var E=r;u=u.split(".");for(var A=0;A<u.length-1;A++){var U=u[A];if(!(U in E))break e;E=E[U]}u=u[u.length-1],A=E[u],y=y(A),y!=A&&y!=null&&e(E,u,{configurable:!0,writable:!0,value:y})}}s("Symbol.dispose",function(u){return u||Symbol("Symbol.dispose")}),s("Array.prototype.values",function(u){return u||function(){return this[Symbol.iterator]()}}),s("Object.entries",function(u){return u||function(y){var E=[],A;for(A in y)Object.prototype.hasOwnProperty.call(y,A)&&E.push([A,y[A]]);return E}});/** @license

 Copyright The Closure Library Authors.
 SPDX-License-Identifier: Apache-2.0
*/var i=i||{},o=this||self;function a(u){var y=typeof u;return y=="object"&&u!=null||y=="function"}function c(u,y,E){return u.call.apply(u.bind,arguments)}function d(u,y,E){return d=c,d.apply(null,arguments)}function h(u,y){var E=Array.prototype.slice.call(arguments,1);return function(){var A=E.slice();return A.push.apply(A,arguments),u.apply(this,A)}}function f(u,y){function E(){}E.prototype=y.prototype,u.Z=y.prototype,u.prototype=new E,u.prototype.constructor=u,u.Ob=function(A,U,$){for(var J=Array(arguments.length-2),be=2;be<arguments.length;be++)J[be-2]=arguments[be];return y.prototype[U].apply(A,J)}}var p=typeof AsyncContext<"u"&&typeof AsyncContext.Snapshot=="function"?u=>u&&AsyncContext.Snapshot.wrap(u):u=>u;function m(u){const y=u.length;if(y>0){const E=Array(y);for(let A=0;A<y;A++)E[A]=u[A];return E}return[]}function T(u,y){for(let A=1;A<arguments.length;A++){const U=arguments[A];var E=typeof U;if(E=E!="object"?E:U?Array.isArray(U)?"array":E:"null",E=="array"||E=="object"&&typeof U.length=="number"){E=u.length||0;const $=U.length||0;u.length=E+$;for(let J=0;J<$;J++)u[E+J]=U[J]}else u.push(U)}}class w{constructor(y,E){this.i=y,this.j=E,this.h=0,this.g=null}get(){let y;return this.h>0?(this.h--,y=this.g,this.g=y.next,y.next=null):y=this.i(),y}}function x(u){o.setTimeout(()=>{throw u},0)}function _(){var u=C;let y=null;return u.g&&(y=u.g,u.g=u.g.next,u.g||(u.h=null),y.next=null),y}class v{constructor(){this.h=this.g=null}add(y,E){const A=b.get();A.set(y,E),this.h?this.h.next=A:this.g=A,this.h=A}}var b=new w(()=>new k,u=>u.reset());class k{constructor(){this.next=this.g=this.h=null}set(y,E){this.h=y,this.g=E,this.next=null}reset(){this.next=this.g=this.h=null}}let O,D=!1,C=new v,I=()=>{const u=Promise.resolve(void 0);O=()=>{u.then(S)}};function S(){for(var u;u=_();){try{u.h.call(u.g)}catch(E){x(E)}var y=b;y.j(u),y.h<100&&(y.h++,u.next=y.g,y.g=u)}D=!1}function N(){this.u=this.u,this.C=this.C}N.prototype.u=!1,N.prototype.dispose=function(){this.u||(this.u=!0,this.N())},N.prototype[Symbol.dispose]=function(){this.dispose()},N.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function P(u,y){this.type=u,this.g=this.target=y,this.defaultPrevented=!1}P.prototype.h=function(){this.defaultPrevented=!0};var j=function(){if(!o.addEventListener||!Object.defineProperty)return!1;var u=!1,y=Object.defineProperty({},"passive",{get:function(){u=!0}});try{const E=()=>{};o.addEventListener("test",E,y),o.removeEventListener("test",E,y)}catch{}return u}();function R(u){return/^[\s\xa0]*$/.test(u)}function M(u,y){P.call(this,u?u.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,u&&this.init(u,y)}f(M,P),M.prototype.init=function(u,y){const E=this.type=u.type,A=u.changedTouches&&u.changedTouches.length?u.changedTouches[0]:null;this.target=u.target||u.srcElement,this.g=y,y=u.relatedTarget,y||(E=="mouseover"?y=u.fromElement:E=="mouseout"&&(y=u.toElement)),this.relatedTarget=y,A?(this.clientX=A.clientX!==void 0?A.clientX:A.pageX,this.clientY=A.clientY!==void 0?A.clientY:A.pageY,this.screenX=A.screenX||0,this.screenY=A.screenY||0):(this.clientX=u.clientX!==void 0?u.clientX:u.pageX,this.clientY=u.clientY!==void 0?u.clientY:u.pageY,this.screenX=u.screenX||0,this.screenY=u.screenY||0),this.button=u.button,this.key=u.key||"",this.ctrlKey=u.ctrlKey,this.altKey=u.altKey,this.shiftKey=u.shiftKey,this.metaKey=u.metaKey,this.pointerId=u.pointerId||0,this.pointerType=u.pointerType,this.state=u.state,this.i=u,u.defaultPrevented&&M.Z.h.call(this)},M.prototype.h=function(){M.Z.h.call(this);const u=this.i;u.preventDefault?u.preventDefault():u.returnValue=!1};var G="closure_listenable_"+(Math.random()*1e6|0),H=0;function ne(u,y,E,A,U){this.listener=u,this.proxy=null,this.src=y,this.type=E,this.capture=!!A,this.ha=U,this.key=++H,this.da=this.fa=!1}function F(u){u.da=!0,u.listener=null,u.proxy=null,u.src=null,u.ha=null}function V(u,y,E){for(const A in u)y.call(E,u[A],A,u)}function L(u,y){for(const E in u)y.call(void 0,u[E],E,u)}function Z(u){const y={};for(const E in u)y[E]=u[E];return y}const X="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function oe(u,y){let E,A;for(let U=1;U<arguments.length;U++){A=arguments[U];for(E in A)u[E]=A[E];for(let $=0;$<X.length;$++)E=X[$],Object.prototype.hasOwnProperty.call(A,E)&&(u[E]=A[E])}}function ae(u){this.src=u,this.g={},this.h=0}ae.prototype.add=function(u,y,E,A,U){const $=u.toString();u=this.g[$],u||(u=this.g[$]=[],this.h++);const J=ke(u,y,A,U);return J>-1?(y=u[J],E||(y.fa=!1)):(y=new ne(y,this.src,$,!!A,U),y.fa=E,u.push(y)),y};function we(u,y){const E=y.type;if(E in u.g){var A=u.g[E],U=Array.prototype.indexOf.call(A,y,void 0),$;($=U>=0)&&Array.prototype.splice.call(A,U,1),$&&(F(y),u.g[E].length==0&&(delete u.g[E],u.h--))}}function ke(u,y,E,A){for(let U=0;U<u.length;++U){const $=u[U];if(!$.da&&$.listener==y&&$.capture==!!E&&$.ha==A)return U}return-1}var Q="closure_lm_"+(Math.random()*1e6|0),Te={};function Pe(u,y,E,A,U){if(Array.isArray(y)){for(let $=0;$<y.length;$++)Pe(u,y[$],E,A,U);return null}return E=Ds(E),u&&u[G]?u.J(y,E,a(A)?!!A.capture:!!A,U):Se(u,y,E,!1,A,U)}function Se(u,y,E,A,U,$){if(!y)throw Error("Invalid event type");const J=a(U)?!!U.capture:!!U;let be=Pn(u);if(be||(u[Q]=be=new ae(u)),E=be.add(y,E,A,J,$),E.proxy)return E;if(A=Ie(),E.proxy=A,A.src=u,A.listener=E,u.addEventListener)j||(U=J),U===void 0&&(U=!1),u.addEventListener(y.toString(),A,U);else if(u.attachEvent)u.attachEvent(Yt(y.toString()),A);else if(u.addListener&&u.removeListener)u.addListener(A);else throw Error("addEventListener and attachEvent are unavailable.");return E}function Ie(){function u(E){return y.call(u.src,u.listener,E)}const y=ts;return u}function Ae(u,y,E,A,U){if(Array.isArray(y))for(var $=0;$<y.length;$++)Ae(u,y[$],E,A,U);else A=a(A)?!!A.capture:!!A,E=Ds(E),u&&u[G]?(u=u.i,$=String(y).toString(),$ in u.g&&(y=u.g[$],E=ke(y,E,A,U),E>-1&&(F(y[E]),Array.prototype.splice.call(y,E,1),y.length==0&&(delete u.g[$],u.h--)))):u&&(u=Pn(u))&&(y=u.g[y.toString()],u=-1,y&&(u=ke(y,E,A,U)),(E=u>-1?y[u]:null)&&mt(E))}function mt(u){if(typeof u!="number"&&u&&!u.da){var y=u.src;if(y&&y[G])we(y.i,u);else{var E=u.type,A=u.proxy;y.removeEventListener?y.removeEventListener(E,A,u.capture):y.detachEvent?y.detachEvent(Yt(E),A):y.addListener&&y.removeListener&&y.removeListener(A),(E=Pn(y))?(we(E,u),E.h==0&&(E.src=null,y[Q]=null)):F(u)}}}function Yt(u){return u in Te?Te[u]:Te[u]="on"+u}function ts(u,y){if(u.da)u=!0;else{y=new M(y,this);const E=u.listener,A=u.ha||u.src;u.fa&&mt(u),u=E.call(A,y)}return u}function Pn(u){return u=u[Q],u instanceof ae?u:null}var qn="__closure_events_fn_"+(Math.random()*1e9>>>0);function Ds(u){return typeof u=="function"?u:(u[qn]||(u[qn]=function(y){return u.handleEvent(y)}),u[qn])}function tt(){N.call(this),this.i=new ae(this),this.M=this,this.G=null}f(tt,N),tt.prototype[G]=!0,tt.prototype.removeEventListener=function(u,y,E,A){Ae(this,u,y,E,A)};function It(u,y){var E,A=u.G;if(A)for(E=[];A;A=A.G)E.push(A);if(u=u.M,A=y.type||y,typeof y=="string")y=new P(y,u);else if(y instanceof P)y.target=y.target||u;else{var U=y;y=new P(A,u),oe(y,U)}U=!0;let $,J;if(E)for(J=E.length-1;J>=0;J--)$=y.g=E[J],U=br($,A,!0,y)&&U;if($=y.g=u,U=br($,A,!0,y)&&U,U=br($,A,!1,y)&&U,E)for(J=0;J<E.length;J++)$=y.g=E[J],U=br($,A,!1,y)&&U}tt.prototype.N=function(){if(tt.Z.N.call(this),this.i){var u=this.i;for(const y in u.g){const E=u.g[y];for(let A=0;A<E.length;A++)F(E[A]);delete u.g[y],u.h--}}this.G=null},tt.prototype.J=function(u,y,E,A){return this.i.add(String(u),y,!1,E,A)},tt.prototype.K=function(u,y,E,A){return this.i.add(String(u),y,!0,E,A)};function br(u,y,E,A){if(y=u.i.g[String(y)],!y)return!0;y=y.concat();let U=!0;for(let $=0;$<y.length;++$){const J=y[$];if(J&&!J.da&&J.capture==E){const be=J.listener,bt=J.ha||J.src;J.fa&&we(u.i,J),U=be.call(bt,A)!==!1&&U}}return U&&!A.defaultPrevented}function ad(u,y){if(typeof u!="function")if(u&&typeof u.handleEvent=="function")u=d(u.handleEvent,u);else throw Error("Invalid listener argument");return Number(y)>2147483647?-1:o.setTimeout(u,y||0)}function Er(u){u.g=ad(()=>{u.g=null,u.i&&(u.i=!1,Er(u))},u.l);const y=u.h;u.h=null,u.m.apply(null,y)}class om extends N{constructor(y,E){super(),this.m=y,this.l=E,this.h=null,this.i=!1,this.g=null}j(y){this.h=arguments,this.g?this.i=!0:Er(this)}N(){super.N(),this.g&&(o.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function eo(u){N.call(this),this.h=u,this.g={}}f(eo,N);var Xt=[];function ns(u){V(u.g,function(y,E){this.g.hasOwnProperty(E)&&mt(y)},u),u.g={}}eo.prototype.N=function(){eo.Z.N.call(this),ns(this)},eo.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Fl=o.JSON.stringify,am=o.JSON.parse,ia=class{stringify(u){return o.JSON.stringify(u,void 0)}parse(u){return o.JSON.parse(u,void 0)}};function ld(){}function Ul(){}var rs={OPEN:"a",hb:"b",ERROR:"c",tb:"d"};function Tr(){P.call(this,"d")}f(Tr,P);function oa(){P.call(this,"c")}f(oa,P);var an={},cd=null;function aa(){return cd=cd||new tt}an.Ia="serverreachability";function $l(u){P.call(this,an.Ia,u)}f($l,P);function Os(u){const y=aa();It(y,new $l(y))}an.STAT_EVENT="statevent";function ud(u,y){P.call(this,an.STAT_EVENT,u),this.stat=y}f(ud,P);function _t(u){const y=aa();It(y,new ud(y,u))}an.Ja="timingevent";function Gn(u,y){P.call(this,an.Ja,u),this.size=y}f(Gn,P);function to(u,y){if(typeof u!="function")throw Error("Fn must not be null and must be a function");return o.setTimeout(function(){u()},y)}function ue(){this.g=!0}ue.prototype.ua=function(){this.g=!1};function Le(u,y,E,A,U,$){u.info(function(){if(u.g)if($){var J="",be=$.split("&");for(let $e=0;$e<be.length;$e++){var bt=be[$e].split("=");if(bt.length>1){const Nt=bt[0];bt=bt[1];const Cr=Nt.split("_");J=Cr.length>=2&&Cr[1]=="type"?J+(Nt+"="+bt+"&"):J+(Nt+"=redacted&")}}}else J=null;else J=$;return"XMLHTTP REQ ("+A+") [attempt "+U+"]: "+y+`
`+E+`
`+J})}function ze(u,y,E,A,U,$,J){u.info(function(){return"XMLHTTP RESP ("+A+") [ attempt "+U+"]: "+y+`
`+E+`
`+$+" "+J})}function Ct(u,y,E,A){u.info(function(){return"XMLHTTP TEXT ("+y+"): "+Sr(u,E)+(A?" "+A:"")})}function vn(u,y){u.info(function(){return"TIMEOUT: "+y})}ue.prototype.info=function(){};function Sr(u,y){if(!u.g)return y;if(!y)return null;try{const $=JSON.parse(y);if($){for(u=0;u<$.length;u++)if(Array.isArray($[u])){var E=$[u];if(!(E.length<2)){var A=E[1];if(Array.isArray(A)&&!(A.length<1)){var U=A[0];if(U!="noop"&&U!="stop"&&U!="close")for(let J=1;J<A.length;J++)A[J]=""}}}}return Fl($)}catch{return y}}var An={NO_ERROR:0,cb:1,qb:2,pb:3,kb:4,ob:5,rb:6,Ga:7,TIMEOUT:8,ub:9},ln={ib:"complete",Fb:"success",ERROR:"error",Ga:"abort",xb:"ready",yb:"readystatechange",TIMEOUT:"timeout",sb:"incrementaldata",wb:"progress",lb:"downloadprogress",Nb:"uploadprogress"},Kn;function lm(){}f(lm,ld),lm.prototype.g=function(){return new XMLHttpRequest},Kn=new lm;function Bl(u){return encodeURIComponent(String(u))}function uj(u){var y=1;u=u.split(":");const E=[];for(;y>0&&u.length;)E.push(u.shift()),y--;return u.length&&E.push(u.join(":")),E}function Ms(u,y,E,A){this.j=u,this.i=y,this.l=E,this.S=A||1,this.V=new eo(this),this.H=45e3,this.J=null,this.o=!1,this.u=this.B=this.A=this.M=this.F=this.T=this.D=null,this.G=[],this.g=null,this.C=0,this.m=this.v=null,this.X=-1,this.K=!1,this.P=0,this.O=null,this.W=this.L=this.U=this.R=!1,this.h=new d0}function d0(){this.i=null,this.g="",this.h=!1}var h0={},cm={};function um(u,y,E){u.M=1,u.A=hd(Ir(y)),u.u=E,u.R=!0,f0(u,null)}function f0(u,y){u.F=Date.now(),dd(u),u.B=Ir(u.A);var E=u.B,A=u.S;Array.isArray(A)||(A=[String(A)]),I0(E.i,"t",A),u.C=0,E=u.j.L,u.h=new d0,u.g=W0(u.j,E?y:null,!u.u),u.P>0&&(u.O=new om(d(u.Y,u,u.g),u.P)),y=u.V,E=u.g,A=u.ba;var U="readystatechange";Array.isArray(U)||(U&&(Xt[0]=U.toString()),U=Xt);for(let $=0;$<U.length;$++){const J=Pe(E,U[$],A||y.handleEvent,!1,y.h||y);if(!J)break;y.g[J.key]=J}y=u.J?Z(u.J):{},u.u?(u.v||(u.v="POST"),y["Content-Type"]="application/x-www-form-urlencoded",u.g.ea(u.B,u.v,u.u,y)):(u.v="GET",u.g.ea(u.B,u.v,null,y)),Os(),Le(u.i,u.v,u.B,u.l,u.S,u.u)}Ms.prototype.ba=function(u){u=u.target;const y=this.O;y&&Fs(u)==3?y.j():this.Y(u)},Ms.prototype.Y=function(u){try{if(u==this.g)e:{const be=Fs(this.g),bt=this.g.ya(),$e=this.g.ca();if(!(be<3)&&(be!=3||this.g&&(this.h.h||this.g.la()||j0(this.g)))){this.K||be!=4||bt==7||(bt==8||$e<=0?Os(3):Os(2)),dm(this);var y=this.g.ca();this.X=y;var E=dj(this);if(this.o=y==200,ze(this.i,this.v,this.B,this.l,this.S,be,y),this.o){if(this.U&&!this.L){t:{if(this.g){var A,U=this.g;if((A=U.g?U.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!R(A)){var $=A;break t}}$=null}if(u=$)Ct(this.i,this.l,u,"Initial handshake response via X-HTTP-Initial-Response"),this.L=!0,hm(this,u);else{this.o=!1,this.m=3,_t(12),no(this),zl(this);break e}}if(this.R){u=!0;let Nt;for(;!this.K&&this.C<E.length;)if(Nt=hj(this,E),Nt==cm){be==4&&(this.m=4,_t(14),u=!1),Ct(this.i,this.l,null,"[Incomplete Response]");break}else if(Nt==h0){this.m=4,_t(15),Ct(this.i,this.l,E,"[Invalid Chunk]"),u=!1;break}else Ct(this.i,this.l,Nt,null),hm(this,Nt);if(p0(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),be!=4||E.length!=0||this.h.h||(this.m=1,_t(16),u=!1),this.o=this.o&&u,!u)Ct(this.i,this.l,E,"[Invalid Chunked Response]"),no(this),zl(this);else if(E.length>0&&!this.W){this.W=!0;var J=this.j;J.g==this&&J.aa&&!J.P&&(J.j.info("Great, no buffering proxy detected. Bytes received: "+E.length),xm(J),J.P=!0,_t(11))}}else Ct(this.i,this.l,E,null),hm(this,E);be==4&&no(this),this.o&&!this.K&&(be==4?U0(this.j,this):(this.o=!1,dd(this)))}else Ij(this.g),y==400&&E.indexOf("Unknown SID")>0?(this.m=3,_t(12)):(this.m=0,_t(13)),no(this),zl(this)}}}catch{}finally{}};function dj(u){if(!p0(u))return u.g.la();const y=j0(u.g);if(y==="")return"";let E="";const A=y.length,U=Fs(u.g)==4;if(!u.h.i){if(typeof TextDecoder>"u")return no(u),zl(u),"";u.h.i=new o.TextDecoder}for(let $=0;$<A;$++)u.h.h=!0,E+=u.h.i.decode(y[$],{stream:!(U&&$==A-1)});return y.length=0,u.h.g+=E,u.C=0,u.h.g}function p0(u){return u.g?u.v=="GET"&&u.M!=2&&u.j.Aa:!1}function hj(u,y){var E=u.C,A=y.indexOf(`
`,E);return A==-1?cm:(E=Number(y.substring(E,A)),isNaN(E)?h0:(A+=1,A+E>y.length?cm:(y=y.slice(A,A+E),u.C=A+E,y)))}Ms.prototype.cancel=function(){this.K=!0,no(this)};function dd(u){u.T=Date.now()+u.H,m0(u,u.H)}function m0(u,y){if(u.D!=null)throw Error("WatchDog timer not null");u.D=to(d(u.aa,u),y)}function dm(u){u.D&&(o.clearTimeout(u.D),u.D=null)}Ms.prototype.aa=function(){this.D=null;const u=Date.now();u-this.T>=0?(vn(this.i,this.B),this.M!=2&&(Os(),_t(17)),no(this),this.m=2,zl(this)):m0(this,this.T-u)};function zl(u){u.j.I==0||u.K||U0(u.j,u)}function no(u){dm(u);var y=u.O;y&&typeof y.dispose=="function"&&y.dispose(),u.O=null,ns(u.V),u.g&&(y=u.g,u.g=null,y.abort(),y.dispose())}function hm(u,y){try{var E=u.j;if(E.I!=0&&(E.g==u||fm(E.h,u))){if(!u.L&&fm(E.h,u)&&E.I==3){try{var A=E.Ba.g.parse(y)}catch{A=null}if(Array.isArray(A)&&A.length==3){var U=A;if(U[0]==0){e:if(!E.v){if(E.g)if(E.g.F+3e3<u.F)yd(E),md(E);else break e;wm(E),_t(18)}}else E.xa=U[1],0<E.xa-E.K&&U[2]<37500&&E.F&&E.A==0&&!E.C&&(E.C=to(d(E.Va,E),6e3));v0(E.h)<=1&&E.ta&&(E.ta=void 0)}else so(E,11)}else if((u.L||E.g==u)&&yd(E),!R(y))for(U=E.Ba.g.parse(y),y=0;y<U.length;y++){let $e=U[y];const Nt=$e[0];if(!(Nt<=E.K))if(E.K=Nt,$e=$e[1],E.I==2)if($e[0]=="c"){E.M=$e[1],E.ba=$e[2];const Cr=$e[3];Cr!=null&&(E.ka=Cr,E.j.info("VER="+E.ka));const io=$e[4];io!=null&&(E.za=io,E.j.info("SVER="+E.za));const Us=$e[5];Us!=null&&typeof Us=="number"&&Us>0&&(A=1.5*Us,E.O=A,E.j.info("backChannelRequestTimeoutMs_="+A)),A=E;const $s=u.g;if($s){const wd=$s.g?$s.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(wd){var $=A.h;$.g||wd.indexOf("spdy")==-1&&wd.indexOf("quic")==-1&&wd.indexOf("h2")==-1||($.j=$.l,$.g=new Set,$.h&&(pm($,$.h),$.h=null))}if(A.G){const _m=$s.g?$s.g.getResponseHeader("X-HTTP-Session-Id"):null;_m&&(A.wa=_m,qe(A.J,A.G,_m))}}E.I=3,E.l&&E.l.ra(),E.aa&&(E.T=Date.now()-u.F,E.j.info("Handshake RTT: "+E.T+"ms")),A=E;var J=u;if(A.na=z0(A,A.L?A.ba:null,A.W),J.L){w0(A.h,J);var be=J,bt=A.O;bt&&(be.H=bt),be.D&&(dm(be),dd(be)),A.g=J}else V0(A);E.i.length>0&&gd(E)}else $e[0]!="stop"&&$e[0]!="close"||so(E,7);else E.I==3&&($e[0]=="stop"||$e[0]=="close"?$e[0]=="stop"?so(E,7):vm(E):$e[0]!="noop"&&E.l&&E.l.qa($e),E.A=0)}}Os(4)}catch{}}var fj=class{constructor(u,y){this.g=u,this.map=y}};function g0(u){this.l=u||10,o.PerformanceNavigationTiming?(u=o.performance.getEntriesByType("navigation"),u=u.length>0&&(u[0].nextHopProtocol=="hq"||u[0].nextHopProtocol=="h2")):u=!!(o.chrome&&o.chrome.loadTimes&&o.chrome.loadTimes()&&o.chrome.loadTimes().wasFetchedViaSpdy),this.j=u?this.l:1,this.g=null,this.j>1&&(this.g=new Set),this.h=null,this.i=[]}function y0(u){return u.h?!0:u.g?u.g.size>=u.j:!1}function v0(u){return u.h?1:u.g?u.g.size:0}function fm(u,y){return u.h?u.h==y:u.g?u.g.has(y):!1}function pm(u,y){u.g?u.g.add(y):u.h=y}function w0(u,y){u.h&&u.h==y?u.h=null:u.g&&u.g.has(y)&&u.g.delete(y)}g0.prototype.cancel=function(){if(this.i=x0(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(const u of this.g.values())u.cancel();this.g.clear()}};function x0(u){if(u.h!=null)return u.i.concat(u.h.G);if(u.g!=null&&u.g.size!==0){let y=u.i;for(const E of u.g.values())y=y.concat(E.G);return y}return m(u.i)}var _0=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function pj(u,y){if(u){u=u.split("&");for(let E=0;E<u.length;E++){const A=u[E].indexOf("=");let U,$=null;A>=0?(U=u[E].substring(0,A),$=u[E].substring(A+1)):U=u[E],y(U,$?decodeURIComponent($.replace(/\+/g," ")):"")}}}function Ls(u){this.g=this.o=this.j="",this.u=null,this.m=this.h="",this.l=!1;let y;u instanceof Ls?(this.l=u.l,Wl(this,u.j),this.o=u.o,this.g=u.g,Hl(this,u.u),this.h=u.h,mm(this,C0(u.i)),this.m=u.m):u&&(y=String(u).match(_0))?(this.l=!1,Wl(this,y[1]||"",!0),this.o=ql(y[2]||""),this.g=ql(y[3]||"",!0),Hl(this,y[4]),this.h=ql(y[5]||"",!0),mm(this,y[6]||"",!0),this.m=ql(y[7]||"")):(this.l=!1,this.i=new Kl(null,this.l))}Ls.prototype.toString=function(){const u=[];var y=this.j;y&&u.push(Gl(y,b0,!0),":");var E=this.g;return(E||y=="file")&&(u.push("//"),(y=this.o)&&u.push(Gl(y,b0,!0),"@"),u.push(Bl(E).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),E=this.u,E!=null&&u.push(":",String(E))),(E=this.h)&&(this.g&&E.charAt(0)!="/"&&u.push("/"),u.push(Gl(E,E.charAt(0)=="/"?yj:gj,!0))),(E=this.i.toString())&&u.push("?",E),(E=this.m)&&u.push("#",Gl(E,wj)),u.join("")},Ls.prototype.resolve=function(u){const y=Ir(this);let E=!!u.j;E?Wl(y,u.j):E=!!u.o,E?y.o=u.o:E=!!u.g,E?y.g=u.g:E=u.u!=null;var A=u.h;if(E)Hl(y,u.u);else if(E=!!u.h){if(A.charAt(0)!="/")if(this.g&&!this.h)A="/"+A;else{var U=y.h.lastIndexOf("/");U!=-1&&(A=y.h.slice(0,U+1)+A)}if(U=A,U==".."||U==".")A="";else if(U.indexOf("./")!=-1||U.indexOf("/.")!=-1){A=U.lastIndexOf("/",0)==0,U=U.split("/");const $=[];for(let J=0;J<U.length;){const be=U[J++];be=="."?A&&J==U.length&&$.push(""):be==".."?(($.length>1||$.length==1&&$[0]!="")&&$.pop(),A&&J==U.length&&$.push("")):($.push(be),A=!0)}A=$.join("/")}else A=U}return E?y.h=A:E=u.i.toString()!=="",E?mm(y,C0(u.i)):E=!!u.m,E&&(y.m=u.m),y};function Ir(u){return new Ls(u)}function Wl(u,y,E){u.j=E?ql(y,!0):y,u.j&&(u.j=u.j.replace(/:$/,""))}function Hl(u,y){if(y){if(y=Number(y),isNaN(y)||y<0)throw Error("Bad port number "+y);u.u=y}else u.u=null}function mm(u,y,E){y instanceof Kl?(u.i=y,xj(u.i,u.l)):(E||(y=Gl(y,vj)),u.i=new Kl(y,u.l))}function qe(u,y,E){u.i.set(y,E)}function hd(u){return qe(u,"zx",Math.floor(Math.random()*2147483648).toString(36)+Math.abs(Math.floor(Math.random()*2147483648)^Date.now()).toString(36)),u}function ql(u,y){return u?y?decodeURI(u.replace(/%25/g,"%2525")):decodeURIComponent(u):""}function Gl(u,y,E){return typeof u=="string"?(u=encodeURI(u).replace(y,mj),E&&(u=u.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),u):null}function mj(u){return u=u.charCodeAt(0),"%"+(u>>4&15).toString(16)+(u&15).toString(16)}var b0=/[#\/\?@]/g,gj=/[#\?:]/g,yj=/[#\?]/g,vj=/[#\?@]/g,wj=/#/g;function Kl(u,y){this.h=this.g=null,this.i=u||null,this.j=!!y}function ro(u){u.g||(u.g=new Map,u.h=0,u.i&&pj(u.i,function(y,E){u.add(decodeURIComponent(y.replace(/\+/g," ")),E)}))}t=Kl.prototype,t.add=function(u,y){ro(this),this.i=null,u=la(this,u);let E=this.g.get(u);return E||this.g.set(u,E=[]),E.push(y),this.h+=1,this};function E0(u,y){ro(u),y=la(u,y),u.g.has(y)&&(u.i=null,u.h-=u.g.get(y).length,u.g.delete(y))}function T0(u,y){return ro(u),y=la(u,y),u.g.has(y)}t.forEach=function(u,y){ro(this),this.g.forEach(function(E,A){E.forEach(function(U){u.call(y,U,A,this)},this)},this)};function S0(u,y){ro(u);let E=[];if(typeof y=="string")T0(u,y)&&(E=E.concat(u.g.get(la(u,y))));else for(u=Array.from(u.g.values()),y=0;y<u.length;y++)E=E.concat(u[y]);return E}t.set=function(u,y){return ro(this),this.i=null,u=la(this,u),T0(this,u)&&(this.h-=this.g.get(u).length),this.g.set(u,[y]),this.h+=1,this},t.get=function(u,y){return u?(u=S0(this,u),u.length>0?String(u[0]):y):y};function I0(u,y,E){E0(u,y),E.length>0&&(u.i=null,u.g.set(la(u,y),m(E)),u.h+=E.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";const u=[],y=Array.from(this.g.keys());for(let A=0;A<y.length;A++){var E=y[A];const U=Bl(E);E=S0(this,E);for(let $=0;$<E.length;$++){let J=U;E[$]!==""&&(J+="="+Bl(E[$])),u.push(J)}}return this.i=u.join("&")};function C0(u){const y=new Kl;return y.i=u.i,u.g&&(y.g=new Map(u.g),y.h=u.h),y}function la(u,y){return y=String(y),u.j&&(y=y.toLowerCase()),y}function xj(u,y){y&&!u.j&&(ro(u),u.i=null,u.g.forEach(function(E,A){const U=A.toLowerCase();A!=U&&(E0(this,A),I0(this,U,E))},u)),u.j=y}function _j(u,y){const E=new ue;if(o.Image){const A=new Image;A.onload=h(Vs,E,"TestLoadImage: loaded",!0,y,A),A.onerror=h(Vs,E,"TestLoadImage: error",!1,y,A),A.onabort=h(Vs,E,"TestLoadImage: abort",!1,y,A),A.ontimeout=h(Vs,E,"TestLoadImage: timeout",!1,y,A),o.setTimeout(function(){A.ontimeout&&A.ontimeout()},1e4),A.src=u}else y(!1)}function bj(u,y){const E=new ue,A=new AbortController,U=setTimeout(()=>{A.abort(),Vs(E,"TestPingServer: timeout",!1,y)},1e4);fetch(u,{signal:A.signal}).then($=>{clearTimeout(U),$.ok?Vs(E,"TestPingServer: ok",!0,y):Vs(E,"TestPingServer: server error",!1,y)}).catch(()=>{clearTimeout(U),Vs(E,"TestPingServer: error",!1,y)})}function Vs(u,y,E,A,U){try{U&&(U.onload=null,U.onerror=null,U.onabort=null,U.ontimeout=null),A(E)}catch{}}function Ej(){this.g=new ia}function gm(u){this.i=u.Sb||null,this.h=u.ab||!1}f(gm,ld),gm.prototype.g=function(){return new fd(this.i,this.h)};function fd(u,y){tt.call(this),this.H=u,this.o=y,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.A=new Headers,this.h=null,this.F="GET",this.D="",this.g=!1,this.B=this.j=this.l=null,this.v=new AbortController}f(fd,tt),t=fd.prototype,t.open=function(u,y){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.F=u,this.D=y,this.readyState=1,Yl(this)},t.send=function(u){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");if(this.v.signal.aborted)throw this.abort(),Error("Request was aborted.");this.g=!0;const y={headers:this.A,method:this.F,credentials:this.m,cache:void 0,signal:this.v.signal};u&&(y.body=u),(this.H||o).fetch(new Request(this.D,y)).then(this.Pa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.A=new Headers,this.status=0,this.v.abort(),this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),this.readyState>=1&&this.g&&this.readyState!=4&&(this.g=!1,Ql(this)),this.readyState=0},t.Pa=function(u){if(this.g&&(this.l=u,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=u.headers,this.readyState=2,Yl(this)),this.g&&(this.readyState=3,Yl(this),this.g)))if(this.responseType==="arraybuffer")u.arrayBuffer().then(this.Na.bind(this),this.ga.bind(this));else if(typeof o.ReadableStream<"u"&&"body"in u){if(this.j=u.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.B=new TextDecoder;N0(this)}else u.text().then(this.Oa.bind(this),this.ga.bind(this))};function N0(u){u.j.read().then(u.Ma.bind(u)).catch(u.ga.bind(u))}t.Ma=function(u){if(this.g){if(this.o&&u.value)this.response.push(u.value);else if(!this.o){var y=u.value?u.value:new Uint8Array(0);(y=this.B.decode(y,{stream:!u.done}))&&(this.response=this.responseText+=y)}u.done?Ql(this):Yl(this),this.readyState==3&&N0(this)}},t.Oa=function(u){this.g&&(this.response=this.responseText=u,Ql(this))},t.Na=function(u){this.g&&(this.response=u,Ql(this))},t.ga=function(){this.g&&Ql(this)};function Ql(u){u.readyState=4,u.l=null,u.j=null,u.B=null,Yl(u)}t.setRequestHeader=function(u,y){this.A.append(u,y)},t.getResponseHeader=function(u){return this.h&&this.h.get(u.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";const u=[],y=this.h.entries();for(var E=y.next();!E.done;)E=E.value,u.push(E[0]+": "+E[1]),E=y.next();return u.join(`\r
`)};function Yl(u){u.onreadystatechange&&u.onreadystatechange.call(u)}Object.defineProperty(fd.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(u){this.m=u?"include":"same-origin"}});function R0(u){let y="";return V(u,function(E,A){y+=A,y+=":",y+=E,y+=`\r
`}),y}function ym(u,y,E){e:{for(A in E){var A=!1;break e}A=!0}A||(E=R0(E),typeof u=="string"?E!=null&&Bl(E):qe(u,y,E))}function at(u){tt.call(this),this.headers=new Map,this.L=u||null,this.h=!1,this.g=null,this.D="",this.o=0,this.l="",this.j=this.B=this.v=this.A=!1,this.m=null,this.F="",this.H=!1}f(at,tt);var Tj=/^https?$/i,Sj=["POST","PUT"];t=at.prototype,t.Fa=function(u){this.H=u},t.ea=function(u,y,E,A){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+u);y=y?y.toUpperCase():"GET",this.D=u,this.l="",this.o=0,this.A=!1,this.h=!0,this.g=this.L?this.L.g():Kn.g(),this.g.onreadystatechange=p(d(this.Ca,this));try{this.B=!0,this.g.open(y,String(u),!0),this.B=!1}catch($){P0(this,$);return}if(u=E||"",E=new Map(this.headers),A)if(Object.getPrototypeOf(A)===Object.prototype)for(var U in A)E.set(U,A[U]);else if(typeof A.keys=="function"&&typeof A.get=="function")for(const $ of A.keys())E.set($,A.get($));else throw Error("Unknown input type for opt_headers: "+String(A));A=Array.from(E.keys()).find($=>$.toLowerCase()=="content-type"),U=o.FormData&&u instanceof o.FormData,!(Array.prototype.indexOf.call(Sj,y,void 0)>=0)||A||U||E.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(const[$,J]of E)this.g.setRequestHeader($,J);this.F&&(this.g.responseType=this.F),"withCredentials"in this.g&&this.g.withCredentials!==this.H&&(this.g.withCredentials=this.H);try{this.m&&(clearTimeout(this.m),this.m=null),this.v=!0,this.g.send(u),this.v=!1}catch($){P0(this,$)}};function P0(u,y){u.h=!1,u.g&&(u.j=!0,u.g.abort(),u.j=!1),u.l=y,u.o=5,A0(u),pd(u)}function A0(u){u.A||(u.A=!0,It(u,"complete"),It(u,"error"))}t.abort=function(u){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.o=u||7,It(this,"complete"),It(this,"abort"),pd(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),pd(this,!0)),at.Z.N.call(this)},t.Ca=function(){this.u||(this.B||this.v||this.j?k0(this):this.Xa())},t.Xa=function(){k0(this)};function k0(u){if(u.h&&typeof i<"u"){if(u.v&&Fs(u)==4)setTimeout(u.Ca.bind(u),0);else if(It(u,"readystatechange"),Fs(u)==4){u.h=!1;try{const $=u.ca();e:switch($){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var y=!0;break e;default:y=!1}var E;if(!(E=y)){var A;if(A=$===0){let J=String(u.D).match(_0)[1]||null;!J&&o.self&&o.self.location&&(J=o.self.location.protocol.slice(0,-1)),A=!Tj.test(J?J.toLowerCase():"")}E=A}if(E)It(u,"complete"),It(u,"success");else{u.o=6;try{var U=Fs(u)>2?u.g.statusText:""}catch{U=""}u.l=U+" ["+u.ca()+"]",A0(u)}}finally{pd(u)}}}}function pd(u,y){if(u.g){u.m&&(clearTimeout(u.m),u.m=null);const E=u.g;u.g=null,y||It(u,"ready");try{E.onreadystatechange=null}catch{}}}t.isActive=function(){return!!this.g};function Fs(u){return u.g?u.g.readyState:0}t.ca=function(){try{return Fs(this)>2?this.g.status:-1}catch{return-1}},t.la=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.La=function(u){if(this.g){var y=this.g.responseText;return u&&y.indexOf(u)==0&&(y=y.substring(u.length)),am(y)}};function j0(u){try{if(!u.g)return null;if("response"in u.g)return u.g.response;switch(u.F){case"":case"text":return u.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in u.g)return u.g.mozResponseArrayBuffer}return null}catch{return null}}function Ij(u){const y={};u=(u.g&&Fs(u)>=2&&u.g.getAllResponseHeaders()||"").split(`\r
`);for(let A=0;A<u.length;A++){if(R(u[A]))continue;var E=uj(u[A]);const U=E[0];if(E=E[1],typeof E!="string")continue;E=E.trim();const $=y[U]||[];y[U]=$,$.push(E)}L(y,function(A){return A.join(", ")})}t.ya=function(){return this.o},t.Ha=function(){return typeof this.l=="string"?this.l:String(this.l)};function Xl(u,y,E){return E&&E.internalChannelParams&&E.internalChannelParams[u]||y}function D0(u){this.za=0,this.i=[],this.j=new ue,this.ba=this.na=this.J=this.W=this.g=this.wa=this.G=this.H=this.u=this.U=this.o=null,this.Ya=this.V=0,this.Sa=Xl("failFast",!1,u),this.F=this.C=this.v=this.m=this.l=null,this.X=!0,this.xa=this.K=-1,this.Y=this.A=this.D=0,this.Qa=Xl("baseRetryDelayMs",5e3,u),this.Za=Xl("retryDelaySeedMs",1e4,u),this.Ta=Xl("forwardChannelMaxRetries",2,u),this.va=Xl("forwardChannelRequestTimeoutMs",2e4,u),this.ma=u&&u.xmlHttpFactory||void 0,this.Ua=u&&u.Rb||void 0,this.Aa=u&&u.useFetchStreams||!1,this.O=void 0,this.L=u&&u.supportsCrossDomainXhr||!1,this.M="",this.h=new g0(u&&u.concurrentRequestLimit),this.Ba=new Ej,this.S=u&&u.fastHandshake||!1,this.R=u&&u.encodeInitMessageHeaders||!1,this.S&&this.R&&(this.R=!1),this.Ra=u&&u.Pb||!1,u&&u.ua&&this.j.ua(),u&&u.forceLongPolling&&(this.X=!1),this.aa=!this.S&&this.X&&u&&u.detectBufferingProxy||!1,this.ia=void 0,u&&u.longPollingTimeout&&u.longPollingTimeout>0&&(this.ia=u.longPollingTimeout),this.ta=void 0,this.T=0,this.P=!1,this.ja=this.B=null}t=D0.prototype,t.ka=8,t.I=1,t.connect=function(u,y,E,A){_t(0),this.W=u,this.H=y||{},E&&A!==void 0&&(this.H.OSID=E,this.H.OAID=A),this.F=this.X,this.J=z0(this,null,this.W),gd(this)};function vm(u){if(O0(u),u.I==3){var y=u.V++,E=Ir(u.J);if(qe(E,"SID",u.M),qe(E,"RID",y),qe(E,"TYPE","terminate"),Jl(u,E),y=new Ms(u,u.j,y),y.M=2,y.A=hd(Ir(E)),E=!1,o.navigator&&o.navigator.sendBeacon)try{E=o.navigator.sendBeacon(y.A.toString(),"")}catch{}!E&&o.Image&&(new Image().src=y.A,E=!0),E||(y.g=W0(y.j,null),y.g.ea(y.A)),y.F=Date.now(),dd(y)}B0(u)}function md(u){u.g&&(xm(u),u.g.cancel(),u.g=null)}function O0(u){md(u),u.v&&(o.clearTimeout(u.v),u.v=null),yd(u),u.h.cancel(),u.m&&(typeof u.m=="number"&&o.clearTimeout(u.m),u.m=null)}function gd(u){if(!y0(u.h)&&!u.m){u.m=!0;var y=u.Ea;O||I(),D||(O(),D=!0),C.add(y,u),u.D=0}}function Cj(u,y){return v0(u.h)>=u.h.j-(u.m?1:0)?!1:u.m?(u.i=y.G.concat(u.i),!0):u.I==1||u.I==2||u.D>=(u.Sa?0:u.Ta)?!1:(u.m=to(d(u.Ea,u,y),$0(u,u.D)),u.D++,!0)}t.Ea=function(u){if(this.m)if(this.m=null,this.I==1){if(!u){this.V=Math.floor(Math.random()*1e5),u=this.V++;const U=new Ms(this,this.j,u);let $=this.o;if(this.U&&($?($=Z($),oe($,this.U)):$=this.U),this.u!==null||this.R||(U.J=$,$=null),this.S)e:{for(var y=0,E=0;E<this.i.length;E++){t:{var A=this.i[E];if("__data__"in A.map&&(A=A.map.__data__,typeof A=="string")){A=A.length;break t}A=void 0}if(A===void 0)break;if(y+=A,y>4096){y=E;break e}if(y===4096||E===this.i.length-1){y=E+1;break e}}y=1e3}else y=1e3;y=L0(this,U,y),E=Ir(this.J),qe(E,"RID",u),qe(E,"CVER",22),this.G&&qe(E,"X-HTTP-Session-Id",this.G),Jl(this,E),$&&(this.R?y="headers="+Bl(R0($))+"&"+y:this.u&&ym(E,this.u,$)),pm(this.h,U),this.Ra&&qe(E,"TYPE","init"),this.S?(qe(E,"$req",y),qe(E,"SID","null"),U.U=!0,um(U,E,null)):um(U,E,y),this.I=2}}else this.I==3&&(u?M0(this,u):this.i.length==0||y0(this.h)||M0(this))};function M0(u,y){var E;y?E=y.l:E=u.V++;const A=Ir(u.J);qe(A,"SID",u.M),qe(A,"RID",E),qe(A,"AID",u.K),Jl(u,A),u.u&&u.o&&ym(A,u.u,u.o),E=new Ms(u,u.j,E,u.D+1),u.u===null&&(E.J=u.o),y&&(u.i=y.G.concat(u.i)),y=L0(u,E,1e3),E.H=Math.round(u.va*.5)+Math.round(u.va*.5*Math.random()),pm(u.h,E),um(E,A,y)}function Jl(u,y){u.H&&V(u.H,function(E,A){qe(y,A,E)}),u.l&&V({},function(E,A){qe(y,A,E)})}function L0(u,y,E){E=Math.min(u.i.length,E);const A=u.l?d(u.l.Ka,u.l,u):null;e:{var U=u.i;let be=-1;for(;;){const bt=["count="+E];be==-1?E>0?(be=U[0].g,bt.push("ofs="+be)):be=0:bt.push("ofs="+be);let $e=!0;for(let Nt=0;Nt<E;Nt++){var $=U[Nt].g;const Cr=U[Nt].map;if($-=be,$<0)be=Math.max(0,U[Nt].g-100),$e=!1;else try{$="req"+$+"_"||"";try{var J=Cr instanceof Map?Cr:Object.entries(Cr);for(const[io,Us]of J){let $s=Us;a(Us)&&($s=Fl(Us)),bt.push($+io+"="+encodeURIComponent($s))}}catch(io){throw bt.push($+"type="+encodeURIComponent("_badmap")),io}}catch{A&&A(Cr)}}if($e){J=bt.join("&");break e}}J=void 0}return u=u.i.splice(0,E),y.G=u,J}function V0(u){if(!u.g&&!u.v){u.Y=1;var y=u.Da;O||I(),D||(O(),D=!0),C.add(y,u),u.A=0}}function wm(u){return u.g||u.v||u.A>=3?!1:(u.Y++,u.v=to(d(u.Da,u),$0(u,u.A)),u.A++,!0)}t.Da=function(){if(this.v=null,F0(this),this.aa&&!(this.P||this.g==null||this.T<=0)){var u=4*this.T;this.j.info("BP detection timer enabled: "+u),this.B=to(d(this.Wa,this),u)}},t.Wa=function(){this.B&&(this.B=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.P=!0,_t(10),md(this),F0(this))};function xm(u){u.B!=null&&(o.clearTimeout(u.B),u.B=null)}function F0(u){u.g=new Ms(u,u.j,"rpc",u.Y),u.u===null&&(u.g.J=u.o),u.g.P=0;var y=Ir(u.na);qe(y,"RID","rpc"),qe(y,"SID",u.M),qe(y,"AID",u.K),qe(y,"CI",u.F?"0":"1"),!u.F&&u.ia&&qe(y,"TO",u.ia),qe(y,"TYPE","xmlhttp"),Jl(u,y),u.u&&u.o&&ym(y,u.u,u.o),u.O&&(u.g.H=u.O);var E=u.g;u=u.ba,E.M=1,E.A=hd(Ir(y)),E.u=null,E.R=!0,f0(E,u)}t.Va=function(){this.C!=null&&(this.C=null,md(this),wm(this),_t(19))};function yd(u){u.C!=null&&(o.clearTimeout(u.C),u.C=null)}function U0(u,y){var E=null;if(u.g==y){yd(u),xm(u),u.g=null;var A=2}else if(fm(u.h,y))E=y.G,w0(u.h,y),A=1;else return;if(u.I!=0){if(y.o)if(A==1){E=y.u?y.u.length:0,y=Date.now()-y.F;var U=u.D;A=aa(),It(A,new Gn(A,E)),gd(u)}else V0(u);else if(U=y.m,U==3||U==0&&y.X>0||!(A==1&&Cj(u,y)||A==2&&wm(u)))switch(E&&E.length>0&&(y=u.h,y.i=y.i.concat(E)),U){case 1:so(u,5);break;case 4:so(u,10);break;case 3:so(u,6);break;default:so(u,2)}}}function $0(u,y){let E=u.Qa+Math.floor(Math.random()*u.Za);return u.isActive()||(E*=2),E*y}function so(u,y){if(u.j.info("Error code "+y),y==2){var E=d(u.bb,u),A=u.Ua;const U=!A;A=new Ls(A||"//www.google.com/images/cleardot.gif"),o.location&&o.location.protocol=="http"||Wl(A,"https"),hd(A),U?_j(A.toString(),E):bj(A.toString(),E)}else _t(2);u.I=0,u.l&&u.l.pa(y),B0(u),O0(u)}t.bb=function(u){u?(this.j.info("Successfully pinged google.com"),_t(2)):(this.j.info("Failed to ping google.com"),_t(1))};function B0(u){if(u.I=0,u.ja=[],u.l){const y=x0(u.h);(y.length!=0||u.i.length!=0)&&(T(u.ja,y),T(u.ja,u.i),u.h.i.length=0,m(u.i),u.i.length=0),u.l.oa()}}function z0(u,y,E){var A=E instanceof Ls?Ir(E):new Ls(E);if(A.g!="")y&&(A.g=y+"."+A.g),Hl(A,A.u);else{var U=o.location;A=U.protocol,y=y?y+"."+U.hostname:U.hostname,U=+U.port;const $=new Ls(null);A&&Wl($,A),y&&($.g=y),U&&Hl($,U),E&&($.h=E),A=$}return E=u.G,y=u.wa,E&&y&&qe(A,E,y),qe(A,"VER",u.ka),Jl(u,A),A}function W0(u,y,E){if(y&&!u.L)throw Error("Can't create secondary domain capable XhrIo object.");return y=u.Aa&&!u.ma?new at(new gm({ab:E})):new at(u.ma),y.Fa(u.L),y}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function H0(){}t=H0.prototype,t.ra=function(){},t.qa=function(){},t.pa=function(){},t.oa=function(){},t.isActive=function(){return!0},t.Ka=function(){};function vd(){}vd.prototype.g=function(u,y){return new wn(u,y)};function wn(u,y){tt.call(this),this.g=new D0(y),this.l=u,this.h=y&&y.messageUrlParams||null,u=y&&y.messageHeaders||null,y&&y.clientProtocolHeaderRequired&&(u?u["X-Client-Protocol"]="webchannel":u={"X-Client-Protocol":"webchannel"}),this.g.o=u,u=y&&y.initMessageHeaders||null,y&&y.messageContentType&&(u?u["X-WebChannel-Content-Type"]=y.messageContentType:u={"X-WebChannel-Content-Type":y.messageContentType}),y&&y.sa&&(u?u["X-WebChannel-Client-Profile"]=y.sa:u={"X-WebChannel-Client-Profile":y.sa}),this.g.U=u,(u=y&&y.Qb)&&!R(u)&&(this.g.u=u),this.A=y&&y.supportsCrossDomainXhr||!1,this.v=y&&y.sendRawJson||!1,(y=y&&y.httpSessionIdParam)&&!R(y)&&(this.g.G=y,u=this.h,u!==null&&y in u&&(u=this.h,y in u&&delete u[y])),this.j=new ca(this)}f(wn,tt),wn.prototype.m=function(){this.g.l=this.j,this.A&&(this.g.L=!0),this.g.connect(this.l,this.h||void 0)},wn.prototype.close=function(){vm(this.g)},wn.prototype.o=function(u){var y=this.g;if(typeof u=="string"){var E={};E.__data__=u,u=E}else this.v&&(E={},E.__data__=Fl(u),u=E);y.i.push(new fj(y.Ya++,u)),y.I==3&&gd(y)},wn.prototype.N=function(){this.g.l=null,delete this.j,vm(this.g),delete this.g,wn.Z.N.call(this)};function q0(u){Tr.call(this),u.__headers__&&(this.headers=u.__headers__,this.statusCode=u.__status__,delete u.__headers__,delete u.__status__);var y=u.__sm__;if(y){e:{for(const E in y){u=E;break e}u=void 0}(this.i=u)&&(u=this.i,y=y!==null&&u in y?y[u]:void 0),this.data=y}else this.data=u}f(q0,Tr);function G0(){oa.call(this),this.status=1}f(G0,oa);function ca(u){this.g=u}f(ca,H0),ca.prototype.ra=function(){It(this.g,"a")},ca.prototype.qa=function(u){It(this.g,new q0(u))},ca.prototype.pa=function(u){It(this.g,new G0)},ca.prototype.oa=function(){It(this.g,"b")},vd.prototype.createWebChannel=vd.prototype.g,wn.prototype.send=wn.prototype.o,wn.prototype.open=wn.prototype.m,wn.prototype.close=wn.prototype.close,_R=function(){return new vd},xR=function(){return aa()},wR=an,Xy={jb:0,mb:1,nb:2,Hb:3,Mb:4,Jb:5,Kb:6,Ib:7,Gb:8,Lb:9,PROXY:10,NOPROXY:11,Eb:12,Ab:13,Bb:14,zb:15,Cb:16,Db:17,fb:18,eb:19,gb:20},An.NO_ERROR=0,An.TIMEOUT=8,An.HTTP_ERROR=6,bh=An,ln.COMPLETE="complete",vR=ln,Ul.EventType=rs,rs.OPEN="a",rs.CLOSE="b",rs.ERROR="c",rs.MESSAGE="d",tt.prototype.listen=tt.prototype.J,_c=Ul,at.prototype.listenOnce=at.prototype.K,at.prototype.getLastError=at.prototype.Ha,at.prototype.getLastErrorCode=at.prototype.ya,at.prototype.getStatus=at.prototype.ca,at.prototype.getResponseJson=at.prototype.La,at.prototype.getResponseText=at.prototype.la,at.prototype.send=at.prototype.ea,at.prototype.setWithCredentials=at.prototype.Fa,yR=at}).apply(typeof Wd<"u"?Wd:typeof self<"u"?self:typeof window<"u"?window:{});/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ht{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}}Ht.UNAUTHENTICATED=new Ht(null),Ht.GOOGLE_CREDENTIALS=new Ht("google-credentials-uid"),Ht.FIRST_PARTY=new Ht("first-party-uid"),Ht.MOCK_USER=new Ht("mock-user");/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let jl="12.9.0";function hB(t){jl=t}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Uo=new yp("@firebase/firestore");function ga(){return Uo.logLevel}function re(t,...e){if(Uo.logLevel<=Ce.DEBUG){const n=e.map(cx);Uo.debug(`Firestore (${jl}): ${t}`,...n)}}function Ns(t,...e){if(Uo.logLevel<=Ce.ERROR){const n=e.map(cx);Uo.error(`Firestore (${jl}): ${t}`,...n)}}function $o(t,...e){if(Uo.logLevel<=Ce.WARN){const n=e.map(cx);Uo.warn(`Firestore (${jl}): ${t}`,...n)}}function cx(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function he(t,e,n){let r="Unexpected state";typeof e=="string"?r=e:n=e,bR(t,r,n)}function bR(t,e,n){let r=`FIRESTORE (${jl}) INTERNAL ASSERTION FAILED: ${e} (ID: ${t.toString(16)})`;if(n!==void 0)try{r+=" CONTEXT: "+JSON.stringify(n)}catch{r+=" CONTEXT: "+n}throw Ns(r),new Error(r)}function Ve(t,e,n,r){let s="Unexpected state";typeof n=="string"?s=n:r=n,t||bR(e,s,r)}function ge(t,e){return t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const z={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"};class te extends wr{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ii{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ER{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}}class fB{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Ht.UNAUTHENTICATED))}shutdown(){}}class pB{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}}class mB{constructor(e){this.t=e,this.currentUser=Ht.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Ve(this.o===void 0,42304);let r=this.i;const s=c=>this.i!==r?(r=this.i,n(c)):Promise.resolve();let i=new Ii;this.o=()=>{this.i++,this.currentUser=this.u(),i.resolve(),i=new Ii,e.enqueueRetryable(()=>s(this.currentUser))};const o=()=>{const c=i;e.enqueueRetryable(async()=>{await c.promise,await s(this.currentUser)})},a=c=>{re("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=c,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(c=>a(c)),setTimeout(()=>{if(!this.auth){const c=this.t.getImmediate({optional:!0});c?a(c):(re("FirebaseAuthCredentialsProvider","Auth not yet detected"),i.resolve(),i=new Ii)}},0),o()}getToken(){const e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(re("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Ve(typeof r.accessToken=="string",31837,{l:r}),new ER(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){const e=this.auth&&this.auth.getUid();return Ve(e===null||typeof e=="string",2055,{h:e}),new Ht(e)}}class gB{constructor(e,n,r){this.P=e,this.T=n,this.I=r,this.type="FirstParty",this.user=Ht.FIRST_PARTY,this.R=new Map}A(){return this.I?this.I():null}get headers(){this.R.set("X-Goog-AuthUser",this.P);const e=this.A();return e&&this.R.set("Authorization",e),this.T&&this.R.set("X-Goog-Iam-Authorization-Token",this.T),this.R}}class yB{constructor(e,n,r){this.P=e,this.T=n,this.I=r}getToken(){return Promise.resolve(new gB(this.P,this.T,this.I))}start(e,n){e.enqueueRetryable(()=>n(Ht.FIRST_PARTY))}shutdown(){}invalidateToken(){}}class Ib{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}}class vB{constructor(e,n){this.V=n,this.forceRefresh=!1,this.appCheck=null,this.m=null,this.p=null,Mn(e)&&e.settings.appCheckToken&&(this.p=e.settings.appCheckToken)}start(e,n){Ve(this.o===void 0,3512);const r=i=>{i.error!=null&&re("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${i.error.message}`);const o=i.token!==this.m;return this.m=i.token,re("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(i.token):Promise.resolve()};this.o=i=>{e.enqueueRetryable(()=>r(i))};const s=i=>{re("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=i,this.o&&this.appCheck.addTokenListener(this.o)};this.V.onInit(i=>s(i)),setTimeout(()=>{if(!this.appCheck){const i=this.V.getImmediate({optional:!0});i?s(i):re("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){if(this.p)return Promise.resolve(new Ib(this.p));const e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Ve(typeof n.token=="string",44558,{tokenResult:n}),this.m=n.token,new Ib(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wB(t){const e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ux{static newId(){const e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=62*Math.floor(4.129032258064516);let r="";for(;r.length<20;){const s=wB(40);for(let i=0;i<s.length;++i)r.length<20&&s[i]<n&&(r+=e.charAt(s[i]%62))}return r}}function Ne(t,e){return t<e?-1:t>e?1:0}function Jy(t,e){const n=Math.min(t.length,e.length);for(let r=0;r<n;r++){const s=t.charAt(r),i=e.charAt(r);if(s!==i)return pg(s)===pg(i)?Ne(s,i):pg(s)?1:-1}return Ne(t.length,e.length)}const xB=55296,_B=57343;function pg(t){const e=t.charCodeAt(0);return e>=xB&&e<=_B}function fl(t,e,n){return t.length===e.length&&t.every((r,s)=>n(r,e[s]))}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Cb="__name__";class Ar{constructor(e,n,r){n===void 0?n=0:n>e.length&&he(637,{offset:n,range:e.length}),r===void 0?r=e.length-n:r>e.length-n&&he(1746,{length:r,range:e.length-n}),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return Ar.comparator(this,e)===0}child(e){const n=this.segments.slice(this.offset,this.limit());return e instanceof Ar?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){const r=Math.min(e.length,n.length);for(let s=0;s<r;s++){const i=Ar.compareSegments(e.get(s),n.get(s));if(i!==0)return i}return Ne(e.length,n.length)}static compareSegments(e,n){const r=Ar.isNumericId(e),s=Ar.isNumericId(n);return r&&!s?-1:!r&&s?1:r&&s?Ar.extractNumericId(e).compare(Ar.extractNumericId(n)):Jy(e,n)}static isNumericId(e){return e.startsWith("__id")&&e.endsWith("__")}static extractNumericId(e){return Si.fromString(e.substring(4,e.length-2))}}class We extends Ar{construct(e,n,r){return new We(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){const n=[];for(const r of e){if(r.indexOf("//")>=0)throw new te(z.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(s=>s.length>0))}return new We(n)}static emptyPath(){return new We([])}}const bB=/^[_a-zA-Z][_a-zA-Z0-9]*$/;class Mt extends Ar{construct(e,n,r){return new Mt(e,n,r)}static isValidIdentifier(e){return bB.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),Mt.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)===Cb}static keyField(){return new Mt([Cb])}static fromServerFormat(e){const n=[];let r="",s=0;const i=()=>{if(r.length===0)throw new te(z.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""};let o=!1;for(;s<e.length;){const a=e[s];if(a==="\\"){if(s+1===e.length)throw new te(z.INVALID_ARGUMENT,"Path has trailing escape character: "+e);const c=e[s+1];if(c!=="\\"&&c!=="."&&c!=="`")throw new te(z.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=c,s+=2}else a==="`"?(o=!o,s++):a!=="."||o?(r+=a,s++):(i(),s++)}if(i(),o)throw new te(z.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new Mt(n)}static emptyPath(){return new Mt([])}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class le{constructor(e){this.path=e}static fromPath(e){return new le(We.fromString(e))}static fromName(e){return new le(We.fromString(e).popFirst(5))}static empty(){return new le(We.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&We.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return We.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new le(new We(e.slice()))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function TR(t,e,n){if(!n)throw new te(z.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function EB(t,e,n,r){if(e===!0&&r===!0)throw new te(z.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function Nb(t){if(!le.isDocumentKey(t))throw new te(z.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function Rb(t){if(le.isDocumentKey(t))throw new te(z.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function SR(t){return typeof t=="object"&&t!==null&&(Object.getPrototypeOf(t)===Object.prototype||Object.getPrototypeOf(t)===null)}function Ep(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{const e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":he(12329,{type:typeof t})}function zr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new te(z.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{const n=Ep(t);throw new te(z.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}/**
 * @license
 * Copyright 2025 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function wt(t,e){const n={typeString:t};return e&&(n.value=e),n}function Xu(t,e){if(!SR(t))throw new te(z.INVALID_ARGUMENT,"JSON must be an object");let n;for(const r in e)if(e[r]){const s=e[r].typeString,i="value"in e[r]?{value:e[r].value}:void 0;if(!(r in t)){n=`JSON missing required field: '${r}'`;break}const o=t[r];if(s&&typeof o!==s){n=`JSON field '${r}' must be a ${s}.`;break}if(i!==void 0&&o!==i.value){n=`Expected '${r}' field to equal '${i.value}'`;break}}if(n)throw new te(z.INVALID_ARGUMENT,n);return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Pb=-62135596800,Ab=1e6;class Qe{static now(){return Qe.fromMillis(Date.now())}static fromDate(e){return Qe.fromMillis(e.getTime())}static fromMillis(e){const n=Math.floor(e/1e3),r=Math.floor((e-1e3*n)*Ab);return new Qe(n,r)}constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new te(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new te(z.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<Pb)throw new te(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new te(z.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/Ab}_compareTo(e){return this.seconds===e.seconds?Ne(this.nanoseconds,e.nanoseconds):Ne(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{type:Qe._jsonSchemaVersion,seconds:this.seconds,nanoseconds:this.nanoseconds}}static fromJSON(e){if(Xu(e,Qe._jsonSchema))return new Qe(e.seconds,e.nanoseconds)}valueOf(){const e=this.seconds-Pb;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}}Qe._jsonSchemaVersion="firestore/timestamp/1.0",Qe._jsonSchema={type:wt("string",Qe._jsonSchemaVersion),seconds:wt("number"),nanoseconds:wt("number")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fe{static fromTimestamp(e){return new fe(e)}static min(){return new fe(new Qe(0,0))}static max(){return new fe(new Qe(253402300799,999999999))}constructor(e){this.timestamp=e}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}}/**
 * @license
 * Copyright 2021 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const xu=-1;function TB(t,e){const n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,s=fe.fromTimestamp(r===1e9?new Qe(n+1,0):new Qe(n,r));return new Oi(s,le.empty(),e)}function SB(t){return new Oi(t.readTime,t.key,xu)}class Oi{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new Oi(fe.min(),le.empty(),xu)}static max(){return new Oi(fe.max(),le.empty(),xu)}}function IB(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=le.comparator(t.documentKey,e.documentKey),n!==0?n:Ne(t.largestBatchId,e.largestBatchId))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const CB="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.";class NB{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */async function Dl(t){if(t.code!==z.FAILED_PRECONDITION||t.message!==CB)throw t;re("LocalStore","Unexpectedly lost primary lease")}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class W{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&he(59440),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new W((r,s)=>{this.nextCallback=i=>{this.wrapSuccess(e,i).next(r,s)},this.catchCallback=i=>{this.wrapFailure(n,i).next(r,s)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{const n=e();return n instanceof W?n:W.resolve(n)}catch(n){return W.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):W.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):W.reject(n)}static resolve(e){return new W((n,r)=>{n(e)})}static reject(e){return new W((n,r)=>{r(e)})}static waitFor(e){return new W((n,r)=>{let s=0,i=0,o=!1;e.forEach(a=>{++s,a.next(()=>{++i,o&&i===s&&n()},c=>r(c))}),o=!0,i===s&&n()})}static or(e){let n=W.resolve(!1);for(const r of e)n=n.next(s=>s?W.resolve(s):r());return n}static forEach(e,n){const r=[];return e.forEach((s,i)=>{r.push(n.call(this,s,i))}),this.waitFor(r)}static mapArray(e,n){return new W((r,s)=>{const i=e.length,o=new Array(i);let a=0;for(let c=0;c<i;c++){const d=c;n(e[d]).next(h=>{o[d]=h,++a,a===i&&r(o)},h=>s(h))}})}static doWhile(e,n){return new W((r,s)=>{const i=()=>{e()===!0?n().next(()=>{i()},s):r()};i()})}}function RB(t){const e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Ol(t){return t.name==="IndexedDbTransactionError"}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tp{constructor(e,n){this.previousValue=e,n&&(n.sequenceNumberHandler=r=>this.ae(r),this.ue=r=>n.writeSequenceNumber(r))}ae(e){return this.previousValue=Math.max(e,this.previousValue),this.previousValue}next(){const e=++this.previousValue;return this.ue&&this.ue(e),e}}Tp.ce=-1;/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const dx=-1;function Sp(t){return t==null}function _f(t){return t===0&&1/t==-1/0}function PB(t){return typeof t=="number"&&Number.isInteger(t)&&!_f(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const IR="";function AB(t){let e="";for(let n=0;n<t.length;n++)e.length>0&&(e=kb(e)),e=kB(t.get(n),e);return kb(e)}function kB(t,e){let n=e;const r=t.length;for(let s=0;s<r;s++){const i=t.charAt(s);switch(i){case"\0":n+="";break;case IR:n+="";break;default:n+=i}}return n}function kb(t){return t+IR+""}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function jb(t){let e=0;for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function Qi(t,e){for(const n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function CR(t){for(const e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ot{constructor(e,n){this.comparator=e,this.root=n||Ot.EMPTY}insert(e,n){return new ot(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Ot.BLACK,null,null))}remove(e){return new ot(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Ot.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){const r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){const s=this.comparator(e,r.key);if(s===0)return n+r.left.size;s<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){const e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Hd(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Hd(this.root,e,this.comparator,!1)}getReverseIterator(){return new Hd(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Hd(this.root,e,this.comparator,!0)}}class Hd{constructor(e,n,r,s){this.isReverse=s,this.nodeStack=[];let i=1;for(;!e.isEmpty();)if(i=n?r(e.key,n):1,n&&s&&(i*=-1),i<0)e=this.isReverse?e.left:e.right;else{if(i===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop();const n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;const e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}}class Ot{constructor(e,n,r,s,i){this.key=e,this.value=n,this.color=r??Ot.RED,this.left=s??Ot.EMPTY,this.right=i??Ot.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,s,i){return new Ot(e??this.key,n??this.value,r??this.color,s??this.left,i??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let s=this;const i=r(e,s.key);return s=i<0?s.copy(null,null,null,s.left.insert(e,n,r),null):i===0?s.copy(null,n,null,null,null):s.copy(null,null,null,null,s.right.insert(e,n,r)),s.fixUp()}removeMin(){if(this.left.isEmpty())return Ot.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,s=this;if(n(e,s.key)<0)s.left.isEmpty()||s.left.isRed()||s.left.left.isRed()||(s=s.moveRedLeft()),s=s.copy(null,null,null,s.left.remove(e,n),null);else{if(s.left.isRed()&&(s=s.rotateRight()),s.right.isEmpty()||s.right.isRed()||s.right.left.isRed()||(s=s.moveRedRight()),n(e,s.key)===0){if(s.right.isEmpty())return Ot.EMPTY;r=s.right.min(),s=s.copy(r.key,r.value,null,null,s.right.removeMin())}s=s.copy(null,null,null,null,s.right.remove(e,n))}return s.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){const e=this.copy(null,null,Ot.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){const e=this.copy(null,null,Ot.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){const e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){const e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed())throw he(43730,{key:this.key,value:this.value});if(this.right.isRed())throw he(14113,{key:this.key,value:this.value});const e=this.left.check();if(e!==this.right.check())throw he(27949);return e+(this.isRed()?0:1)}}Ot.EMPTY=null,Ot.RED=!0,Ot.BLACK=!1;Ot.EMPTY=new class{constructor(){this.size=0}get key(){throw he(57766)}get value(){throw he(16141)}get color(){throw he(16727)}get left(){throw he(29726)}get right(){throw he(36894)}copy(e,n,r,s,i){return this}insert(e,n,r){return new Ot(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class St{constructor(e){this.comparator=e,this.data=new ot(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){const r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){const s=r.getNext();if(this.comparator(s.key,e[1])>=0)return;n(s.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){const n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new Db(this.data.getIterator())}getIteratorFrom(e){return new Db(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof St)||this.size!==e.size)return!1;const n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(this.comparator(s,i)!==0)return!1}return!0}toArray(){const e=[];return this.forEach(n=>{e.push(n)}),e}toString(){const e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){const n=new St(this.comparator);return n.data=e,n}}class Db{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class En{constructor(e){this.fields=e,e.sort(Mt.comparator)}static empty(){return new En([])}unionWith(e){let n=new St(Mt.comparator);for(const r of this.fields)n=n.add(r);for(const r of e)n=n.add(r);return new En(n.toArray())}covers(e){for(const n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return fl(this.fields,e.fields,(n,r)=>n.isEqual(r))}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NR extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ft{constructor(e){this.binaryString=e}static fromBase64String(e){const n=function(s){try{return atob(s)}catch(i){throw typeof DOMException<"u"&&i instanceof DOMException?new NR("Invalid base64 string: "+i):i}}(e);return new Ft(n)}static fromUint8Array(e){const n=function(s){let i="";for(let o=0;o<s.length;++o)i+=String.fromCharCode(s[o]);return i}(e);return new Ft(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){const r=new Uint8Array(n.length);for(let s=0;s<n.length;s++)r[s]=n.charCodeAt(s);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Ne(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}}Ft.EMPTY_BYTE_STRING=new Ft("");const jB=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Mi(t){if(Ve(!!t,39018),typeof t=="string"){let e=0;const n=jB.exec(t);if(Ve(!!n,46558,{timestamp:t}),n[1]){let s=n[1];s=(s+"000000000").substr(0,9),e=Number(s)}const r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:ft(t.seconds),nanos:ft(t.nanos)}}function ft(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function Li(t){return typeof t=="string"?Ft.fromBase64String(t):Ft.fromUint8Array(t)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const RR="server_timestamp",PR="__type__",AR="__previous_value__",kR="__local_write_time__";function hx(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[PR])==null?void 0:r.stringValue)===RR}function Ip(t){const e=t.mapValue.fields[AR];return hx(e)?Ip(e):e}function _u(t){const e=Mi(t.mapValue.fields[kR].timestampValue);return new Qe(e.seconds,e.nanos)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class DB{constructor(e,n,r,s,i,o,a,c,d,h,f){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=s,this.ssl=i,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=c,this.useFetchStreams=d,this.isUsingEmulator=h,this.apiKey=f}}const bf="(default)";class bu{constructor(e,n){this.projectId=e,this.database=n||bf}static empty(){return new bu("","")}get isDefaultDatabase(){return this.database===bf}isEqual(e){return e instanceof bu&&e.projectId===this.projectId&&e.database===this.database}}function OB(t,e){if(!Object.prototype.hasOwnProperty.apply(t.options,["projectId"]))throw new te(z.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new bu(t.options.projectId,e)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const jR="__type__",DR="__max__",qd={mapValue:{fields:{__type__:{stringValue:DR}}}},OR="__vector__",Ef="value";function Vi(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?hx(t)?4:LB(t)?9007199254740991:MB(t)?10:11:he(28295,{value:t})}function Yr(t,e){if(t===e)return!0;const n=Vi(t);if(n!==Vi(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return _u(t).isEqual(_u(e));case 3:return function(s,i){if(typeof s.timestampValue=="string"&&typeof i.timestampValue=="string"&&s.timestampValue.length===i.timestampValue.length)return s.timestampValue===i.timestampValue;const o=Mi(s.timestampValue),a=Mi(i.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(s,i){return Li(s.bytesValue).isEqual(Li(i.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(s,i){return ft(s.geoPointValue.latitude)===ft(i.geoPointValue.latitude)&&ft(s.geoPointValue.longitude)===ft(i.geoPointValue.longitude)}(t,e);case 2:return function(s,i){if("integerValue"in s&&"integerValue"in i)return ft(s.integerValue)===ft(i.integerValue);if("doubleValue"in s&&"doubleValue"in i){const o=ft(s.doubleValue),a=ft(i.doubleValue);return o===a?_f(o)===_f(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return fl(t.arrayValue.values||[],e.arrayValue.values||[],Yr);case 10:case 11:return function(s,i){const o=s.mapValue.fields||{},a=i.mapValue.fields||{};if(jb(o)!==jb(a))return!1;for(const c in o)if(o.hasOwnProperty(c)&&(a[c]===void 0||!Yr(o[c],a[c])))return!1;return!0}(t,e);default:return he(52216,{left:t})}}function Eu(t,e){return(t.values||[]).find(n=>Yr(n,e))!==void 0}function pl(t,e){if(t===e)return 0;const n=Vi(t),r=Vi(e);if(n!==r)return Ne(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Ne(t.booleanValue,e.booleanValue);case 2:return function(i,o){const a=ft(i.integerValue||i.doubleValue),c=ft(o.integerValue||o.doubleValue);return a<c?-1:a>c?1:a===c?0:isNaN(a)?isNaN(c)?0:-1:1}(t,e);case 3:return Ob(t.timestampValue,e.timestampValue);case 4:return Ob(_u(t),_u(e));case 5:return Jy(t.stringValue,e.stringValue);case 6:return function(i,o){const a=Li(i),c=Li(o);return a.compareTo(c)}(t.bytesValue,e.bytesValue);case 7:return function(i,o){const a=i.split("/"),c=o.split("/");for(let d=0;d<a.length&&d<c.length;d++){const h=Ne(a[d],c[d]);if(h!==0)return h}return Ne(a.length,c.length)}(t.referenceValue,e.referenceValue);case 8:return function(i,o){const a=Ne(ft(i.latitude),ft(o.latitude));return a!==0?a:Ne(ft(i.longitude),ft(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return Mb(t.arrayValue,e.arrayValue);case 10:return function(i,o){var p,m,T,w;const a=i.fields||{},c=o.fields||{},d=(p=a[Ef])==null?void 0:p.arrayValue,h=(m=c[Ef])==null?void 0:m.arrayValue,f=Ne(((T=d==null?void 0:d.values)==null?void 0:T.length)||0,((w=h==null?void 0:h.values)==null?void 0:w.length)||0);return f!==0?f:Mb(d,h)}(t.mapValue,e.mapValue);case 11:return function(i,o){if(i===qd.mapValue&&o===qd.mapValue)return 0;if(i===qd.mapValue)return 1;if(o===qd.mapValue)return-1;const a=i.fields||{},c=Object.keys(a),d=o.fields||{},h=Object.keys(d);c.sort(),h.sort();for(let f=0;f<c.length&&f<h.length;++f){const p=Jy(c[f],h[f]);if(p!==0)return p;const m=pl(a[c[f]],d[h[f]]);if(m!==0)return m}return Ne(c.length,h.length)}(t.mapValue,e.mapValue);default:throw he(23264,{he:n})}}function Ob(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Ne(t,e);const n=Mi(t),r=Mi(e),s=Ne(n.seconds,r.seconds);return s!==0?s:Ne(n.nanos,r.nanos)}function Mb(t,e){const n=t.values||[],r=e.values||[];for(let s=0;s<n.length&&s<r.length;++s){const i=pl(n[s],r[s]);if(i)return i}return Ne(n.length,r.length)}function ml(t){return Zy(t)}function Zy(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){const r=Mi(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return Li(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return le.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",s=!0;for(const i of n.values||[])s?s=!1:r+=",",r+=Zy(i);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){const r=Object.keys(n.fields||{}).sort();let s="{",i=!0;for(const o of r)i?i=!1:s+=",",s+=`${o}:${Zy(n.fields[o])}`;return s+"}"}(t.mapValue):he(61005,{value:t})}function Eh(t){switch(Vi(t)){case 0:case 1:return 4;case 2:return 8;case 3:case 8:return 16;case 4:const e=Ip(t);return e?16+Eh(e):16;case 5:return 2*t.stringValue.length;case 6:return Li(t.bytesValue).approximateByteSize();case 7:return t.referenceValue.length;case 9:return function(r){return(r.values||[]).reduce((s,i)=>s+Eh(i),0)}(t.arrayValue);case 10:case 11:return function(r){let s=0;return Qi(r.fields,(i,o)=>{s+=i.length+Eh(o)}),s}(t.mapValue);default:throw he(13486,{value:t})}}function Lb(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function ev(t){return!!t&&"integerValue"in t}function fx(t){return!!t&&"arrayValue"in t}function Vb(t){return!!t&&"nullValue"in t}function Fb(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Th(t){return!!t&&"mapValue"in t}function MB(t){var n,r;return((r=(((n=t==null?void 0:t.mapValue)==null?void 0:n.fields)||{})[jR])==null?void 0:r.stringValue)===OR}function $c(t){if(t.geoPointValue)return{geoPointValue:{...t.geoPointValue}};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:{...t.timestampValue}};if(t.mapValue){const e={mapValue:{fields:{}}};return Qi(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=$c(r)),e}if(t.arrayValue){const e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=$c(t.arrayValue.values[n]);return e}return{...t}}function LB(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue===DR}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class hn{constructor(e){this.value=e}static empty(){return new hn({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Th(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=$c(n)}setAll(e){let n=Mt.emptyPath(),r={},s=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){const c=this.getFieldsMap(n);this.applyChanges(c,r,s),r={},s=[],n=a.popLast()}o?r[a.lastSegment()]=$c(o):s.push(a.lastSegment())});const i=this.getFieldsMap(n);this.applyChanges(i,r,s)}delete(e){const n=this.field(e.popLast());Th(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Yr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let s=n.mapValue.fields[e.get(r)];Th(s)&&s.mapValue.fields||(s={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=s),n=s}return n.mapValue.fields}applyChanges(e,n,r){Qi(n,(s,i)=>e[s]=i);for(const s of r)delete e[s]}clone(){return new hn($c(this.value))}}function MR(t){const e=[];return Qi(t.fields,(n,r)=>{const s=new Mt([n]);if(Th(r)){const i=MR(r.mapValue).fields;if(i.length===0)e.push(s);else for(const o of i)e.push(s.child(o))}else e.push(s)}),new En(e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gt{constructor(e,n,r,s,i,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=s,this.createTime=i,this.data=o,this.documentState=a}static newInvalidDocument(e){return new Gt(e,0,fe.min(),fe.min(),fe.min(),hn.empty(),0)}static newFoundDocument(e,n,r,s){return new Gt(e,1,n,fe.min(),r,s,0)}static newNoDocument(e,n){return new Gt(e,2,n,fe.min(),fe.min(),hn.empty(),0)}static newUnknownDocument(e,n){return new Gt(e,3,n,fe.min(),fe.min(),hn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(fe.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=hn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=hn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=fe.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof Gt&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new Gt(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tf{constructor(e,n){this.position=e,this.inclusive=n}}function Ub(t,e,n){let r=0;for(let s=0;s<t.position.length;s++){const i=e[s],o=t.position[s];if(i.field.isKeyField()?r=le.comparator(le.fromName(o.referenceValue),n.key):r=pl(o,n.data.field(i.field)),i.dir==="desc"&&(r*=-1),r!==0)break}return r}function $b(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Yr(t.position[n],e.position[n]))return!1;return!0}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tu{constructor(e,n="asc"){this.field=e,this.dir=n}}function VB(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class LR{}class vt extends LR{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new UB(e,n,r):n==="array-contains"?new zB(e,r):n==="in"?new WB(e,r):n==="not-in"?new HB(e,r):n==="array-contains-any"?new qB(e,r):new vt(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new $B(e,r):new BB(e,r)}matches(e){const n=e.data.field(this.field);return this.op==="!="?n!==null&&n.nullValue===void 0&&this.matchesComparison(pl(n,this.value)):n!==null&&Vi(this.value)===Vi(n)&&this.matchesComparison(pl(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return he(47266,{operator:this.op})}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}}class yr extends LR{constructor(e,n){super(),this.filters=e,this.op=n,this.Pe=null}static create(e,n){return new yr(e,n)}matches(e){return VR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.Pe!==null||(this.Pe=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.Pe}getFilters(){return Object.assign([],this.filters)}}function VR(t){return t.op==="and"}function FR(t){return FB(t)&&VR(t)}function FB(t){for(const e of t.filters)if(e instanceof yr)return!1;return!0}function tv(t){if(t instanceof vt)return t.field.canonicalString()+t.op.toString()+ml(t.value);if(FR(t))return t.filters.map(e=>tv(e)).join(",");{const e=t.filters.map(n=>tv(n)).join(",");return`${t.op}(${e})`}}function UR(t,e){return t instanceof vt?function(r,s){return s instanceof vt&&r.op===s.op&&r.field.isEqual(s.field)&&Yr(r.value,s.value)}(t,e):t instanceof yr?function(r,s){return s instanceof yr&&r.op===s.op&&r.filters.length===s.filters.length?r.filters.reduce((i,o,a)=>i&&UR(o,s.filters[a]),!0):!1}(t,e):void he(19439)}function $R(t){return t instanceof vt?function(n){return`${n.field.canonicalString()} ${n.op} ${ml(n.value)}`}(t):t instanceof yr?function(n){return n.op.toString()+" {"+n.getFilters().map($R).join(" ,")+"}"}(t):"Filter"}class UB extends vt{constructor(e,n,r){super(e,n,r),this.key=le.fromName(r.referenceValue)}matches(e){const n=le.comparator(e.key,this.key);return this.matchesComparison(n)}}class $B extends vt{constructor(e,n){super(e,"in",n),this.keys=BR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}}class BB extends vt{constructor(e,n){super(e,"not-in",n),this.keys=BR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}}function BR(t,e){var n;return(((n=e.arrayValue)==null?void 0:n.values)||[]).map(r=>le.fromName(r.referenceValue))}class zB extends vt{constructor(e,n){super(e,"array-contains",n)}matches(e){const n=e.data.field(this.field);return fx(n)&&Eu(n.arrayValue,this.value)}}class WB extends vt{constructor(e,n){super(e,"in",n)}matches(e){const n=e.data.field(this.field);return n!==null&&Eu(this.value.arrayValue,n)}}class HB extends vt{constructor(e,n){super(e,"not-in",n)}matches(e){if(Eu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;const n=e.data.field(this.field);return n!==null&&n.nullValue===void 0&&!Eu(this.value.arrayValue,n)}}class qB extends vt{constructor(e,n){super(e,"array-contains-any",n)}matches(e){const n=e.data.field(this.field);return!(!fx(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Eu(this.value.arrayValue,r))}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class GB{constructor(e,n=null,r=[],s=[],i=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=s,this.limit=i,this.startAt=o,this.endAt=a,this.Te=null}}function Bb(t,e=null,n=[],r=[],s=null,i=null,o=null){return new GB(t,e,n,r,s,i,o)}function px(t){const e=ge(t);if(e.Te===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>tv(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(i){return i.field.canonicalString()+i.dir}(r)).join(","),Sp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>ml(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>ml(r)).join(",")),e.Te=n}return e.Te}function mx(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!VB(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!UR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!$b(t.startAt,e.startAt)&&$b(t.endAt,e.endAt)}function nv(t){return le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ml{constructor(e,n=null,r=[],s=[],i=null,o="F",a=null,c=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=s,this.limit=i,this.limitType=o,this.startAt=a,this.endAt=c,this.Ie=null,this.Ee=null,this.Re=null,this.startAt,this.endAt}}function KB(t,e,n,r,s,i,o,a){return new Ml(t,e,n,r,s,i,o,a)}function gx(t){return new Ml(t)}function zb(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function QB(t){return le.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}function zR(t){return t.collectionGroup!==null}function Bc(t){const e=ge(t);if(e.Ie===null){e.Ie=[];const n=new Set;for(const i of e.explicitOrderBy)e.Ie.push(i),n.add(i.field.canonicalString());const r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new St(Mt.comparator);return o.filters.forEach(c=>{c.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(i=>{n.has(i.canonicalString())||i.isKeyField()||e.Ie.push(new Tu(i,r))}),n.has(Mt.keyField().canonicalString())||e.Ie.push(new Tu(Mt.keyField(),r))}return e.Ie}function Wr(t){const e=ge(t);return e.Ee||(e.Ee=YB(e,Bc(t))),e.Ee}function YB(t,e){if(t.limitType==="F")return Bb(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(s=>{const i=s.dir==="desc"?"asc":"desc";return new Tu(s.field,i)});const n=t.endAt?new Tf(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new Tf(t.startAt.position,t.startAt.inclusive):null;return Bb(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function rv(t,e){const n=t.filters.concat([e]);return new Ml(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function XB(t,e){const n=t.explicitOrderBy.concat([e]);return new Ml(t.path,t.collectionGroup,n,t.filters.slice(),t.limit,t.limitType,t.startAt,t.endAt)}function sv(t,e,n){return new Ml(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Cp(t,e){return mx(Wr(t),Wr(e))&&t.limitType===e.limitType}function WR(t){return`${px(Wr(t))}|lt:${t.limitType}`}function ya(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(s=>$R(s)).join(", ")}]`),Sp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(s=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(s)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(s=>ml(s)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(s=>ml(s)).join(",")),`Target(${r})`}(Wr(t))}; limitType=${t.limitType})`}function Np(t,e){return e.isFoundDocument()&&function(r,s){const i=s.key.path;return r.collectionGroup!==null?s.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(i):le.isDocumentKey(r.path)?r.path.isEqual(i):r.path.isImmediateParentOf(i)}(t,e)&&function(r,s){for(const i of Bc(r))if(!i.field.isKeyField()&&s.data.field(i.field)===null)return!1;return!0}(t,e)&&function(r,s){for(const i of r.filters)if(!i.matches(s))return!1;return!0}(t,e)&&function(r,s){return!(r.startAt&&!function(o,a,c){const d=Ub(o,a,c);return o.inclusive?d<=0:d<0}(r.startAt,Bc(r),s)||r.endAt&&!function(o,a,c){const d=Ub(o,a,c);return o.inclusive?d>=0:d>0}(r.endAt,Bc(r),s))}(t,e)}function JB(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function HR(t){return(e,n)=>{let r=!1;for(const s of Bc(t)){const i=ZB(s,e,n);if(i!==0)return i;r=r||s.field.isKeyField()}return 0}}function ZB(t,e,n){const r=t.field.isKeyField()?le.comparator(e.key,n.key):function(i,o,a){const c=o.data.field(i),d=a.data.field(i);return c!==null&&d!==null?pl(c,d):he(42886)}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return he(19790,{direction:t.dir})}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class ta{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(const[s,i]of r)if(this.equalsFn(s,e))return i}}has(e){return this.get(e)!==void 0}set(e,n){const r=this.mapKeyFn(e),s=this.inner[r];if(s===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let i=0;i<s.length;i++)if(this.equalsFn(s[i][0],e))return void(s[i]=[e,n]);s.push([e,n]),this.innerSize++}delete(e){const n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let s=0;s<r.length;s++)if(this.equalsFn(r[s][0],e))return r.length===1?delete this.inner[n]:r.splice(s,1),this.innerSize--,!0;return!1}forEach(e){Qi(this.inner,(n,r)=>{for(const[s,i]of r)e(s,i)})}isEmpty(){return CR(this.inner)}size(){return this.innerSize}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const ez=new ot(le.comparator);function Rs(){return ez}const qR=new ot(le.comparator);function bc(...t){let e=qR;for(const n of t)e=e.insert(n.key,n);return e}function GR(t){let e=qR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function go(){return zc()}function KR(){return zc()}function zc(){return new ta(t=>t.toString(),(t,e)=>t.isEqual(e))}const tz=new ot(le.comparator),nz=new St(le.comparator);function Re(...t){let e=nz;for(const n of t)e=e.add(n);return e}const rz=new St(Ne);function sz(){return rz}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function yx(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:_f(e)?"-0":e}}function QR(t){return{integerValue:""+t}}function iz(t,e){return PB(e)?QR(e):yx(t,e)}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Rp{constructor(){this._=void 0}}function oz(t,e,n){return t instanceof Su?function(s,i){const o={fields:{[PR]:{stringValue:RR},[kR]:{timestampValue:{seconds:s.seconds,nanos:s.nanoseconds}}}};return i&&hx(i)&&(i=Ip(i)),i&&(o.fields[AR]=i),{mapValue:o}}(n,e):t instanceof Iu?XR(t,e):t instanceof Cu?JR(t,e):function(s,i){const o=YR(s,i),a=Wb(o)+Wb(s.Ae);return ev(o)&&ev(s.Ae)?QR(a):yx(s.serializer,a)}(t,e)}function az(t,e,n){return t instanceof Iu?XR(t,e):t instanceof Cu?JR(t,e):n}function YR(t,e){return t instanceof Sf?function(r){return ev(r)||function(i){return!!i&&"doubleValue"in i}(r)}(e)?e:{integerValue:0}:null}class Su extends Rp{}class Iu extends Rp{constructor(e){super(),this.elements=e}}function XR(t,e){const n=ZR(e);for(const r of t.elements)n.some(s=>Yr(s,r))||n.push(r);return{arrayValue:{values:n}}}class Cu extends Rp{constructor(e){super(),this.elements=e}}function JR(t,e){let n=ZR(e);for(const r of t.elements)n=n.filter(s=>!Yr(s,r));return{arrayValue:{values:n}}}class Sf extends Rp{constructor(e,n){super(),this.serializer=e,this.Ae=n}}function Wb(t){return ft(t.integerValue||t.doubleValue)}function ZR(t){return fx(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lz{constructor(e,n){this.field=e,this.transform=n}}function cz(t,e){return t.field.isEqual(e.field)&&function(r,s){return r instanceof Iu&&s instanceof Iu||r instanceof Cu&&s instanceof Cu?fl(r.elements,s.elements,Yr):r instanceof Sf&&s instanceof Sf?Yr(r.Ae,s.Ae):r instanceof Su&&s instanceof Su}(t.transform,e.transform)}class uz{constructor(e,n){this.version=e,this.transformResults=n}}class ur{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new ur}static exists(e){return new ur(void 0,e)}static updateTime(e){return new ur(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}}function Sh(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}class Pp{}function eP(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new vx(t.key,ur.none()):new Ju(t.key,t.data,ur.none());{const n=t.data,r=hn.empty();let s=new St(Mt.comparator);for(let i of e.fields)if(!s.has(i)){let o=n.field(i);o===null&&i.length>1&&(i=i.popLast(),o=n.field(i)),o===null?r.delete(i):r.set(i,o),s=s.add(i)}return new Yi(t.key,r,new En(s.toArray()),ur.none())}}function dz(t,e,n){t instanceof Ju?function(s,i,o){const a=s.value.clone(),c=qb(s.fieldTransforms,i,o.transformResults);a.setAll(c),i.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof Yi?function(s,i,o){if(!Sh(s.precondition,i))return void i.convertToUnknownDocument(o.version);const a=qb(s.fieldTransforms,i,o.transformResults),c=i.data;c.setAll(tP(s)),c.setAll(a),i.convertToFoundDocument(o.version,c).setHasCommittedMutations()}(t,e,n):function(s,i,o){i.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function Wc(t,e,n,r){return t instanceof Ju?function(i,o,a,c){if(!Sh(i.precondition,o))return a;const d=i.value.clone(),h=Gb(i.fieldTransforms,c,o);return d.setAll(h),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof Yi?function(i,o,a,c){if(!Sh(i.precondition,o))return a;const d=Gb(i.fieldTransforms,c,o),h=o.data;return h.setAll(tP(i)),h.setAll(d),o.convertToFoundDocument(o.version,h).setHasLocalMutations(),a===null?null:a.unionWith(i.fieldMask.fields).unionWith(i.fieldTransforms.map(f=>f.field))}(t,e,n,r):function(i,o,a){return Sh(i.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function hz(t,e){let n=null;for(const r of t.fieldTransforms){const s=e.data.field(r.field),i=YR(r.transform,s||null);i!=null&&(n===null&&(n=hn.empty()),n.set(r.field,i))}return n||null}function Hb(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,s){return r===void 0&&s===void 0||!(!r||!s)&&fl(r,s,(i,o)=>cz(i,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}class Ju extends Pp{constructor(e,n,r,s=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=s,this.type=0}getFieldMask(){return null}}class Yi extends Pp{constructor(e,n,r,s,i=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=s,this.fieldTransforms=i,this.type=1}getFieldMask(){return this.fieldMask}}function tP(t){const e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){const r=t.data.field(n);e.set(n,r)}}),e}function qb(t,e,n){const r=new Map;Ve(t.length===n.length,32656,{Ve:n.length,de:t.length});for(let s=0;s<n.length;s++){const i=t[s],o=i.transform,a=e.data.field(i.field);r.set(i.field,az(o,a,n[s]))}return r}function Gb(t,e,n){const r=new Map;for(const s of t){const i=s.transform,o=n.data.field(s.field);r.set(s.field,oz(i,o,e))}return r}class vx extends Pp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}}class fz extends Pp{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pz{constructor(e,n,r,s){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=s}applyToRemoteDocument(e,n){const r=n.mutationResults;for(let s=0;s<this.mutations.length;s++){const i=this.mutations[s];i.key.isEqual(e.key)&&dz(i,e,r[s])}}applyToLocalView(e,n){for(const r of this.baseMutations)r.key.isEqual(e.key)&&(n=Wc(r,e,n,this.localWriteTime));for(const r of this.mutations)r.key.isEqual(e.key)&&(n=Wc(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){const r=KR();return this.mutations.forEach(s=>{const i=e.get(s.key),o=i.overlayedDocument;let a=this.applyToLocalView(o,i.mutatedFields);a=n.has(s.key)?null:a;const c=eP(o,a);c!==null&&r.set(s.key,c),o.isValidDocument()||o.convertToNoDocument(fe.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),Re())}isEqual(e){return this.batchId===e.batchId&&fl(this.mutations,e.mutations,(n,r)=>Hb(n,r))&&fl(this.baseMutations,e.baseMutations,(n,r)=>Hb(n,r))}}class wx{constructor(e,n,r,s){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=s}static from(e,n,r){Ve(e.mutations.length===r.length,58842,{me:e.mutations.length,fe:r.length});let s=function(){return tz}();const i=e.mutations;for(let o=0;o<i.length;o++)s=s.insert(i[o].key,r[o].version);return new wx(e,n,r,s)}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let mz=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gz{constructor(e,n){this.count=e,this.unchangedNames=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */var gt,je;function yz(t){switch(t){case z.OK:return he(64938);case z.CANCELLED:case z.UNKNOWN:case z.DEADLINE_EXCEEDED:case z.RESOURCE_EXHAUSTED:case z.INTERNAL:case z.UNAVAILABLE:case z.UNAUTHENTICATED:return!1;case z.INVALID_ARGUMENT:case z.NOT_FOUND:case z.ALREADY_EXISTS:case z.PERMISSION_DENIED:case z.FAILED_PRECONDITION:case z.ABORTED:case z.OUT_OF_RANGE:case z.UNIMPLEMENTED:case z.DATA_LOSS:return!0;default:return he(15467,{code:t})}}function nP(t){if(t===void 0)return Ns("GRPC error has no .code"),z.UNKNOWN;switch(t){case gt.OK:return z.OK;case gt.CANCELLED:return z.CANCELLED;case gt.UNKNOWN:return z.UNKNOWN;case gt.DEADLINE_EXCEEDED:return z.DEADLINE_EXCEEDED;case gt.RESOURCE_EXHAUSTED:return z.RESOURCE_EXHAUSTED;case gt.INTERNAL:return z.INTERNAL;case gt.UNAVAILABLE:return z.UNAVAILABLE;case gt.UNAUTHENTICATED:return z.UNAUTHENTICATED;case gt.INVALID_ARGUMENT:return z.INVALID_ARGUMENT;case gt.NOT_FOUND:return z.NOT_FOUND;case gt.ALREADY_EXISTS:return z.ALREADY_EXISTS;case gt.PERMISSION_DENIED:return z.PERMISSION_DENIED;case gt.FAILED_PRECONDITION:return z.FAILED_PRECONDITION;case gt.ABORTED:return z.ABORTED;case gt.OUT_OF_RANGE:return z.OUT_OF_RANGE;case gt.UNIMPLEMENTED:return z.UNIMPLEMENTED;case gt.DATA_LOSS:return z.DATA_LOSS;default:return he(39323,{code:t})}}(je=gt||(gt={}))[je.OK=0]="OK",je[je.CANCELLED=1]="CANCELLED",je[je.UNKNOWN=2]="UNKNOWN",je[je.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",je[je.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",je[je.NOT_FOUND=5]="NOT_FOUND",je[je.ALREADY_EXISTS=6]="ALREADY_EXISTS",je[je.PERMISSION_DENIED=7]="PERMISSION_DENIED",je[je.UNAUTHENTICATED=16]="UNAUTHENTICATED",je[je.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",je[je.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",je[je.ABORTED=10]="ABORTED",je[je.OUT_OF_RANGE=11]="OUT_OF_RANGE",je[je.UNIMPLEMENTED=12]="UNIMPLEMENTED",je[je.INTERNAL=13]="INTERNAL",je[je.UNAVAILABLE=14]="UNAVAILABLE",je[je.DATA_LOSS=15]="DATA_LOSS";/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function vz(){return new TextEncoder}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const wz=new Si([4294967295,4294967295],0);function Kb(t){const e=vz().encode(t),n=new gR;return n.update(e),new Uint8Array(n.digest())}function Qb(t){const e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),s=e.getUint32(8,!0),i=e.getUint32(12,!0);return[new Si([n,r],0),new Si([s,i],0)]}class xx{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ec(`Invalid padding: ${n}`);if(r<0)throw new Ec(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ec(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ec(`Invalid padding when bitmap length is 0: ${n}`);this.ge=8*e.length-n,this.pe=Si.fromNumber(this.ge)}ye(e,n,r){let s=e.add(n.multiply(Si.fromNumber(r)));return s.compare(wz)===1&&(s=new Si([s.getBits(0),s.getBits(1)],0)),s.modulo(this.pe).toNumber()}we(e){return!!(this.bitmap[Math.floor(e/8)]&1<<e%8)}mightContain(e){if(this.ge===0)return!1;const n=Kb(e),[r,s]=Qb(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);if(!this.we(o))return!1}return!0}static create(e,n,r){const s=e%8==0?0:8-e%8,i=new Uint8Array(Math.ceil(e/8)),o=new xx(i,s,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.ge===0)return;const n=Kb(e),[r,s]=Qb(n);for(let i=0;i<this.hashCount;i++){const o=this.ye(r,s,i);this.be(o)}}be(e){const n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}}class Ec extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ap{constructor(e,n,r,s,i){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=s,this.resolvedLimboDocuments=i}static createSynthesizedRemoteEventForCurrentChange(e,n,r){const s=new Map;return s.set(e,Zu.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new Ap(fe.min(),s,new ot(Ne),Rs(),Re())}}class Zu{constructor(e,n,r,s,i){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=s,this.removedDocuments=i}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new Zu(r,n,Re(),Re(),Re())}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ih{constructor(e,n,r,s){this.Se=e,this.removedTargetIds=n,this.key=r,this.De=s}}class rP{constructor(e,n){this.targetId=e,this.Ce=n}}class sP{constructor(e,n,r=Ft.EMPTY_BYTE_STRING,s=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=s}}class Yb{constructor(){this.ve=0,this.Fe=Xb(),this.Me=Ft.EMPTY_BYTE_STRING,this.xe=!1,this.Oe=!0}get current(){return this.xe}get resumeToken(){return this.Me}get Ne(){return this.ve!==0}get Be(){return this.Oe}Le(e){e.approximateByteSize()>0&&(this.Oe=!0,this.Me=e)}ke(){let e=Re(),n=Re(),r=Re();return this.Fe.forEach((s,i)=>{switch(i){case 0:e=e.add(s);break;case 2:n=n.add(s);break;case 1:r=r.add(s);break;default:he(38017,{changeType:i})}}),new Zu(this.Me,this.xe,e,n,r)}Ke(){this.Oe=!1,this.Fe=Xb()}qe(e,n){this.Oe=!0,this.Fe=this.Fe.insert(e,n)}Ue(e){this.Oe=!0,this.Fe=this.Fe.remove(e)}$e(){this.ve+=1}We(){this.ve-=1,Ve(this.ve>=0,3241,{ve:this.ve})}Qe(){this.Oe=!0,this.xe=!0}}class xz{constructor(e){this.Ge=e,this.ze=new Map,this.je=Rs(),this.He=Gd(),this.Je=Gd(),this.Ze=new ot(Ne)}Xe(e){for(const n of e.Se)e.De&&e.De.isFoundDocument()?this.Ye(n,e.De):this.et(n,e.key,e.De);for(const n of e.removedTargetIds)this.et(n,e.key,e.De)}tt(e){this.forEachTarget(e,n=>{const r=this.nt(n);switch(e.state){case 0:this.rt(n)&&r.Le(e.resumeToken);break;case 1:r.We(),r.Ne||r.Ke(),r.Le(e.resumeToken);break;case 2:r.We(),r.Ne||this.removeTarget(n);break;case 3:this.rt(n)&&(r.Qe(),r.Le(e.resumeToken));break;case 4:this.rt(n)&&(this.it(n),r.Le(e.resumeToken));break;default:he(56790,{state:e.state})}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.ze.forEach((r,s)=>{this.rt(s)&&n(s)})}st(e){const n=e.targetId,r=e.Ce.count,s=this.ot(n);if(s){const i=s.target;if(nv(i))if(r===0){const o=new le(i.path);this.et(n,o,Gt.newNoDocument(o,fe.min()))}else Ve(r===1,20013,{expectedCount:r});else{const o=this._t(n);if(o!==r){const a=this.ut(e),c=a?this.ct(a,e,o):1;if(c!==0){this.it(n);const d=c===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Ze=this.Ze.insert(n,d)}}}}}ut(e){const n=e.Ce.unchangedNames;if(!n||!n.bits)return null;const{bits:{bitmap:r="",padding:s=0},hashCount:i=0}=n;let o,a;try{o=Li(r).toUint8Array()}catch(c){if(c instanceof NR)return $o("Decoding the base64 bloom filter in existence filter failed ("+c.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw c}try{a=new xx(o,s,i)}catch(c){return $o(c instanceof Ec?"BloomFilter error: ":"Applying bloom filter failed: ",c),null}return a.ge===0?null:a}ct(e,n,r){return n.Ce.count===r-this.Pt(e,n.targetId)?0:2}Pt(e,n){const r=this.Ge.getRemoteKeysForTarget(n);let s=0;return r.forEach(i=>{const o=this.Ge.ht(),a=`projects/${o.projectId}/databases/${o.database}/documents/${i.path.canonicalString()}`;e.mightContain(a)||(this.et(n,i,null),s++)}),s}Tt(e){const n=new Map;this.ze.forEach((i,o)=>{const a=this.ot(o);if(a){if(i.current&&nv(a.target)){const c=new le(a.target.path);this.It(c).has(o)||this.Et(o,c)||this.et(o,c,Gt.newNoDocument(c,e))}i.Be&&(n.set(o,i.ke()),i.Ke())}});let r=Re();this.Je.forEach((i,o)=>{let a=!0;o.forEachWhile(c=>{const d=this.ot(c);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(i))}),this.je.forEach((i,o)=>o.setReadTime(e));const s=new Ap(e,n,this.Ze,this.je,r);return this.je=Rs(),this.He=Gd(),this.Je=Gd(),this.Ze=new ot(Ne),s}Ye(e,n){if(!this.rt(e))return;const r=this.Et(e,n.key)?2:0;this.nt(e).qe(n.key,r),this.je=this.je.insert(n.key,n),this.He=this.He.insert(n.key,this.It(n.key).add(e)),this.Je=this.Je.insert(n.key,this.Rt(n.key).add(e))}et(e,n,r){if(!this.rt(e))return;const s=this.nt(e);this.Et(e,n)?s.qe(n,1):s.Ue(n),this.Je=this.Je.insert(n,this.Rt(n).delete(e)),this.Je=this.Je.insert(n,this.Rt(n).add(e)),r&&(this.je=this.je.insert(n,r))}removeTarget(e){this.ze.delete(e)}_t(e){const n=this.nt(e).ke();return this.Ge.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}$e(e){this.nt(e).$e()}nt(e){let n=this.ze.get(e);return n||(n=new Yb,this.ze.set(e,n)),n}Rt(e){let n=this.Je.get(e);return n||(n=new St(Ne),this.Je=this.Je.insert(e,n)),n}It(e){let n=this.He.get(e);return n||(n=new St(Ne),this.He=this.He.insert(e,n)),n}rt(e){const n=this.ot(e)!==null;return n||re("WatchChangeAggregator","Detected inactive target",e),n}ot(e){const n=this.ze.get(e);return n&&n.Ne?null:this.Ge.At(e)}it(e){this.ze.set(e,new Yb),this.Ge.getRemoteKeysForTarget(e).forEach(n=>{this.et(e,n,null)})}Et(e,n){return this.Ge.getRemoteKeysForTarget(e).has(n)}}function Gd(){return new ot(le.comparator)}function Xb(){return new ot(le.comparator)}const _z={asc:"ASCENDING",desc:"DESCENDING"},bz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Ez={and:"AND",or:"OR"};class Tz{constructor(e,n){this.databaseId=e,this.useProto3Json=n}}function iv(t,e){return t.useProto3Json||Sp(e)?e:{value:e}}function If(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function iP(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Sz(t,e){return If(t,e.toTimestamp())}function Hr(t){return Ve(!!t,49232),fe.fromTimestamp(function(n){const r=Mi(n);return new Qe(r.seconds,r.nanos)}(t))}function _x(t,e){return ov(t,e).canonicalString()}function ov(t,e){const n=function(s){return new We(["projects",s.projectId,"databases",s.database])}(t).child("documents");return e===void 0?n:n.child(e)}function oP(t){const e=We.fromString(t);return Ve(dP(e),10190,{key:e.toString()}),e}function av(t,e){return _x(t.databaseId,e.path)}function mg(t,e){const n=oP(e);if(n.get(1)!==t.databaseId.projectId)throw new te(z.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new te(z.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new le(lP(n))}function aP(t,e){return _x(t.databaseId,e)}function Iz(t){const e=oP(t);return e.length===4?We.emptyPath():lP(e)}function lv(t){return new We(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function lP(t){return Ve(t.length>4&&t.get(4)==="documents",29091,{key:t.toString()}),t.popFirst(5)}function Jb(t,e,n){return{name:av(t,e),fields:n.value.mapValue.fields}}function Cz(t,e){let n;if("targetChange"in e){e.targetChange;const r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:he(39313,{state:d})}(e.targetChange.targetChangeType||"NO_CHANGE"),s=e.targetChange.targetIds||[],i=function(d,h){return d.useProto3Json?(Ve(h===void 0||typeof h=="string",58123),Ft.fromBase64String(h||"")):(Ve(h===void 0||h instanceof Buffer||h instanceof Uint8Array,16193),Ft.fromUint8Array(h||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){const h=d.code===void 0?z.UNKNOWN:nP(d.code);return new te(h,d.message||"")}(o);n=new sP(r,s,i,a||null)}else if("documentChange"in e){e.documentChange;const r=e.documentChange;r.document,r.document.name,r.document.updateTime;const s=mg(t,r.document.name),i=Hr(r.document.updateTime),o=r.document.createTime?Hr(r.document.createTime):fe.min(),a=new hn({mapValue:{fields:r.document.fields}}),c=Gt.newFoundDocument(s,i,o,a),d=r.targetIds||[],h=r.removedTargetIds||[];n=new Ih(d,h,c.key,c)}else if("documentDelete"in e){e.documentDelete;const r=e.documentDelete;r.document;const s=mg(t,r.document),i=r.readTime?Hr(r.readTime):fe.min(),o=Gt.newNoDocument(s,i),a=r.removedTargetIds||[];n=new Ih([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;const r=e.documentRemove;r.document;const s=mg(t,r.document),i=r.removedTargetIds||[];n=new Ih([],i,s,null)}else{if(!("filter"in e))return he(11601,{Vt:e});{e.filter;const r=e.filter;r.targetId;const{count:s=0,unchangedNames:i}=r,o=new gz(s,i),a=r.targetId;n=new rP(a,o)}}return n}function Nz(t,e){let n;if(e instanceof Ju)n={update:Jb(t,e.key,e.value)};else if(e instanceof vx)n={delete:av(t,e.key)};else if(e instanceof Yi)n={update:Jb(t,e.key,e.data),updateMask:Lz(e.fieldMask)};else{if(!(e instanceof fz))return he(16599,{dt:e.type});n={verify:av(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(i,o){const a=o.transform;if(a instanceof Su)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Iu)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof Cu)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Sf)return{fieldPath:o.field.canonicalString(),increment:a.Ae};throw he(20930,{transform:o.transform})}(0,r))),e.precondition.isNone||(n.currentDocument=function(s,i){return i.updateTime!==void 0?{updateTime:Sz(s,i.updateTime)}:i.exists!==void 0?{exists:i.exists}:he(27497)}(t,e.precondition)),n}function Rz(t,e){return t&&t.length>0?(Ve(e!==void 0,14353),t.map(n=>function(s,i){let o=s.updateTime?Hr(s.updateTime):Hr(i);return o.isEqual(fe.min())&&(o=Hr(i)),new uz(o,s.transformResults||[])}(n,e))):[]}function Pz(t,e){return{documents:[aP(t,e.path)]}}function Az(t,e){const n={structuredQuery:{}},r=e.path;let s;e.collectionGroup!==null?(s=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(s=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=aP(t,s);const i=function(d){if(d.length!==0)return uP(yr.create(d,"and"))}(e.filters);i&&(n.structuredQuery.where=i);const o=function(d){if(d.length!==0)return d.map(h=>function(p){return{field:va(p.field),direction:Dz(p.dir)}}(h))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);const a=iv(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{ft:n,parent:s}}function kz(t){let e=Iz(t.parent);const n=t.structuredQuery,r=n.from?n.from.length:0;let s=null;if(r>0){Ve(r===1,65062);const h=n.from[0];h.allDescendants?s=h.collectionId:e=e.child(h.collectionId)}let i=[];n.where&&(i=function(f){const p=cP(f);return p instanceof yr&&FR(p)?p.getFilters():[p]}(n.where));let o=[];n.orderBy&&(o=function(f){return f.map(p=>function(T){return new Tu(wa(T.field),function(x){switch(x){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(T.direction))}(p))}(n.orderBy));let a=null;n.limit&&(a=function(f){let p;return p=typeof f=="object"?f.value:f,Sp(p)?null:p}(n.limit));let c=null;n.startAt&&(c=function(f){const p=!!f.before,m=f.values||[];return new Tf(m,p)}(n.startAt));let d=null;return n.endAt&&(d=function(f){const p=!f.before,m=f.values||[];return new Tf(m,p)}(n.endAt)),KB(e,s,o,i,a,"F",c,d)}function jz(t,e){const n=function(s){switch(s){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return he(28987,{purpose:s})}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function cP(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":const r=wa(n.unaryFilter.field);return vt.create(r,"==",{doubleValue:NaN});case"IS_NULL":const s=wa(n.unaryFilter.field);return vt.create(s,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":const i=wa(n.unaryFilter.field);return vt.create(i,"!=",{doubleValue:NaN});case"IS_NOT_NULL":const o=wa(n.unaryFilter.field);return vt.create(o,"!=",{nullValue:"NULL_VALUE"});case"OPERATOR_UNSPECIFIED":return he(61313);default:return he(60726)}}(t):t.fieldFilter!==void 0?function(n){return vt.create(wa(n.fieldFilter.field),function(s){switch(s){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";case"OPERATOR_UNSPECIFIED":return he(58110);default:return he(50506)}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return yr.create(n.compositeFilter.filters.map(r=>cP(r)),function(s){switch(s){case"AND":return"and";case"OR":return"or";default:return he(1026)}}(n.compositeFilter.op))}(t):he(30097,{filter:t})}function Dz(t){return _z[t]}function Oz(t){return bz[t]}function Mz(t){return Ez[t]}function va(t){return{fieldPath:t.canonicalString()}}function wa(t){return Mt.fromServerFormat(t.fieldPath)}function uP(t){return t instanceof vt?function(n){if(n.op==="=="){if(Fb(n.value))return{unaryFilter:{field:va(n.field),op:"IS_NAN"}};if(Vb(n.value))return{unaryFilter:{field:va(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(Fb(n.value))return{unaryFilter:{field:va(n.field),op:"IS_NOT_NAN"}};if(Vb(n.value))return{unaryFilter:{field:va(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:va(n.field),op:Oz(n.op),value:n.value}}}(t):t instanceof yr?function(n){const r=n.getFilters().map(s=>uP(s));return r.length===1?r[0]:{compositeFilter:{op:Mz(n.op),filters:r}}}(t):he(54877,{filter:t})}function Lz(t){const e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function dP(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}function hP(t){return!!t&&typeof t._toProto=="function"&&t._protoValueType==="ProtoValue"}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class fi{constructor(e,n,r,s,i=fe.min(),o=fe.min(),a=Ft.EMPTY_BYTE_STRING,c=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=s,this.snapshotVersion=i,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=c}withSequenceNumber(e){return new fi(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new fi(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Vz{constructor(e){this.yt=e}}function Fz(t){const e=kz({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?sv(e,e.limit,"L"):e}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Uz{constructor(){this.Sn=new $z}addToCollectionParentIndex(e,n){return this.Sn.add(n),W.resolve()}getCollectionParents(e,n){return W.resolve(this.Sn.getEntries(n))}addFieldIndex(e,n){return W.resolve()}deleteFieldIndex(e,n){return W.resolve()}deleteAllFieldIndexes(e){return W.resolve()}createTargetIndexes(e,n){return W.resolve()}getDocumentsMatchingTarget(e,n){return W.resolve(null)}getIndexType(e,n){return W.resolve(0)}getFieldIndexes(e,n){return W.resolve([])}getNextCollectionGroupToUpdate(e){return W.resolve(null)}getMinOffset(e,n){return W.resolve(Oi.min())}getMinOffsetFromCollectionGroup(e,n){return W.resolve(Oi.min())}updateCollectionGroup(e,n,r){return W.resolve()}updateIndexEntries(e,n){return W.resolve()}}class $z{constructor(){this.index={}}add(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n]||new St(We.comparator),i=!s.has(r);return this.index[n]=s.add(r),i}has(e){const n=e.lastSegment(),r=e.popLast(),s=this.index[n];return s&&s.has(r)}getEntries(e){return(this.index[e]||new St(We.comparator)).toArray()}}/**
 * @license
 * Copyright 2018 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Zb={didRun:!1,sequenceNumbersCollected:0,targetsRemoved:0,documentsRemoved:0},fP=41943040;class un{static withCacheSize(e){return new un(e,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */un.DEFAULT_COLLECTION_PERCENTILE=10,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,un.DEFAULT=new un(fP,un.DEFAULT_COLLECTION_PERCENTILE,un.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),un.DISABLED=new un(-1,0,0);/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class gl{constructor(e){this.sr=e}next(){return this.sr+=2,this.sr}static _r(){return new gl(0)}static ar(){return new gl(-1)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const eE="LruGarbageCollector",Bz=1048576;function tE([t,e],[n,r]){const s=Ne(t,n);return s===0?Ne(e,r):s}class zz{constructor(e){this.Pr=e,this.buffer=new St(tE),this.Tr=0}Ir(){return++this.Tr}Er(e){const n=[e,this.Ir()];if(this.buffer.size<this.Pr)this.buffer=this.buffer.add(n);else{const r=this.buffer.last();tE(n,r)<0&&(this.buffer=this.buffer.delete(r).add(n))}}get maxValue(){return this.buffer.last()[0]}}class Wz{constructor(e,n,r){this.garbageCollector=e,this.asyncQueue=n,this.localStore=r,this.Rr=null}start(){this.garbageCollector.params.cacheSizeCollectionThreshold!==-1&&this.Ar(6e4)}stop(){this.Rr&&(this.Rr.cancel(),this.Rr=null)}get started(){return this.Rr!==null}Ar(e){re(eE,`Garbage collection scheduled in ${e}ms`),this.Rr=this.asyncQueue.enqueueAfterDelay("lru_garbage_collection",e,async()=>{this.Rr=null;try{await this.localStore.collectGarbage(this.garbageCollector)}catch(n){Ol(n)?re(eE,"Ignoring IndexedDB error during garbage collection: ",n):await Dl(n)}await this.Ar(3e5)})}}class Hz{constructor(e,n){this.Vr=e,this.params=n}calculateTargetCount(e,n){return this.Vr.dr(e).next(r=>Math.floor(n/100*r))}nthSequenceNumber(e,n){if(n===0)return W.resolve(Tp.ce);const r=new zz(n);return this.Vr.forEachTarget(e,s=>r.Er(s.sequenceNumber)).next(()=>this.Vr.mr(e,s=>r.Er(s))).next(()=>r.maxValue)}removeTargets(e,n,r){return this.Vr.removeTargets(e,n,r)}removeOrphanedDocuments(e,n){return this.Vr.removeOrphanedDocuments(e,n)}collect(e,n){return this.params.cacheSizeCollectionThreshold===-1?(re("LruGarbageCollector","Garbage collection skipped; disabled"),W.resolve(Zb)):this.getCacheSize(e).next(r=>r<this.params.cacheSizeCollectionThreshold?(re("LruGarbageCollector",`Garbage collection skipped; Cache size ${r} is lower than threshold ${this.params.cacheSizeCollectionThreshold}`),Zb):this.gr(e,n))}getCacheSize(e){return this.Vr.getCacheSize(e)}gr(e,n){let r,s,i,o,a,c,d;const h=Date.now();return this.calculateTargetCount(e,this.params.percentileToCollect).next(f=>(f>this.params.maximumSequenceNumbersToCollect?(re("LruGarbageCollector",`Capping sequence numbers to collect down to the maximum of ${this.params.maximumSequenceNumbersToCollect} from ${f}`),s=this.params.maximumSequenceNumbersToCollect):s=f,o=Date.now(),this.nthSequenceNumber(e,s))).next(f=>(r=f,a=Date.now(),this.removeTargets(e,r,n))).next(f=>(i=f,c=Date.now(),this.removeOrphanedDocuments(e,r))).next(f=>(d=Date.now(),ga()<=Ce.DEBUG&&re("LruGarbageCollector",`LRU Garbage Collection
	Counted targets in ${o-h}ms
	Determined least recently used ${s} in `+(a-o)+`ms
	Removed ${i} targets in `+(c-a)+`ms
	Removed ${f} documents in `+(d-c)+`ms
Total Duration: ${d-h}ms`),W.resolve({didRun:!0,sequenceNumbersCollected:s,targetsRemoved:i,documentsRemoved:f})))}}function qz(t,e){return new Hz(t,e)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Gz{constructor(){this.changes=new ta(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Gt.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();const r=this.changes.get(n);return r!==void 0?W.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Kz{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Qz{constructor(e,n,r,s){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=s}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(s=>(r=s,this.remoteDocumentCache.getEntry(e,n))).next(s=>(r!==null&&Wc(r.mutation,s,En.empty(),Qe.now()),s))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,Re()).next(()=>r))}getLocalViewOfDocuments(e,n,r=Re()){const s=go();return this.populateOverlays(e,s,n).next(()=>this.computeViews(e,n,s,r).next(i=>{let o=bc();return i.forEach((a,c)=>{o=o.insert(a,c.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){const r=go();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,Re()))}populateOverlays(e,n,r){const s=[];return r.forEach(i=>{n.has(i)||s.push(i)}),this.documentOverlayCache.getOverlays(e,s).next(i=>{i.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,s){let i=Rs();const o=zc(),a=function(){return zc()}();return n.forEach((c,d)=>{const h=r.get(d.key);s.has(d.key)&&(h===void 0||h.mutation instanceof Yi)?i=i.insert(d.key,d):h!==void 0?(o.set(d.key,h.mutation.getFieldMask()),Wc(h.mutation,d,h.mutation.getFieldMask(),Qe.now())):o.set(d.key,En.empty())}),this.recalculateAndSaveOverlays(e,i).next(c=>(c.forEach((d,h)=>o.set(d,h)),n.forEach((d,h)=>a.set(d,new Kz(h,o.get(d)??null))),a))}recalculateAndSaveOverlays(e,n){const r=zc();let s=new ot((o,a)=>o-a),i=Re();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(const a of o)a.keys().forEach(c=>{const d=n.get(c);if(d===null)return;let h=r.get(c)||En.empty();h=a.applyToLocalView(d,h),r.set(c,h);const f=(s.get(a.batchId)||Re()).add(c);s=s.insert(a.batchId,f)})}).next(()=>{const o=[],a=s.getReverseIterator();for(;a.hasNext();){const c=a.getNext(),d=c.key,h=c.value,f=KR();h.forEach(p=>{if(!i.has(p)){const m=eP(n.get(p),r.get(p));m!==null&&f.set(p,m),i=i.add(p)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,f))}return W.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,s){return QB(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):zR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,s):this.getDocumentsMatchingCollectionQuery(e,n,r,s)}getNextDocuments(e,n,r,s){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,s).next(i=>{const o=s-i.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,s-i.size):W.resolve(go());let a=xu,c=i;return o.next(d=>W.forEach(d,(h,f)=>(a<f.largestBatchId&&(a=f.largestBatchId),i.get(h)?W.resolve():this.remoteDocumentCache.getEntry(e,h).next(p=>{c=c.insert(h,p)}))).next(()=>this.populateOverlays(e,d,i)).next(()=>this.computeViews(e,c,d,Re())).next(h=>({batchId:a,changes:GR(h)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new le(n)).next(r=>{let s=bc();return r.isFoundDocument()&&(s=s.insert(r.key,r)),s})}getDocumentsMatchingCollectionGroupQuery(e,n,r,s){const i=n.collectionGroup;let o=bc();return this.indexManager.getCollectionParents(e,i).next(a=>W.forEach(a,c=>{const d=function(f,p){return new Ml(p,null,f.explicitOrderBy.slice(),f.filters.slice(),f.limit,f.limitType,f.startAt,f.endAt)}(n,c.child(i));return this.getDocumentsMatchingCollectionQuery(e,d,r,s).next(h=>{h.forEach((f,p)=>{o=o.insert(f,p)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,s){let i;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(i=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,i,s))).next(o=>{i.forEach((c,d)=>{const h=d.getKey();o.get(h)===null&&(o=o.insert(h,Gt.newInvalidDocument(h)))});let a=bc();return o.forEach((c,d)=>{const h=i.get(c);h!==void 0&&Wc(h.mutation,d,En.empty(),Qe.now()),Np(n,d)&&(a=a.insert(c,d))}),a})}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Yz{constructor(e){this.serializer=e,this.Nr=new Map,this.Br=new Map}getBundleMetadata(e,n){return W.resolve(this.Nr.get(n))}saveBundleMetadata(e,n){return this.Nr.set(n.id,function(s){return{id:s.id,version:s.version,createTime:Hr(s.createTime)}}(n)),W.resolve()}getNamedQuery(e,n){return W.resolve(this.Br.get(n))}saveNamedQuery(e,n){return this.Br.set(n.name,function(s){return{name:s.name,query:Fz(s.bundledQuery),readTime:Hr(s.readTime)}}(n)),W.resolve()}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xz{constructor(){this.overlays=new ot(le.comparator),this.Lr=new Map}getOverlay(e,n){return W.resolve(this.overlays.get(n))}getOverlays(e,n){const r=go();return W.forEach(n,s=>this.getOverlay(e,s).next(i=>{i!==null&&r.set(s,i)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((s,i)=>{this.bt(e,n,i)}),W.resolve()}removeOverlaysForBatchId(e,n,r){const s=this.Lr.get(r);return s!==void 0&&(s.forEach(i=>this.overlays=this.overlays.remove(i)),this.Lr.delete(r)),W.resolve()}getOverlaysForCollection(e,n,r){const s=go(),i=n.length+1,o=new le(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){const c=a.getNext().value,d=c.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===i&&c.largestBatchId>r&&s.set(c.getKey(),c)}return W.resolve(s)}getOverlaysForCollectionGroup(e,n,r,s){let i=new ot((d,h)=>d-h);const o=this.overlays.getIterator();for(;o.hasNext();){const d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let h=i.get(d.largestBatchId);h===null&&(h=go(),i=i.insert(d.largestBatchId,h)),h.set(d.getKey(),d)}}const a=go(),c=i.getIterator();for(;c.hasNext()&&(c.getNext().value.forEach((d,h)=>a.set(d,h)),!(a.size()>=s)););return W.resolve(a)}bt(e,n,r){const s=this.overlays.get(r.key);if(s!==null){const o=this.Lr.get(s.largestBatchId).delete(r.key);this.Lr.set(s.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new mz(n,r));let i=this.Lr.get(n);i===void 0&&(i=Re(),this.Lr.set(n,i)),this.Lr.set(n,i.add(r.key))}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Jz{constructor(){this.sessionToken=Ft.EMPTY_BYTE_STRING}getSessionToken(e){return W.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,W.resolve()}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class bx{constructor(){this.kr=new St(Pt.Kr),this.qr=new St(Pt.Ur)}isEmpty(){return this.kr.isEmpty()}addReference(e,n){const r=new Pt(e,n);this.kr=this.kr.add(r),this.qr=this.qr.add(r)}$r(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Wr(new Pt(e,n))}Qr(e,n){e.forEach(r=>this.removeReference(r,n))}Gr(e){const n=new le(new We([])),r=new Pt(n,e),s=new Pt(n,e+1),i=[];return this.qr.forEachInRange([r,s],o=>{this.Wr(o),i.push(o.key)}),i}zr(){this.kr.forEach(e=>this.Wr(e))}Wr(e){this.kr=this.kr.delete(e),this.qr=this.qr.delete(e)}jr(e){const n=new le(new We([])),r=new Pt(n,e),s=new Pt(n,e+1);let i=Re();return this.qr.forEachInRange([r,s],o=>{i=i.add(o.key)}),i}containsKey(e){const n=new Pt(e,0),r=this.kr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}}class Pt{constructor(e,n){this.key=e,this.Hr=n}static Kr(e,n){return le.comparator(e.key,n.key)||Ne(e.Hr,n.Hr)}static Ur(e,n){return Ne(e.Hr,n.Hr)||le.comparator(e.key,n.key)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Zz{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Yn=1,this.Jr=new St(Pt.Kr)}checkEmpty(e){return W.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,s){const i=this.Yn;this.Yn++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];const o=new pz(i,n,r,s);this.mutationQueue.push(o);for(const a of s)this.Jr=this.Jr.add(new Pt(a.key,i)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return W.resolve(o)}lookupMutationBatch(e,n){return W.resolve(this.Zr(n))}getNextMutationBatchAfterBatchId(e,n){const r=n+1,s=this.Xr(r),i=s<0?0:s;return W.resolve(this.mutationQueue.length>i?this.mutationQueue[i]:null)}getHighestUnacknowledgedBatchId(){return W.resolve(this.mutationQueue.length===0?dx:this.Yn-1)}getAllMutationBatches(e){return W.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){const r=new Pt(n,0),s=new Pt(n,Number.POSITIVE_INFINITY),i=[];return this.Jr.forEachInRange([r,s],o=>{const a=this.Zr(o.Hr);i.push(a)}),W.resolve(i)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new St(Ne);return n.forEach(s=>{const i=new Pt(s,0),o=new Pt(s,Number.POSITIVE_INFINITY);this.Jr.forEachInRange([i,o],a=>{r=r.add(a.Hr)})}),W.resolve(this.Yr(r))}getAllMutationBatchesAffectingQuery(e,n){const r=n.path,s=r.length+1;let i=r;le.isDocumentKey(i)||(i=i.child(""));const o=new Pt(new le(i),0);let a=new St(Ne);return this.Jr.forEachWhile(c=>{const d=c.key.path;return!!r.isPrefixOf(d)&&(d.length===s&&(a=a.add(c.Hr)),!0)},o),W.resolve(this.Yr(a))}Yr(e){const n=[];return e.forEach(r=>{const s=this.Zr(r);s!==null&&n.push(s)}),n}removeMutationBatch(e,n){Ve(this.ei(n.batchId,"removed")===0,55003),this.mutationQueue.shift();let r=this.Jr;return W.forEach(n.mutations,s=>{const i=new Pt(s.key,n.batchId);return r=r.delete(i),this.referenceDelegate.markPotentiallyOrphaned(e,s.key)}).next(()=>{this.Jr=r})}nr(e){}containsKey(e,n){const r=new Pt(n,0),s=this.Jr.firstAfterOrEqual(r);return W.resolve(n.isEqual(s&&s.key))}performConsistencyCheck(e){return this.mutationQueue.length,W.resolve()}ei(e,n){return this.Xr(e)}Xr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Zr(e){const n=this.Xr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class e7{constructor(e){this.ti=e,this.docs=function(){return new ot(le.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){const r=n.key,s=this.docs.get(r),i=s?s.size:0,o=this.ti(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-i,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){const n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){const r=this.docs.get(n);return W.resolve(r?r.document.mutableCopy():Gt.newInvalidDocument(n))}getEntries(e,n){let r=Rs();return n.forEach(s=>{const i=this.docs.get(s);r=r.insert(s,i?i.document.mutableCopy():Gt.newInvalidDocument(s))}),W.resolve(r)}getDocumentsMatchingQuery(e,n,r,s){let i=Rs();const o=n.path,a=new le(o.child("__id-9223372036854775808__")),c=this.docs.getIteratorFrom(a);for(;c.hasNext();){const{key:d,value:{document:h}}=c.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||IB(SB(h),r)<=0||(s.has(h.key)||Np(n,h))&&(i=i.insert(h.key,h.mutableCopy()))}return W.resolve(i)}getAllFromCollectionGroup(e,n,r,s){he(9500)}ni(e,n){return W.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new t7(this)}getSize(e){return W.resolve(this.size)}}class t7 extends Gz{constructor(e){super(),this.Mr=e}applyChanges(e){const n=[];return this.changes.forEach((r,s)=>{s.isValidDocument()?n.push(this.Mr.addEntry(e,s)):this.Mr.removeEntry(r)}),W.waitFor(n)}getFromCache(e,n){return this.Mr.getEntry(e,n)}getAllFromCache(e,n){return this.Mr.getEntries(e,n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class n7{constructor(e){this.persistence=e,this.ri=new ta(n=>px(n),mx),this.lastRemoteSnapshotVersion=fe.min(),this.highestTargetId=0,this.ii=0,this.si=new bx,this.targetCount=0,this.oi=gl._r()}forEachTarget(e,n){return this.ri.forEach((r,s)=>n(s)),W.resolve()}getLastRemoteSnapshotVersion(e){return W.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return W.resolve(this.ii)}allocateTargetId(e){return this.highestTargetId=this.oi.next(),W.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.ii&&(this.ii=n),W.resolve()}lr(e){this.ri.set(e.target,e);const n=e.targetId;n>this.highestTargetId&&(this.oi=new gl(n),this.highestTargetId=n),e.sequenceNumber>this.ii&&(this.ii=e.sequenceNumber)}addTargetData(e,n){return this.lr(n),this.targetCount+=1,W.resolve()}updateTargetData(e,n){return this.lr(n),W.resolve()}removeTargetData(e,n){return this.ri.delete(n.target),this.si.Gr(n.targetId),this.targetCount-=1,W.resolve()}removeTargets(e,n,r){let s=0;const i=[];return this.ri.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.ri.delete(o),i.push(this.removeMatchingKeysForTargetId(e,a.targetId)),s++)}),W.waitFor(i).next(()=>s)}getTargetCount(e){return W.resolve(this.targetCount)}getTargetData(e,n){const r=this.ri.get(n)||null;return W.resolve(r)}addMatchingKeys(e,n,r){return this.si.$r(n,r),W.resolve()}removeMatchingKeys(e,n,r){this.si.Qr(n,r);const s=this.persistence.referenceDelegate,i=[];return s&&n.forEach(o=>{i.push(s.markPotentiallyOrphaned(e,o))}),W.waitFor(i)}removeMatchingKeysForTargetId(e,n){return this.si.Gr(n),W.resolve()}getMatchingKeysForTargetId(e,n){const r=this.si.jr(n);return W.resolve(r)}containsKey(e,n){return W.resolve(this.si.containsKey(n))}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class pP{constructor(e,n){this._i={},this.overlays={},this.ai=new Tp(0),this.ui=!1,this.ui=!0,this.ci=new Jz,this.referenceDelegate=e(this),this.li=new n7(this),this.indexManager=new Uz,this.remoteDocumentCache=function(s){return new e7(s)}(r=>this.referenceDelegate.hi(r)),this.serializer=new Vz(n),this.Pi=new Yz(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.ui=!1,Promise.resolve()}get started(){return this.ui}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new Xz,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this._i[e.toKey()];return r||(r=new Zz(n,this.referenceDelegate),this._i[e.toKey()]=r),r}getGlobalsCache(){return this.ci}getTargetCache(){return this.li}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Pi}runTransaction(e,n,r){re("MemoryPersistence","Starting transaction:",e);const s=new r7(this.ai.next());return this.referenceDelegate.Ti(),r(s).next(i=>this.referenceDelegate.Ii(s).next(()=>i)).toPromise().then(i=>(s.raiseOnCommittedEvent(),i))}Ei(e,n){return W.or(Object.values(this._i).map(r=>()=>r.containsKey(e,n)))}}class r7 extends NB{constructor(e){super(),this.currentSequenceNumber=e}}class Ex{constructor(e){this.persistence=e,this.Ri=new bx,this.Ai=null}static Vi(e){return new Ex(e)}get di(){if(this.Ai)return this.Ai;throw he(60996)}addReference(e,n,r){return this.Ri.addReference(r,n),this.di.delete(r.toString()),W.resolve()}removeReference(e,n,r){return this.Ri.removeReference(r,n),this.di.add(r.toString()),W.resolve()}markPotentiallyOrphaned(e,n){return this.di.add(n.toString()),W.resolve()}removeTarget(e,n){this.Ri.Gr(n.targetId).forEach(s=>this.di.add(s.toString()));const r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(s=>{s.forEach(i=>this.di.add(i.toString()))}).next(()=>r.removeTargetData(e,n))}Ti(){this.Ai=new Set}Ii(e){const n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return W.forEach(this.di,r=>{const s=le.fromPath(r);return this.mi(e,s).next(i=>{i||n.removeEntry(s,fe.min())})}).next(()=>(this.Ai=null,n.apply(e)))}updateLimboDocument(e,n){return this.mi(e,n).next(r=>{r?this.di.delete(n.toString()):this.di.add(n.toString())})}hi(e){return 0}mi(e,n){return W.or([()=>W.resolve(this.Ri.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Ei(e,n)])}}class Cf{constructor(e,n){this.persistence=e,this.fi=new ta(r=>AB(r.path),(r,s)=>r.isEqual(s)),this.garbageCollector=qz(this,n)}static Vi(e,n){return new Cf(e,n)}Ti(){}Ii(e){return W.resolve()}forEachTarget(e,n){return this.persistence.getTargetCache().forEachTarget(e,n)}dr(e){const n=this.pr(e);return this.persistence.getTargetCache().getTargetCount(e).next(r=>n.next(s=>r+s))}pr(e){let n=0;return this.mr(e,r=>{n++}).next(()=>n)}mr(e,n){return W.forEach(this.fi,(r,s)=>this.wr(e,r,s).next(i=>i?W.resolve():n(s)))}removeTargets(e,n,r){return this.persistence.getTargetCache().removeTargets(e,n,r)}removeOrphanedDocuments(e,n){let r=0;const s=this.persistence.getRemoteDocumentCache(),i=s.newChangeBuffer();return s.ni(e,o=>this.wr(e,o,n).next(a=>{a||(r++,i.removeEntry(o,fe.min()))})).next(()=>i.apply(e)).next(()=>r)}markPotentiallyOrphaned(e,n){return this.fi.set(n,e.currentSequenceNumber),W.resolve()}removeTarget(e,n){const r=n.withSequenceNumber(e.currentSequenceNumber);return this.persistence.getTargetCache().updateTargetData(e,r)}addReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),W.resolve()}removeReference(e,n,r){return this.fi.set(r,e.currentSequenceNumber),W.resolve()}updateLimboDocument(e,n){return this.fi.set(n,e.currentSequenceNumber),W.resolve()}hi(e){let n=e.key.toString().length;return e.isFoundDocument()&&(n+=Eh(e.data.value)),n}wr(e,n,r){return W.or([()=>this.persistence.Ei(e,n),()=>this.persistence.getTargetCache().containsKey(e,n),()=>{const s=this.fi.get(n);return W.resolve(s!==void 0&&s>r)}])}getCacheSize(e){return this.persistence.getRemoteDocumentCache().getSize(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Tx{constructor(e,n,r,s){this.targetId=e,this.fromCache=n,this.Ts=r,this.Is=s}static Es(e,n){let r=Re(),s=Re();for(const i of n.docChanges)switch(i.type){case 0:r=r.add(i.doc.key);break;case 1:s=s.add(i.doc.key)}return new Tx(e,n.fromCache,r,s)}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class s7{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class i7{constructor(){this.Rs=!1,this.As=!1,this.Vs=100,this.ds=function(){return c3()?8:RB(Qt())>0?6:4}()}initialize(e,n){this.fs=e,this.indexManager=n,this.Rs=!0}getDocumentsMatchingQuery(e,n,r,s){const i={result:null};return this.gs(e,n).next(o=>{i.result=o}).next(()=>{if(!i.result)return this.ps(e,n,s,r).next(o=>{i.result=o})}).next(()=>{if(i.result)return;const o=new s7;return this.ys(e,n,o).next(a=>{if(i.result=a,this.As)return this.ws(e,n,o,a.size)})}).next(()=>i.result)}ws(e,n,r,s){return r.documentReadCount<this.Vs?(ga()<=Ce.DEBUG&&re("QueryEngine","SDK will not create cache indexes for query:",ya(n),"since it only creates cache indexes for collection contains","more than or equal to",this.Vs,"documents"),W.resolve()):(ga()<=Ce.DEBUG&&re("QueryEngine","Query:",ya(n),"scans",r.documentReadCount,"local documents and returns",s,"documents as results."),r.documentReadCount>this.ds*s?(ga()<=Ce.DEBUG&&re("QueryEngine","The SDK decides to create cache indexes for query:",ya(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Wr(n))):W.resolve())}gs(e,n){if(zb(n))return W.resolve(null);let r=Wr(n);return this.indexManager.getIndexType(e,r).next(s=>s===0?null:(n.limit!==null&&s===1&&(n=sv(n,null,"F"),r=Wr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(i=>{const o=Re(...i);return this.fs.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(c=>{const d=this.bs(n,a);return this.Ss(n,d,o,c.readTime)?this.gs(e,sv(n,null,"F")):this.Ds(e,d,n,c)}))})))}ps(e,n,r,s){return zb(n)||s.isEqual(fe.min())?W.resolve(null):this.fs.getDocuments(e,r).next(i=>{const o=this.bs(n,i);return this.Ss(n,o,r,s)?W.resolve(null):(ga()<=Ce.DEBUG&&re("QueryEngine","Re-using previous result from %s to execute query: %s",s.toString(),ya(n)),this.Ds(e,o,n,TB(s,xu)).next(a=>a))})}bs(e,n){let r=new St(HR(e));return n.forEach((s,i)=>{Np(e,i)&&(r=r.add(i))}),r}Ss(e,n,r,s){if(e.limit===null)return!1;if(r.size!==n.size)return!0;const i=e.limitType==="F"?n.last():n.first();return!!i&&(i.hasPendingWrites||i.version.compareTo(s)>0)}ys(e,n,r){return ga()<=Ce.DEBUG&&re("QueryEngine","Using full collection scan to execute query:",ya(n)),this.fs.getDocumentsMatchingQuery(e,n,Oi.min(),r)}Ds(e,n,r,s){return this.fs.getDocumentsMatchingQuery(e,r,s).next(i=>(n.forEach(o=>{i=i.insert(o.key,o)}),i))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Sx="LocalStore",o7=3e8;class a7{constructor(e,n,r,s){this.persistence=e,this.Cs=n,this.serializer=s,this.vs=new ot(Ne),this.Fs=new ta(i=>px(i),mx),this.Ms=new Map,this.xs=e.getRemoteDocumentCache(),this.li=e.getTargetCache(),this.Pi=e.getBundleCache(),this.Os(r)}Os(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Qz(this.xs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.xs.setIndexManager(this.indexManager),this.Cs.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.vs))}}function l7(t,e,n,r){return new a7(t,e,n,r)}async function mP(t,e){const n=ge(t);return await n.persistence.runTransaction("Handle user change","readonly",r=>{let s;return n.mutationQueue.getAllMutationBatches(r).next(i=>(s=i,n.Os(e),n.mutationQueue.getAllMutationBatches(r))).next(i=>{const o=[],a=[];let c=Re();for(const d of s){o.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}for(const d of i){a.push(d.batchId);for(const h of d.mutations)c=c.add(h.key)}return n.localDocuments.getDocuments(r,c).next(d=>({Ns:d,removedBatchIds:o,addedBatchIds:a}))})})}function c7(t,e){const n=ge(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{const s=e.batch.keys(),i=n.xs.newChangeBuffer({trackRemovals:!0});return function(a,c,d,h){const f=d.batch,p=f.keys();let m=W.resolve();return p.forEach(T=>{m=m.next(()=>h.getEntry(c,T)).next(w=>{const x=d.docVersions.get(T);Ve(x!==null,48541),w.version.compareTo(x)<0&&(f.applyToRemoteDocument(w,d),w.isValidDocument()&&(w.setReadTime(d.commitVersion),h.addEntry(w)))})}),m.next(()=>a.mutationQueue.removeMutationBatch(c,f))}(n,r,e,i).next(()=>i.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,s,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let c=Re();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(c=c.add(a.batch.mutations[d].key));return c}(e))).next(()=>n.localDocuments.getDocuments(r,s))})}function gP(t){const e=ge(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.li.getLastRemoteSnapshotVersion(n))}function u7(t,e){const n=ge(t),r=e.snapshotVersion;let s=n.vs;return n.persistence.runTransaction("Apply remote event","readwrite-primary",i=>{const o=n.xs.newChangeBuffer({trackRemovals:!0});s=n.vs;const a=[];e.targetChanges.forEach((h,f)=>{const p=s.get(f);if(!p)return;a.push(n.li.removeMatchingKeys(i,h.removedDocuments,f).next(()=>n.li.addMatchingKeys(i,h.addedDocuments,f)));let m=p.withSequenceNumber(i.currentSequenceNumber);e.targetMismatches.get(f)!==null?m=m.withResumeToken(Ft.EMPTY_BYTE_STRING,fe.min()).withLastLimboFreeSnapshotVersion(fe.min()):h.resumeToken.approximateByteSize()>0&&(m=m.withResumeToken(h.resumeToken,r)),s=s.insert(f,m),function(w,x,_){return w.resumeToken.approximateByteSize()===0||x.snapshotVersion.toMicroseconds()-w.snapshotVersion.toMicroseconds()>=o7?!0:_.addedDocuments.size+_.modifiedDocuments.size+_.removedDocuments.size>0}(p,m,h)&&a.push(n.li.updateTargetData(i,m))});let c=Rs(),d=Re();if(e.documentUpdates.forEach(h=>{e.resolvedLimboDocuments.has(h)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(i,h))}),a.push(d7(i,o,e.documentUpdates).next(h=>{c=h.Bs,d=h.Ls})),!r.isEqual(fe.min())){const h=n.li.getLastRemoteSnapshotVersion(i).next(f=>n.li.setTargetsMetadata(i,i.currentSequenceNumber,r));a.push(h)}return W.waitFor(a).next(()=>o.apply(i)).next(()=>n.localDocuments.getLocalViewOfDocuments(i,c,d)).next(()=>c)}).then(i=>(n.vs=s,i))}function d7(t,e,n){let r=Re(),s=Re();return n.forEach(i=>r=r.add(i)),e.getEntries(t,r).next(i=>{let o=Rs();return n.forEach((a,c)=>{const d=i.get(a);c.isFoundDocument()!==d.isFoundDocument()&&(s=s.add(a)),c.isNoDocument()&&c.version.isEqual(fe.min())?(e.removeEntry(a,c.readTime),o=o.insert(a,c)):!d.isValidDocument()||c.version.compareTo(d.version)>0||c.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(c),o=o.insert(a,c)):re(Sx,"Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",c.version)}),{Bs:o,Ls:s}})}function h7(t,e){const n=ge(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=dx),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function f7(t,e){const n=ge(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let s;return n.li.getTargetData(r,e).next(i=>i?(s=i,W.resolve(s)):n.li.allocateTargetId(r).next(o=>(s=new fi(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.li.addTargetData(r,s).next(()=>s))))}).then(r=>{const s=n.vs.get(r.targetId);return(s===null||r.snapshotVersion.compareTo(s.snapshotVersion)>0)&&(n.vs=n.vs.insert(r.targetId,r),n.Fs.set(e,r.targetId)),r})}async function cv(t,e,n){const r=ge(t),s=r.vs.get(e),i=n?"readwrite":"readwrite-primary";try{n||await r.persistence.runTransaction("Release target",i,o=>r.persistence.referenceDelegate.removeTarget(o,s))}catch(o){if(!Ol(o))throw o;re(Sx,`Failed to update sequence numbers for target ${e}: ${o}`)}r.vs=r.vs.remove(e),r.Fs.delete(s.target)}function nE(t,e,n){const r=ge(t);let s=fe.min(),i=Re();return r.persistence.runTransaction("Execute query","readwrite",o=>function(c,d,h){const f=ge(c),p=f.Fs.get(h);return p!==void 0?W.resolve(f.vs.get(p)):f.li.getTargetData(d,h)}(r,o,Wr(e)).next(a=>{if(a)return s=a.lastLimboFreeSnapshotVersion,r.li.getMatchingKeysForTargetId(o,a.targetId).next(c=>{i=c})}).next(()=>r.Cs.getDocumentsMatchingQuery(o,e,n?s:fe.min(),n?i:Re())).next(a=>(p7(r,JB(e),a),{documents:a,ks:i})))}function p7(t,e,n){let r=t.Ms.get(e)||fe.min();n.forEach((s,i)=>{i.readTime.compareTo(r)>0&&(r=i.readTime)}),t.Ms.set(e,r)}class rE{constructor(){this.activeTargetIds=sz()}Qs(e){this.activeTargetIds=this.activeTargetIds.add(e)}Gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Ws(){const e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}}class m7{constructor(){this.vo=new rE,this.Fo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.vo.Qs(e),this.Fo[e]||"not-current"}updateQueryState(e,n,r){this.Fo[e]=n}removeLocalQueryTarget(e){this.vo.Gs(e)}isLocalQueryTarget(e){return this.vo.activeTargetIds.has(e)}clearQueryState(e){delete this.Fo[e]}getAllActiveQueryTargets(){return this.vo.activeTargetIds}isActiveQueryTarget(e){return this.vo.activeTargetIds.has(e)}start(){return this.vo=new rE,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class g7{Mo(e){}shutdown(){}}/**
 * @license
 * Copyright 2019 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const sE="ConnectivityMonitor";class iE{constructor(){this.xo=()=>this.Oo(),this.No=()=>this.Bo(),this.Lo=[],this.ko()}Mo(e){this.Lo.push(e)}shutdown(){window.removeEventListener("online",this.xo),window.removeEventListener("offline",this.No)}ko(){window.addEventListener("online",this.xo),window.addEventListener("offline",this.No)}Oo(){re(sE,"Network connectivity changed: AVAILABLE");for(const e of this.Lo)e(0)}Bo(){re(sE,"Network connectivity changed: UNAVAILABLE");for(const e of this.Lo)e(1)}static v(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */let Kd=null;function uv(){return Kd===null?Kd=function(){return 268435456+Math.round(2147483648*Math.random())}():Kd++,"0x"+Kd.toString(16)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const gg="RestConnection",y7={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery",ExecutePipeline:"executePipeline"};class v7{get Ko(){return!1}constructor(e){this.databaseInfo=e,this.databaseId=e.databaseId;const n=e.ssl?"https":"http",r=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.qo=n+"://"+e.host,this.Uo=`projects/${r}/databases/${s}`,this.$o=this.databaseId.database===bf?`project_id=${r}`:`project_id=${r}&database_id=${s}`}Wo(e,n,r,s,i){const o=uv(),a=this.Qo(e,n.toUriEncodedString());re(gg,`Sending RPC '${e}' ${o}:`,a,r);const c={"google-cloud-resource-prefix":this.Uo,"x-goog-request-params":this.$o};this.Go(c,s,i);const{host:d}=new URL(a),h=Pl(d);return this.zo(e,a,c,r,h).then(f=>(re(gg,`Received RPC '${e}' ${o}: `,f),f),f=>{throw $o(gg,`RPC '${e}' ${o} failed with error: `,f,"url: ",a,"request:",r),f})}jo(e,n,r,s,i,o){return this.Wo(e,n,r,s,i)}Go(e,n,r){e["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+jl}(),e["Content-Type"]="text/plain",this.databaseInfo.appId&&(e["X-Firebase-GMPID"]=this.databaseInfo.appId),n&&n.headers.forEach((s,i)=>e[i]=s),r&&r.headers.forEach((s,i)=>e[i]=s)}Qo(e,n){const r=y7[e];let s=`${this.qo}/v1/${n}:${r}`;return this.databaseInfo.apiKey&&(s=`${s}?key=${encodeURIComponent(this.databaseInfo.apiKey)}`),s}terminate(){}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class w7{constructor(e){this.Ho=e.Ho,this.Jo=e.Jo}Zo(e){this.Xo=e}Yo(e){this.e_=e}t_(e){this.n_=e}onMessage(e){this.r_=e}close(){this.Jo()}send(e){this.Ho(e)}i_(){this.Xo()}s_(){this.e_()}o_(e){this.n_(e)}__(e){this.r_(e)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const zt="WebChannelConnection",cc=(t,e,n)=>{t.listen(e,r=>{try{n(r)}catch(s){setTimeout(()=>{throw s},0)}})};class Ha extends v7{constructor(e){super(e),this.a_=[],this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}static u_(){if(!Ha.c_){const e=xR();cc(e,wR.STAT_EVENT,n=>{n.stat===Xy.PROXY?re(zt,"STAT_EVENT: detected buffering proxy"):n.stat===Xy.NOPROXY&&re(zt,"STAT_EVENT: detected no buffering proxy")}),Ha.c_=!0}}zo(e,n,r,s,i){const o=uv();return new Promise((a,c)=>{const d=new yR;d.setWithCredentials(!0),d.listenOnce(vR.COMPLETE,()=>{try{switch(d.getLastErrorCode()){case bh.NO_ERROR:const f=d.getResponseJson();re(zt,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(f)),a(f);break;case bh.TIMEOUT:re(zt,`RPC '${e}' ${o} timed out`),c(new te(z.DEADLINE_EXCEEDED,"Request time out"));break;case bh.HTTP_ERROR:const p=d.getStatus();if(re(zt,`RPC '${e}' ${o} failed with status:`,p,"response text:",d.getResponseText()),p>0){let m=d.getResponseJson();Array.isArray(m)&&(m=m[0]);const T=m==null?void 0:m.error;if(T&&T.status&&T.message){const w=function(_){const v=_.toLowerCase().replace(/_/g,"-");return Object.values(z).indexOf(v)>=0?v:z.UNKNOWN}(T.status);c(new te(w,T.message))}else c(new te(z.UNKNOWN,"Server responded with status "+d.getStatus()))}else c(new te(z.UNAVAILABLE,"Connection failed."));break;default:he(9055,{l_:e,streamId:o,h_:d.getLastErrorCode(),P_:d.getLastError()})}}finally{re(zt,`RPC '${e}' ${o} completed.`)}});const h=JSON.stringify(s);re(zt,`RPC '${e}' ${o} sending request:`,s),d.send(n,"POST",h,r,15)})}T_(e,n,r){const s=uv(),i=[this.qo,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=this.createWebChannelTransport(),a={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},c=this.longPollingOptions.timeoutSeconds;c!==void 0&&(a.longPollingTimeout=Math.round(1e3*c)),this.useFetchStreams&&(a.useFetchStreams=!0),this.Go(a.initMessageHeaders,n,r),a.encodeInitMessageHeaders=!0;const d=i.join("");re(zt,`Creating RPC '${e}' stream ${s}: ${d}`,a);const h=o.createWebChannel(d,a);this.I_(h);let f=!1,p=!1;const m=new w7({Ho:T=>{p?re(zt,`Not sending because RPC '${e}' stream ${s} is closed:`,T):(f||(re(zt,`Opening RPC '${e}' stream ${s} transport.`),h.open(),f=!0),re(zt,`RPC '${e}' stream ${s} sending:`,T),h.send(T))},Jo:()=>h.close()});return cc(h,_c.EventType.OPEN,()=>{p||(re(zt,`RPC '${e}' stream ${s} transport opened.`),m.i_())}),cc(h,_c.EventType.CLOSE,()=>{p||(p=!0,re(zt,`RPC '${e}' stream ${s} transport closed`),m.o_(),this.E_(h))}),cc(h,_c.EventType.ERROR,T=>{p||(p=!0,$o(zt,`RPC '${e}' stream ${s} transport errored. Name:`,T.name,"Message:",T.message),m.o_(new te(z.UNAVAILABLE,"The operation could not be completed")))}),cc(h,_c.EventType.MESSAGE,T=>{var w;if(!p){const x=T.data[0];Ve(!!x,16349);const _=x,v=(_==null?void 0:_.error)||((w=_[0])==null?void 0:w.error);if(v){re(zt,`RPC '${e}' stream ${s} received error:`,v);const b=v.status;let k=function(C){const I=gt[C];if(I!==void 0)return nP(I)}(b),O=v.message;b==="NOT_FOUND"&&O.includes("database")&&O.includes("does not exist")&&O.includes(this.databaseId.database)&&$o(`Database '${this.databaseId.database}' not found. Please check your project configuration.`),k===void 0&&(k=z.INTERNAL,O="Unknown error status: "+b+" with message "+v.message),p=!0,m.o_(new te(k,O)),h.close()}else re(zt,`RPC '${e}' stream ${s} received:`,x),m.__(x)}}),Ha.u_(),setTimeout(()=>{m.s_()},0),m}terminate(){this.a_.forEach(e=>e.close()),this.a_=[]}I_(e){this.a_.push(e)}E_(e){this.a_=this.a_.filter(n=>n===e)}Go(e,n,r){super.Go(e,n,r),this.databaseInfo.apiKey&&(e["x-goog-api-key"]=this.databaseInfo.apiKey)}createWebChannelTransport(){return _R()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function x7(t){return new Ha(t)}function yg(){return typeof document<"u"?document:null}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function kp(t){return new Tz(t,!0)}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Ha.c_=!1;class yP{constructor(e,n,r=1e3,s=1.5,i=6e4){this.Ci=e,this.timerId=n,this.R_=r,this.A_=s,this.V_=i,this.d_=0,this.m_=null,this.f_=Date.now(),this.reset()}reset(){this.d_=0}g_(){this.d_=this.V_}p_(e){this.cancel();const n=Math.floor(this.d_+this.y_()),r=Math.max(0,Date.now()-this.f_),s=Math.max(0,n-r);s>0&&re("ExponentialBackoff",`Backing off for ${s} ms (base delay: ${this.d_} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.m_=this.Ci.enqueueAfterDelay(this.timerId,s,()=>(this.f_=Date.now(),e())),this.d_*=this.A_,this.d_<this.R_&&(this.d_=this.R_),this.d_>this.V_&&(this.d_=this.V_)}w_(){this.m_!==null&&(this.m_.skipDelay(),this.m_=null)}cancel(){this.m_!==null&&(this.m_.cancel(),this.m_=null)}y_(){return(Math.random()-.5)*this.d_}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const oE="PersistentStream";class vP{constructor(e,n,r,s,i,o,a,c){this.Ci=e,this.b_=r,this.S_=s,this.connection=i,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=c,this.state=0,this.D_=0,this.C_=null,this.v_=null,this.stream=null,this.F_=0,this.M_=new yP(e,n)}x_(){return this.state===1||this.state===5||this.O_()}O_(){return this.state===2||this.state===3}start(){this.F_=0,this.state!==4?this.auth():this.N_()}async stop(){this.x_()&&await this.close(0)}B_(){this.state=0,this.M_.reset()}L_(){this.O_()&&this.C_===null&&(this.C_=this.Ci.enqueueAfterDelay(this.b_,6e4,()=>this.k_()))}K_(e){this.q_(),this.stream.send(e)}async k_(){if(this.O_())return this.close(0)}q_(){this.C_&&(this.C_.cancel(),this.C_=null)}U_(){this.v_&&(this.v_.cancel(),this.v_=null)}async close(e,n){this.q_(),this.U_(),this.M_.cancel(),this.D_++,e!==4?this.M_.reset():n&&n.code===z.RESOURCE_EXHAUSTED?(Ns(n.toString()),Ns("Using maximum backoff delay to prevent overloading the backend."),this.M_.g_()):n&&n.code===z.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.W_(),this.stream.close(),this.stream=null),this.state=e,await this.listener.t_(n)}W_(){}auth(){this.state=1;const e=this.Q_(this.D_),n=this.D_;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,s])=>{this.D_===n&&this.G_(r,s)},r=>{e(()=>{const s=new te(z.UNKNOWN,"Fetching auth token failed: "+r.message);return this.z_(s)})})}G_(e,n){const r=this.Q_(this.D_);this.stream=this.j_(e,n),this.stream.Zo(()=>{r(()=>this.listener.Zo())}),this.stream.Yo(()=>{r(()=>(this.state=2,this.v_=this.Ci.enqueueAfterDelay(this.S_,1e4,()=>(this.O_()&&(this.state=3),Promise.resolve())),this.listener.Yo()))}),this.stream.t_(s=>{r(()=>this.z_(s))}),this.stream.onMessage(s=>{r(()=>++this.F_==1?this.H_(s):this.onNext(s))})}N_(){this.state=5,this.M_.p_(async()=>{this.state=0,this.start()})}z_(e){return re(oE,`close with error: ${e}`),this.stream=null,this.close(4,e)}Q_(e){return n=>{this.Ci.enqueueAndForget(()=>this.D_===e?n():(re(oE,"stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}}class _7 extends vP{constructor(e,n,r,s,i,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}j_(e,n){return this.connection.T_("Listen",e,n)}H_(e){return this.onNext(e)}onNext(e){this.M_.reset();const n=Cz(this.serializer,e),r=function(i){if(!("targetChange"in i))return fe.min();const o=i.targetChange;return o.targetIds&&o.targetIds.length?fe.min():o.readTime?Hr(o.readTime):fe.min()}(e);return this.listener.J_(n,r)}Z_(e){const n={};n.database=lv(this.serializer),n.addTarget=function(i,o){let a;const c=o.target;if(a=nv(c)?{documents:Pz(i,c)}:{query:Az(i,c).ft},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=iP(i,o.resumeToken);const d=iv(i,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(fe.min())>0){a.readTime=If(i,o.snapshotVersion.toTimestamp());const d=iv(i,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);const r=jz(this.serializer,e);r&&(n.labels=r),this.K_(n)}X_(e){const n={};n.database=lv(this.serializer),n.removeTarget=e,this.K_(n)}}class b7 extends vP{constructor(e,n,r,s,i,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,s,o),this.serializer=i}get Y_(){return this.F_>0}start(){this.lastStreamToken=void 0,super.start()}W_(){this.Y_&&this.ea([])}j_(e,n){return this.connection.T_("Write",e,n)}H_(e){return Ve(!!e.streamToken,31322),this.lastStreamToken=e.streamToken,Ve(!e.writeResults||e.writeResults.length===0,55816),this.listener.ta()}onNext(e){Ve(!!e.streamToken,12678),this.lastStreamToken=e.streamToken,this.M_.reset();const n=Rz(e.writeResults,e.commitTime),r=Hr(e.commitTime);return this.listener.na(r,n)}ra(){const e={};e.database=lv(this.serializer),this.K_(e)}ea(e){const n={streamToken:this.lastStreamToken,writes:e.map(r=>Nz(this.serializer,r))};this.K_(n)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class E7{}class T7 extends E7{constructor(e,n,r,s){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=s,this.ia=!1}sa(){if(this.ia)throw new te(z.FAILED_PRECONDITION,"The client has already been terminated.")}Wo(e,n,r,s){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([i,o])=>this.connection.Wo(e,ov(n,r),s,i,o)).catch(i=>{throw i.name==="FirebaseError"?(i.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),i):new te(z.UNKNOWN,i.toString())})}jo(e,n,r,s,i){return this.sa(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.jo(e,ov(n,r),s,o,a,i)).catch(o=>{throw o.name==="FirebaseError"?(o.code===z.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new te(z.UNKNOWN,o.toString())})}terminate(){this.ia=!0,this.connection.terminate()}}function S7(t,e,n,r){return new T7(t,e,n,r)}class I7{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.oa=0,this._a=null,this.aa=!0}ua(){this.oa===0&&(this.ca("Unknown"),this._a=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this._a=null,this.la("Backend didn't respond within 10 seconds."),this.ca("Offline"),Promise.resolve())))}ha(e){this.state==="Online"?this.ca("Unknown"):(this.oa++,this.oa>=1&&(this.Pa(),this.la(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.ca("Offline")))}set(e){this.Pa(),this.oa=0,e==="Online"&&(this.aa=!1),this.ca(e)}ca(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}la(e){const n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.aa?(Ns(n),this.aa=!1):re("OnlineStateTracker",n)}Pa(){this._a!==null&&(this._a.cancel(),this._a=null)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Bo="RemoteStore";class C7{constructor(e,n,r,s,i){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.Ta=[],this.Ia=new Map,this.Ea=new Set,this.Ra=[],this.Aa=i,this.Aa.Mo(o=>{r.enqueueAndForget(async()=>{na(this)&&(re(Bo,"Restarting streams for network reachability change."),await async function(c){const d=ge(c);d.Ea.add(4),await ed(d),d.Va.set("Unknown"),d.Ea.delete(4),await jp(d)}(this))})}),this.Va=new I7(r,s)}}async function jp(t){if(na(t))for(const e of t.Ra)await e(!0)}async function ed(t){for(const e of t.Ra)await e(!1)}function wP(t,e){const n=ge(t);n.Ia.has(e.targetId)||(n.Ia.set(e.targetId,e),Rx(n)?Nx(n):Ll(n).O_()&&Cx(n,e))}function Ix(t,e){const n=ge(t),r=Ll(n);n.Ia.delete(e),r.O_()&&xP(n,e),n.Ia.size===0&&(r.O_()?r.L_():na(n)&&n.Va.set("Unknown"))}function Cx(t,e){if(t.da.$e(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(fe.min())>0){const n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Ll(t).Z_(e)}function xP(t,e){t.da.$e(e),Ll(t).X_(e)}function Nx(t){t.da=new xz({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),At:e=>t.Ia.get(e)||null,ht:()=>t.datastore.serializer.databaseId}),Ll(t).start(),t.Va.ua()}function Rx(t){return na(t)&&!Ll(t).x_()&&t.Ia.size>0}function na(t){return ge(t).Ea.size===0}function _P(t){t.da=void 0}async function N7(t){t.Va.set("Online")}async function R7(t){t.Ia.forEach((e,n)=>{Cx(t,e)})}async function P7(t,e){_P(t),Rx(t)?(t.Va.ha(e),Nx(t)):t.Va.set("Unknown")}async function A7(t,e,n){if(t.Va.set("Online"),e instanceof sP&&e.state===2&&e.cause)try{await async function(s,i){const o=i.cause;for(const a of i.targetIds)s.Ia.has(a)&&(await s.remoteSyncer.rejectListen(a,o),s.Ia.delete(a),s.da.removeTarget(a))}(t,e)}catch(r){re(Bo,"Failed to remove targets %s: %s ",e.targetIds.join(","),r),await Nf(t,r)}else if(e instanceof Ih?t.da.Xe(e):e instanceof rP?t.da.st(e):t.da.tt(e),!n.isEqual(fe.min()))try{const r=await gP(t.localStore);n.compareTo(r)>=0&&await function(i,o){const a=i.da.Tt(o);return a.targetChanges.forEach((c,d)=>{if(c.resumeToken.approximateByteSize()>0){const h=i.Ia.get(d);h&&i.Ia.set(d,h.withResumeToken(c.resumeToken,o))}}),a.targetMismatches.forEach((c,d)=>{const h=i.Ia.get(c);if(!h)return;i.Ia.set(c,h.withResumeToken(Ft.EMPTY_BYTE_STRING,h.snapshotVersion)),xP(i,c);const f=new fi(h.target,c,d,h.sequenceNumber);Cx(i,f)}),i.remoteSyncer.applyRemoteEvent(a)}(t,n)}catch(r){re(Bo,"Failed to raise snapshot:",r),await Nf(t,r)}}async function Nf(t,e,n){if(!Ol(e))throw e;t.Ea.add(1),await ed(t),t.Va.set("Offline"),n||(n=()=>gP(t.localStore)),t.asyncQueue.enqueueRetryable(async()=>{re(Bo,"Retrying IndexedDB access"),await n(),t.Ea.delete(1),await jp(t)})}function bP(t,e){return e().catch(n=>Nf(t,n,e))}async function Dp(t){const e=ge(t),n=Fi(e);let r=e.Ta.length>0?e.Ta[e.Ta.length-1].batchId:dx;for(;k7(e);)try{const s=await h7(e.localStore,r);if(s===null){e.Ta.length===0&&n.L_();break}r=s.batchId,j7(e,s)}catch(s){await Nf(e,s)}EP(e)&&TP(e)}function k7(t){return na(t)&&t.Ta.length<10}function j7(t,e){t.Ta.push(e);const n=Fi(t);n.O_()&&n.Y_&&n.ea(e.mutations)}function EP(t){return na(t)&&!Fi(t).x_()&&t.Ta.length>0}function TP(t){Fi(t).start()}async function D7(t){Fi(t).ra()}async function O7(t){const e=Fi(t);for(const n of t.Ta)e.ea(n.mutations)}async function M7(t,e,n){const r=t.Ta.shift(),s=wx.from(r,e,n);await bP(t,()=>t.remoteSyncer.applySuccessfulWrite(s)),await Dp(t)}async function L7(t,e){e&&Fi(t).Y_&&await async function(r,s){if(function(o){return yz(o)&&o!==z.ABORTED}(s.code)){const i=r.Ta.shift();Fi(r).B_(),await bP(r,()=>r.remoteSyncer.rejectFailedWrite(i.batchId,s)),await Dp(r)}}(t,e),EP(t)&&TP(t)}async function aE(t,e){const n=ge(t);n.asyncQueue.verifyOperationInProgress(),re(Bo,"RemoteStore received new credentials");const r=na(n);n.Ea.add(3),await ed(n),r&&n.Va.set("Unknown"),await n.remoteSyncer.handleCredentialChange(e),n.Ea.delete(3),await jp(n)}async function V7(t,e){const n=ge(t);e?(n.Ea.delete(2),await jp(n)):e||(n.Ea.add(2),await ed(n),n.Va.set("Unknown"))}function Ll(t){return t.ma||(t.ma=function(n,r,s){const i=ge(n);return i.sa(),new _7(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:N7.bind(null,t),Yo:R7.bind(null,t),t_:P7.bind(null,t),J_:A7.bind(null,t)}),t.Ra.push(async e=>{e?(t.ma.B_(),Rx(t)?Nx(t):t.Va.set("Unknown")):(await t.ma.stop(),_P(t))})),t.ma}function Fi(t){return t.fa||(t.fa=function(n,r,s){const i=ge(n);return i.sa(),new b7(r,i.connection,i.authCredentials,i.appCheckCredentials,i.serializer,s)}(t.datastore,t.asyncQueue,{Zo:()=>Promise.resolve(),Yo:D7.bind(null,t),t_:L7.bind(null,t),ta:O7.bind(null,t),na:M7.bind(null,t)}),t.Ra.push(async e=>{e?(t.fa.B_(),await Dp(t)):(await t.fa.stop(),t.Ta.length>0&&(re(Bo,`Stopping write stream with ${t.Ta.length} pending writes`),t.Ta=[]))})),t.fa}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Px{constructor(e,n,r,s,i){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=s,this.removalCallback=i,this.deferred=new Ii,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,s,i){const o=Date.now()+r,a=new Px(e,n,o,s,i);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new te(z.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}}function Ax(t,e){if(Ns("AsyncQueue",`${e}: ${t}`),Ol(t))return new te(z.UNAVAILABLE,`${e}: ${t}`);throw t}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qa{static emptySet(e){return new qa(e.comparator)}constructor(e){this.comparator=e?(n,r)=>e(n,r)||le.comparator(n.key,r.key):(n,r)=>le.comparator(n.key,r.key),this.keyedMap=bc(),this.sortedSet=new ot(this.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){const n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){const n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){const n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof qa)||this.size!==e.size)return!1;const n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){const s=n.getNext().key,i=r.getNext().key;if(!s.isEqual(i))return!1}return!0}toString(){const e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){const r=new qa;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class lE{constructor(){this.ga=new ot(le.comparator)}track(e){const n=e.doc.key,r=this.ga.get(n);r?e.type!==0&&r.type===3?this.ga=this.ga.insert(n,e):e.type===3&&r.type!==1?this.ga=this.ga.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.ga=this.ga.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.ga=this.ga.remove(n):e.type===1&&r.type===2?this.ga=this.ga.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.ga=this.ga.insert(n,{type:2,doc:e.doc}):he(63341,{Vt:e,pa:r}):this.ga=this.ga.insert(n,e)}ya(){const e=[];return this.ga.inorderTraversal((n,r)=>{e.push(r)}),e}}class yl{constructor(e,n,r,s,i,o,a,c,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=s,this.mutatedKeys=i,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=c,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,s,i){const o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new yl(e,n,qa.emptySet(n),o,r,s,!0,!1,i)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Cp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;const n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let s=0;s<n.length;s++)if(n[s].type!==r[s].type||!n[s].doc.isEqual(r[s].doc))return!1;return!0}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class F7{constructor(){this.wa=void 0,this.ba=[]}Sa(){return this.ba.some(e=>e.Da())}}class U7{constructor(){this.queries=cE(),this.onlineState="Unknown",this.Ca=new Set}terminate(){(function(n,r){const s=ge(n),i=s.queries;s.queries=cE(),i.forEach((o,a)=>{for(const c of a.ba)c.onError(r)})})(this,new te(z.ABORTED,"Firestore shutting down"))}}function cE(){return new ta(t=>WR(t),Cp)}async function SP(t,e){const n=ge(t);let r=3;const s=e.query;let i=n.queries.get(s);i?!i.Sa()&&e.Da()&&(r=2):(i=new F7,r=e.Da()?0:1);try{switch(r){case 0:i.wa=await n.onListen(s,!0);break;case 1:i.wa=await n.onListen(s,!1);break;case 2:await n.onFirstRemoteStoreListen(s)}}catch(o){const a=Ax(o,`Initialization of query '${ya(e.query)}' failed`);return void e.onError(a)}n.queries.set(s,i),i.ba.push(e),e.va(n.onlineState),i.wa&&e.Fa(i.wa)&&kx(n)}async function IP(t,e){const n=ge(t),r=e.query;let s=3;const i=n.queries.get(r);if(i){const o=i.ba.indexOf(e);o>=0&&(i.ba.splice(o,1),i.ba.length===0?s=e.Da()?0:1:!i.Sa()&&e.Da()&&(s=2))}switch(s){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}}function $7(t,e){const n=ge(t);let r=!1;for(const s of e){const i=s.query,o=n.queries.get(i);if(o){for(const a of o.ba)a.Fa(s)&&(r=!0);o.wa=s}}r&&kx(n)}function B7(t,e,n){const r=ge(t),s=r.queries.get(e);if(s)for(const i of s.ba)i.onError(n);r.queries.delete(e)}function kx(t){t.Ca.forEach(e=>{e.next()})}var dv,uE;(uE=dv||(dv={})).Ma="default",uE.Cache="cache";class CP{constructor(e,n,r){this.query=e,this.xa=n,this.Oa=!1,this.Na=null,this.onlineState="Unknown",this.options=r||{}}Fa(e){if(!this.options.includeMetadataChanges){const r=[];for(const s of e.docChanges)s.type!==3&&r.push(s);e=new yl(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.Oa?this.Ba(e)&&(this.xa.next(e),n=!0):this.La(e,this.onlineState)&&(this.ka(e),n=!0),this.Na=e,n}onError(e){this.xa.error(e)}va(e){this.onlineState=e;let n=!1;return this.Na&&!this.Oa&&this.La(this.Na,e)&&(this.ka(this.Na),n=!0),n}La(e,n){if(!e.fromCache||!this.Da())return!0;const r=n!=="Offline";return(!this.options.Ka||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}Ba(e){if(e.docChanges.length>0)return!0;const n=this.Na&&this.Na.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}ka(e){e=yl.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.Oa=!0,this.xa.next(e)}Da(){return this.options.source!==dv.Cache}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class NP{constructor(e){this.key=e}}class RP{constructor(e){this.key=e}}class z7{constructor(e,n){this.query=e,this.Za=n,this.Xa=null,this.hasCachedResults=!1,this.current=!1,this.Ya=Re(),this.mutatedKeys=Re(),this.eu=HR(e),this.tu=new qa(this.eu)}get nu(){return this.Za}ru(e,n){const r=n?n.iu:new lE,s=n?n.tu:this.tu;let i=n?n.mutatedKeys:this.mutatedKeys,o=s,a=!1;const c=this.query.limitType==="F"&&s.size===this.query.limit?s.last():null,d=this.query.limitType==="L"&&s.size===this.query.limit?s.first():null;if(e.inorderTraversal((h,f)=>{const p=s.get(h),m=Np(this.query,f)?f:null,T=!!p&&this.mutatedKeys.has(p.key),w=!!m&&(m.hasLocalMutations||this.mutatedKeys.has(m.key)&&m.hasCommittedMutations);let x=!1;p&&m?p.data.isEqual(m.data)?T!==w&&(r.track({type:3,doc:m}),x=!0):this.su(p,m)||(r.track({type:2,doc:m}),x=!0,(c&&this.eu(m,c)>0||d&&this.eu(m,d)<0)&&(a=!0)):!p&&m?(r.track({type:0,doc:m}),x=!0):p&&!m&&(r.track({type:1,doc:p}),x=!0,(c||d)&&(a=!0)),x&&(m?(o=o.add(m),i=w?i.add(h):i.delete(h)):(o=o.delete(h),i=i.delete(h)))}),this.query.limit!==null)for(;o.size>this.query.limit;){const h=this.query.limitType==="F"?o.last():o.first();o=o.delete(h.key),i=i.delete(h.key),r.track({type:1,doc:h})}return{tu:o,iu:r,Ss:a,mutatedKeys:i}}su(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,s){const i=this.tu;this.tu=e.tu,this.mutatedKeys=e.mutatedKeys;const o=e.iu.ya();o.sort((h,f)=>function(m,T){const w=x=>{switch(x){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return he(20277,{Vt:x})}};return w(m)-w(T)}(h.type,f.type)||this.eu(h.doc,f.doc)),this.ou(r),s=s??!1;const a=n&&!s?this._u():[],c=this.Ya.size===0&&this.current&&!s?1:0,d=c!==this.Xa;return this.Xa=c,o.length!==0||d?{snapshot:new yl(this.query,e.tu,i,o,e.mutatedKeys,c===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),au:a}:{au:a}}va(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({tu:this.tu,iu:new lE,mutatedKeys:this.mutatedKeys,Ss:!1},!1)):{au:[]}}uu(e){return!this.Za.has(e)&&!!this.tu.has(e)&&!this.tu.get(e).hasLocalMutations}ou(e){e&&(e.addedDocuments.forEach(n=>this.Za=this.Za.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Za=this.Za.delete(n)),this.current=e.current)}_u(){if(!this.current)return[];const e=this.Ya;this.Ya=Re(),this.tu.forEach(r=>{this.uu(r.key)&&(this.Ya=this.Ya.add(r.key))});const n=[];return e.forEach(r=>{this.Ya.has(r)||n.push(new RP(r))}),this.Ya.forEach(r=>{e.has(r)||n.push(new NP(r))}),n}cu(e){this.Za=e.ks,this.Ya=Re();const n=this.ru(e.documents);return this.applyChanges(n,!0)}lu(){return yl.fromInitialDocuments(this.query,this.tu,this.mutatedKeys,this.Xa===0,this.hasCachedResults)}}const jx="SyncEngine";class W7{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}}class H7{constructor(e){this.key=e,this.hu=!1}}class q7{constructor(e,n,r,s,i,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=s,this.currentUser=i,this.maxConcurrentLimboResolutions=o,this.Pu={},this.Tu=new ta(a=>WR(a),Cp),this.Iu=new Map,this.Eu=new Set,this.Ru=new ot(le.comparator),this.Au=new Map,this.Vu=new bx,this.du={},this.mu=new Map,this.fu=gl.ar(),this.onlineState="Unknown",this.gu=void 0}get isPrimaryClient(){return this.gu===!0}}async function G7(t,e,n=!0){const r=OP(t);let s;const i=r.Tu.get(e);return i?(r.sharedClientState.addLocalQueryTarget(i.targetId),s=i.view.lu()):s=await PP(r,e,n,!0),s}async function K7(t,e){const n=OP(t);await PP(n,e,!0,!1)}async function PP(t,e,n,r){const s=await f7(t.localStore,Wr(e)),i=s.targetId,o=t.sharedClientState.addLocalQueryTarget(i,n);let a;return r&&(a=await Q7(t,e,i,o==="current",s.resumeToken)),t.isPrimaryClient&&n&&wP(t.remoteStore,s),a}async function Q7(t,e,n,r,s){t.pu=(f,p,m)=>async function(w,x,_,v){let b=x.view.ru(_);b.Ss&&(b=await nE(w.localStore,x.query,!1).then(({documents:C})=>x.view.ru(C,b)));const k=v&&v.targetChanges.get(x.targetId),O=v&&v.targetMismatches.get(x.targetId)!=null,D=x.view.applyChanges(b,w.isPrimaryClient,k,O);return hE(w,x.targetId,D.au),D.snapshot}(t,f,p,m);const i=await nE(t.localStore,e,!0),o=new z7(e,i.ks),a=o.ru(i.documents),c=Zu.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",s),d=o.applyChanges(a,t.isPrimaryClient,c);hE(t,n,d.au);const h=new W7(e,n,o);return t.Tu.set(e,h),t.Iu.has(n)?t.Iu.get(n).push(e):t.Iu.set(n,[e]),d.snapshot}async function Y7(t,e,n){const r=ge(t),s=r.Tu.get(e),i=r.Iu.get(s.targetId);if(i.length>1)return r.Iu.set(s.targetId,i.filter(o=>!Cp(o,e))),void r.Tu.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(s.targetId),r.sharedClientState.isActiveQueryTarget(s.targetId)||await cv(r.localStore,s.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(s.targetId),n&&Ix(r.remoteStore,s.targetId),hv(r,s.targetId)}).catch(Dl)):(hv(r,s.targetId),await cv(r.localStore,s.targetId,!0))}async function X7(t,e){const n=ge(t),r=n.Tu.get(e),s=n.Iu.get(r.targetId);n.isPrimaryClient&&s.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),Ix(n.remoteStore,r.targetId))}async function J7(t,e,n){const r=i8(t);try{const s=await function(o,a){const c=ge(o),d=Qe.now(),h=a.reduce((m,T)=>m.add(T.key),Re());let f,p;return c.persistence.runTransaction("Locally write mutations","readwrite",m=>{let T=Rs(),w=Re();return c.xs.getEntries(m,h).next(x=>{T=x,T.forEach((_,v)=>{v.isValidDocument()||(w=w.add(_))})}).next(()=>c.localDocuments.getOverlayedDocuments(m,T)).next(x=>{f=x;const _=[];for(const v of a){const b=hz(v,f.get(v.key).overlayedDocument);b!=null&&_.push(new Yi(v.key,b,MR(b.value.mapValue),ur.exists(!0)))}return c.mutationQueue.addMutationBatch(m,d,_,a)}).next(x=>{p=x;const _=x.applyToLocalDocumentSet(f,w);return c.documentOverlayCache.saveOverlays(m,x.batchId,_)})}).then(()=>({batchId:p.batchId,changes:GR(f)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(s.batchId),function(o,a,c){let d=o.du[o.currentUser.toKey()];d||(d=new ot(Ne)),d=d.insert(a,c),o.du[o.currentUser.toKey()]=d}(r,s.batchId,n),await td(r,s.changes),await Dp(r.remoteStore)}catch(s){const i=Ax(s,"Failed to persist write");n.reject(i)}}async function AP(t,e){const n=ge(t);try{const r=await u7(n.localStore,e);e.targetChanges.forEach((s,i)=>{const o=n.Au.get(i);o&&(Ve(s.addedDocuments.size+s.modifiedDocuments.size+s.removedDocuments.size<=1,22616),s.addedDocuments.size>0?o.hu=!0:s.modifiedDocuments.size>0?Ve(o.hu,14607):s.removedDocuments.size>0&&(Ve(o.hu,42227),o.hu=!1))}),await td(n,r,e)}catch(r){await Dl(r)}}function dE(t,e,n){const r=ge(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){const s=[];r.Tu.forEach((i,o)=>{const a=o.view.va(e);a.snapshot&&s.push(a.snapshot)}),function(o,a){const c=ge(o);c.onlineState=a;let d=!1;c.queries.forEach((h,f)=>{for(const p of f.ba)p.va(a)&&(d=!0)}),d&&kx(c)}(r.eventManager,e),s.length&&r.Pu.J_(s),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}async function Z7(t,e,n){const r=ge(t);r.sharedClientState.updateQueryState(e,"rejected",n);const s=r.Au.get(e),i=s&&s.key;if(i){let o=new ot(le.comparator);o=o.insert(i,Gt.newNoDocument(i,fe.min()));const a=Re().add(i),c=new Ap(fe.min(),new Map,new ot(Ne),o,a);await AP(r,c),r.Ru=r.Ru.remove(i),r.Au.delete(e),Dx(r)}else await cv(r.localStore,e,!1).then(()=>hv(r,e,n)).catch(Dl)}async function e8(t,e){const n=ge(t),r=e.batch.batchId;try{const s=await c7(n.localStore,e);jP(n,r,null),kP(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),await td(n,s)}catch(s){await Dl(s)}}async function t8(t,e,n){const r=ge(t);try{const s=await function(o,a){const c=ge(o);return c.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let h;return c.mutationQueue.lookupMutationBatch(d,a).next(f=>(Ve(f!==null,37113),h=f.keys(),c.mutationQueue.removeMutationBatch(d,f))).next(()=>c.mutationQueue.performConsistencyCheck(d)).next(()=>c.documentOverlayCache.removeOverlaysForBatchId(d,h,a)).next(()=>c.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,h)).next(()=>c.localDocuments.getDocuments(d,h))})}(r.localStore,e);jP(r,e,n),kP(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),await td(r,s)}catch(s){await Dl(s)}}function kP(t,e){(t.mu.get(e)||[]).forEach(n=>{n.resolve()}),t.mu.delete(e)}function jP(t,e,n){const r=ge(t);let s=r.du[r.currentUser.toKey()];if(s){const i=s.get(e);i&&(n?i.reject(n):i.resolve(),s=s.remove(e)),r.du[r.currentUser.toKey()]=s}}function hv(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(const r of t.Iu.get(e))t.Tu.delete(r),n&&t.Pu.yu(r,n);t.Iu.delete(e),t.isPrimaryClient&&t.Vu.Gr(e).forEach(r=>{t.Vu.containsKey(r)||DP(t,r)})}function DP(t,e){t.Eu.delete(e.path.canonicalString());const n=t.Ru.get(e);n!==null&&(Ix(t.remoteStore,n),t.Ru=t.Ru.remove(e),t.Au.delete(n),Dx(t))}function hE(t,e,n){for(const r of n)r instanceof NP?(t.Vu.addReference(r.key,e),n8(t,r)):r instanceof RP?(re(jx,"Document no longer in limbo: "+r.key),t.Vu.removeReference(r.key,e),t.Vu.containsKey(r.key)||DP(t,r.key)):he(19791,{wu:r})}function n8(t,e){const n=e.key,r=n.path.canonicalString();t.Ru.get(n)||t.Eu.has(r)||(re(jx,"New document in limbo: "+n),t.Eu.add(r),Dx(t))}function Dx(t){for(;t.Eu.size>0&&t.Ru.size<t.maxConcurrentLimboResolutions;){const e=t.Eu.values().next().value;t.Eu.delete(e);const n=new le(We.fromString(e)),r=t.fu.next();t.Au.set(r,new H7(n)),t.Ru=t.Ru.insert(n,r),wP(t.remoteStore,new fi(Wr(gx(n.path)),r,"TargetPurposeLimboResolution",Tp.ce))}}async function td(t,e,n){const r=ge(t),s=[],i=[],o=[];r.Tu.isEmpty()||(r.Tu.forEach((a,c)=>{o.push(r.pu(c,e,n).then(d=>{var h;if((d||n)&&r.isPrimaryClient){const f=d?!d.fromCache:(h=n==null?void 0:n.targetChanges.get(c.targetId))==null?void 0:h.current;r.sharedClientState.updateQueryState(c.targetId,f?"current":"not-current")}if(d){s.push(d);const f=Tx.Es(c.targetId,d);i.push(f)}}))}),await Promise.all(o),r.Pu.J_(s),await async function(c,d){const h=ge(c);try{await h.persistence.runTransaction("notifyLocalViewChanges","readwrite",f=>W.forEach(d,p=>W.forEach(p.Ts,m=>h.persistence.referenceDelegate.addReference(f,p.targetId,m)).next(()=>W.forEach(p.Is,m=>h.persistence.referenceDelegate.removeReference(f,p.targetId,m)))))}catch(f){if(!Ol(f))throw f;re(Sx,"Failed to update sequence numbers: "+f)}for(const f of d){const p=f.targetId;if(!f.fromCache){const m=h.vs.get(p),T=m.snapshotVersion,w=m.withLastLimboFreeSnapshotVersion(T);h.vs=h.vs.insert(p,w)}}}(r.localStore,i))}async function r8(t,e){const n=ge(t);if(!n.currentUser.isEqual(e)){re(jx,"User change. New user:",e.toKey());const r=await mP(n.localStore,e);n.currentUser=e,function(i,o){i.mu.forEach(a=>{a.forEach(c=>{c.reject(new te(z.CANCELLED,o))})}),i.mu.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),await td(n,r.Ns)}}function s8(t,e){const n=ge(t),r=n.Au.get(e);if(r&&r.hu)return Re().add(r.key);{let s=Re();const i=n.Iu.get(e);if(!i)return s;for(const o of i){const a=n.Tu.get(o);s=s.unionWith(a.view.nu)}return s}}function OP(t){const e=ge(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=AP.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=s8.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Z7.bind(null,e),e.Pu.J_=$7.bind(null,e.eventManager),e.Pu.yu=B7.bind(null,e.eventManager),e}function i8(t){const e=ge(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=e8.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=t8.bind(null,e),e}class Rf{constructor(){this.kind="memory",this.synchronizeTabs=!1}async initialize(e){this.serializer=kp(e.databaseInfo.databaseId),this.sharedClientState=this.Du(e),this.persistence=this.Cu(e),await this.persistence.start(),this.localStore=this.vu(e),this.gcScheduler=this.Fu(e,this.localStore),this.indexBackfillerScheduler=this.Mu(e,this.localStore)}Fu(e,n){return null}Mu(e,n){return null}vu(e){return l7(this.persistence,new i7,e.initialUser,this.serializer)}Cu(e){return new pP(Ex.Vi,this.serializer)}Du(e){return new m7}async terminate(){var e,n;(e=this.gcScheduler)==null||e.stop(),(n=this.indexBackfillerScheduler)==null||n.stop(),this.sharedClientState.shutdown(),await this.persistence.shutdown()}}Rf.provider={build:()=>new Rf};class o8 extends Rf{constructor(e){super(),this.cacheSizeBytes=e}Fu(e,n){Ve(this.persistence.referenceDelegate instanceof Cf,46915);const r=this.persistence.referenceDelegate.garbageCollector;return new Wz(r,e.asyncQueue,n)}Cu(e){const n=this.cacheSizeBytes!==void 0?un.withCacheSize(this.cacheSizeBytes):un.DEFAULT;return new pP(r=>Cf.Vi(r,n),this.serializer)}}class fv{async initialize(e,n){this.localStore||(this.localStore=e.localStore,this.sharedClientState=e.sharedClientState,this.datastore=this.createDatastore(n),this.remoteStore=this.createRemoteStore(n),this.eventManager=this.createEventManager(n),this.syncEngine=this.createSyncEngine(n,!e.synchronizeTabs),this.sharedClientState.onlineStateHandler=r=>dE(this.syncEngine,r,1),this.remoteStore.remoteSyncer.handleCredentialChange=r8.bind(null,this.syncEngine),await V7(this.remoteStore,this.syncEngine.isPrimaryClient))}createEventManager(e){return function(){return new U7}()}createDatastore(e){const n=kp(e.databaseInfo.databaseId),r=x7(e.databaseInfo);return S7(e.authCredentials,e.appCheckCredentials,r,n)}createRemoteStore(e){return function(r,s,i,o,a){return new C7(r,s,i,o,a)}(this.localStore,this.datastore,e.asyncQueue,n=>dE(this.syncEngine,n,0),function(){return iE.v()?new iE:new g7}())}createSyncEngine(e,n){return function(s,i,o,a,c,d,h){const f=new q7(s,i,o,a,c,d);return h&&(f.gu=!0),f}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,e.initialUser,e.maxConcurrentLimboResolutions,n)}async terminate(){var e,n;await async function(s){const i=ge(s);re(Bo,"RemoteStore shutting down."),i.Ea.add(5),await ed(i),i.Aa.shutdown(),i.Va.set("Unknown")}(this.remoteStore),(e=this.datastore)==null||e.terminate(),(n=this.eventManager)==null||n.terminate()}}fv.provider={build:()=>new fv};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 *//**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class MP{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ou(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ou(this.observer.error,e):Ns("Uncaught Error in snapshot listener:",e.toString()))}Nu(){this.muted=!0}Ou(e,n){setTimeout(()=>{this.muted||e(n)},0)}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const Ui="FirestoreClient";class a8{constructor(e,n,r,s,i){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this._databaseInfo=s,this.user=Ht.UNAUTHENTICATED,this.clientId=ux.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=i,this.authCredentials.start(r,async o=>{re(Ui,"Received user=",o.uid),await this.authCredentialListener(o),this.user=o}),this.appCheckCredentials.start(r,o=>(re(Ui,"Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this._databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();const e=new Ii;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(async()=>{try{this._onlineComponents&&await this._onlineComponents.terminate(),this._offlineComponents&&await this._offlineComponents.terminate(),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){const r=Ax(n,"Failed to shutdown persistence");e.reject(r)}}),e.promise}}async function vg(t,e){t.asyncQueue.verifyOperationInProgress(),re(Ui,"Initializing OfflineComponentProvider");const n=t.configuration;await e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(async s=>{r.isEqual(s)||(await mP(e.localStore,s),r=s)}),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e}async function fE(t,e){t.asyncQueue.verifyOperationInProgress();const n=await l8(t);re(Ui,"Initializing OnlineComponentProvider"),await e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>aE(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,s)=>aE(e.remoteStore,s)),t._onlineComponents=e}async function l8(t){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){re(Ui,"Using user provided OfflineComponentProvider");try{await vg(t,t._uninitializedComponentsProvider._offline)}catch(e){const n=e;if(!function(s){return s.name==="FirebaseError"?s.code===z.FAILED_PRECONDITION||s.code===z.UNIMPLEMENTED:!(typeof DOMException<"u"&&s instanceof DOMException)||s.code===22||s.code===20||s.code===11}(n))throw n;$o("Error using user provided cache. Falling back to memory cache: "+n),await vg(t,new Rf)}}else re(Ui,"Using default OfflineComponentProvider"),await vg(t,new o8(void 0));return t._offlineComponents}async function LP(t){return t._onlineComponents||(t._uninitializedComponentsProvider?(re(Ui,"Using user provided OnlineComponentProvider"),await fE(t,t._uninitializedComponentsProvider._online)):(re(Ui,"Using default OnlineComponentProvider"),await fE(t,new fv))),t._onlineComponents}function c8(t){return LP(t).then(e=>e.syncEngine)}async function pv(t){const e=await LP(t),n=e.eventManager;return n.onListen=G7.bind(null,e.syncEngine),n.onUnlisten=Y7.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=K7.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=X7.bind(null,e.syncEngine),n}function u8(t,e,n,r){const s=new MP(r),i=new CP(e,s,n);return t.asyncQueue.enqueueAndForget(async()=>SP(await pv(t),i)),()=>{s.Nu(),t.asyncQueue.enqueueAndForget(async()=>IP(await pv(t),i))}}function d8(t,e,n={}){const r=new Ii;return t.asyncQueue.enqueueAndForget(async()=>function(i,o,a,c,d){const h=new MP({next:p=>{h.Nu(),o.enqueueAndForget(()=>IP(i,f)),p.fromCache&&c.source==="server"?d.reject(new te(z.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(p)},error:p=>d.reject(p)}),f=new CP(a,h,{includeMetadataChanges:!0,Ka:!0});return SP(i,f)}(await pv(t),t.asyncQueue,e,n,r)),r.promise}function h8(t,e){const n=new Ii;return t.asyncQueue.enqueueAndForget(async()=>J7(await c8(t),e,n)),n.promise}/**
 * @license
 * Copyright 2023 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function VP(t){const e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const f8="ComponentProvider",pE=new Map;function p8(t,e,n,r,s){return new DB(t,e,n,s.host,s.ssl,s.experimentalForceLongPolling,s.experimentalAutoDetectLongPolling,VP(s.experimentalLongPollingOptions),s.useFetchStreams,s.isUsingEmulator,r)}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const FP="firestore.googleapis.com",mE=!0;class gE{constructor(e){if(e.host===void 0){if(e.ssl!==void 0)throw new te(z.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host=FP,this.ssl=mE}else this.host=e.host,this.ssl=e.ssl??mE;if(this.isUsingEmulator=e.emulatorOptions!==void 0,this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=fP;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<Bz)throw new te(z.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}EB("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=VP(e.experimentalLongPollingOptions??{}),function(r){if(r.timeoutSeconds!==void 0){if(isNaN(r.timeoutSeconds))throw new te(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (must not be NaN)`);if(r.timeoutSeconds<5)throw new te(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (minimum allowed value is 5)`);if(r.timeoutSeconds>30)throw new te(z.INVALID_ARGUMENT,`invalid long polling timeout: ${r.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,s){return r.timeoutSeconds===s.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}}class Op{constructor(e,n,r,s){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=s,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new gE({}),this._settingsFrozen=!1,this._emulatorOptions={},this._terminateTask="notTerminated"}get app(){if(!this._app)throw new te(z.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new te(z.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new gE(e),this._emulatorOptions=e.emulatorOptions||{},e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new fB;switch(r.type){case"firstParty":return new yB(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new te(z.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_getEmulatorOptions(){return this._emulatorOptions}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}async _restart(){this._terminateTask==="notTerminated"?await this._terminate():this._terminateTask="notTerminated"}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){const r=pE.get(n);r&&(re(f8,"Removing Datastore"),pE.delete(n),r.terminate())}(this),Promise.resolve()}}function m8(t,e,n,r={}){var d;t=zr(t,Op);const s=Pl(e),i=t._getSettings(),o={...i,emulatorOptions:t._getEmulatorOptions()},a=`${e}:${n}`;s&&(sN(`https://${a}`),iN("Firestore",!0)),i.host!==FP&&i.host!==a&&$o("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used.");const c={...i,host:a,ssl:s,emulatorOptions:r};if(!Di(c,o)&&(t._setSettings(c),r.mockUserToken)){let h,f;if(typeof r.mockUserToken=="string")h=r.mockUserToken,f=Ht.MOCK_USER;else{h=t3(r.mockUserToken,(d=t._app)==null?void 0:d.options.projectId);const p=r.mockUserToken.sub||r.mockUserToken.user_id;if(!p)throw new te(z.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");f=new Ht(p)}t._authCredentials=new pB(new ER(h,f))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Xi{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new Xi(this.firestore,e,this._query)}}class xt{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new Ci(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new xt(this.firestore,e,this._key)}toJSON(){return{type:xt._jsonSchemaVersion,referencePath:this._key.toString()}}static fromJSON(e,n,r){if(Xu(n,xt._jsonSchema))return new xt(e,r||null,new le(We.fromString(n.referencePath)))}}xt._jsonSchemaVersion="firestore/documentReference/1.0",xt._jsonSchema={type:wt("string",xt._jsonSchemaVersion),referencePath:wt("string")};class Ci extends Xi{constructor(e,n,r){super(e,n,gx(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){const e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new le(e))}withConverter(e){return new Ci(this.firestore,e,this._path)}}function kn(t,e,...n){if(t=dt(t),TR("collection","path",e),t instanceof Op){const r=We.fromString(e,...n);return Rb(r),new Ci(t,null,r)}{if(!(t instanceof xt||t instanceof Ci))throw new te(z.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(We.fromString(e,...n));return Rb(r),new Ci(t.firestore,null,r)}}function Rr(t,e,...n){if(t=dt(t),arguments.length===1&&(e=ux.newId()),TR("doc","path",e),t instanceof Op){const r=We.fromString(e,...n);return Nb(r),new xt(t,null,new le(r))}{if(!(t instanceof xt||t instanceof Ci))throw new te(z.INVALID_ARGUMENT,"Expected first argument to doc() to be a CollectionReference, a DocumentReference or FirebaseFirestore");const r=t._path.child(We.fromString(e,...n));return Nb(r),new xt(t.firestore,t instanceof Ci?t.converter:null,new le(r))}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const yE="AsyncQueue";class vE{constructor(e=Promise.resolve()){this.Yu=[],this.ec=!1,this.tc=[],this.nc=null,this.rc=!1,this.sc=!1,this.oc=[],this.M_=new yP(this,"async_queue_retry"),this._c=()=>{const r=yg();r&&re(yE,"Visibility state changed to "+r.visibilityState),this.M_.w_()},this.ac=e;const n=yg();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this._c)}get isShuttingDown(){return this.ec}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.uc(),this.cc(e)}enterRestrictedMode(e){if(!this.ec){this.ec=!0,this.sc=e||!1;const n=yg();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this._c)}}enqueue(e){if(this.uc(),this.ec)return new Promise(()=>{});const n=new Ii;return this.cc(()=>this.ec&&this.sc?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Yu.push(e),this.lc()))}async lc(){if(this.Yu.length!==0){try{await this.Yu[0](),this.Yu.shift(),this.M_.reset()}catch(e){if(!Ol(e))throw e;re(yE,"Operation failed with retryable error: "+e)}this.Yu.length>0&&this.M_.p_(()=>this.lc())}}cc(e){const n=this.ac.then(()=>(this.rc=!0,e().catch(r=>{throw this.nc=r,this.rc=!1,Ns("INTERNAL UNHANDLED ERROR: ",wE(r)),r}).then(r=>(this.rc=!1,r))));return this.ac=n,n}enqueueAfterDelay(e,n,r){this.uc(),this.oc.indexOf(e)>-1&&(n=0);const s=Px.createAndSchedule(this,e,n,r,i=>this.hc(i));return this.tc.push(s),s}uc(){this.nc&&he(47125,{Pc:wE(this.nc)})}verifyOperationInProgress(){}async Tc(){let e;do e=this.ac,await e;while(e!==this.ac)}Ic(e){for(const n of this.tc)if(n.timerId===e)return!0;return!1}Ec(e){return this.Tc().then(()=>{this.tc.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(const n of this.tc)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.Tc()})}Rc(e){this.oc.push(e)}hc(e){const n=this.tc.indexOf(e);this.tc.splice(n,1)}}function wE(t){let e=t.message||"";return t.stack&&(e=t.stack.includes(t.message)?t.stack:t.message+`
`+t.stack),e}class zo extends Op{constructor(e,n,r,s){super(e,n,r,s),this.type="firestore",this._queue=new vE,this._persistenceKey=(s==null?void 0:s.name)||"[DEFAULT]"}async _terminate(){if(this._firestoreClient){const e=this._firestoreClient.terminate();this._queue=new vE(e),this._firestoreClient=void 0,await e}}}function g8(t,e){const n=typeof t=="object"?t:Kw(),r=typeof t=="string"?t:bf,s=Zo(n,"firestore").getImmediate({identifier:r});if(!s._initialized){const i=ZF("firestore");i&&m8(s,...i)}return s}function Ox(t){if(t._terminated)throw new te(z.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||y8(t),t._firestoreClient}function y8(t){var r,s,i,o;const e=t._freezeSettings(),n=p8(t._databaseId,((r=t._app)==null?void 0:r.options.appId)||"",t._persistenceKey,(s=t._app)==null?void 0:s.options.apiKey,e);t._componentsProvider||(i=e.localCache)!=null&&i._offlineComponentProvider&&((o=e.localCache)!=null&&o._onlineComponentProvider)&&(t._componentsProvider={_offline:e.localCache._offlineComponentProvider,_online:e.localCache._onlineComponentProvider}),t._firestoreClient=new a8(t._authCredentials,t._appCheckCredentials,t._queue,n,t._componentsProvider&&function(c){const d=c==null?void 0:c._online.build();return{_offline:c==null?void 0:c._offline.build(d),_online:d}}(t._componentsProvider))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Ln{constructor(e){this._byteString=e}static fromBase64String(e){try{return new Ln(Ft.fromBase64String(e))}catch(n){throw new te(z.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new Ln(Ft.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}toJSON(){return{type:Ln._jsonSchemaVersion,bytes:this.toBase64()}}static fromJSON(e){if(Xu(e,Ln._jsonSchema))return Ln.fromBase64String(e.bytes)}}Ln._jsonSchemaVersion="firestore/bytes/1.0",Ln._jsonSchema={type:wt("string",Ln._jsonSchemaVersion),bytes:wt("string")};/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mx{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new te(z.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new Mt(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class Mp{constructor(e){this._methodName=e}}/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qr{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new te(z.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new te(z.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}_compareTo(e){return Ne(this._lat,e._lat)||Ne(this._long,e._long)}toJSON(){return{latitude:this._lat,longitude:this._long,type:qr._jsonSchemaVersion}}static fromJSON(e){if(Xu(e,qr._jsonSchema))return new qr(e.latitude,e.longitude)}}qr._jsonSchemaVersion="firestore/geoPoint/1.0",qr._jsonSchema={type:wt("string",qr._jsonSchemaVersion),latitude:wt("number"),longitude:wt("number")};/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class dr{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,s){if(r.length!==s.length)return!1;for(let i=0;i<r.length;++i)if(r[i]!==s[i])return!1;return!0}(this._values,e._values)}toJSON(){return{type:dr._jsonSchemaVersion,vectorValues:this._values}}static fromJSON(e){if(Xu(e,dr._jsonSchema)){if(Array.isArray(e.vectorValues)&&e.vectorValues.every(n=>typeof n=="number"))return new dr(e.vectorValues);throw new te(z.INVALID_ARGUMENT,"Expected 'vectorValues' field to be a number array")}}}dr._jsonSchemaVersion="firestore/vectorValue/1.0",dr._jsonSchema={type:wt("string",dr._jsonSchemaVersion),vectorValues:wt("object")};/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */const v8=/^__.*__$/;class w8{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new Yi(e,this.data,this.fieldMask,n,this.fieldTransforms):new Ju(e,this.data,n,this.fieldTransforms)}}class UP{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new Yi(e,this.data,this.fieldMask,n,this.fieldTransforms)}}function $P(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw he(40011,{dataSource:t})}}class Lx{constructor(e,n,r,s,i,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=s,i===void 0&&this.validatePath(),this.fieldTransforms=i||[],this.fieldMask=o||[]}get path(){return this.settings.path}get dataSource(){return this.settings.dataSource}contextWith(e){return new Lx({...this.settings,...e},this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}childContextForField(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePathSegment(e),r}childContextForFieldPath(e){var s;const n=(s=this.path)==null?void 0:s.child(e),r=this.contextWith({path:n,arrayElement:!1});return r.validatePath(),r}childContextForArray(e){return this.contextWith({path:void 0,arrayElement:!0})}createError(e){return Pf(e,this.settings.methodName,this.settings.hasConverter||!1,this.path,this.settings.targetDoc)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}validatePath(){if(this.path)for(let e=0;e<this.path.length;e++)this.validatePathSegment(this.path.get(e))}validatePathSegment(e){if(e.length===0)throw this.createError("Document fields must not be empty");if($P(this.dataSource)&&v8.test(e))throw this.createError('Document fields cannot begin and end with "__"')}}class x8{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||kp(e)}createContext(e,n,r,s=!1){return new Lx({dataSource:e,methodName:n,targetDoc:r,path:Mt.emptyPath(),arrayElement:!1,hasConverter:s},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}}function Vx(t){const e=t._freezeSettings(),n=kp(t._databaseId);return new x8(t._databaseId,!!e.ignoreUndefinedProperties,n)}function _8(t,e,n,r,s,i={}){const o=t.createContext(i.merge||i.mergeFields?2:0,e,n,s);Ux("Data must be an object, but it was:",o,r);const a=BP(r,o);let c,d;if(i.merge)c=new En(o.fieldMask),d=o.fieldTransforms;else if(i.mergeFields){const h=[];for(const f of i.mergeFields){const p=Wo(e,f,n);if(!o.contains(p))throw new te(z.INVALID_ARGUMENT,`Field '${p}' is specified in your field mask but missing from your input data.`);HP(h,p)||h.push(p)}c=new En(h),d=o.fieldTransforms.filter(f=>c.covers(f.field))}else c=null,d=o.fieldTransforms;return new w8(new hn(a),c,d)}class Lp extends Mp{_toFieldTransform(e){if(e.dataSource!==2)throw e.dataSource===1?e.createError(`${this._methodName}() can only appear at the top level of your update data`):e.createError(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof Lp}}class Fx extends Mp{_toFieldTransform(e){return new lz(e.path,new Su)}isEqual(e){return e instanceof Fx}}function b8(t,e,n,r){const s=t.createContext(1,e,n);Ux("Data must be an object, but it was:",s,r);const i=[],o=hn.empty();Qi(r,(c,d)=>{const h=WP(e,c,n);d=dt(d);const f=s.childContextForFieldPath(h);if(d instanceof Lp)i.push(h);else{const p=nd(d,f);p!=null&&(i.push(h),o.set(h,p))}});const a=new En(i);return new UP(o,a,s.fieldTransforms)}function E8(t,e,n,r,s,i){const o=t.createContext(1,e,n),a=[Wo(e,r,n)],c=[s];if(i.length%2!=0)throw new te(z.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let p=0;p<i.length;p+=2)a.push(Wo(e,i[p])),c.push(i[p+1]);const d=[],h=hn.empty();for(let p=a.length-1;p>=0;--p)if(!HP(d,a[p])){const m=a[p];let T=c[p];T=dt(T);const w=o.childContextForFieldPath(m);if(T instanceof Lp)d.push(m);else{const x=nd(T,w);x!=null&&(d.push(m),h.set(m,x))}}const f=new En(d);return new UP(h,f,o.fieldTransforms)}function T8(t,e,n,r=!1){return nd(n,t.createContext(r?4:3,e))}function nd(t,e){if(zP(t=dt(t)))return Ux("Unsupported field value:",e,t),BP(t,e);if(t instanceof Mp)return function(r,s){if(!$P(s.dataSource))throw s.createError(`${r._methodName}() can only be used with update() and set()`);if(!s.path)throw s.createError(`${r._methodName}() is not currently supported inside arrays`);const i=r._toFieldTransform(s);i&&s.fieldTransforms.push(i)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.arrayElement&&e.dataSource!==4)throw e.createError("Nested arrays are not supported");return function(r,s){const i=[];let o=0;for(const a of r){let c=nd(a,s.childContextForArray(o));c==null&&(c={nullValue:"NULL_VALUE"}),i.push(c),o++}return{arrayValue:{values:i}}}(t,e)}return function(r,s){if((r=dt(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return iz(s.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){const i=Qe.fromDate(r);return{timestampValue:If(s.serializer,i)}}if(r instanceof Qe){const i=new Qe(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:If(s.serializer,i)}}if(r instanceof qr)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ln)return{bytesValue:iP(s.serializer,r._byteString)};if(r instanceof xt){const i=s.databaseId,o=r.firestore._databaseId;if(!o.isEqual(i))throw s.createError(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${i.projectId}/${i.database}`);return{referenceValue:_x(r.firestore._databaseId||s.databaseId,r._key.path)}}if(r instanceof dr)return function(o,a){const c=o instanceof dr?o.toArray():o;return{mapValue:{fields:{[jR]:{stringValue:OR},[Ef]:{arrayValue:{values:c.map(h=>{if(typeof h!="number")throw a.createError("VectorValues must only contain numeric values.");return yx(a.serializer,h)})}}}}}}(r,s);if(hP(r))return r._toProto(s.serializer);throw s.createError(`Unsupported field value: ${Ep(r)}`)}(t,e)}function BP(t,e){const n={};return CR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):Qi(t,(r,s)=>{const i=nd(s,e.childContextForField(r));i!=null&&(n[r]=i)}),{mapValue:{fields:n}}}function zP(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof Qe||t instanceof qr||t instanceof Ln||t instanceof xt||t instanceof Mp||t instanceof dr||hP(t))}function Ux(t,e,n){if(!zP(n)||!SR(n)){const r=Ep(n);throw r==="an object"?e.createError(t+" a custom object"):e.createError(t+" "+r)}}function Wo(t,e,n){if((e=dt(e))instanceof Mx)return e._internalPath;if(typeof e=="string")return WP(t,e);throw Pf("Field path arguments must be of type string or ",t,!1,void 0,n)}const S8=new RegExp("[~\\*/\\[\\]]");function WP(t,e,n){if(e.search(S8)>=0)throw Pf(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Mx(...e.split("."))._internalPath}catch{throw Pf(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Pf(t,e,n,r,s){const i=r&&!r.isEmpty(),o=s!==void 0;let a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let c="";return(i||o)&&(c+=" (found",i&&(c+=` in field ${r}`),o&&(c+=` in document ${s}`),c+=")"),new te(z.INVALID_ARGUMENT,a+t+c)}function HP(t,e){return t.some(n=>n.isEqual(e))}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class I8{convertValue(e,n="none"){switch(Vi(e)){case 0:return null;case 1:return e.booleanValue;case 2:return ft(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(Li(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw he(62114,{value:e})}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){const r={};return Qi(e,(s,i)=>{r[s]=this.convertValue(i,n)}),r}convertVectorValue(e){var r,s,i;const n=(i=(s=(r=e.fields)==null?void 0:r[Ef].arrayValue)==null?void 0:s.values)==null?void 0:i.map(o=>ft(o.doubleValue));return new dr(n)}convertGeoPoint(e){return new qr(ft(e.latitude),ft(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":const r=Ip(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(_u(e));default:return null}}convertTimestamp(e){const n=Mi(e);return new Qe(n.seconds,n.nanos)}convertDocumentKey(e,n){const r=We.fromString(e);Ve(dP(r),9688,{name:e});const s=new bu(r.get(1),r.get(3)),i=new le(r.popFirst(5));return s.isEqual(n)||Ns(`Document ${i} contains a document reference within a different database (${s.projectId}/${s.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),i}}/**
 * @license
 * Copyright 2024 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class $x extends I8{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ln(e)}convertReference(e){const n=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,n)}}function C8(){return new Fx("serverTimestamp")}const xE="@firebase/firestore",_E="4.11.0";/**
 * @license
 * Copyright 2017 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function bE(t){return function(n,r){if(typeof n!="object"||n===null)return!1;const s=n;for(const i of r)if(i in s&&typeof s[i]=="function")return!0;return!1}(t,["next","error","complete"])}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */class qP{constructor(e,n,r,s,i){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=s,this._converter=i}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){const e=new N8(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}_fieldsProto(){var e;return((e=this._document)==null?void 0:e.data.clone().value.mapValue.fields)??void 0}get(e){if(this._document){const n=this._document.data.field(Wo("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}}class N8 extends qP{data(){return super.data()}}/**
 * @license
 * Copyright 2020 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */function GP(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new te(z.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}class Bx{}class KP extends Bx{}function co(t,e,...n){let r=[];e instanceof Bx&&r.push(e),r=r.concat(n),function(i){const o=i.filter(c=>c instanceof zx).length,a=i.filter(c=>c instanceof Vp).length;if(o>1||o>0&&a>0)throw new te(z.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(const s of r)t=s._apply(t);return t}class Vp extends KP{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new Vp(e,n,r)}_apply(e){const n=this._parse(e);return YP(e._query,n),new Xi(e.firestore,e.converter,rv(e._query,n))}_parse(e){const n=Vx(e.firestore);return function(i,o,a,c,d,h,f){let p;if(d.isKeyField()){if(h==="array-contains"||h==="array-contains-any")throw new te(z.INVALID_ARGUMENT,`Invalid Query. You can't perform '${h}' queries on documentId().`);if(h==="in"||h==="not-in"){TE(f,h);const T=[];for(const w of f)T.push(EE(c,i,w));p={arrayValue:{values:T}}}else p=EE(c,i,f)}else h!=="in"&&h!=="not-in"&&h!=="array-contains-any"||TE(f,h),p=T8(a,o,f,h==="in"||h==="not-in");return vt.create(d,h,p)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}}function QP(t,e,n){const r=e,s=Wo("where",t);return Vp._create(s,r,n)}class zx extends Bx{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new zx(e,n)}_parse(e){const n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:yr.create(n,this._getOperator())}_apply(e){const n=this._parse(e);return n.getFilters().length===0?e:(function(s,i){let o=s;const a=i.getFlattenedFilters();for(const c of a)YP(o,c),o=rv(o,c)}(e._query,n),new Xi(e.firestore,e.converter,rv(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}}class Wx extends KP{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new Wx(e,n)}_apply(e){const n=function(s,i,o){if(s.startAt!==null)throw new te(z.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(s.endAt!==null)throw new te(z.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Tu(i,o)}(e._query,this._field,this._direction);return new Xi(e.firestore,e.converter,XB(e._query,n))}}function Qd(t,e="asc"){const n=e,r=Wo("orderBy",t);return Wx._create(r,n)}function EE(t,e,n){if(typeof(n=dt(n))=="string"){if(n==="")throw new te(z.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!zR(e)&&n.indexOf("/")!==-1)throw new te(z.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);const r=e.path.child(We.fromString(n));if(!le.isDocumentKey(r))throw new te(z.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return Lb(t,new le(r))}if(n instanceof xt)return Lb(t,n._key);throw new te(z.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Ep(n)}.`)}function TE(t,e){if(!Array.isArray(t)||t.length===0)throw new te(z.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function YP(t,e){const n=function(s,i){for(const o of s)for(const a of o.getFlattenedFilters())if(i.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(s){switch(s){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new te(z.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new te(z.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}function R8(t,e,n){let r;return r=t?t.toFirestore(e):e,r}class Tc{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}}class So extends qP{constructor(e,n,r,s,i,o){super(e,n,r,s,o),this._firestore=e,this._firestoreImpl=e,this.metadata=i}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){const n=new Ch(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){const r=this._document.data.field(Wo("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}toJSON(){if(this.metadata.hasPendingWrites)throw new te(z.FAILED_PRECONDITION,"DocumentSnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e=this._document,n={};return n.type=So._jsonSchemaVersion,n.bundle="",n.bundleSource="DocumentSnapshot",n.bundleName=this._key.toString(),!e||!e.isValidDocument()||!e.isFoundDocument()?n:(this._userDataWriter.convertObjectMap(e.data.value.mapValue.fields,"previous"),n.bundle=(this._firestore,this.ref.path,"NOT SUPPORTED"),n)}}So._jsonSchemaVersion="firestore/documentSnapshot/1.0",So._jsonSchema={type:wt("string",So._jsonSchemaVersion),bundleSource:wt("string","DocumentSnapshot"),bundleName:wt("string"),bundle:wt("string")};class Ch extends So{data(e={}){return super.data(e)}}class Io{constructor(e,n,r,s){this._firestore=e,this._userDataWriter=n,this._snapshot=s,this.metadata=new Tc(s.hasPendingWrites,s.fromCache),this.query=r}get docs(){const e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Ch(this._firestore,this._userDataWriter,r.key,r,new Tc(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){const n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new te(z.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(s,i){if(s._snapshot.oldDocs.isEmpty()){let o=0;return s._snapshot.docChanges.map(a=>{const c=new Ch(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Tc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);return a.doc,{type:"added",doc:c,oldIndex:-1,newIndex:o++}})}{let o=s._snapshot.oldDocs;return s._snapshot.docChanges.filter(a=>i||a.type!==3).map(a=>{const c=new Ch(s._firestore,s._userDataWriter,a.doc.key,a.doc,new Tc(s._snapshot.mutatedKeys.has(a.doc.key),s._snapshot.fromCache),s.query.converter);let d=-1,h=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),h=o.indexOf(a.doc.key)),{type:P8(a.type),doc:c,oldIndex:d,newIndex:h}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}toJSON(){if(this.metadata.hasPendingWrites)throw new te(z.FAILED_PRECONDITION,"QuerySnapshot.toJSON() attempted to serialize a document with pending writes. Await waitForPendingWrites() before invoking toJSON().");const e={};e.type=Io._jsonSchemaVersion,e.bundleSource="QuerySnapshot",e.bundleName=ux.newId(),this._firestore._databaseId.database,this._firestore._databaseId.projectId;const n=[],r=[],s=[];return this.docs.forEach(i=>{i._document!==null&&(n.push(i._document),r.push(this._userDataWriter.convertObjectMap(i._document.data.value.mapValue.fields,"previous")),s.push(i.ref.path))}),e.bundle=(this._firestore,this.query._query,e.bundleName,"NOT SUPPORTED"),e}}function P8(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return he(61501,{type:t})}}/**
 * @license
 * Copyright 2022 Google LLC
 *
 * Licensed under the Apache License, Version 2.0 (the "License");
 * you may not use this file except in compliance with the License.
 * You may obtain a copy of the License at
 *
 *   http://www.apache.org/licenses/LICENSE-2.0
 *
 * Unless required by applicable law or agreed to in writing, software
 * distributed under the License is distributed on an "AS IS" BASIS,
 * WITHOUT WARRANTIES OR CONDITIONS OF ANY KIND, either express or implied.
 * See the License for the specific language governing permissions and
 * limitations under the License.
 */Io._jsonSchemaVersion="firestore/querySnapshot/1.0",Io._jsonSchema={type:wt("string",Io._jsonSchemaVersion),bundleSource:wt("string","QuerySnapshot"),bundleName:wt("string"),bundle:wt("string")};function XP(t){t=zr(t,Xi);const e=zr(t.firestore,zo),n=Ox(e),r=new $x(e);return GP(t._query),d8(n,t._query).then(s=>new Io(e,r,t,s))}function da(t,e,n,...r){t=zr(t,xt);const s=zr(t.firestore,zo),i=Vx(s);let o;return o=typeof(e=dt(e))=="string"||e instanceof Mx?E8(i,"updateDoc",t._key,e,n,r):b8(i,"updateDoc",t._key,e),Hx(s,[o.toMutation(t._key,ur.exists(!0))])}function Yd(t){return Hx(zr(t.firestore,zo),[new vx(t._key,ur.none())])}function uc(t,e){const n=zr(t.firestore,zo),r=Rr(t),s=R8(t.converter,e),i=Vx(t.firestore);return Hx(n,[_8(i,"addDoc",r._key,s,t.converter!==null,{}).toMutation(r._key,ur.exists(!1))]).then(()=>r)}function dc(t,...e){var d,h,f;t=dt(t);let n={includeMetadataChanges:!1,source:"default"},r=0;typeof e[r]!="object"||bE(e[r])||(n=e[r++]);const s={includeMetadataChanges:n.includeMetadataChanges,source:n.source};if(bE(e[r])){const p=e[r];e[r]=(d=p.next)==null?void 0:d.bind(p),e[r+1]=(h=p.error)==null?void 0:h.bind(p),e[r+2]=(f=p.complete)==null?void 0:f.bind(p)}let i,o,a;if(t instanceof xt)o=zr(t.firestore,zo),a=gx(t._key.path),i={next:p=>{e[r]&&e[r](A8(o,t,p))},error:e[r+1],complete:e[r+2]};else{const p=zr(t,Xi);o=zr(p.firestore,zo),a=p._query;const m=new $x(o);i={next:T=>{e[r]&&e[r](new Io(o,m,p,T))},error:e[r+1],complete:e[r+2]},GP(t._query)}const c=Ox(o);return u8(c,a,s,i)}function Hx(t,e){const n=Ox(t);return h8(n,e)}function A8(t,e,n){const r=n.docs.get(e._key),s=new $x(t);return new So(t,s,e._key,r,new Tc(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){hB(Al),Qr(new mr("firestore",(r,{instanceIdentifier:s,options:i})=>{const o=r.getProvider("app").getImmediate(),a=new zo(new mB(r.getProvider("auth-internal")),new vB(o,r.getProvider("app-check-internal")),OB(o,s),o);return i={useFetchStreams:n,...i},a._setSettings(i),a},"PUBLIC").setMultipleInstances(!0)),$n(xE,_E,e),$n(xE,_E,"esm2020")})();const JP={apiKey:"AIzaSyBDv80CpV7gRLgmep1EWmec1tp1OWmnZE4",authDomain:"swabhimani-dairy.firebaseapp.com",projectId:"swabhimani-dairy",storageBucket:"swabhimani-dairy.firebasestorage.app",messagingSenderId:"738053918049",appId:"1:738053918049:web:a4be851bffbe2684260920",measurementId:"G-J1DE96TKL5"},qx=Gw(JP);K9(qx);const Sc=mR(qx),ht=g8(qx),k8=w6().find(t=>t.name==="secondary")||Gw(JP,"secondary"),Xd=mR(k8),ZP=g.createContext(void 0);function j8({children:t}){const[e,n]=g.useState(null),[r,s]=g.useState(null),[i,o]=g.useState(!0);g.useEffect(()=>{const p=ZU(Sc,async m=>{if(m)try{const T=co(kn(ht,"customers"),QP("uid","==",m.uid)),w=await XP(T);if(w.empty)n({email:m.email,name:m.displayName||"Admin",uid:m.uid}),s(null);else{const _={...w.docs[0].data(),id:w.docs[0].id};s(_),n(null)}}catch(T){console.error("Error fetching customer profile:",T),n({email:m.email,name:m.displayName||"User",uid:m.uid}),s(null)}else n(null),s(null);o(!1)});return()=>p()},[]);const a=async(p,m)=>{try{return await Qy(Sc,p,m),!0}catch(T){return console.error("Admin login error:",T),!1}},c=async(p,m)=>{try{return await Qy(Sc,p,m),!0}catch(T){return console.error("Customer login error:",T),!1}},d=async()=>{try{await e$(Sc),n(null),s(null)}catch(p){console.error("Logout error:",p)}},h=!!e||!!r,f=e?"admin":r?"customer":null;return l.jsx(ZP.Provider,{value:{user:e,loggedInCustomer:r,login:a,loginCustomer:c,logout:d,isAuthenticated:h,isLoading:i,role:f},children:t})}function rd(){const t=g.useContext(ZP);if(t===void 0)throw new Error("useAuth must be used within an AuthProvider");return t}function D8({children:t}){const{isAuthenticated:e,isLoading:n}=rd();return n?l.jsx("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-background via-background to-secondary/20",children:l.jsxs("div",{className:"text-center space-y-4",children:[l.jsx("div",{className:"w-16 h-16 border-4 border-primary border-t-transparent rounded-full animate-spin mx-auto"}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"Loading..."})]})}):e?l.jsx(l.Fragment,{children:t}):l.jsx(NF,{to:"/login",replace:!0})}const wg=768;function O8(){const[t,e]=g.useState(void 0);return g.useEffect(()=>{const n=window.matchMedia(`(max-width: ${wg-1}px)`),r=()=>{e(window.innerWidth<wg)};return n.addEventListener("change",r),e(window.innerWidth<wg),()=>n.removeEventListener("change",r)},[]),!!t}const M8=El("inline-flex items-center justify-center gap-2 whitespace-nowrap rounded-md text-sm font-medium ring-offset-background transition-colors focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50 [&_svg]:pointer-events-none [&_svg]:size-4 [&_svg]:shrink-0",{variants:{variant:{default:"bg-primary text-primary-foreground hover:bg-primary/90",destructive:"bg-destructive text-destructive-foreground hover:bg-destructive/90",outline:"border border-input bg-background hover:bg-accent hover:text-accent-foreground",secondary:"bg-secondary text-secondary-foreground hover:bg-secondary/80",ghost:"hover:bg-accent hover:text-accent-foreground",link:"text-primary underline-offset-4 hover:underline"},size:{default:"h-10 px-4 py-2",sm:"h-9 rounded-md px-3",lg:"h-11 rounded-md px-8",icon:"h-10 w-10"}},defaultVariants:{variant:"default",size:"default"}}),ve=g.forwardRef(({className:t,variant:e,size:n,asChild:r=!1,...s},i)=>{const o=r?_l:"button";return l.jsx(o,{className:Y(M8({variant:e,size:n,className:t})),ref:i,...s})});ve.displayName="Button";const pe=g.forwardRef(({className:t,type:e,...n},r)=>l.jsx("input",{type:e,className:Y("flex h-10 w-full rounded-md border border-input bg-background px-3 py-2 text-base ring-offset-background file:border-0 file:bg-transparent file:text-sm file:font-medium file:text-foreground placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 md:text-sm",t),ref:r,...n}));pe.displayName="Input";var L8="Separator",SE="horizontal",V8=["horizontal","vertical"],eA=g.forwardRef((t,e)=>{const{decorative:n,orientation:r=SE,...s}=t,i=F8(r)?r:SE,a=n?{role:"none"}:{"aria-orientation":i==="vertical"?i:void 0,role:"separator"};return l.jsx(ce.div,{"data-orientation":i,...a,...s,ref:e})});eA.displayName=L8;function F8(t){return V8.includes(t)}var tA=eA;const Gx=g.forwardRef(({className:t,orientation:e="horizontal",decorative:n=!0,...r},s)=>l.jsx(tA,{ref:s,decorative:n,orientation:e,className:Y("shrink-0 bg-border",e==="horizontal"?"h-[1px] w-full":"h-full w-[1px]",t),...r}));Gx.displayName=tA.displayName;var xg="focusScope.autoFocusOnMount",_g="focusScope.autoFocusOnUnmount",IE={bubbles:!1,cancelable:!0},U8="FocusScope",Fp=g.forwardRef((t,e)=>{const{loop:n=!1,trapped:r=!1,onMountAutoFocus:s,onUnmountAutoFocus:i,...o}=t,[a,c]=g.useState(null),d=yn(s),h=yn(i),f=g.useRef(null),p=Me(e,w=>c(w)),m=g.useRef({paused:!1,pause(){this.paused=!0},resume(){this.paused=!1}}).current;g.useEffect(()=>{if(r){let w=function(b){if(m.paused||!a)return;const k=b.target;a.contains(k)?f.current=k:Ks(f.current,{select:!0})},x=function(b){if(m.paused||!a)return;const k=b.relatedTarget;k!==null&&(a.contains(k)||Ks(f.current,{select:!0}))},_=function(b){if(document.activeElement===document.body)for(const O of b)O.removedNodes.length>0&&Ks(a)};document.addEventListener("focusin",w),document.addEventListener("focusout",x);const v=new MutationObserver(_);return a&&v.observe(a,{childList:!0,subtree:!0}),()=>{document.removeEventListener("focusin",w),document.removeEventListener("focusout",x),v.disconnect()}}},[r,a,m.paused]),g.useEffect(()=>{if(a){NE.add(m);const w=document.activeElement;if(!a.contains(w)){const _=new CustomEvent(xg,IE);a.addEventListener(xg,d),a.dispatchEvent(_),_.defaultPrevented||($8(q8(nA(a)),{select:!0}),document.activeElement===w&&Ks(a))}return()=>{a.removeEventListener(xg,d),setTimeout(()=>{const _=new CustomEvent(_g,IE);a.addEventListener(_g,h),a.dispatchEvent(_),_.defaultPrevented||Ks(w??document.body,{select:!0}),a.removeEventListener(_g,h),NE.remove(m)},0)}}},[a,d,h,m]);const T=g.useCallback(w=>{if(!n&&!r||m.paused)return;const x=w.key==="Tab"&&!w.altKey&&!w.ctrlKey&&!w.metaKey,_=document.activeElement;if(x&&_){const v=w.currentTarget,[b,k]=B8(v);b&&k?!w.shiftKey&&_===k?(w.preventDefault(),n&&Ks(b,{select:!0})):w.shiftKey&&_===b&&(w.preventDefault(),n&&Ks(k,{select:!0})):_===v&&w.preventDefault()}},[n,r,m.paused]);return l.jsx(ce.div,{tabIndex:-1,...o,ref:p,onKeyDown:T})});Fp.displayName=U8;function $8(t,{select:e=!1}={}){const n=document.activeElement;for(const r of t)if(Ks(r,{select:e}),document.activeElement!==n)return}function B8(t){const e=nA(t),n=CE(e,t),r=CE(e.reverse(),t);return[n,r]}function nA(t){const e=[],n=document.createTreeWalker(t,NodeFilter.SHOW_ELEMENT,{acceptNode:r=>{const s=r.tagName==="INPUT"&&r.type==="hidden";return r.disabled||r.hidden||s?NodeFilter.FILTER_SKIP:r.tabIndex>=0?NodeFilter.FILTER_ACCEPT:NodeFilter.FILTER_SKIP}});for(;n.nextNode();)e.push(n.currentNode);return e}function CE(t,e){for(const n of t)if(!z8(n,{upTo:e}))return n}function z8(t,{upTo:e}){if(getComputedStyle(t).visibility==="hidden")return!0;for(;t;){if(e!==void 0&&t===e)return!1;if(getComputedStyle(t).display==="none")return!0;t=t.parentElement}return!1}function W8(t){return t instanceof HTMLInputElement&&"select"in t}function Ks(t,{select:e=!1}={}){if(t&&t.focus){const n=document.activeElement;t.focus({preventScroll:!0}),t!==n&&W8(t)&&e&&t.select()}}var NE=H8();function H8(){let t=[];return{add(e){const n=t[0];e!==n&&(n==null||n.pause()),t=RE(t,e),t.unshift(e)},remove(e){var n;t=RE(t,e),(n=t[0])==null||n.resume()}}}function RE(t,e){const n=[...t],r=n.indexOf(e);return r!==-1&&n.splice(r,1),n}function q8(t){return t.filter(e=>e.tagName!=="A")}var bg=0;function Kx(){g.useEffect(()=>{const t=document.querySelectorAll("[data-radix-focus-guard]");return document.body.insertAdjacentElement("afterbegin",t[0]??PE()),document.body.insertAdjacentElement("beforeend",t[1]??PE()),bg++,()=>{bg===1&&document.querySelectorAll("[data-radix-focus-guard]").forEach(e=>e.remove()),bg--}},[])}function PE(){const t=document.createElement("span");return t.setAttribute("data-radix-focus-guard",""),t.tabIndex=0,t.style.outline="none",t.style.opacity="0",t.style.position="fixed",t.style.pointerEvents="none",t}var Mr=function(){return Mr=Object.assign||function(e){for(var n,r=1,s=arguments.length;r<s;r++){n=arguments[r];for(var i in n)Object.prototype.hasOwnProperty.call(n,i)&&(e[i]=n[i])}return e},Mr.apply(this,arguments)};function rA(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var s=0,r=Object.getOwnPropertySymbols(t);s<r.length;s++)e.indexOf(r[s])<0&&Object.prototype.propertyIsEnumerable.call(t,r[s])&&(n[r[s]]=t[r[s]]);return n}function G8(t,e,n){if(n||arguments.length===2)for(var r=0,s=e.length,i;r<s;r++)(i||!(r in e))&&(i||(i=Array.prototype.slice.call(e,0,r)),i[r]=e[r]);return t.concat(i||Array.prototype.slice.call(e))}var Nh="right-scroll-bar-position",Rh="width-before-scroll-bar",K8="with-scroll-bars-hidden",Q8="--removed-body-scroll-bar-size";function Eg(t,e){return typeof t=="function"?t(e):t&&(t.current=e),t}function Y8(t,e){var n=g.useState(function(){return{value:t,callback:e,facade:{get current(){return n.value},set current(r){var s=n.value;s!==r&&(n.value=r,n.callback(r,s))}}}})[0];return n.callback=e,n.facade}var X8=typeof window<"u"?g.useLayoutEffect:g.useEffect,AE=new WeakMap;function J8(t,e){var n=Y8(null,function(r){return t.forEach(function(s){return Eg(s,r)})});return X8(function(){var r=AE.get(n);if(r){var s=new Set(r),i=new Set(t),o=n.current;s.forEach(function(a){i.has(a)||Eg(a,null)}),i.forEach(function(a){s.has(a)||Eg(a,o)})}AE.set(n,t)},[t]),n}function Z8(t){return t}function eW(t,e){e===void 0&&(e=Z8);var n=[],r=!1,s={read:function(){if(r)throw new Error("Sidecar: could not `read` from an `assigned` medium. `read` could be used only with `useMedium`.");return n.length?n[n.length-1]:t},useMedium:function(i){var o=e(i,r);return n.push(o),function(){n=n.filter(function(a){return a!==o})}},assignSyncMedium:function(i){for(r=!0;n.length;){var o=n;n=[],o.forEach(i)}n={push:function(a){return i(a)},filter:function(){return n}}},assignMedium:function(i){r=!0;var o=[];if(n.length){var a=n;n=[],a.forEach(i),o=n}var c=function(){var h=o;o=[],h.forEach(i)},d=function(){return Promise.resolve().then(c)};d(),n={push:function(h){o.push(h),d()},filter:function(h){return o=o.filter(h),n}}}};return s}function tW(t){t===void 0&&(t={});var e=eW(null);return e.options=Mr({async:!0,ssr:!1},t),e}var sA=function(t){var e=t.sideCar,n=rA(t,["sideCar"]);if(!e)throw new Error("Sidecar: please provide `sideCar` property to import the right car");var r=e.read();if(!r)throw new Error("Sidecar medium not found");return g.createElement(r,Mr({},n))};sA.isSideCarExport=!0;function nW(t,e){return t.useMedium(e),sA}var iA=tW(),Tg=function(){},Up=g.forwardRef(function(t,e){var n=g.useRef(null),r=g.useState({onScrollCapture:Tg,onWheelCapture:Tg,onTouchMoveCapture:Tg}),s=r[0],i=r[1],o=t.forwardProps,a=t.children,c=t.className,d=t.removeScrollBar,h=t.enabled,f=t.shards,p=t.sideCar,m=t.noRelative,T=t.noIsolation,w=t.inert,x=t.allowPinchZoom,_=t.as,v=_===void 0?"div":_,b=t.gapMode,k=rA(t,["forwardProps","children","className","removeScrollBar","enabled","shards","sideCar","noRelative","noIsolation","inert","allowPinchZoom","as","gapMode"]),O=p,D=J8([n,e]),C=Mr(Mr({},k),s);return g.createElement(g.Fragment,null,h&&g.createElement(O,{sideCar:iA,removeScrollBar:d,shards:f,noRelative:m,noIsolation:T,inert:w,setCallbacks:i,allowPinchZoom:!!x,lockRef:n,gapMode:b}),o?g.cloneElement(g.Children.only(a),Mr(Mr({},C),{ref:D})):g.createElement(v,Mr({},C,{className:c,ref:D}),a))});Up.defaultProps={enabled:!0,removeScrollBar:!0,inert:!1};Up.classNames={fullWidth:Rh,zeroRight:Nh};var rW=function(){if(typeof __webpack_nonce__<"u")return __webpack_nonce__};function sW(){if(!document)return null;var t=document.createElement("style");t.type="text/css";var e=rW();return e&&t.setAttribute("nonce",e),t}function iW(t,e){t.styleSheet?t.styleSheet.cssText=e:t.appendChild(document.createTextNode(e))}function oW(t){var e=document.head||document.getElementsByTagName("head")[0];e.appendChild(t)}var aW=function(){var t=0,e=null;return{add:function(n){t==0&&(e=sW())&&(iW(e,n),oW(e)),t++},remove:function(){t--,!t&&e&&(e.parentNode&&e.parentNode.removeChild(e),e=null)}}},lW=function(){var t=aW();return function(e,n){g.useEffect(function(){return t.add(e),function(){t.remove()}},[e&&n])}},oA=function(){var t=lW(),e=function(n){var r=n.styles,s=n.dynamic;return t(r,s),null};return e},cW={left:0,top:0,right:0,gap:0},Sg=function(t){return parseInt(t||"",10)||0},uW=function(t){var e=window.getComputedStyle(document.body),n=e[t==="padding"?"paddingLeft":"marginLeft"],r=e[t==="padding"?"paddingTop":"marginTop"],s=e[t==="padding"?"paddingRight":"marginRight"];return[Sg(n),Sg(r),Sg(s)]},dW=function(t){if(t===void 0&&(t="margin"),typeof window>"u")return cW;var e=uW(t),n=document.documentElement.clientWidth,r=window.innerWidth;return{left:e[0],top:e[1],right:e[2],gap:Math.max(0,r-n+e[2]-e[0])}},hW=oA(),Ga="data-scroll-locked",fW=function(t,e,n,r){var s=t.left,i=t.top,o=t.right,a=t.gap;return n===void 0&&(n="margin"),`
  .`.concat(K8,` {
   overflow: hidden `).concat(r,`;
   padding-right: `).concat(a,"px ").concat(r,`;
  }
  body[`).concat(Ga,`] {
    overflow: hidden `).concat(r,`;
    overscroll-behavior: contain;
    `).concat([e&&"position: relative ".concat(r,";"),n==="margin"&&`
    padding-left: `.concat(s,`px;
    padding-top: `).concat(i,`px;
    padding-right: `).concat(o,`px;
    margin-left:0;
    margin-top:0;
    margin-right: `).concat(a,"px ").concat(r,`;
    `),n==="padding"&&"padding-right: ".concat(a,"px ").concat(r,";")].filter(Boolean).join(""),`
  }
  
  .`).concat(Nh,` {
    right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Rh,` {
    margin-right: `).concat(a,"px ").concat(r,`;
  }
  
  .`).concat(Nh," .").concat(Nh,` {
    right: 0 `).concat(r,`;
  }
  
  .`).concat(Rh," .").concat(Rh,` {
    margin-right: 0 `).concat(r,`;
  }
  
  body[`).concat(Ga,`] {
    `).concat(Q8,": ").concat(a,`px;
  }
`)},kE=function(){var t=parseInt(document.body.getAttribute(Ga)||"0",10);return isFinite(t)?t:0},pW=function(){g.useEffect(function(){return document.body.setAttribute(Ga,(kE()+1).toString()),function(){var t=kE()-1;t<=0?document.body.removeAttribute(Ga):document.body.setAttribute(Ga,t.toString())}},[])},mW=function(t){var e=t.noRelative,n=t.noImportant,r=t.gapMode,s=r===void 0?"margin":r;pW();var i=g.useMemo(function(){return dW(s)},[s]);return g.createElement(hW,{styles:fW(i,!e,s,n?"":"!important")})},mv=!1;if(typeof window<"u")try{var Jd=Object.defineProperty({},"passive",{get:function(){return mv=!0,!0}});window.addEventListener("test",Jd,Jd),window.removeEventListener("test",Jd,Jd)}catch{mv=!1}var ha=mv?{passive:!1}:!1,gW=function(t){return t.tagName==="TEXTAREA"},aA=function(t,e){if(!(t instanceof Element))return!1;var n=window.getComputedStyle(t);return n[e]!=="hidden"&&!(n.overflowY===n.overflowX&&!gW(t)&&n[e]==="visible")},yW=function(t){return aA(t,"overflowY")},vW=function(t){return aA(t,"overflowX")},jE=function(t,e){var n=e.ownerDocument,r=e;do{typeof ShadowRoot<"u"&&r instanceof ShadowRoot&&(r=r.host);var s=lA(t,r);if(s){var i=cA(t,r),o=i[1],a=i[2];if(o>a)return!0}r=r.parentNode}while(r&&r!==n.body);return!1},wW=function(t){var e=t.scrollTop,n=t.scrollHeight,r=t.clientHeight;return[e,n,r]},xW=function(t){var e=t.scrollLeft,n=t.scrollWidth,r=t.clientWidth;return[e,n,r]},lA=function(t,e){return t==="v"?yW(e):vW(e)},cA=function(t,e){return t==="v"?wW(e):xW(e)},_W=function(t,e){return t==="h"&&e==="rtl"?-1:1},bW=function(t,e,n,r,s){var i=_W(t,window.getComputedStyle(e).direction),o=i*r,a=n.target,c=e.contains(a),d=!1,h=o>0,f=0,p=0;do{if(!a)break;var m=cA(t,a),T=m[0],w=m[1],x=m[2],_=w-x-i*T;(T||_)&&lA(t,a)&&(f+=_,p+=T);var v=a.parentNode;a=v&&v.nodeType===Node.DOCUMENT_FRAGMENT_NODE?v.host:v}while(!c&&a!==document.body||c&&(e.contains(a)||e===a));return(h&&(Math.abs(f)<1||!s)||!h&&(Math.abs(p)<1||!s))&&(d=!0),d},Zd=function(t){return"changedTouches"in t?[t.changedTouches[0].clientX,t.changedTouches[0].clientY]:[0,0]},DE=function(t){return[t.deltaX,t.deltaY]},OE=function(t){return t&&"current"in t?t.current:t},EW=function(t,e){return t[0]===e[0]&&t[1]===e[1]},TW=function(t){return`
  .block-interactivity-`.concat(t,` {pointer-events: none;}
  .allow-interactivity-`).concat(t,` {pointer-events: all;}
`)},SW=0,fa=[];function IW(t){var e=g.useRef([]),n=g.useRef([0,0]),r=g.useRef(),s=g.useState(SW++)[0],i=g.useState(oA)[0],o=g.useRef(t);g.useEffect(function(){o.current=t},[t]),g.useEffect(function(){if(t.inert){document.body.classList.add("block-interactivity-".concat(s));var w=G8([t.lockRef.current],(t.shards||[]).map(OE),!0).filter(Boolean);return w.forEach(function(x){return x.classList.add("allow-interactivity-".concat(s))}),function(){document.body.classList.remove("block-interactivity-".concat(s)),w.forEach(function(x){return x.classList.remove("allow-interactivity-".concat(s))})}}},[t.inert,t.lockRef.current,t.shards]);var a=g.useCallback(function(w,x){if("touches"in w&&w.touches.length===2||w.type==="wheel"&&w.ctrlKey)return!o.current.allowPinchZoom;var _=Zd(w),v=n.current,b="deltaX"in w?w.deltaX:v[0]-_[0],k="deltaY"in w?w.deltaY:v[1]-_[1],O,D=w.target,C=Math.abs(b)>Math.abs(k)?"h":"v";if("touches"in w&&C==="h"&&D.type==="range")return!1;var I=jE(C,D);if(!I)return!0;if(I?O=C:(O=C==="v"?"h":"v",I=jE(C,D)),!I)return!1;if(!r.current&&"changedTouches"in w&&(b||k)&&(r.current=O),!O)return!0;var S=r.current||O;return bW(S,x,w,S==="h"?b:k,!0)},[]),c=g.useCallback(function(w){var x=w;if(!(!fa.length||fa[fa.length-1]!==i)){var _="deltaY"in x?DE(x):Zd(x),v=e.current.filter(function(O){return O.name===x.type&&(O.target===x.target||x.target===O.shadowParent)&&EW(O.delta,_)})[0];if(v&&v.should){x.cancelable&&x.preventDefault();return}if(!v){var b=(o.current.shards||[]).map(OE).filter(Boolean).filter(function(O){return O.contains(x.target)}),k=b.length>0?a(x,b[0]):!o.current.noIsolation;k&&x.cancelable&&x.preventDefault()}}},[]),d=g.useCallback(function(w,x,_,v){var b={name:w,delta:x,target:_,should:v,shadowParent:CW(_)};e.current.push(b),setTimeout(function(){e.current=e.current.filter(function(k){return k!==b})},1)},[]),h=g.useCallback(function(w){n.current=Zd(w),r.current=void 0},[]),f=g.useCallback(function(w){d(w.type,DE(w),w.target,a(w,t.lockRef.current))},[]),p=g.useCallback(function(w){d(w.type,Zd(w),w.target,a(w,t.lockRef.current))},[]);g.useEffect(function(){return fa.push(i),t.setCallbacks({onScrollCapture:f,onWheelCapture:f,onTouchMoveCapture:p}),document.addEventListener("wheel",c,ha),document.addEventListener("touchmove",c,ha),document.addEventListener("touchstart",h,ha),function(){fa=fa.filter(function(w){return w!==i}),document.removeEventListener("wheel",c,ha),document.removeEventListener("touchmove",c,ha),document.removeEventListener("touchstart",h,ha)}},[]);var m=t.removeScrollBar,T=t.inert;return g.createElement(g.Fragment,null,T?g.createElement(i,{styles:TW(s)}):null,m?g.createElement(mW,{noRelative:t.noRelative,gapMode:t.gapMode}):null)}function CW(t){for(var e=null;t!==null;)t instanceof ShadowRoot&&(e=t.host,t=t.host),t=t.parentNode;return e}const NW=nW(iA,IW);var $p=g.forwardRef(function(t,e){return g.createElement(Up,Mr({},t,{ref:e,sideCar:NW}))});$p.classNames=Up.classNames;var RW=function(t){if(typeof document>"u")return null;var e=Array.isArray(t)?t[0]:t;return e.ownerDocument.body},pa=new WeakMap,eh=new WeakMap,th={},Ig=0,uA=function(t){return t&&(t.host||uA(t.parentNode))},PW=function(t,e){return e.map(function(n){if(t.contains(n))return n;var r=uA(n);return r&&t.contains(r)?r:(console.error("aria-hidden",n,"in not contained inside",t,". Doing nothing"),null)}).filter(function(n){return!!n})},AW=function(t,e,n,r){var s=PW(e,Array.isArray(t)?t:[t]);th[n]||(th[n]=new WeakMap);var i=th[n],o=[],a=new Set,c=new Set(s),d=function(f){!f||a.has(f)||(a.add(f),d(f.parentNode))};s.forEach(d);var h=function(f){!f||c.has(f)||Array.prototype.forEach.call(f.children,function(p){if(a.has(p))h(p);else try{var m=p.getAttribute(r),T=m!==null&&m!=="false",w=(pa.get(p)||0)+1,x=(i.get(p)||0)+1;pa.set(p,w),i.set(p,x),o.push(p),w===1&&T&&eh.set(p,!0),x===1&&p.setAttribute(n,"true"),T||p.setAttribute(r,"true")}catch(_){console.error("aria-hidden: cannot operate on ",p,_)}})};return h(e),a.clear(),Ig++,function(){o.forEach(function(f){var p=pa.get(f)-1,m=i.get(f)-1;pa.set(f,p),i.set(f,m),p||(eh.has(f)||f.removeAttribute(r),eh.delete(f)),m||f.removeAttribute(n)}),Ig--,Ig||(pa=new WeakMap,pa=new WeakMap,eh=new WeakMap,th={})}},Qx=function(t,e,n){n===void 0&&(n="data-aria-hidden");var r=Array.from(Array.isArray(t)?t:[t]),s=RW(t);return s?(r.push.apply(r,Array.from(s.querySelectorAll("[aria-live]"))),AW(r,s,n,"aria-hidden")):function(){return null}},Bp="Dialog",[dA,CQ]=vr(Bp),[kW,xr]=dA(Bp),hA=t=>{const{__scopeDialog:e,children:n,open:r,defaultOpen:s,onOpenChange:i,modal:o=!0}=t,a=g.useRef(null),c=g.useRef(null),[d,h]=Es({prop:r,defaultProp:s??!1,onChange:i,caller:Bp});return l.jsx(kW,{scope:e,triggerRef:a,contentRef:c,contentId:Un(),titleId:Un(),descriptionId:Un(),open:d,onOpenChange:h,onOpenToggle:g.useCallback(()=>h(f=>!f),[h]),modal:o,children:n})};hA.displayName=Bp;var fA="DialogTrigger",pA=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=xr(fA,n),i=Me(e,s.triggerRef);return l.jsx(ce.button,{type:"button","aria-haspopup":"dialog","aria-expanded":s.open,"aria-controls":s.contentId,"data-state":Jx(s.open),...r,ref:i,onClick:ee(t.onClick,s.onOpenToggle)})});pA.displayName=fA;var Yx="DialogPortal",[jW,mA]=dA(Yx,{forceMount:void 0}),gA=t=>{const{__scopeDialog:e,forceMount:n,children:r,container:s}=t,i=xr(Yx,e);return l.jsx(jW,{scope:e,forceMount:n,children:g.Children.map(r,o=>l.jsx(Hn,{present:n||i.open,children:l.jsx(Bu,{asChild:!0,container:s,children:o})}))})};gA.displayName=Yx;var Af="DialogOverlay",yA=g.forwardRef((t,e)=>{const n=mA(Af,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=xr(Af,t.__scopeDialog);return i.modal?l.jsx(Hn,{present:r||i.open,children:l.jsx(OW,{...s,ref:e})}):null});yA.displayName=Af;var DW=ko("DialogOverlay.RemoveScroll"),OW=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=xr(Af,n);return l.jsx($p,{as:DW,allowPinchZoom:!0,shards:[s.contentRef],children:l.jsx(ce.div,{"data-state":Jx(s.open),...r,ref:e,style:{pointerEvents:"auto",...r.style}})})}),Ho="DialogContent",vA=g.forwardRef((t,e)=>{const n=mA(Ho,t.__scopeDialog),{forceMount:r=n.forceMount,...s}=t,i=xr(Ho,t.__scopeDialog);return l.jsx(Hn,{present:r||i.open,children:i.modal?l.jsx(MW,{...s,ref:e}):l.jsx(LW,{...s,ref:e})})});vA.displayName=Ho;var MW=g.forwardRef((t,e)=>{const n=xr(Ho,t.__scopeDialog),r=g.useRef(null),s=Me(e,n.contentRef,r);return g.useEffect(()=>{const i=r.current;if(i)return Qx(i)},[]),l.jsx(wA,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:ee(t.onCloseAutoFocus,i=>{var o;i.preventDefault(),(o=n.triggerRef.current)==null||o.focus()}),onPointerDownOutside:ee(t.onPointerDownOutside,i=>{const o=i.detail.originalEvent,a=o.button===0&&o.ctrlKey===!0;(o.button===2||a)&&i.preventDefault()}),onFocusOutside:ee(t.onFocusOutside,i=>i.preventDefault())})}),LW=g.forwardRef((t,e)=>{const n=xr(Ho,t.__scopeDialog),r=g.useRef(!1),s=g.useRef(!1);return l.jsx(wA,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:i=>{var o,a;(o=t.onCloseAutoFocus)==null||o.call(t,i),i.defaultPrevented||(r.current||(a=n.triggerRef.current)==null||a.focus(),i.preventDefault()),r.current=!1,s.current=!1},onInteractOutside:i=>{var c,d;(c=t.onInteractOutside)==null||c.call(t,i),i.defaultPrevented||(r.current=!0,i.detail.originalEvent.type==="pointerdown"&&(s.current=!0));const o=i.target;((d=n.triggerRef.current)==null?void 0:d.contains(o))&&i.preventDefault(),i.detail.originalEvent.type==="focusin"&&s.current&&i.preventDefault()}})}),wA=g.forwardRef((t,e)=>{const{__scopeDialog:n,trapFocus:r,onOpenAutoFocus:s,onCloseAutoFocus:i,...o}=t,a=xr(Ho,n),c=g.useRef(null),d=Me(e,c);return Kx(),l.jsxs(l.Fragment,{children:[l.jsx(Fp,{asChild:!0,loop:!0,trapped:r,onMountAutoFocus:s,onUnmountAutoFocus:i,children:l.jsx(bl,{role:"dialog",id:a.contentId,"aria-describedby":a.descriptionId,"aria-labelledby":a.titleId,"data-state":Jx(a.open),...o,ref:d,onDismiss:()=>a.onOpenChange(!1)})}),l.jsxs(l.Fragment,{children:[l.jsx(VW,{titleId:a.titleId}),l.jsx(UW,{contentRef:c,descriptionId:a.descriptionId})]})]})}),Xx="DialogTitle",xA=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=xr(Xx,n);return l.jsx(ce.h2,{id:s.titleId,...r,ref:e})});xA.displayName=Xx;var _A="DialogDescription",bA=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=xr(_A,n);return l.jsx(ce.p,{id:s.descriptionId,...r,ref:e})});bA.displayName=_A;var EA="DialogClose",TA=g.forwardRef((t,e)=>{const{__scopeDialog:n,...r}=t,s=xr(EA,n);return l.jsx(ce.button,{type:"button",...r,ref:e,onClick:ee(t.onClick,()=>s.onOpenChange(!1))})});TA.displayName=EA;function Jx(t){return t?"open":"closed"}var SA="DialogTitleWarning",[NQ,IA]=oM(SA,{contentName:Ho,titleName:Xx,docsSlug:"dialog"}),VW=({titleId:t})=>{const e=IA(SA),n=`\`${e.contentName}\` requires a \`${e.titleName}\` for the component to be accessible for screen reader users.

If you want to hide the \`${e.titleName}\`, you can wrap it with our VisuallyHidden component.

For more information, see https://radix-ui.com/primitives/docs/components/${e.docsSlug}`;return g.useEffect(()=>{t&&(document.getElementById(t)||console.error(n))},[n,t]),null},FW="DialogDescriptionWarning",UW=({contentRef:t,descriptionId:e})=>{const r=`Warning: Missing \`Description\` or \`aria-describedby={undefined}\` for {${IA(FW).contentName}}.`;return g.useEffect(()=>{var i;const s=(i=t.current)==null?void 0:i.getAttribute("aria-describedby");e&&s&&(document.getElementById(e)||console.warn(r))},[r,t,e]),null},CA=hA,$W=pA,NA=gA,zp=yA,Wp=vA,Hp=xA,qp=bA,RA=TA;const BW=CA,zW=NA,PA=g.forwardRef(({className:t,...e},n)=>l.jsx(zp,{className:Y("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e,ref:n}));PA.displayName=zp.displayName;const WW=El("fixed z-50 gap-4 bg-background p-6 shadow-lg transition ease-in-out data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:duration-300 data-[state=open]:duration-500",{variants:{side:{top:"inset-x-0 top-0 border-b data-[state=closed]:slide-out-to-top data-[state=open]:slide-in-from-top",bottom:"inset-x-0 bottom-0 border-t data-[state=closed]:slide-out-to-bottom data-[state=open]:slide-in-from-bottom",left:"inset-y-0 left-0 h-full w-3/4 border-r data-[state=closed]:slide-out-to-left data-[state=open]:slide-in-from-left sm:max-w-sm",right:"inset-y-0 right-0 h-full w-3/4  border-l data-[state=closed]:slide-out-to-right data-[state=open]:slide-in-from-right sm:max-w-sm"}},defaultVariants:{side:"right"}}),AA=g.forwardRef(({side:t="right",className:e,children:n,...r},s)=>l.jsxs(zW,{children:[l.jsx(PA,{}),l.jsxs(Wp,{ref:s,className:Y(WW({side:t}),e),...r,children:[n,l.jsxs(RA,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-secondary hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[l.jsx(Wu,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));AA.displayName=Wp.displayName;const HW=g.forwardRef(({className:t,...e},n)=>l.jsx(Hp,{ref:n,className:Y("text-lg font-semibold text-foreground",t),...e}));HW.displayName=Hp.displayName;const qW=g.forwardRef(({className:t,...e},n)=>l.jsx(qp,{ref:n,className:Y("text-sm text-muted-foreground",t),...e}));qW.displayName=qp.displayName;function ME({className:t,...e}){return l.jsx("div",{className:Y("animate-pulse rounded-md bg-muted",t),...e})}const GW="sidebar:state",KW=60*60*24*7,QW="16rem",YW="18rem",XW="3rem",JW="b",kA=g.createContext(null);function Gp(){const t=g.useContext(kA);if(!t)throw new Error("useSidebar must be used within a SidebarProvider.");return t}const jA=g.forwardRef(({defaultOpen:t=!0,open:e,onOpenChange:n,className:r,style:s,children:i,...o},a)=>{const c=O8(),[d,h]=g.useState(!1),[f,p]=g.useState(t),m=e??f,T=g.useCallback(v=>{const b=typeof v=="function"?v(m):v;n?n(b):p(b),document.cookie=`${GW}=${b}; path=/; max-age=${KW}`},[n,m]),w=g.useCallback(()=>c?h(v=>!v):T(v=>!v),[c,T,h]);g.useEffect(()=>{const v=b=>{b.key===JW&&(b.metaKey||b.ctrlKey)&&(b.preventDefault(),w())};return window.addEventListener("keydown",v),()=>window.removeEventListener("keydown",v)},[w]);const x=m?"expanded":"collapsed",_=g.useMemo(()=>({state:x,open:m,setOpen:T,isMobile:c,openMobile:d,setOpenMobile:h,toggleSidebar:w}),[x,m,T,c,d,h,w]);return l.jsx(kA.Provider,{value:_,children:l.jsx(kC,{delayDuration:0,children:l.jsx("div",{style:{"--sidebar-width":QW,"--sidebar-width-icon":XW,...s},className:Y("group/sidebar-wrapper flex min-h-svh w-full has-[[data-variant=inset]]:bg-sidebar",r),ref:a,...o,children:i})})})});jA.displayName="SidebarProvider";const DA=g.forwardRef(({side:t="left",variant:e="sidebar",collapsible:n="offcanvas",className:r,children:s,...i},o)=>{const{isMobile:a,state:c,openMobile:d,setOpenMobile:h}=Gp();return n==="none"?l.jsx("div",{className:Y("flex h-full w-[--sidebar-width] flex-col bg-sidebar text-sidebar-foreground",r),ref:o,...i,children:s}):a?l.jsx(BW,{open:d,onOpenChange:h,...i,children:l.jsx(AA,{"data-sidebar":"sidebar","data-mobile":"true",className:"w-[--sidebar-width] bg-sidebar p-0 text-sidebar-foreground [&>button]:hidden",style:{"--sidebar-width":YW},side:t,children:l.jsx("div",{className:"flex h-full w-full flex-col",children:s})})}):l.jsxs("div",{ref:o,className:"group peer hidden text-sidebar-foreground md:block","data-state":c,"data-collapsible":c==="collapsed"?n:"","data-variant":e,"data-side":t,children:[l.jsx("div",{className:Y("relative h-svh w-[--sidebar-width] bg-transparent transition-[width] duration-200 ease-linear","group-data-[collapsible=offcanvas]:w-0","group-data-[side=right]:rotate-180",e==="floating"||e==="inset"?"group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4))]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon]")}),l.jsx("div",{className:Y("fixed inset-y-0 z-10 hidden h-svh w-[--sidebar-width] transition-[left,right,width] duration-200 ease-linear md:flex",t==="left"?"left-0 group-data-[collapsible=offcanvas]:left-[calc(var(--sidebar-width)*-1)]":"right-0 group-data-[collapsible=offcanvas]:right-[calc(var(--sidebar-width)*-1)]",e==="floating"||e==="inset"?"p-2 group-data-[collapsible=icon]:w-[calc(var(--sidebar-width-icon)_+_theme(spacing.4)_+2px)]":"group-data-[collapsible=icon]:w-[--sidebar-width-icon] group-data-[side=left]:border-r group-data-[side=right]:border-l",r),...i,children:l.jsx("div",{"data-sidebar":"sidebar",className:"flex h-full w-full flex-col bg-sidebar group-data-[variant=floating]:rounded-lg group-data-[variant=floating]:border group-data-[variant=floating]:border-sidebar-border group-data-[variant=floating]:shadow",children:s})})]})});DA.displayName="Sidebar";const OA=g.forwardRef(({className:t,onClick:e,...n},r)=>{const{toggleSidebar:s}=Gp();return l.jsxs(ve,{ref:r,"data-sidebar":"trigger",variant:"ghost",size:"icon",className:Y("h-7 w-7",t),onClick:i=>{e==null||e(i),s()},...n,children:[l.jsx(hL,{}),l.jsx("span",{className:"sr-only",children:"Toggle Sidebar"})]})});OA.displayName="SidebarTrigger";const ZW=g.forwardRef(({className:t,...e},n)=>{const{toggleSidebar:r}=Gp();return l.jsx("button",{ref:n,"data-sidebar":"rail","aria-label":"Toggle Sidebar",tabIndex:-1,onClick:r,title:"Toggle Sidebar",className:Y("absolute inset-y-0 z-20 hidden w-4 -translate-x-1/2 transition-all ease-linear after:absolute after:inset-y-0 after:left-1/2 after:w-[2px] group-data-[side=left]:-right-4 group-data-[side=right]:left-0 hover:after:bg-sidebar-border sm:flex","[[data-side=left]_&]:cursor-w-resize [[data-side=right]_&]:cursor-e-resize","[[data-side=left][data-state=collapsed]_&]:cursor-e-resize [[data-side=right][data-state=collapsed]_&]:cursor-w-resize","group-data-[collapsible=offcanvas]:translate-x-0 group-data-[collapsible=offcanvas]:after:left-full group-data-[collapsible=offcanvas]:hover:bg-sidebar","[[data-side=left][data-collapsible=offcanvas]_&]:-right-2","[[data-side=right][data-collapsible=offcanvas]_&]:-left-2",t),...e})});ZW.displayName="SidebarRail";const eH=g.forwardRef(({className:t,...e},n)=>l.jsx("main",{ref:n,className:Y("relative flex min-h-svh flex-1 flex-col bg-background","peer-data-[variant=inset]:min-h-[calc(100svh-theme(spacing.4))] md:peer-data-[variant=inset]:m-2 md:peer-data-[state=collapsed]:peer-data-[variant=inset]:ml-2 md:peer-data-[variant=inset]:ml-0 md:peer-data-[variant=inset]:rounded-xl md:peer-data-[variant=inset]:shadow",t),...e}));eH.displayName="SidebarInset";const tH=g.forwardRef(({className:t,...e},n)=>l.jsx(pe,{ref:n,"data-sidebar":"input",className:Y("h-8 w-full bg-background shadow-none focus-visible:ring-2 focus-visible:ring-sidebar-ring",t),...e}));tH.displayName="SidebarInput";const MA=g.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,"data-sidebar":"header",className:Y("flex flex-col gap-2 p-2",t),...e}));MA.displayName="SidebarHeader";const LA=g.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,"data-sidebar":"footer",className:Y("flex flex-col gap-2 p-2",t),...e}));LA.displayName="SidebarFooter";const nH=g.forwardRef(({className:t,...e},n)=>l.jsx(Gx,{ref:n,"data-sidebar":"separator",className:Y("mx-2 w-auto bg-sidebar-border",t),...e}));nH.displayName="SidebarSeparator";const VA=g.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,"data-sidebar":"content",className:Y("flex min-h-0 flex-1 flex-col gap-2 overflow-auto group-data-[collapsible=icon]:overflow-hidden",t),...e}));VA.displayName="SidebarContent";const FA=g.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,"data-sidebar":"group",className:Y("relative flex w-full min-w-0 flex-col p-2",t),...e}));FA.displayName="SidebarGroup";const rH=g.forwardRef(({className:t,asChild:e=!1,...n},r)=>{const s=e?_l:"div";return l.jsx(s,{ref:r,"data-sidebar":"group-label",className:Y("flex h-8 shrink-0 items-center rounded-md px-2 text-xs font-medium text-sidebar-foreground/70 outline-none ring-sidebar-ring transition-[margin,opa] duration-200 ease-linear focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","group-data-[collapsible=icon]:-mt-8 group-data-[collapsible=icon]:opacity-0",t),...n})});rH.displayName="SidebarGroupLabel";const sH=g.forwardRef(({className:t,asChild:e=!1,...n},r)=>{const s=e?_l:"button";return l.jsx(s,{ref:r,"data-sidebar":"group-action",className:Y("absolute right-3 top-3.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","group-data-[collapsible=icon]:hidden",t),...n})});sH.displayName="SidebarGroupAction";const UA=g.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,"data-sidebar":"group-content",className:Y("w-full text-sm",t),...e}));UA.displayName="SidebarGroupContent";const $A=g.forwardRef(({className:t,...e},n)=>l.jsx("ul",{ref:n,"data-sidebar":"menu",className:Y("flex w-full min-w-0 flex-col gap-1",t),...e}));$A.displayName="SidebarMenu";const BA=g.forwardRef(({className:t,...e},n)=>l.jsx("li",{ref:n,"data-sidebar":"menu-item",className:Y("group/menu-item relative",t),...e}));BA.displayName="SidebarMenuItem";const iH=El("peer/menu-button flex w-full items-center gap-2 overflow-hidden rounded-md p-2 text-left text-sm outline-none ring-sidebar-ring transition-[width,height,padding] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 group-has-[[data-sidebar=menu-action]]/menu-item:pr-8 aria-disabled:pointer-events-none aria-disabled:opacity-50 data-[active=true]:bg-sidebar-accent data-[active=true]:font-medium data-[active=true]:text-sidebar-accent-foreground data-[state=open]:hover:bg-sidebar-accent data-[state=open]:hover:text-sidebar-accent-foreground group-data-[collapsible=icon]:!size-8 group-data-[collapsible=icon]:!p-2 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0",{variants:{variant:{default:"hover:bg-sidebar-accent hover:text-sidebar-accent-foreground",outline:"bg-background shadow-[0_0_0_1px_hsl(var(--sidebar-border))] hover:bg-sidebar-accent hover:text-sidebar-accent-foreground hover:shadow-[0_0_0_1px_hsl(var(--sidebar-accent))]"},size:{default:"h-8 text-sm",sm:"h-7 text-xs",lg:"h-12 text-sm group-data-[collapsible=icon]:!p-0"}},defaultVariants:{variant:"default",size:"default"}}),zA=g.forwardRef(({asChild:t=!1,isActive:e=!1,variant:n="default",size:r="default",tooltip:s,className:i,...o},a)=>{const c=t?_l:"button",{isMobile:d,state:h}=Gp(),f=l.jsx(c,{ref:a,"data-sidebar":"menu-button","data-size":r,"data-active":e,className:Y(iH({variant:n,size:r}),i),...o});return s?(typeof s=="string"&&(s={children:s}),l.jsxs(m5,{children:[l.jsx(g5,{asChild:!0,children:f}),l.jsx(jC,{side:"right",align:"center",hidden:h!=="collapsed"||d,...s})]})):f});zA.displayName="SidebarMenuButton";const oH=g.forwardRef(({className:t,asChild:e=!1,showOnHover:n=!1,...r},s)=>{const i=e?_l:"button";return l.jsx(i,{ref:s,"data-sidebar":"menu-action",className:Y("absolute right-1 top-1.5 flex aspect-square w-5 items-center justify-center rounded-md p-0 text-sidebar-foreground outline-none ring-sidebar-ring transition-transform peer-hover/menu-button:text-sidebar-accent-foreground hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 [&>svg]:size-4 [&>svg]:shrink-0","after:absolute after:-inset-2 after:md:hidden","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",n&&"group-focus-within/menu-item:opacity-100 group-hover/menu-item:opacity-100 data-[state=open]:opacity-100 peer-data-[active=true]/menu-button:text-sidebar-accent-foreground md:opacity-0",t),...r})});oH.displayName="SidebarMenuAction";const aH=g.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,"data-sidebar":"menu-badge",className:Y("pointer-events-none absolute right-1 flex h-5 min-w-5 select-none items-center justify-center rounded-md px-1 text-xs font-medium tabular-nums text-sidebar-foreground","peer-hover/menu-button:text-sidebar-accent-foreground peer-data-[active=true]/menu-button:text-sidebar-accent-foreground","peer-data-[size=sm]/menu-button:top-1","peer-data-[size=default]/menu-button:top-1.5","peer-data-[size=lg]/menu-button:top-2.5","group-data-[collapsible=icon]:hidden",t),...e}));aH.displayName="SidebarMenuBadge";const lH=g.forwardRef(({className:t,showIcon:e=!1,...n},r)=>{const s=g.useMemo(()=>`${Math.floor(Math.random()*40)+50}%`,[]);return l.jsxs("div",{ref:r,"data-sidebar":"menu-skeleton",className:Y("flex h-8 items-center gap-2 rounded-md px-2",t),...n,children:[e&&l.jsx(ME,{className:"size-4 rounded-md","data-sidebar":"menu-skeleton-icon"}),l.jsx(ME,{className:"h-4 max-w-[--skeleton-width] flex-1","data-sidebar":"menu-skeleton-text",style:{"--skeleton-width":s}})]})});lH.displayName="SidebarMenuSkeleton";const cH=g.forwardRef(({className:t,...e},n)=>l.jsx("ul",{ref:n,"data-sidebar":"menu-sub",className:Y("mx-3.5 flex min-w-0 translate-x-px flex-col gap-1 border-l border-sidebar-border px-2.5 py-0.5","group-data-[collapsible=icon]:hidden",t),...e}));cH.displayName="SidebarMenuSub";const uH=g.forwardRef(({...t},e)=>l.jsx("li",{ref:e,...t}));uH.displayName="SidebarMenuSubItem";const dH=g.forwardRef(({asChild:t=!1,size:e="md",isActive:n,className:r,...s},i)=>{const o=t?_l:"a";return l.jsx(o,{ref:i,"data-sidebar":"menu-sub-button","data-size":e,"data-active":n,className:Y("flex h-7 min-w-0 -translate-x-px items-center gap-2 overflow-hidden rounded-md px-2 text-sidebar-foreground outline-none ring-sidebar-ring aria-disabled:pointer-events-none aria-disabled:opacity-50 hover:bg-sidebar-accent hover:text-sidebar-accent-foreground focus-visible:ring-2 active:bg-sidebar-accent active:text-sidebar-accent-foreground disabled:pointer-events-none disabled:opacity-50 [&>span:last-child]:truncate [&>svg]:size-4 [&>svg]:shrink-0 [&>svg]:text-sidebar-accent-foreground","data-[active=true]:bg-sidebar-accent data-[active=true]:text-sidebar-accent-foreground",e==="sm"&&"text-xs",e==="md"&&"text-sm","group-data-[collapsible=icon]:hidden",r),...s})});dH.displayName="SidebarMenuSubButton";const WA=g.forwardRef(({className:t,activeClassName:e,pendingClassName:n,to:r,...s},i)=>l.jsx($F,{ref:i,to:r,className:({isActive:o,isPending:a})=>Y(t,o&&e,a&&n),...s}));WA.displayName="NavLink";const hH=[{title:"Dashboard",url:"/",icon:cL},{title:"Products",url:"/products",icon:Ai},{title:"Customers",url:"/customers",icon:Iw},{title:"Delivery Routes",url:"/routes",icon:ys},{title:"Orders",url:"/orders",icon:Pi},{title:"Invoices",url:"/invoices",icon:Pi}];function fH(){return l.jsxs(DA,{className:"border-r border-sidebar-border/50",children:[l.jsx(MA,{className:"px-6 py-6 border-b border-sidebar-border/50",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-xl bg-gradient-to-br from-sidebar-primary to-sidebar-primary/80 flex items-center justify-center shadow-lg overflow-hidden p-1",children:l.jsx("img",{src:"/swabhimani.png",alt:"Swabhimani Logo",className:"h-full w-full object-contain"})}),l.jsxs("div",{children:[l.jsxs("h1",{className:"text-lg font-bold text-sidebar-foreground tracking-tight flex items-center gap-2",children:["Swabhimani",l.jsx(HI,{className:"h-3.5 w-3.5 text-sidebar-primary"})]}),l.jsx("p",{className:"text-[10px] text-sidebar-foreground/50 uppercase tracking-widest font-semibold",children:"Management Panel"})]})]})}),l.jsx(VA,{className:"pt-4 px-3",children:l.jsx(FA,{children:l.jsx(UA,{children:l.jsx($A,{className:"space-y-1",children:hH.map(t=>l.jsx(BA,{children:l.jsx(zA,{asChild:!0,children:l.jsxs(WA,{to:t.url,end:t.url==="/",className:"flex items-center gap-3 px-4 py-3 rounded-lg text-sidebar-foreground/70 text-sm font-medium hover:bg-sidebar-accent hover:text-sidebar-foreground transition-all group",activeClassName:"bg-sidebar-accent text-sidebar-foreground font-semibold shadow-sm",children:[l.jsx(t.icon,{className:"h-5 w-5 group-hover:scale-110 transition-transform"}),l.jsx("span",{children:t.title})]})})},t.title))})})})}),l.jsx(LA,{className:"p-4 border-t border-sidebar-border/50",children:l.jsxs("div",{className:"px-3 py-2 rounded-lg bg-sidebar-accent/50 border border-sidebar-border/30",children:[l.jsx("p",{className:"text-xs text-sidebar-foreground/60 font-medium",children:"Version 1.0.0"}),l.jsx("p",{className:"text-[10px] text-sidebar-foreground/40 mt-0.5",children:" 2026 Swabhimani"})]})})]})}var pH=g.createContext(void 0);function Kp(t){const e=g.useContext(pH);return t||e||"ltr"}var Cg="rovingFocusGroup.onEntryFocus",mH={bubbles:!1,cancelable:!0},sd="RovingFocusGroup",[gv,HA,gH]=ep(sd),[yH,Qp]=vr(sd,[gH]),[vH,wH]=yH(sd),qA=g.forwardRef((t,e)=>l.jsx(gv.Provider,{scope:t.__scopeRovingFocusGroup,children:l.jsx(gv.Slot,{scope:t.__scopeRovingFocusGroup,children:l.jsx(xH,{...t,ref:e})})}));qA.displayName=sd;var xH=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,orientation:r,loop:s=!1,dir:i,currentTabStopId:o,defaultCurrentTabStopId:a,onCurrentTabStopIdChange:c,onEntryFocus:d,preventScrollOnEntryFocus:h=!1,...f}=t,p=g.useRef(null),m=Me(e,p),T=Kp(i),[w,x]=Es({prop:o,defaultProp:a??null,onChange:c,caller:sd}),[_,v]=g.useState(!1),b=yn(d),k=HA(n),O=g.useRef(!1),[D,C]=g.useState(0);return g.useEffect(()=>{const I=p.current;if(I)return I.addEventListener(Cg,b),()=>I.removeEventListener(Cg,b)},[b]),l.jsx(vH,{scope:n,orientation:r,dir:T,loop:s,currentTabStopId:w,onItemFocus:g.useCallback(I=>x(I),[x]),onItemShiftTab:g.useCallback(()=>v(!0),[]),onFocusableItemAdd:g.useCallback(()=>C(I=>I+1),[]),onFocusableItemRemove:g.useCallback(()=>C(I=>I-1),[]),children:l.jsx(ce.div,{tabIndex:_||D===0?-1:0,"data-orientation":r,...f,ref:m,style:{outline:"none",...t.style},onMouseDown:ee(t.onMouseDown,()=>{O.current=!0}),onFocus:ee(t.onFocus,I=>{const S=!O.current;if(I.target===I.currentTarget&&S&&!_){const N=new CustomEvent(Cg,mH);if(I.currentTarget.dispatchEvent(N),!N.defaultPrevented){const P=k().filter(H=>H.focusable),j=P.find(H=>H.active),R=P.find(H=>H.id===w),G=[j,R,...P].filter(Boolean).map(H=>H.ref.current);QA(G,h)}}O.current=!1}),onBlur:ee(t.onBlur,()=>v(!1))})})}),GA="RovingFocusGroupItem",KA=g.forwardRef((t,e)=>{const{__scopeRovingFocusGroup:n,focusable:r=!0,active:s=!1,tabStopId:i,children:o,...a}=t,c=Un(),d=i||c,h=wH(GA,n),f=h.currentTabStopId===d,p=HA(n),{onFocusableItemAdd:m,onFocusableItemRemove:T,currentTabStopId:w}=h;return g.useEffect(()=>{if(r)return m(),()=>T()},[r,m,T]),l.jsx(gv.ItemSlot,{scope:n,id:d,focusable:r,active:s,children:l.jsx(ce.span,{tabIndex:f?0:-1,"data-orientation":h.orientation,...a,ref:e,onMouseDown:ee(t.onMouseDown,x=>{r?h.onItemFocus(d):x.preventDefault()}),onFocus:ee(t.onFocus,()=>h.onItemFocus(d)),onKeyDown:ee(t.onKeyDown,x=>{if(x.key==="Tab"&&x.shiftKey){h.onItemShiftTab();return}if(x.target!==x.currentTarget)return;const _=EH(x,h.orientation,h.dir);if(_!==void 0){if(x.metaKey||x.ctrlKey||x.altKey||x.shiftKey)return;x.preventDefault();let b=p().filter(k=>k.focusable).map(k=>k.ref.current);if(_==="last")b.reverse();else if(_==="prev"||_==="next"){_==="prev"&&b.reverse();const k=b.indexOf(x.currentTarget);b=h.loop?TH(b,k+1):b.slice(k+1)}setTimeout(()=>QA(b))}}),children:typeof o=="function"?o({isCurrentTabStop:f,hasTabStop:w!=null}):o})})});KA.displayName=GA;var _H={ArrowLeft:"prev",ArrowUp:"prev",ArrowRight:"next",ArrowDown:"next",PageUp:"first",Home:"first",PageDown:"last",End:"last"};function bH(t,e){return e!=="rtl"?t:t==="ArrowLeft"?"ArrowRight":t==="ArrowRight"?"ArrowLeft":t}function EH(t,e,n){const r=bH(t.key,n);if(!(e==="vertical"&&["ArrowLeft","ArrowRight"].includes(r))&&!(e==="horizontal"&&["ArrowUp","ArrowDown"].includes(r)))return _H[r]}function QA(t,e=!1){const n=document.activeElement;for(const r of t)if(r===n||(r.focus({preventScroll:e}),document.activeElement!==n))return}function TH(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var YA=qA,XA=KA,yv=["Enter"," "],SH=["ArrowDown","PageUp","Home"],JA=["ArrowUp","PageDown","End"],IH=[...SH,...JA],CH={ltr:[...yv,"ArrowRight"],rtl:[...yv,"ArrowLeft"]},NH={ltr:["ArrowLeft"],rtl:["ArrowRight"]},id="Menu",[Nu,RH,PH]=ep(id),[ra,ZA]=vr(id,[PH,Cl,Qp]),Yp=Cl(),ek=Qp(),[AH,sa]=ra(id),[kH,od]=ra(id),tk=t=>{const{__scopeMenu:e,open:n=!1,children:r,dir:s,onOpenChange:i,modal:o=!0}=t,a=Yp(e),[c,d]=g.useState(null),h=g.useRef(!1),f=yn(i),p=Kp(s);return g.useEffect(()=>{const m=()=>{h.current=!0,document.addEventListener("pointerdown",T,{capture:!0,once:!0}),document.addEventListener("pointermove",T,{capture:!0,once:!0})},T=()=>h.current=!1;return document.addEventListener("keydown",m,{capture:!0}),()=>{document.removeEventListener("keydown",m,{capture:!0}),document.removeEventListener("pointerdown",T,{capture:!0}),document.removeEventListener("pointermove",T,{capture:!0})}},[]),l.jsx(Lw,{...a,children:l.jsx(AH,{scope:e,open:n,onOpenChange:f,content:c,onContentChange:d,children:l.jsx(kH,{scope:e,onClose:g.useCallback(()=>f(!1),[f]),isUsingKeyboardRef:h,dir:p,modal:o,children:r})})})};tk.displayName=id;var jH="MenuAnchor",Zx=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Yp(n);return l.jsx(Vw,{...s,...r,ref:e})});Zx.displayName=jH;var e0="MenuPortal",[DH,nk]=ra(e0,{forceMount:void 0}),rk=t=>{const{__scopeMenu:e,forceMount:n,children:r,container:s}=t,i=sa(e0,e);return l.jsx(DH,{scope:e,forceMount:n,children:l.jsx(Hn,{present:n||i.open,children:l.jsx(Bu,{asChild:!0,container:s,children:r})})})};rk.displayName=e0;var Bn="MenuContent",[OH,t0]=ra(Bn),sk=g.forwardRef((t,e)=>{const n=nk(Bn,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=sa(Bn,t.__scopeMenu),o=od(Bn,t.__scopeMenu);return l.jsx(Nu.Provider,{scope:t.__scopeMenu,children:l.jsx(Hn,{present:r||i.open,children:l.jsx(Nu.Slot,{scope:t.__scopeMenu,children:o.modal?l.jsx(MH,{...s,ref:e}):l.jsx(LH,{...s,ref:e})})})})}),MH=g.forwardRef((t,e)=>{const n=sa(Bn,t.__scopeMenu),r=g.useRef(null),s=Me(e,r);return g.useEffect(()=>{const i=r.current;if(i)return Qx(i)},[]),l.jsx(n0,{...t,ref:s,trapFocus:n.open,disableOutsidePointerEvents:n.open,disableOutsideScroll:!0,onFocusOutside:ee(t.onFocusOutside,i=>i.preventDefault(),{checkForDefaultPrevented:!1}),onDismiss:()=>n.onOpenChange(!1)})}),LH=g.forwardRef((t,e)=>{const n=sa(Bn,t.__scopeMenu);return l.jsx(n0,{...t,ref:e,trapFocus:!1,disableOutsidePointerEvents:!1,disableOutsideScroll:!1,onDismiss:()=>n.onOpenChange(!1)})}),VH=ko("MenuContent.ScrollLock"),n0=g.forwardRef((t,e)=>{const{__scopeMenu:n,loop:r=!1,trapFocus:s,onOpenAutoFocus:i,onCloseAutoFocus:o,disableOutsidePointerEvents:a,onEntryFocus:c,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:p,onDismiss:m,disableOutsideScroll:T,...w}=t,x=sa(Bn,n),_=od(Bn,n),v=Yp(n),b=ek(n),k=RH(n),[O,D]=g.useState(null),C=g.useRef(null),I=Me(e,C,x.onContentChange),S=g.useRef(0),N=g.useRef(""),P=g.useRef(0),j=g.useRef(null),R=g.useRef("right"),M=g.useRef(0),G=T?$p:g.Fragment,H=T?{as:VH,allowPinchZoom:!0}:void 0,ne=V=>{var Q,Te;const L=N.current+V,Z=k().filter(Pe=>!Pe.disabled),X=document.activeElement,oe=(Q=Z.find(Pe=>Pe.ref.current===X))==null?void 0:Q.textValue,ae=Z.map(Pe=>Pe.textValue),we=YH(ae,L,oe),ke=(Te=Z.find(Pe=>Pe.textValue===we))==null?void 0:Te.ref.current;(function Pe(Se){N.current=Se,window.clearTimeout(S.current),Se!==""&&(S.current=window.setTimeout(()=>Pe(""),1e3))})(L),ke&&setTimeout(()=>ke.focus())};g.useEffect(()=>()=>window.clearTimeout(S.current),[]),Kx();const F=g.useCallback(V=>{var Z,X;return R.current===((Z=j.current)==null?void 0:Z.side)&&JH(V,(X=j.current)==null?void 0:X.area)},[]);return l.jsx(OH,{scope:n,searchRef:N,onItemEnter:g.useCallback(V=>{F(V)&&V.preventDefault()},[F]),onItemLeave:g.useCallback(V=>{var L;F(V)||((L=C.current)==null||L.focus(),D(null))},[F]),onTriggerLeave:g.useCallback(V=>{F(V)&&V.preventDefault()},[F]),pointerGraceTimerRef:P,onPointerGraceIntentChange:g.useCallback(V=>{j.current=V},[]),children:l.jsx(G,{...H,children:l.jsx(Fp,{asChild:!0,trapped:s,onMountAutoFocus:ee(i,V=>{var L;V.preventDefault(),(L=C.current)==null||L.focus({preventScroll:!0})}),onUnmountAutoFocus:o,children:l.jsx(bl,{asChild:!0,disableOutsidePointerEvents:a,onEscapeKeyDown:d,onPointerDownOutside:h,onFocusOutside:f,onInteractOutside:p,onDismiss:m,children:l.jsx(YA,{asChild:!0,...b,dir:_.dir,orientation:"vertical",loop:r,currentTabStopId:O,onCurrentTabStopIdChange:D,onEntryFocus:ee(c,V=>{_.isUsingKeyboardRef.current||V.preventDefault()}),preventScrollOnEntryFocus:!0,children:l.jsx(Fw,{role:"menu","aria-orientation":"vertical","data-state":xk(x.open),"data-radix-menu-content":"",dir:_.dir,...v,...w,ref:I,style:{outline:"none",...w.style},onKeyDown:ee(w.onKeyDown,V=>{const Z=V.target.closest("[data-radix-menu-content]")===V.currentTarget,X=V.ctrlKey||V.altKey||V.metaKey,oe=V.key.length===1;Z&&(V.key==="Tab"&&V.preventDefault(),!X&&oe&&ne(V.key));const ae=C.current;if(V.target!==ae||!IH.includes(V.key))return;V.preventDefault();const ke=k().filter(Q=>!Q.disabled).map(Q=>Q.ref.current);JA.includes(V.key)&&ke.reverse(),KH(ke)}),onBlur:ee(t.onBlur,V=>{V.currentTarget.contains(V.target)||(window.clearTimeout(S.current),N.current="")}),onPointerMove:ee(t.onPointerMove,Ru(V=>{const L=V.target,Z=M.current!==V.clientX;if(V.currentTarget.contains(L)&&Z){const X=V.clientX>M.current?"right":"left";R.current=X,M.current=V.clientX}}))})})})})})})});sk.displayName=Bn;var FH="MenuGroup",r0=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return l.jsx(ce.div,{role:"group",...r,ref:e})});r0.displayName=FH;var UH="MenuLabel",ik=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return l.jsx(ce.div,{...r,ref:e})});ik.displayName=UH;var kf="MenuItem",LE="menu.itemSelect",Xp=g.forwardRef((t,e)=>{const{disabled:n=!1,onSelect:r,...s}=t,i=g.useRef(null),o=od(kf,t.__scopeMenu),a=t0(kf,t.__scopeMenu),c=Me(e,i),d=g.useRef(!1),h=()=>{const f=i.current;if(!n&&f){const p=new CustomEvent(LE,{bubbles:!0,cancelable:!0});f.addEventListener(LE,m=>r==null?void 0:r(m),{once:!0}),ww(f,p),p.defaultPrevented?d.current=!1:o.onClose()}};return l.jsx(ok,{...s,ref:c,disabled:n,onClick:ee(t.onClick,h),onPointerDown:f=>{var p;(p=t.onPointerDown)==null||p.call(t,f),d.current=!0},onPointerUp:ee(t.onPointerUp,f=>{var p;d.current||(p=f.currentTarget)==null||p.click()}),onKeyDown:ee(t.onKeyDown,f=>{const p=a.searchRef.current!=="";n||p&&f.key===" "||yv.includes(f.key)&&(f.currentTarget.click(),f.preventDefault())})})});Xp.displayName=kf;var ok=g.forwardRef((t,e)=>{const{__scopeMenu:n,disabled:r=!1,textValue:s,...i}=t,o=t0(kf,n),a=ek(n),c=g.useRef(null),d=Me(e,c),[h,f]=g.useState(!1),[p,m]=g.useState("");return g.useEffect(()=>{const T=c.current;T&&m((T.textContent??"").trim())},[i.children]),l.jsx(Nu.ItemSlot,{scope:n,disabled:r,textValue:s??p,children:l.jsx(XA,{asChild:!0,...a,focusable:!r,children:l.jsx(ce.div,{role:"menuitem","data-highlighted":h?"":void 0,"aria-disabled":r||void 0,"data-disabled":r?"":void 0,...i,ref:d,onPointerMove:ee(t.onPointerMove,Ru(T=>{r?o.onItemLeave(T):(o.onItemEnter(T),T.defaultPrevented||T.currentTarget.focus({preventScroll:!0}))})),onPointerLeave:ee(t.onPointerLeave,Ru(T=>o.onItemLeave(T))),onFocus:ee(t.onFocus,()=>f(!0)),onBlur:ee(t.onBlur,()=>f(!1))})})})}),$H="MenuCheckboxItem",ak=g.forwardRef((t,e)=>{const{checked:n=!1,onCheckedChange:r,...s}=t;return l.jsx(hk,{scope:t.__scopeMenu,checked:n,children:l.jsx(Xp,{role:"menuitemcheckbox","aria-checked":jf(n)?"mixed":n,...s,ref:e,"data-state":i0(n),onSelect:ee(s.onSelect,()=>r==null?void 0:r(jf(n)?!0:!n),{checkForDefaultPrevented:!1})})})});ak.displayName=$H;var lk="MenuRadioGroup",[BH,zH]=ra(lk,{value:void 0,onValueChange:()=>{}}),ck=g.forwardRef((t,e)=>{const{value:n,onValueChange:r,...s}=t,i=yn(r);return l.jsx(BH,{scope:t.__scopeMenu,value:n,onValueChange:i,children:l.jsx(r0,{...s,ref:e})})});ck.displayName=lk;var uk="MenuRadioItem",dk=g.forwardRef((t,e)=>{const{value:n,...r}=t,s=zH(uk,t.__scopeMenu),i=n===s.value;return l.jsx(hk,{scope:t.__scopeMenu,checked:i,children:l.jsx(Xp,{role:"menuitemradio","aria-checked":i,...r,ref:e,"data-state":i0(i),onSelect:ee(r.onSelect,()=>{var o;return(o=s.onValueChange)==null?void 0:o.call(s,n)},{checkForDefaultPrevented:!1})})})});dk.displayName=uk;var s0="MenuItemIndicator",[hk,WH]=ra(s0,{checked:!1}),fk=g.forwardRef((t,e)=>{const{__scopeMenu:n,forceMount:r,...s}=t,i=WH(s0,n);return l.jsx(Hn,{present:r||jf(i.checked)||i.checked===!0,children:l.jsx(ce.span,{...s,ref:e,"data-state":i0(i.checked)})})});fk.displayName=s0;var HH="MenuSeparator",pk=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t;return l.jsx(ce.div,{role:"separator","aria-orientation":"horizontal",...r,ref:e})});pk.displayName=HH;var qH="MenuArrow",mk=g.forwardRef((t,e)=>{const{__scopeMenu:n,...r}=t,s=Yp(n);return l.jsx(Uw,{...s,...r,ref:e})});mk.displayName=qH;var GH="MenuSub",[RQ,gk]=ra(GH),Ic="MenuSubTrigger",yk=g.forwardRef((t,e)=>{const n=sa(Ic,t.__scopeMenu),r=od(Ic,t.__scopeMenu),s=gk(Ic,t.__scopeMenu),i=t0(Ic,t.__scopeMenu),o=g.useRef(null),{pointerGraceTimerRef:a,onPointerGraceIntentChange:c}=i,d={__scopeMenu:t.__scopeMenu},h=g.useCallback(()=>{o.current&&window.clearTimeout(o.current),o.current=null},[]);return g.useEffect(()=>h,[h]),g.useEffect(()=>{const f=a.current;return()=>{window.clearTimeout(f),c(null)}},[a,c]),l.jsx(Zx,{asChild:!0,...d,children:l.jsx(ok,{id:s.triggerId,"aria-haspopup":"menu","aria-expanded":n.open,"aria-controls":s.contentId,"data-state":xk(n.open),...t,ref:Zf(e,s.onTriggerChange),onClick:f=>{var p;(p=t.onClick)==null||p.call(t,f),!(t.disabled||f.defaultPrevented)&&(f.currentTarget.focus(),n.open||n.onOpenChange(!0))},onPointerMove:ee(t.onPointerMove,Ru(f=>{i.onItemEnter(f),!f.defaultPrevented&&!t.disabled&&!n.open&&!o.current&&(i.onPointerGraceIntentChange(null),o.current=window.setTimeout(()=>{n.onOpenChange(!0),h()},100))})),onPointerLeave:ee(t.onPointerLeave,Ru(f=>{var m,T;h();const p=(m=n.content)==null?void 0:m.getBoundingClientRect();if(p){const w=(T=n.content)==null?void 0:T.dataset.side,x=w==="right",_=x?-5:5,v=p[x?"left":"right"],b=p[x?"right":"left"];i.onPointerGraceIntentChange({area:[{x:f.clientX+_,y:f.clientY},{x:v,y:p.top},{x:b,y:p.top},{x:b,y:p.bottom},{x:v,y:p.bottom}],side:w}),window.clearTimeout(a.current),a.current=window.setTimeout(()=>i.onPointerGraceIntentChange(null),300)}else{if(i.onTriggerLeave(f),f.defaultPrevented)return;i.onPointerGraceIntentChange(null)}})),onKeyDown:ee(t.onKeyDown,f=>{var m;const p=i.searchRef.current!=="";t.disabled||p&&f.key===" "||CH[r.dir].includes(f.key)&&(n.onOpenChange(!0),(m=n.content)==null||m.focus(),f.preventDefault())})})})});yk.displayName=Ic;var vk="MenuSubContent",wk=g.forwardRef((t,e)=>{const n=nk(Bn,t.__scopeMenu),{forceMount:r=n.forceMount,...s}=t,i=sa(Bn,t.__scopeMenu),o=od(Bn,t.__scopeMenu),a=gk(vk,t.__scopeMenu),c=g.useRef(null),d=Me(e,c);return l.jsx(Nu.Provider,{scope:t.__scopeMenu,children:l.jsx(Hn,{present:r||i.open,children:l.jsx(Nu.Slot,{scope:t.__scopeMenu,children:l.jsx(n0,{id:a.contentId,"aria-labelledby":a.triggerId,...s,ref:d,align:"start",side:o.dir==="rtl"?"left":"right",disableOutsidePointerEvents:!1,disableOutsideScroll:!1,trapFocus:!1,onOpenAutoFocus:h=>{var f;o.isUsingKeyboardRef.current&&((f=c.current)==null||f.focus()),h.preventDefault()},onCloseAutoFocus:h=>h.preventDefault(),onFocusOutside:ee(t.onFocusOutside,h=>{h.target!==a.trigger&&i.onOpenChange(!1)}),onEscapeKeyDown:ee(t.onEscapeKeyDown,h=>{o.onClose(),h.preventDefault()}),onKeyDown:ee(t.onKeyDown,h=>{var m;const f=h.currentTarget.contains(h.target),p=NH[o.dir].includes(h.key);f&&p&&(i.onOpenChange(!1),(m=a.trigger)==null||m.focus(),h.preventDefault())})})})})})});wk.displayName=vk;function xk(t){return t?"open":"closed"}function jf(t){return t==="indeterminate"}function i0(t){return jf(t)?"indeterminate":t?"checked":"unchecked"}function KH(t){const e=document.activeElement;for(const n of t)if(n===e||(n.focus(),document.activeElement!==e))return}function QH(t,e){return t.map((n,r)=>t[(e+r)%t.length])}function YH(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=QH(t,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function XH(t,e){const{x:n,y:r}=t;let s=!1;for(let i=0,o=e.length-1;i<e.length;o=i++){const a=e[i],c=e[o],d=a.x,h=a.y,f=c.x,p=c.y;h>r!=p>r&&n<(f-d)*(r-h)/(p-h)+d&&(s=!s)}return s}function JH(t,e){if(!e)return!1;const n={x:t.clientX,y:t.clientY};return XH(n,e)}function Ru(t){return e=>e.pointerType==="mouse"?t(e):void 0}var ZH=tk,eq=Zx,tq=rk,nq=sk,rq=r0,sq=ik,iq=Xp,oq=ak,aq=ck,lq=dk,cq=fk,uq=pk,dq=mk,hq=yk,fq=wk,Jp="DropdownMenu",[pq,PQ]=vr(Jp,[ZA]),on=ZA(),[mq,_k]=pq(Jp),bk=t=>{const{__scopeDropdownMenu:e,children:n,dir:r,open:s,defaultOpen:i,onOpenChange:o,modal:a=!0}=t,c=on(e),d=g.useRef(null),[h,f]=Es({prop:s,defaultProp:i??!1,onChange:o,caller:Jp});return l.jsx(mq,{scope:e,triggerId:Un(),triggerRef:d,contentId:Un(),open:h,onOpenChange:f,onOpenToggle:g.useCallback(()=>f(p=>!p),[f]),modal:a,children:l.jsx(ZH,{...c,open:h,onOpenChange:f,dir:r,modal:a,children:n})})};bk.displayName=Jp;var Ek="DropdownMenuTrigger",Tk=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,disabled:r=!1,...s}=t,i=_k(Ek,n),o=on(n);return l.jsx(eq,{asChild:!0,...o,children:l.jsx(ce.button,{type:"button",id:i.triggerId,"aria-haspopup":"menu","aria-expanded":i.open,"aria-controls":i.open?i.contentId:void 0,"data-state":i.open?"open":"closed","data-disabled":r?"":void 0,disabled:r,...s,ref:Zf(e,i.triggerRef),onPointerDown:ee(t.onPointerDown,a=>{!r&&a.button===0&&a.ctrlKey===!1&&(i.onOpenToggle(),i.open||a.preventDefault())}),onKeyDown:ee(t.onKeyDown,a=>{r||(["Enter"," "].includes(a.key)&&i.onOpenToggle(),a.key==="ArrowDown"&&i.onOpenChange(!0),["Enter"," ","ArrowDown"].includes(a.key)&&a.preventDefault())})})})});Tk.displayName=Ek;var gq="DropdownMenuPortal",Sk=t=>{const{__scopeDropdownMenu:e,...n}=t,r=on(e);return l.jsx(tq,{...r,...n})};Sk.displayName=gq;var Ik="DropdownMenuContent",Ck=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=_k(Ik,n),i=on(n),o=g.useRef(!1);return l.jsx(nq,{id:s.contentId,"aria-labelledby":s.triggerId,...i,...r,ref:e,onCloseAutoFocus:ee(t.onCloseAutoFocus,a=>{var c;o.current||(c=s.triggerRef.current)==null||c.focus(),o.current=!1,a.preventDefault()}),onInteractOutside:ee(t.onInteractOutside,a=>{const c=a.detail.originalEvent,d=c.button===0&&c.ctrlKey===!0,h=c.button===2||d;(!s.modal||h)&&(o.current=!0)}),style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Ck.displayName=Ik;var yq="DropdownMenuGroup",vq=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=on(n);return l.jsx(rq,{...s,...r,ref:e})});vq.displayName=yq;var wq="DropdownMenuLabel",Nk=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=on(n);return l.jsx(sq,{...s,...r,ref:e})});Nk.displayName=wq;var xq="DropdownMenuItem",Rk=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=on(n);return l.jsx(iq,{...s,...r,ref:e})});Rk.displayName=xq;var _q="DropdownMenuCheckboxItem",Pk=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=on(n);return l.jsx(oq,{...s,...r,ref:e})});Pk.displayName=_q;var bq="DropdownMenuRadioGroup",Eq=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=on(n);return l.jsx(aq,{...s,...r,ref:e})});Eq.displayName=bq;var Tq="DropdownMenuRadioItem",Ak=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=on(n);return l.jsx(lq,{...s,...r,ref:e})});Ak.displayName=Tq;var Sq="DropdownMenuItemIndicator",kk=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=on(n);return l.jsx(cq,{...s,...r,ref:e})});kk.displayName=Sq;var Iq="DropdownMenuSeparator",jk=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=on(n);return l.jsx(uq,{...s,...r,ref:e})});jk.displayName=Iq;var Cq="DropdownMenuArrow",Nq=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=on(n);return l.jsx(dq,{...s,...r,ref:e})});Nq.displayName=Cq;var Rq="DropdownMenuSubTrigger",Dk=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=on(n);return l.jsx(hq,{...s,...r,ref:e})});Dk.displayName=Rq;var Pq="DropdownMenuSubContent",Ok=g.forwardRef((t,e)=>{const{__scopeDropdownMenu:n,...r}=t,s=on(n);return l.jsx(fq,{...s,...r,ref:e,style:{...t.style,"--radix-dropdown-menu-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-dropdown-menu-content-available-width":"var(--radix-popper-available-width)","--radix-dropdown-menu-content-available-height":"var(--radix-popper-available-height)","--radix-dropdown-menu-trigger-width":"var(--radix-popper-anchor-width)","--radix-dropdown-menu-trigger-height":"var(--radix-popper-anchor-height)"}})});Ok.displayName=Pq;var Aq=bk,kq=Tk,jq=Sk,Mk=Ck,Lk=Nk,Vk=Rk,Fk=Pk,Uk=Ak,$k=kk,Bk=jk,zk=Dk,Wk=Ok;const Dq=Aq,Oq=kq,Mq=g.forwardRef(({className:t,inset:e,children:n,...r},s)=>l.jsxs(zk,{ref:s,className:Y("flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none data-[state=open]:bg-accent focus:bg-accent",e&&"pl-8",t),...r,children:[n,l.jsx(BI,{className:"ml-auto h-4 w-4"})]}));Mq.displayName=zk.displayName;const Lq=g.forwardRef(({className:t,...e},n)=>l.jsx(Wk,{ref:n,className:Y("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-lg data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...e}));Lq.displayName=Wk.displayName;const Hk=g.forwardRef(({className:t,sideOffset:e=4,...n},r)=>l.jsx(jq,{children:l.jsx(Mk,{ref:r,sideOffset:e,className:Y("z-50 min-w-[8rem] overflow-hidden rounded-md border bg-popover p-1 text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",t),...n})}));Hk.displayName=Mk.displayName;const qk=g.forwardRef(({className:t,inset:e,...n},r)=>l.jsx(Vk,{ref:r,className:Y("relative flex cursor-default select-none items-center rounded-sm px-2 py-1.5 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",e&&"pl-8",t),...n}));qk.displayName=Vk.displayName;const Vq=g.forwardRef(({className:t,children:e,checked:n,...r},s)=>l.jsxs(Fk,{ref:s,className:Y("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),checked:n,...r,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx($k,{children:l.jsx($I,{className:"h-4 w-4"})})}),e]}));Vq.displayName=Fk.displayName;const Fq=g.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(Uk,{ref:r,className:Y("relative flex cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none transition-colors data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx($k,{children:l.jsx(rL,{className:"h-2 w-2 fill-current"})})}),e]}));Fq.displayName=Uk.displayName;const Gk=g.forwardRef(({className:t,inset:e,...n},r)=>l.jsx(Lk,{ref:r,className:Y("px-2 py-1.5 text-sm font-semibold",e&&"pl-8",t),...n}));Gk.displayName=Lk.displayName;const Kk=g.forwardRef(({className:t,...e},n)=>l.jsx(Bk,{ref:n,className:Y("-mx-1 my-1 h-px bg-muted",t),...e}));Kk.displayName=Bk.displayName;function Uq({children:t}){const{user:e,logout:n}=rd(),r=Xo(),s=()=>{n(),ie.success("Logged out successfully"),r("/login")};return l.jsx(jA,{children:l.jsxs("div",{className:"flex min-h-screen w-full bg-background",children:[l.jsx(fH,{}),l.jsxs("main",{className:"flex-1 flex flex-col min-w-0",children:[l.jsxs("header",{className:"h-16 border-b border-border/40 flex items-center justify-between px-6 bg-card/50 backdrop-blur-sm sticky top-0 z-10 shadow-soft",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsx(OA,{className:"hover:bg-secondary/80 transition-colors"}),l.jsxs("div",{className:"relative hidden md:block",children:[l.jsx(cl,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(pe,{placeholder:"Search anything...",className:"pl-10 w-80 h-10 text-sm bg-secondary/50 border-border/50 focus:bg-background focus:border-primary/50 transition-all"})]})]}),l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsxs(ve,{variant:"ghost",size:"icon",className:"relative h-10 w-10 rounded-full hover:bg-secondary/80 transition-all",children:[l.jsx(eL,{className:"h-5 w-5 text-muted-foreground"}),l.jsx("span",{className:"absolute top-2 right-2 h-2 w-2 rounded-full bg-accent animate-pulse"})]}),l.jsxs(Dq,{children:[l.jsx(Oq,{asChild:!0,children:l.jsx("div",{className:"h-10 w-10 rounded-full bg-gradient-to-br from-primary to-primary/80 flex items-center justify-center text-primary-foreground text-sm font-bold shadow-medium hover:shadow-strong transition-all cursor-pointer hover:scale-105",children:l.jsx(sp,{className:"h-5 w-5"})})}),l.jsxs(Hk,{align:"end",className:"w-56",children:[l.jsx(Gk,{children:l.jsxs("div",{className:"flex flex-col space-y-1",children:[l.jsx("p",{className:"text-sm font-semibold",children:(e==null?void 0:e.name)||"User"}),l.jsx("p",{className:"text-xs text-muted-foreground",children:e==null?void 0:e.email})]})}),l.jsx(Kk,{}),l.jsxs(qk,{onClick:s,className:"text-destructive focus:text-destructive cursor-pointer",children:[l.jsx(Cy,{className:"mr-2 h-4 w-4"}),l.jsx("span",{children:"Log out"})]})]})]})]})]}),l.jsx("div",{className:"flex-1 p-6 md:p-8 overflow-auto bg-gradient-to-br from-background via-background to-secondary/20",children:l.jsx("div",{className:"animate-fade-in",children:t})})]})]})})}function $q(){const[t,e]=g.useState([]),[n,r]=g.useState([]),[s,i]=g.useState([]),[o,a]=g.useState([]),[c,d]=g.useState([]);return g.useEffect(()=>{const I=co(kn(ht,"products"),Qd("name")),S=dc(I,F=>{const V=F.docs.map(L=>({id:L.id,...L.data()}));e(V)},F=>{console.error("Error fetching products:",F),ie.error("Failed to fetch products")}),N=co(kn(ht,"customers"),Qd("name")),P=dc(N,F=>{const V=F.docs.map(L=>({id:L.id,...L.data()}));r(V)},F=>{console.error("Error fetching customers:",F),ie.error("Failed to fetch customers")}),j=co(kn(ht,"delivery_routes")),R=dc(j,F=>{const V=F.docs.map(L=>({id:L.id,...L.data()}));i(V)},F=>{console.error("Error fetching routes:",F),ie.error("Failed to fetch routes")}),M=co(kn(ht,"invoices"),Qd("date","desc")),G=dc(M,F=>{const V=F.docs.map(L=>({id:L.id,...L.data()}));a(V)},F=>{console.error("Error fetching invoices:",F),ie.error("Failed to fetch invoices")}),H=co(kn(ht,"orders"),Qd("created_at","desc")),ne=dc(H,F=>{const V=F.docs.map(L=>({id:L.id,...L.data()}));d(V)},F=>{console.error("Error fetching app orders:",F)});return()=>{S(),P(),R(),G(),ne()}},[]),{products:t,customers:n,routes:s,invoices:o,appOrders:c,addProduct:async I=>{try{await uc(kn(ht,"products"),I),ie.success("Product added successfully")}catch(S){console.error("Error adding product:",S),ie.error("Failed to add product")}},removeProduct:async I=>{try{await Yd(Rr(ht,"products",I)),ie.success("Product removed successfully")}catch(S){console.error("Error removing product:",S),ie.error("Failed to remove product")}},updateProduct:async(I,S)=>{try{await da(Rr(ht,"products",I),S),ie.success("Product updated successfully")}catch(N){console.error("Error updating product:",N),ie.error("Failed to update product")}},addCustomer:async I=>{try{await uc(kn(ht,"customers"),I),ie.success("Customer added successfully")}catch(S){console.error("Error adding customer:",S),ie.error("Failed to add customer")}},removeCustomer:async I=>{try{await Yd(Rr(ht,"customers",I)),ie.success("Customer removed successfully")}catch(S){console.error("Error removing customer:",S),ie.error("Failed to remove customer")}},updateCustomer:async(I,S)=>{try{await da(Rr(ht,"customers",I),S),ie.success("Customer updated successfully")}catch(N){console.error("Error updating customer:",N),ie.error("Failed to update customer")}},addRoute:async I=>{try{await uc(kn(ht,"delivery_routes"),I),ie.success("Route added successfully")}catch(S){console.error("Error adding route:",S),ie.error("Failed to add route")}},removeRoute:async I=>{try{await Yd(Rr(ht,"delivery_routes",I)),ie.success("Route removed successfully")}catch(S){console.error("Error removing route:",S),ie.error("Failed to remove route")}},updateRoute:async(I,S)=>{try{await da(Rr(ht,"delivery_routes",I),S),ie.success("Route updated successfully")}catch(N){console.error("Error updating route:",N),ie.error("Failed to update route")}},addInvoice:async I=>{try{await uc(kn(ht,"invoices"),I),ie.success("Invoice created successfully")}catch(S){console.error("Error adding invoice:",S),ie.error("Failed to create invoice")}},removeInvoice:async I=>{try{await Yd(Rr(ht,"invoices",I)),ie.success("Invoice deleted successfully")}catch(S){console.error("Error removing invoice:",S),ie.error("Failed to delete invoice")}},addAppOrder:async I=>{try{await uc(kn(ht,"orders"),I)}catch(S){throw console.error("Error adding app order:",S),ie.error("Failed to place order"),S}},updateAppOrder:async(I,S)=>{try{await da(Rr(ht,"orders",I),S)}catch(N){throw console.error("Error updating app order:",N),ie.error("Failed to update order"),N}},syncOrderPaymentStatus:async(I,S)=>{try{await da(Rr(ht,"orders",I),{payment_status:S});const N=co(kn(ht,"invoices"),QP("notes","==",`Generated from App Order  ${I}`)),P=await XP(N),j=P.docs.map(R=>da(R.ref,{paymentStatus:S}));await Promise.all(j),P.size>0?ie.success(`Marked as ${S}  order & invoice updated`):ie.success(`Order marked as ${S}`)}catch(N){throw console.error("Error syncing payment status:",N),ie.error("Failed to update payment status"),N}}}}const Ye=g.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:Y("rounded-lg border bg-card text-card-foreground shadow-sm",t),...e}));Ye.displayName="Card";const or=g.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:Y("flex flex-col space-y-1.5 p-6",t),...e}));or.displayName="CardHeader";const ar=g.forwardRef(({className:t,...e},n)=>l.jsx("h3",{ref:n,className:Y("text-2xl font-semibold leading-none tracking-tight",t),...e}));ar.displayName="CardTitle";const Qk=g.forwardRef(({className:t,...e},n)=>l.jsx("p",{ref:n,className:Y("text-sm text-muted-foreground",t),...e}));Qk.displayName="CardDescription";const et=g.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:Y("p-6 pt-0",t),...e}));et.displayName="CardContent";const Bq=g.forwardRef(({className:t,...e},n)=>l.jsx("div",{ref:n,className:Y("flex items-center p-6 pt-0",t),...e}));Bq.displayName="CardFooter";const zq=El("inline-flex items-center rounded-full border px-2.5 py-0.5 text-xs font-semibold transition-colors focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2",{variants:{variant:{default:"border-transparent bg-primary text-primary-foreground hover:bg-primary/80",secondary:"border-transparent bg-secondary text-secondary-foreground hover:bg-secondary/80",destructive:"border-transparent bg-destructive text-destructive-foreground hover:bg-destructive/80",outline:"text-foreground"}},defaultVariants:{variant:"default"}});function Be({className:t,variant:e,...n}){return l.jsx("div",{className:Y(zq({variant:e}),t),...n})}const Ps=CA,Zp=$W,Wq=NA,Yk=g.forwardRef(({className:t,...e},n)=>l.jsx(zp,{ref:n,className:Y("fixed inset-0 z-50 bg-black/80 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0",t),...e}));Yk.displayName=zp.displayName;const Xr=g.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(Wq,{children:[l.jsx(Yk,{}),l.jsxs(Wp,{ref:r,className:Y("fixed left-[50%] top-[50%] z-50 grid w-full max-w-lg translate-x-[-50%] translate-y-[-50%] gap-4 border bg-background p-6 shadow-lg duration-200 data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[state=closed]:slide-out-to-left-1/2 data-[state=closed]:slide-out-to-top-[48%] data-[state=open]:slide-in-from-left-1/2 data-[state=open]:slide-in-from-top-[48%] sm:rounded-lg",t),...n,children:[e,l.jsxs(RA,{className:"absolute right-4 top-4 rounded-sm opacity-70 ring-offset-background transition-opacity data-[state=open]:bg-accent data-[state=open]:text-muted-foreground hover:opacity-100 focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:pointer-events-none",children:[l.jsx(Wu,{className:"h-4 w-4"}),l.jsx("span",{className:"sr-only",children:"Close"})]})]})]}));Xr.displayName=Wp.displayName;const Jr=({className:t,...e})=>l.jsx("div",{className:Y("flex flex-col space-y-1.5 text-center sm:text-left",t),...e});Jr.displayName="DialogHeader";const As=({className:t,...e})=>l.jsx("div",{className:Y("flex flex-col-reverse sm:flex-row sm:justify-end sm:space-x-2",t),...e});As.displayName="DialogFooter";const Zr=g.forwardRef(({className:t,...e},n)=>l.jsx(Hp,{ref:n,className:Y("text-lg font-semibold leading-none tracking-tight",t),...e}));Zr.displayName=Hp.displayName;const Hq=g.forwardRef(({className:t,...e},n)=>l.jsx(qp,{ref:n,className:Y("text-sm text-muted-foreground",t),...e}));Hq.displayName=qp.displayName;const Pu=g.forwardRef(({className:t,...e},n)=>l.jsx("div",{className:"relative w-full overflow-auto",children:l.jsx("table",{ref:n,className:Y("w-full caption-bottom text-sm",t),...e})}));Pu.displayName="Table";const Au=g.forwardRef(({className:t,...e},n)=>l.jsx("thead",{ref:n,className:Y("[&_tr]:border-b",t),...e}));Au.displayName="TableHeader";const ku=g.forwardRef(({className:t,...e},n)=>l.jsx("tbody",{ref:n,className:Y("[&_tr:last-child]:border-0",t),...e}));ku.displayName="TableBody";const qq=g.forwardRef(({className:t,...e},n)=>l.jsx("tfoot",{ref:n,className:Y("border-t bg-muted/50 font-medium [&>tr]:last:border-b-0",t),...e}));qq.displayName="TableFooter";const sr=g.forwardRef(({className:t,...e},n)=>l.jsx("tr",{ref:n,className:Y("border-b transition-colors data-[state=selected]:bg-muted hover:bg-muted/50",t),...e}));sr.displayName="TableRow";const ct=g.forwardRef(({className:t,...e},n)=>l.jsx("th",{ref:n,className:Y("h-12 px-4 text-left align-middle font-medium text-muted-foreground [&:has([role=checkbox])]:pr-0",t),...e}));ct.displayName="TableHead";const Je=g.forwardRef(({className:t,...e},n)=>l.jsx("td",{ref:n,className:Y("p-4 align-middle [&:has([role=checkbox])]:pr-0",t),...e}));Je.displayName="TableCell";const Gq=g.forwardRef(({className:t,...e},n)=>l.jsx("caption",{ref:n,className:Y("mt-4 text-sm text-muted-foreground",t),...e}));Gq.displayName="TableCaption";function Xk({open:t,onOpenChange:e,invoice:n}){const r=g.useRef(null),s=o=>{switch(o){case"paid":return"bg-green-100 text-green-700 border-green-200";case"pending":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"partial":return"bg-blue-100 text-blue-700 border-blue-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},i=()=>{if(!n)return;const o=window.open("","","width=800,height=1123");o&&(o.document.write(`
      <!DOCTYPE html>
      <html>
        <head>
          <title>Invoice ${n.invoiceNumber}</title>
          <style>
            @import url('https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap');
            
            body { 
                font-family: 'Inter', sans-serif; 
                padding: 40px; 
                color: #1f2937;
                max-width: 800px;
                margin: 0 auto;
                -webkit-print-color-adjust: exact;
                print-color-adjust: exact;
            }
            
            .header {
                display: flex;
                justify-content: space-between;
                align-items: flex-start;
                margin-bottom: 40px;
                padding-bottom: 20px;
                border-bottom: 2px solid #f3f4f6;
            }
            
            .company-info h1 {
                font-size: 24px;
                font-weight: 800;
                margin: 0 0 5px 0;
                color: #111;
                letter-spacing: -0.5px;
            }
            
            .invoice-badge {
                background: #f3f4f6;
                padding: 4px 12px;
                border-radius: 4px;
                font-size: 14px;
                font-weight: 600;
                display: inline-block;
                margin-bottom: 10px;
            }

            .grid-2 {
                display: grid;
                grid-template-columns: 1fr 1fr;
                gap: 40px;
                margin-bottom: 40px;
            }
            
            .section-title {
                font-size: 11px;
                text-transform: uppercase;
                letter-spacing: 0.1em;
                color: #6b7280;
                font-weight: 600;
                margin-bottom: 8px;
            }
            
            .info-text {
                font-size: 14px;
                line-height: 1.5;
                margin: 0;
            }
            
            table { 
                width: 100%; 
                border-collapse: collapse; 
                margin: 30px 0; 
            }
            
            th { 
                text-align: left; 
                padding: 12px 10px; 
                border-bottom: 2px solid #e5e7eb; 
                color: #4b5563; 
                font-size: 12px; 
                text-transform: uppercase; 
                font-weight: 600; 
            }
            
            td { 
                padding: 16px 10px; 
                border-bottom: 1px solid #f3f4f6; 
                font-size: 14px; 
            }
            
            .text-right { text-align: right; }
            .font-mono { font-family: monospace; }
            .font-bold { font-weight: 700; }
            
            .totals-section {
                display: flex;
                justify-content: flex-end;
                margin-top: 20px;
            }
            
            .totals-box {
                width: 300px;
            }
            
            .total-row {
                display: flex;
                justify-content: space-between;
                padding: 8px 0;
                font-size: 14px;
            }
            
            .grand-total {
                border-top: 2px solid #e5e7eb;
                margin-top: 8px;
                padding-top: 12px;
                font-weight: 800;
                font-size: 18px;
                color: #111;
            }
            
            .footer {
                margin-top: 60px;
                text-align: center;
                color: #9ca3af;
                font-size: 12px;
                border-top: 1px solid #f3f4f6;
                padding-top: 20px;
            }

            @media print {
              body { padding: 0; }
              button { display: none; }
            }
          </style>
        </head>
        <body>
            <div class="header">
                <div class="company-info">
                    <h1>DAIRY DASHBOARD</h1>
                    <div class="info-text">Quality Dairy Products</div>
                </div>
                <div style="text-align: right;">
                    <div class="invoice-badge">INVOICE</div>
                    <div class="info-text" style="font-weight: 600;">#${n.invoiceNumber}</div>
                    <div class="info-text" style="color: #6b7280;">${new Date(n.date).toLocaleDateString()}</div>
                </div>
            </div>

            <div class="grid-2">
                <div>
                    <div class="section-title">BILL TO</div>
                    <div class="info-text" style="font-weight: 600;">${n.customerName}</div>
                    <div class="info-text">${n.customerPhone}</div>
                    <div class="info-text">${n.customerAddress}</div>
                </div>
                <div>
                    <div class="section-title">PAYMENT DETAILS</div>
                    <div class="total-row">
                        <span style="color: #6b7280;">Status</span>
                        <span style="font-weight: 600; text-transform: uppercase;">${n.paymentStatus}</span>
                    </div>
                    <div class="total-row">
                        <span style="color: #6b7280;">Method</span>
                        <span style="font-weight: 500; text-transform: capitalize;">${n.paymentMethod}</span>
                    </div>
                </div>
            </div>

            <table>
                <thead>
                    <tr>
                        <th>Item Description</th>
                        <th class="text-right">Quantity</th>
                        <th class="text-right">Price</th>
                        <th class="text-right">Total</th>
                    </tr>
                </thead>
                <tbody>
                    ${n.items.map(a=>`
                        <tr>
                            <td>
                                <div style="font-weight: 500;">${a.productName}</div>
                                <div style="font-size: 12px; color: #6b7280;">Product ID: ${a.productId.substring(0,6)}</div>
                            </td>
                            <td class="text-right">${a.quantity} ${a.unit}</td>
                            <td class="text-right">${a.price.toFixed(2)}</td>
                            <td class="text-right" style="font-weight: 600;">${a.total.toFixed(2)}</td>
                        </tr>
                    `).join("")}
                </tbody>
            </table>

            <div class="totals-section">
                <div class="totals-box">
                    <div class="total-row">
                        <span style="color: #6b7280;">Subtotal</span>
                        <span>${n.subtotal.toFixed(2)}</span>
                    </div>
                    <div class="total-row">
                        <span style="color: #6b7280;">Discount</span>
                        <span>-${n.discount.toFixed(2)}</span>
                    </div>
                    <div class="total-row grand-total">
                        <span>Total Due</span>
                        <span>${n.total.toFixed(2)}</span>
                    </div>
                </div>
            </div>

            ${n.notes?`
            <div style="margin-top: 40px; padding: 20px; background: #f9fafb; border-radius: 8px;">
                <div class="section-title">NOTES</div>
                <div class="info-text">${n.notes}</div>
            </div>
            `:""}

            <div class="footer">
                Thank you for your business!
            </div>
        </body>
      </html>
    `),o.document.close(),setTimeout(()=>{o.print()},500))};return n?l.jsx(Ps,{open:t,onOpenChange:e,children:l.jsxs(Xr,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[l.jsx(Jr,{children:l.jsxs(Zr,{className:"flex items-center justify-between",children:[l.jsx("span",{children:"Invoice Details"}),l.jsxs(ve,{onClick:i,size:"sm",variant:"outline",children:[l.jsx(sL,{className:"h-4 w-4 mr-2"}),"Print/Download"]})]})}),l.jsxs("div",{ref:r,className:"space-y-6 py-4",children:[l.jsxs("div",{className:"flex justify-between items-start border-b pb-6 mb-6",children:[l.jsxs("div",{children:[l.jsx("h2",{className:"text-3xl font-bold tracking-tight text-primary",children:"INVOICE"}),l.jsxs("p",{className:"text-muted-foreground font-medium mt-1",children:["# ",n.invoiceNumber]})]}),l.jsx("div",{className:"text-right",children:l.jsxs("div",{className:"inline-block px-3 py-1 bg-secondary rounded-full text-xs font-semibold mb-2",children:["Date: ",new Date(n.date).toLocaleDateString()]})})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6 mb-8",children:[l.jsxs("div",{className:"space-y-3 p-5 bg-secondary/20 rounded-lg border border-secondary/50",children:[l.jsx("h3",{className:"font-bold text-xs text-primary uppercase tracking-widest border-b border-primary/10 pb-2",children:"Bill To"}),l.jsxs("div",{className:"space-y-1.5 pt-1",children:[l.jsx("p",{className:"font-bold text-lg",children:n.customerName}),l.jsxs("p",{className:"text-sm flex items-center gap-2 text-muted-foreground",children:[l.jsx(jo,{className:"h-3.5 w-3.5"}),n.customerPhone]}),l.jsxs("p",{className:"text-sm flex items-center gap-2 text-muted-foreground",children:[l.jsx(Gr,{className:"h-3.5 w-3.5"}),n.customerAddress]})]})]}),l.jsxs("div",{className:"space-y-3 p-5 bg-secondary/20 rounded-lg border border-secondary/50",children:[l.jsx("h3",{className:"font-bold text-xs text-primary uppercase tracking-widest border-b border-primary/10 pb-2",children:"Payment Details"}),l.jsxs("div",{className:"space-y-1.5 pt-1",children:[l.jsxs("div",{className:"flex justify-between items-center text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Status"}),l.jsx(Be,{className:`${s(n.paymentStatus)} border px-3`,children:n.paymentStatus.toUpperCase()})]}),l.jsxs("div",{className:"flex justify-between items-center text-sm mt-2",children:[l.jsx("span",{className:"text-muted-foreground",children:"Method"}),l.jsx("span",{className:"font-medium capitalize",children:n.paymentMethod.replace("_"," ")})]})]})]})]}),l.jsx("div",{className:"border rounded-lg overflow-hidden shadow-sm",children:l.jsxs(Pu,{children:[l.jsx(Au,{children:l.jsxs(sr,{className:"bg-muted/50 hover:bg-muted/50",children:[l.jsx(ct,{className:"font-semibold text-xs uppercase tracking-wider text-muted-foreground",children:"Item"}),l.jsx(ct,{className:"font-semibold text-xs uppercase tracking-wider text-muted-foreground text-right",children:"Qty"}),l.jsx(ct,{className:"font-semibold text-xs uppercase tracking-wider text-muted-foreground text-right",children:"Price"}),l.jsx(ct,{className:"font-semibold text-xs uppercase tracking-wider text-muted-foreground text-right",children:"Total"})]})}),l.jsx(ku,{children:n.items.map((o,a)=>l.jsxs(sr,{className:"hover:bg-transparent",children:[l.jsx(Je,{className:"py-4",children:l.jsx("div",{className:"font-medium",children:o.productName})}),l.jsxs(Je,{className:"text-right py-4",children:[o.quantity," ",o.unit]}),l.jsxs(Je,{className:"text-right py-4",children:["",o.price.toFixed(2)]}),l.jsxs(Je,{className:"text-right font-semibold py-4",children:["",o.total.toFixed(2)]})]},a))})]})}),l.jsx("div",{className:"flex justify-end mt-6",children:l.jsx("div",{className:"w-full md:w-5/12 bg-secondary/10 p-6 rounded-lg border border-secondary/50",children:l.jsxs("div",{className:"space-y-3",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground font-medium",children:"Subtotal"}),l.jsxs("span",{className:"font-semibold",children:["",n.subtotal.toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground font-medium",children:"Discount"}),l.jsxs("span",{className:"font-semibold text-destructive",children:["-",n.discount.toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-between text-lg font-bold pt-4 border-t border-secondary",children:[l.jsx("span",{children:"Total Due"}),l.jsxs("span",{className:"text-primary",children:["",n.total.toFixed(2)]})]})]})})}),n.notes&&l.jsxs("div",{className:"mt-8 bg-secondary/20 p-4 rounded-lg border border-secondary",children:[l.jsx("h3",{className:"font-semibold text-xs text-muted-foreground uppercase tracking-widest mb-2",children:"Notes"}),l.jsx("p",{className:"text-sm text-foreground/80",children:n.notes})]}),l.jsx("div",{className:"text-center text-xs text-muted-foreground border-t pt-4",children:l.jsx("p",{children:"Thank you for your business!"})})]})]})}):null}const Kq=[{key:"products",label:"Total Products",icon:Ai,gradient:"stat-card-gradient",path:"/products"},{key:"customers",label:"Customers",icon:Iw,gradient:"stat-card-accent",path:"/customers"},{key:"routes",label:"Delivery Routes",icon:ys,gradient:"stat-card-success",path:"/routes"},{key:"stock",label:"Total Stock",icon:qI,gradient:"stat-card-purple",path:"/products"}];function Qq({products:t,customers:e,routes:n,invoices:r}){const s=Xo(),[i,o]=g.useState(null),[a,c]=g.useState(!1),d=t.reduce((p,m)=>p+m.stock,0),h=[...new Set(t.map(p=>p.category))],f={products:{value:t.length,sub:`${h.length} categories`},customers:{value:e.length,sub:"Active accounts"},routes:{value:n.length,sub:`${n.reduce((p,m)=>p+m.customers,0)} total stops`},stock:{value:d.toLocaleString(),sub:"Units available"}};return l.jsxs("div",{className:"space-y-6",children:[l.jsx("div",{className:"flex items-center justify-between",children:l.jsxs("div",{children:[l.jsxs("h1",{className:"text-3xl font-bold tracking-tight flex items-center gap-2",children:["Dashboard",l.jsx(HI,{className:"h-6 w-6 text-primary"})]}),l.jsx("p",{className:"text-muted-foreground mt-1",children:"Welcome back! Here's your Swabhimani overview"})]})}),l.jsx("div",{className:"grid gap-5 grid-cols-1 sm:grid-cols-2 lg:grid-cols-4",children:Kq.map((p,m)=>l.jsxs("div",{className:`${p.gradient} rounded-xl p-5 text-primary-foreground shadow-lg animate-slide-up cursor-pointer hover:scale-105 transition-transform`,style:{animationDelay:`${m*.1}s`},onClick:()=>s(p.path),children:[l.jsxs("div",{className:"flex items-center justify-between mb-4",children:[l.jsx("div",{className:"h-12 w-12 rounded-lg bg-white/20 backdrop-blur-sm flex items-center justify-center",children:l.jsx(p.icon,{className:"h-6 w-6"})}),l.jsx(ZM,{className:"h-5 w-5 opacity-70"})]}),l.jsx("div",{className:"text-3xl font-bold mb-1",children:f[p.key].value}),l.jsx("p",{className:"text-sm opacity-90 font-medium",children:p.label}),l.jsx("p",{className:"text-xs opacity-70 mt-1",children:f[p.key].sub})]},p.key))}),l.jsxs("div",{className:"grid gap-6 lg:grid-cols-2",children:[l.jsxs(Ye,{className:"shadow-medium border-0 hover-lift overflow-hidden",children:[l.jsx(or,{className:"pb-4 bg-gradient-to-r from-primary/5 to-transparent border-b border-border/50",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(ar,{className:"text-lg font-bold flex items-center gap-2",children:[l.jsx(Pi,{className:"h-5 w-5 text-primary"}),"Recent Orders"]}),l.jsxs(Be,{variant:"secondary",className:"text-xs font-semibold shadow-sm",children:[r.length," Total"]})]})}),l.jsx(et,{className:"p-0",children:l.jsxs("div",{className:"divide-y divide-border/50",children:[r.slice(0,5).map((p,m)=>l.jsxs("div",{className:"flex items-center justify-between px-5 py-4 hover:bg-secondary/50 transition-colors cursor-pointer",style:{animationDelay:`${m*.05}s`},onClick:()=>{o(p),c(!0)},children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-lg bg-gradient-to-br from-primary/10 to-primary/5 flex items-center justify-center",children:l.jsx(Pi,{className:"h-5 w-5 text-primary"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold",children:p.customerName}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[p.items.length," items  ",new Date(p.date).toLocaleDateString()]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-sm font-bold text-primary",children:["",p.total]}),l.jsx(Be,{variant:"outline",className:`text-[10px] px-1.5 py-0 h-5 ${p.paymentStatus==="paid"?"border-green-200 text-green-700 bg-green-50":p.paymentStatus==="pending"?"border-yellow-200 text-yellow-700 bg-yellow-50":"border-blue-200 text-blue-700 bg-blue-50"}`,children:p.paymentStatus})]})]},p.id)),r.length===0&&l.jsx("div",{className:"p-8 text-center text-muted-foreground text-sm",children:"No recent orders found"})]})})]}),l.jsxs(Ye,{className:"shadow-medium border-0 hover-lift overflow-hidden",children:[l.jsx(or,{className:"pb-4 bg-gradient-to-r from-accent/5 to-transparent border-b border-border/50",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs(ar,{className:"text-lg font-bold flex items-center gap-2",children:[l.jsx(ys,{className:"h-5 w-5 text-accent"}),"Active Routes"]}),l.jsxs(Be,{variant:"secondary",className:"text-xs font-semibold shadow-sm",children:[n.length," Routes"]})]})}),l.jsx(et,{className:"p-0",children:l.jsx("div",{className:"divide-y divide-border/50",children:n.map((p,m)=>l.jsxs("div",{className:"flex items-center justify-between px-5 py-4 hover:bg-secondary/50 transition-colors cursor-pointer",style:{animationDelay:`${m*.05}s`},onClick:()=>s("/routes"),children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-10 w-10 rounded-lg bg-gradient-to-br from-accent/10 to-accent/5 flex items-center justify-center",children:l.jsx(ys,{className:"h-5 w-5 text-accent"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-semibold",children:p.vehicleNumber}),l.jsx("p",{className:"text-xs text-muted-foreground",children:p.driverName})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"text-sm font-bold text-accent",children:[p.customers," stops"]}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[p.areas.length," areas"]})]})]},p.id))})})]})]}),l.jsxs(Ye,{className:"shadow-medium border-0 hover-lift",children:[l.jsx(or,{className:"pb-4 bg-gradient-to-r from-purple-500/5 to-transparent border-b border-border/50",children:l.jsxs(ar,{className:"text-lg font-bold flex items-center gap-2",children:[l.jsx(qI,{className:"h-5 w-5 text-purple-600"}),"Products by Category"]})}),l.jsx(et,{className:"pt-6",children:l.jsx("div",{className:"grid grid-cols-2 sm:grid-cols-3 lg:grid-cols-4 gap-4",children:h.map((p,m)=>{const T=t.filter(w=>w.category===p).length;return l.jsxs("div",{className:"flex items-center gap-3 rounded-xl border border-border/50 p-4 hover:shadow-md hover:border-primary/30 transition-all bg-gradient-to-br from-background to-secondary/20 animate-scale-in cursor-pointer",style:{animationDelay:`${m*.05}s`},onClick:()=>s("/products",{state:{category:p}}),children:[l.jsx("div",{className:"h-12 w-12 rounded-lg bg-gradient-to-br from-primary/10 to-primary/5 flex items-center justify-center flex-shrink-0",children:l.jsx(Ai,{className:"h-6 w-6 text-primary"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-2xl font-bold",children:T}),l.jsx("p",{className:"text-xs text-muted-foreground font-medium",children:p})]})]},p)})})})]}),l.jsx(Xk,{open:a,onOpenChange:c,invoice:i})]})}var Yq="Label",Jk=g.forwardRef((t,e)=>l.jsx(ce.label,{...t,ref:e,onMouseDown:n=>{var s;n.target.closest("button, input, select, textarea")||((s=t.onMouseDown)==null||s.call(t,n),!n.defaultPrevented&&n.detail>1&&n.preventDefault())}}));Jk.displayName=Yq;var Zk=Jk;const Xq=El("text-sm font-medium leading-none peer-disabled:cursor-not-allowed peer-disabled:opacity-70"),me=g.forwardRef(({className:t,...e},n)=>l.jsx(Zk,{ref:n,className:Y(Xq(),t),...e}));me.displayName=Zk.displayName;function VE(t,[e,n]){return Math.min(n,Math.max(e,t))}function Jq(t){const e=g.useRef({value:t,previous:t});return g.useMemo(()=>(e.current.value!==t&&(e.current.previous=e.current.value,e.current.value=t),e.current.previous),[t])}var Zq=[" ","Enter","ArrowUp","ArrowDown"],eG=[" ","Enter"],qo="Select",[em,tm,tG]=ep(qo),[Vl,AQ]=vr(qo,[tG,Cl]),nm=Cl(),[nG,Ji]=Vl(qo),[rG,sG]=Vl(qo),e2=t=>{const{__scopeSelect:e,children:n,open:r,defaultOpen:s,onOpenChange:i,value:o,defaultValue:a,onValueChange:c,dir:d,name:h,autoComplete:f,disabled:p,required:m,form:T}=t,w=nm(e),[x,_]=g.useState(null),[v,b]=g.useState(null),[k,O]=g.useState(!1),D=Kp(d),[C,I]=Es({prop:r,defaultProp:s??!1,onChange:i,caller:qo}),[S,N]=Es({prop:o,defaultProp:a,onChange:c,caller:qo}),P=g.useRef(null),j=x?T||!!x.closest("form"):!0,[R,M]=g.useState(new Set),G=Array.from(R).map(H=>H.props.value).join(";");return l.jsx(Lw,{...w,children:l.jsxs(nG,{required:m,scope:e,trigger:x,onTriggerChange:_,valueNode:v,onValueNodeChange:b,valueNodeHasChildren:k,onValueNodeHasChildrenChange:O,contentId:Un(),value:S,onValueChange:N,open:C,onOpenChange:I,dir:D,triggerPointerDownPosRef:P,disabled:p,children:[l.jsx(em.Provider,{scope:e,children:l.jsx(rG,{scope:t.__scopeSelect,onNativeOptionAdd:g.useCallback(H=>{M(ne=>new Set(ne).add(H))},[]),onNativeOptionRemove:g.useCallback(H=>{M(ne=>{const F=new Set(ne);return F.delete(H),F})},[]),children:n})}),j?l.jsxs(T2,{"aria-hidden":!0,required:m,tabIndex:-1,name:h,autoComplete:f,value:S,onChange:H=>N(H.target.value),disabled:p,form:T,children:[S===void 0?l.jsx("option",{value:""}):null,Array.from(R)]},G):null]})})};e2.displayName=qo;var t2="SelectTrigger",n2=g.forwardRef((t,e)=>{const{__scopeSelect:n,disabled:r=!1,...s}=t,i=nm(n),o=Ji(t2,n),a=o.disabled||r,c=Me(e,o.onTriggerChange),d=tm(n),h=g.useRef("touch"),[f,p,m]=I2(w=>{const x=d().filter(b=>!b.disabled),_=x.find(b=>b.value===o.value),v=C2(x,w,_);v!==void 0&&o.onValueChange(v.value)}),T=w=>{a||(o.onOpenChange(!0),m()),w&&(o.triggerPointerDownPosRef.current={x:Math.round(w.pageX),y:Math.round(w.pageY)})};return l.jsx(Vw,{asChild:!0,...i,children:l.jsx(ce.button,{type:"button",role:"combobox","aria-controls":o.contentId,"aria-expanded":o.open,"aria-required":o.required,"aria-autocomplete":"none",dir:o.dir,"data-state":o.open?"open":"closed",disabled:a,"data-disabled":a?"":void 0,"data-placeholder":S2(o.value)?"":void 0,...s,ref:c,onClick:ee(s.onClick,w=>{w.currentTarget.focus(),h.current!=="mouse"&&T(w)}),onPointerDown:ee(s.onPointerDown,w=>{h.current=w.pointerType;const x=w.target;x.hasPointerCapture(w.pointerId)&&x.releasePointerCapture(w.pointerId),w.button===0&&w.ctrlKey===!1&&w.pointerType==="mouse"&&(T(w),w.preventDefault())}),onKeyDown:ee(s.onKeyDown,w=>{const x=f.current!=="";!(w.ctrlKey||w.altKey||w.metaKey)&&w.key.length===1&&p(w.key),!(x&&w.key===" ")&&Zq.includes(w.key)&&(T(),w.preventDefault())})})})});n2.displayName=t2;var r2="SelectValue",s2=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,children:i,placeholder:o="",...a}=t,c=Ji(r2,n),{onValueNodeHasChildrenChange:d}=c,h=i!==void 0,f=Me(e,c.onValueNodeChange);return jt(()=>{d(h)},[d,h]),l.jsx(ce.span,{...a,ref:f,style:{pointerEvents:"none"},children:S2(c.value)?l.jsx(l.Fragment,{children:o}):i})});s2.displayName=r2;var iG="SelectIcon",i2=g.forwardRef((t,e)=>{const{__scopeSelect:n,children:r,...s}=t;return l.jsx(ce.span,{"aria-hidden":!0,...s,ref:e,children:r||""})});i2.displayName=iG;var oG="SelectPortal",o2=t=>l.jsx(Bu,{asChild:!0,...t});o2.displayName=oG;var Go="SelectContent",a2=g.forwardRef((t,e)=>{const n=Ji(Go,t.__scopeSelect),[r,s]=g.useState();if(jt(()=>{s(new DocumentFragment)},[]),!n.open){const i=r;return i?Yo.createPortal(l.jsx(l2,{scope:t.__scopeSelect,children:l.jsx(em.Slot,{scope:t.__scopeSelect,children:l.jsx("div",{children:t.children})})}),i):null}return l.jsx(c2,{...t,ref:e})});a2.displayName=Go;var Xn=10,[l2,Zi]=Vl(Go),aG="SelectContentImpl",lG=ko("SelectContent.RemoveScroll"),c2=g.forwardRef((t,e)=>{const{__scopeSelect:n,position:r="item-aligned",onCloseAutoFocus:s,onEscapeKeyDown:i,onPointerDownOutside:o,side:a,sideOffset:c,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:m,sticky:T,hideWhenDetached:w,avoidCollisions:x,..._}=t,v=Ji(Go,n),[b,k]=g.useState(null),[O,D]=g.useState(null),C=Me(e,Q=>k(Q)),[I,S]=g.useState(null),[N,P]=g.useState(null),j=tm(n),[R,M]=g.useState(!1),G=g.useRef(!1);g.useEffect(()=>{if(b)return Qx(b)},[b]),Kx();const H=g.useCallback(Q=>{const[Te,...Pe]=j().map(Ae=>Ae.ref.current),[Se]=Pe.slice(-1),Ie=document.activeElement;for(const Ae of Q)if(Ae===Ie||(Ae==null||Ae.scrollIntoView({block:"nearest"}),Ae===Te&&O&&(O.scrollTop=0),Ae===Se&&O&&(O.scrollTop=O.scrollHeight),Ae==null||Ae.focus(),document.activeElement!==Ie))return},[j,O]),ne=g.useCallback(()=>H([I,b]),[H,I,b]);g.useEffect(()=>{R&&ne()},[R,ne]);const{onOpenChange:F,triggerPointerDownPosRef:V}=v;g.useEffect(()=>{if(b){let Q={x:0,y:0};const Te=Se=>{var Ie,Ae;Q={x:Math.abs(Math.round(Se.pageX)-(((Ie=V.current)==null?void 0:Ie.x)??0)),y:Math.abs(Math.round(Se.pageY)-(((Ae=V.current)==null?void 0:Ae.y)??0))}},Pe=Se=>{Q.x<=10&&Q.y<=10?Se.preventDefault():b.contains(Se.target)||F(!1),document.removeEventListener("pointermove",Te),V.current=null};return V.current!==null&&(document.addEventListener("pointermove",Te),document.addEventListener("pointerup",Pe,{capture:!0,once:!0})),()=>{document.removeEventListener("pointermove",Te),document.removeEventListener("pointerup",Pe,{capture:!0})}}},[b,F,V]),g.useEffect(()=>{const Q=()=>F(!1);return window.addEventListener("blur",Q),window.addEventListener("resize",Q),()=>{window.removeEventListener("blur",Q),window.removeEventListener("resize",Q)}},[F]);const[L,Z]=I2(Q=>{const Te=j().filter(Ie=>!Ie.disabled),Pe=Te.find(Ie=>Ie.ref.current===document.activeElement),Se=C2(Te,Q,Pe);Se&&setTimeout(()=>Se.ref.current.focus())}),X=g.useCallback((Q,Te,Pe)=>{const Se=!G.current&&!Pe;(v.value!==void 0&&v.value===Te||Se)&&(S(Q),Se&&(G.current=!0))},[v.value]),oe=g.useCallback(()=>b==null?void 0:b.focus(),[b]),ae=g.useCallback((Q,Te,Pe)=>{const Se=!G.current&&!Pe;(v.value!==void 0&&v.value===Te||Se)&&P(Q)},[v.value]),we=r==="popper"?vv:u2,ke=we===vv?{side:a,sideOffset:c,align:d,alignOffset:h,arrowPadding:f,collisionBoundary:p,collisionPadding:m,sticky:T,hideWhenDetached:w,avoidCollisions:x}:{};return l.jsx(l2,{scope:n,content:b,viewport:O,onViewportChange:D,itemRefCallback:X,selectedItem:I,onItemLeave:oe,itemTextRefCallback:ae,focusSelectedItem:ne,selectedItemText:N,position:r,isPositioned:R,searchRef:L,children:l.jsx($p,{as:lG,allowPinchZoom:!0,children:l.jsx(Fp,{asChild:!0,trapped:v.open,onMountAutoFocus:Q=>{Q.preventDefault()},onUnmountAutoFocus:ee(s,Q=>{var Te;(Te=v.trigger)==null||Te.focus({preventScroll:!0}),Q.preventDefault()}),children:l.jsx(bl,{asChild:!0,disableOutsidePointerEvents:!0,onEscapeKeyDown:i,onPointerDownOutside:o,onFocusOutside:Q=>Q.preventDefault(),onDismiss:()=>v.onOpenChange(!1),children:l.jsx(we,{role:"listbox",id:v.contentId,"data-state":v.open?"open":"closed",dir:v.dir,onContextMenu:Q=>Q.preventDefault(),..._,...ke,onPlaced:()=>M(!0),ref:C,style:{display:"flex",flexDirection:"column",outline:"none",..._.style},onKeyDown:ee(_.onKeyDown,Q=>{const Te=Q.ctrlKey||Q.altKey||Q.metaKey;if(Q.key==="Tab"&&Q.preventDefault(),!Te&&Q.key.length===1&&Z(Q.key),["ArrowUp","ArrowDown","Home","End"].includes(Q.key)){let Se=j().filter(Ie=>!Ie.disabled).map(Ie=>Ie.ref.current);if(["ArrowUp","End"].includes(Q.key)&&(Se=Se.slice().reverse()),["ArrowUp","ArrowDown"].includes(Q.key)){const Ie=Q.target,Ae=Se.indexOf(Ie);Se=Se.slice(Ae+1)}setTimeout(()=>H(Se)),Q.preventDefault()}})})})})})})});c2.displayName=aG;var cG="SelectItemAlignedPosition",u2=g.forwardRef((t,e)=>{const{__scopeSelect:n,onPlaced:r,...s}=t,i=Ji(Go,n),o=Zi(Go,n),[a,c]=g.useState(null),[d,h]=g.useState(null),f=Me(e,C=>h(C)),p=tm(n),m=g.useRef(!1),T=g.useRef(!0),{viewport:w,selectedItem:x,selectedItemText:_,focusSelectedItem:v}=o,b=g.useCallback(()=>{if(i.trigger&&i.valueNode&&a&&d&&w&&x&&_){const C=i.trigger.getBoundingClientRect(),I=d.getBoundingClientRect(),S=i.valueNode.getBoundingClientRect(),N=_.getBoundingClientRect();if(i.dir!=="rtl"){const Ie=N.left-I.left,Ae=S.left-Ie,mt=C.left-Ae,Yt=C.width+mt,ts=Math.max(Yt,I.width),Pn=window.innerWidth-Xn,qn=VE(Ae,[Xn,Math.max(Xn,Pn-ts)]);a.style.minWidth=Yt+"px",a.style.left=qn+"px"}else{const Ie=I.right-N.right,Ae=window.innerWidth-S.right-Ie,mt=window.innerWidth-C.right-Ae,Yt=C.width+mt,ts=Math.max(Yt,I.width),Pn=window.innerWidth-Xn,qn=VE(Ae,[Xn,Math.max(Xn,Pn-ts)]);a.style.minWidth=Yt+"px",a.style.right=qn+"px"}const P=p(),j=window.innerHeight-Xn*2,R=w.scrollHeight,M=window.getComputedStyle(d),G=parseInt(M.borderTopWidth,10),H=parseInt(M.paddingTop,10),ne=parseInt(M.borderBottomWidth,10),F=parseInt(M.paddingBottom,10),V=G+H+R+F+ne,L=Math.min(x.offsetHeight*5,V),Z=window.getComputedStyle(w),X=parseInt(Z.paddingTop,10),oe=parseInt(Z.paddingBottom,10),ae=C.top+C.height/2-Xn,we=j-ae,ke=x.offsetHeight/2,Q=x.offsetTop+ke,Te=G+H+Q,Pe=V-Te;if(Te<=ae){const Ie=P.length>0&&x===P[P.length-1].ref.current;a.style.bottom="0px";const Ae=d.clientHeight-w.offsetTop-w.offsetHeight,mt=Math.max(we,ke+(Ie?oe:0)+Ae+ne),Yt=Te+mt;a.style.height=Yt+"px"}else{const Ie=P.length>0&&x===P[0].ref.current;a.style.top="0px";const mt=Math.max(ae,G+w.offsetTop+(Ie?X:0)+ke)+Pe;a.style.height=mt+"px",w.scrollTop=Te-ae+w.offsetTop}a.style.margin=`${Xn}px 0`,a.style.minHeight=L+"px",a.style.maxHeight=j+"px",r==null||r(),requestAnimationFrame(()=>m.current=!0)}},[p,i.trigger,i.valueNode,a,d,w,x,_,i.dir,r]);jt(()=>b(),[b]);const[k,O]=g.useState();jt(()=>{d&&O(window.getComputedStyle(d).zIndex)},[d]);const D=g.useCallback(C=>{C&&T.current===!0&&(b(),v==null||v(),T.current=!1)},[b,v]);return l.jsx(dG,{scope:n,contentWrapper:a,shouldExpandOnScrollRef:m,onScrollButtonChange:D,children:l.jsx("div",{ref:c,style:{display:"flex",flexDirection:"column",position:"fixed",zIndex:k},children:l.jsx(ce.div,{...s,ref:f,style:{boxSizing:"border-box",maxHeight:"100%",...s.style}})})})});u2.displayName=cG;var uG="SelectPopperPosition",vv=g.forwardRef((t,e)=>{const{__scopeSelect:n,align:r="start",collisionPadding:s=Xn,...i}=t,o=nm(n);return l.jsx(Fw,{...o,...i,ref:e,align:r,collisionPadding:s,style:{boxSizing:"border-box",...i.style,"--radix-select-content-transform-origin":"var(--radix-popper-transform-origin)","--radix-select-content-available-width":"var(--radix-popper-available-width)","--radix-select-content-available-height":"var(--radix-popper-available-height)","--radix-select-trigger-width":"var(--radix-popper-anchor-width)","--radix-select-trigger-height":"var(--radix-popper-anchor-height)"}})});vv.displayName=uG;var[dG,o0]=Vl(Go,{}),wv="SelectViewport",d2=g.forwardRef((t,e)=>{const{__scopeSelect:n,nonce:r,...s}=t,i=Zi(wv,n),o=o0(wv,n),a=Me(e,i.onViewportChange),c=g.useRef(0);return l.jsxs(l.Fragment,{children:[l.jsx("style",{dangerouslySetInnerHTML:{__html:"[data-radix-select-viewport]{scrollbar-width:none;-ms-overflow-style:none;-webkit-overflow-scrolling:touch;}[data-radix-select-viewport]::-webkit-scrollbar{display:none}"},nonce:r}),l.jsx(em.Slot,{scope:n,children:l.jsx(ce.div,{"data-radix-select-viewport":"",role:"presentation",...s,ref:a,style:{position:"relative",flex:1,overflow:"hidden auto",...s.style},onScroll:ee(s.onScroll,d=>{const h=d.currentTarget,{contentWrapper:f,shouldExpandOnScrollRef:p}=o;if(p!=null&&p.current&&f){const m=Math.abs(c.current-h.scrollTop);if(m>0){const T=window.innerHeight-Xn*2,w=parseFloat(f.style.minHeight),x=parseFloat(f.style.height),_=Math.max(w,x);if(_<T){const v=_+m,b=Math.min(T,v),k=v-b;f.style.height=b+"px",f.style.bottom==="0px"&&(h.scrollTop=k>0?k:0,f.style.justifyContent="flex-end")}}}c.current=h.scrollTop})})})]})});d2.displayName=wv;var h2="SelectGroup",[hG,fG]=Vl(h2),pG=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=Un();return l.jsx(hG,{scope:n,id:s,children:l.jsx(ce.div,{role:"group","aria-labelledby":s,...r,ref:e})})});pG.displayName=h2;var f2="SelectLabel",p2=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=fG(f2,n);return l.jsx(ce.div,{id:s.id,...r,ref:e})});p2.displayName=f2;var Df="SelectItem",[mG,m2]=Vl(Df),g2=g.forwardRef((t,e)=>{const{__scopeSelect:n,value:r,disabled:s=!1,textValue:i,...o}=t,a=Ji(Df,n),c=Zi(Df,n),d=a.value===r,[h,f]=g.useState(i??""),[p,m]=g.useState(!1),T=Me(e,v=>{var b;return(b=c.itemRefCallback)==null?void 0:b.call(c,v,r,s)}),w=Un(),x=g.useRef("touch"),_=()=>{s||(a.onValueChange(r),a.onOpenChange(!1))};if(r==="")throw new Error("A <Select.Item /> must have a value prop that is not an empty string. This is because the Select value can be set to an empty string to clear the selection and show the placeholder.");return l.jsx(mG,{scope:n,value:r,disabled:s,textId:w,isSelected:d,onItemTextChange:g.useCallback(v=>{f(b=>b||((v==null?void 0:v.textContent)??"").trim())},[]),children:l.jsx(em.ItemSlot,{scope:n,value:r,disabled:s,textValue:h,children:l.jsx(ce.div,{role:"option","aria-labelledby":w,"data-highlighted":p?"":void 0,"aria-selected":d&&p,"data-state":d?"checked":"unchecked","aria-disabled":s||void 0,"data-disabled":s?"":void 0,tabIndex:s?void 0:-1,...o,ref:T,onFocus:ee(o.onFocus,()=>m(!0)),onBlur:ee(o.onBlur,()=>m(!1)),onClick:ee(o.onClick,()=>{x.current!=="mouse"&&_()}),onPointerUp:ee(o.onPointerUp,()=>{x.current==="mouse"&&_()}),onPointerDown:ee(o.onPointerDown,v=>{x.current=v.pointerType}),onPointerMove:ee(o.onPointerMove,v=>{var b;x.current=v.pointerType,s?(b=c.onItemLeave)==null||b.call(c):x.current==="mouse"&&v.currentTarget.focus({preventScroll:!0})}),onPointerLeave:ee(o.onPointerLeave,v=>{var b;v.currentTarget===document.activeElement&&((b=c.onItemLeave)==null||b.call(c))}),onKeyDown:ee(o.onKeyDown,v=>{var k;((k=c.searchRef)==null?void 0:k.current)!==""&&v.key===" "||(eG.includes(v.key)&&_(),v.key===" "&&v.preventDefault())})})})})});g2.displayName=Df;var Cc="SelectItemText",y2=g.forwardRef((t,e)=>{const{__scopeSelect:n,className:r,style:s,...i}=t,o=Ji(Cc,n),a=Zi(Cc,n),c=m2(Cc,n),d=sG(Cc,n),[h,f]=g.useState(null),p=Me(e,_=>f(_),c.onItemTextChange,_=>{var v;return(v=a.itemTextRefCallback)==null?void 0:v.call(a,_,c.value,c.disabled)}),m=h==null?void 0:h.textContent,T=g.useMemo(()=>l.jsx("option",{value:c.value,disabled:c.disabled,children:m},c.value),[c.disabled,c.value,m]),{onNativeOptionAdd:w,onNativeOptionRemove:x}=d;return jt(()=>(w(T),()=>x(T)),[w,x,T]),l.jsxs(l.Fragment,{children:[l.jsx(ce.span,{id:c.textId,...i,ref:p}),c.isSelected&&o.valueNode&&!o.valueNodeHasChildren?Yo.createPortal(i.children,o.valueNode):null]})});y2.displayName=Cc;var v2="SelectItemIndicator",w2=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return m2(v2,n).isSelected?l.jsx(ce.span,{"aria-hidden":!0,...r,ref:e}):null});w2.displayName=v2;var xv="SelectScrollUpButton",x2=g.forwardRef((t,e)=>{const n=Zi(xv,t.__scopeSelect),r=o0(xv,t.__scopeSelect),[s,i]=g.useState(!1),o=Me(e,r.onScrollButtonChange);return jt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const d=c.scrollTop>0;i(d)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(b2,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop-c.offsetHeight)}}):null});x2.displayName=xv;var _v="SelectScrollDownButton",_2=g.forwardRef((t,e)=>{const n=Zi(_v,t.__scopeSelect),r=o0(_v,t.__scopeSelect),[s,i]=g.useState(!1),o=Me(e,r.onScrollButtonChange);return jt(()=>{if(n.viewport&&n.isPositioned){let a=function(){const d=c.scrollHeight-c.clientHeight,h=Math.ceil(c.scrollTop)<d;i(h)};const c=n.viewport;return a(),c.addEventListener("scroll",a),()=>c.removeEventListener("scroll",a)}},[n.viewport,n.isPositioned]),s?l.jsx(b2,{...t,ref:o,onAutoScroll:()=>{const{viewport:a,selectedItem:c}=n;a&&c&&(a.scrollTop=a.scrollTop+c.offsetHeight)}}):null});_2.displayName=_v;var b2=g.forwardRef((t,e)=>{const{__scopeSelect:n,onAutoScroll:r,...s}=t,i=Zi("SelectScrollButton",n),o=g.useRef(null),a=tm(n),c=g.useCallback(()=>{o.current!==null&&(window.clearInterval(o.current),o.current=null)},[]);return g.useEffect(()=>()=>c(),[c]),jt(()=>{var h;const d=a().find(f=>f.ref.current===document.activeElement);(h=d==null?void 0:d.ref.current)==null||h.scrollIntoView({block:"nearest"})},[a]),l.jsx(ce.div,{"aria-hidden":!0,...s,ref:e,style:{flexShrink:0,...s.style},onPointerDown:ee(s.onPointerDown,()=>{o.current===null&&(o.current=window.setInterval(r,50))}),onPointerMove:ee(s.onPointerMove,()=>{var d;(d=i.onItemLeave)==null||d.call(i),o.current===null&&(o.current=window.setInterval(r,50))}),onPointerLeave:ee(s.onPointerLeave,()=>{c()})})}),gG="SelectSeparator",E2=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t;return l.jsx(ce.div,{"aria-hidden":!0,...r,ref:e})});E2.displayName=gG;var bv="SelectArrow",yG=g.forwardRef((t,e)=>{const{__scopeSelect:n,...r}=t,s=nm(n),i=Ji(bv,n),o=Zi(bv,n);return i.open&&o.position==="popper"?l.jsx(Uw,{...s,...r,ref:e}):null});yG.displayName=bv;var vG="SelectBubbleInput",T2=g.forwardRef(({__scopeSelect:t,value:e,...n},r)=>{const s=g.useRef(null),i=Me(r,s),o=Jq(e);return g.useEffect(()=>{const a=s.current;if(!a)return;const c=window.HTMLSelectElement.prototype,h=Object.getOwnPropertyDescriptor(c,"value").set;if(o!==e&&h){const f=new Event("change",{bubbles:!0});h.call(a,e),a.dispatchEvent(f)}},[o,e]),l.jsx(ce.select,{...n,style:{...vI,...n.style},ref:i,defaultValue:e})});T2.displayName=vG;function S2(t){return t===""||t===void 0}function I2(t){const e=yn(t),n=g.useRef(""),r=g.useRef(0),s=g.useCallback(o=>{const a=n.current+o;e(a),function c(d){n.current=d,window.clearTimeout(r.current),d!==""&&(r.current=window.setTimeout(()=>c(""),1e3))}(a)},[e]),i=g.useCallback(()=>{n.current="",window.clearTimeout(r.current)},[]);return g.useEffect(()=>()=>window.clearTimeout(r.current),[]),[n,s,i]}function C2(t,e,n){const s=e.length>1&&Array.from(e).every(d=>d===e[0])?e[0]:e,i=n?t.indexOf(n):-1;let o=wG(t,Math.max(i,0));s.length===1&&(o=o.filter(d=>d!==n));const c=o.find(d=>d.textValue.toLowerCase().startsWith(s.toLowerCase()));return c!==n?c:void 0}function wG(t,e){return t.map((n,r)=>t[(e+r)%t.length])}var xG=e2,N2=n2,_G=s2,bG=i2,EG=o2,R2=a2,TG=d2,P2=p2,A2=g2,SG=y2,IG=w2,k2=x2,j2=_2,D2=E2;const Xs=xG,Js=_G,cs=g.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(N2,{ref:r,className:Y("flex h-10 w-full items-center justify-between rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus:outline-none focus:ring-2 focus:ring-ring focus:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50 [&>span]:line-clamp-1",t),...n,children:[e,l.jsx(bG,{asChild:!0,children:l.jsx(Ew,{className:"h-4 w-4 opacity-50"})})]}));cs.displayName=N2.displayName;const O2=g.forwardRef(({className:t,...e},n)=>l.jsx(k2,{ref:n,className:Y("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(nL,{className:"h-4 w-4"})}));O2.displayName=k2.displayName;const M2=g.forwardRef(({className:t,...e},n)=>l.jsx(j2,{ref:n,className:Y("flex cursor-default items-center justify-center py-1",t),...e,children:l.jsx(Ew,{className:"h-4 w-4"})}));M2.displayName=j2.displayName;const us=g.forwardRef(({className:t,children:e,position:n="popper",...r},s)=>l.jsx(EG,{children:l.jsxs(R2,{ref:s,className:Y("relative z-50 max-h-96 min-w-[8rem] overflow-hidden rounded-md border bg-popover text-popover-foreground shadow-md data-[state=open]:animate-in data-[state=closed]:animate-out data-[state=closed]:fade-out-0 data-[state=open]:fade-in-0 data-[state=closed]:zoom-out-95 data-[state=open]:zoom-in-95 data-[side=bottom]:slide-in-from-top-2 data-[side=left]:slide-in-from-right-2 data-[side=right]:slide-in-from-left-2 data-[side=top]:slide-in-from-bottom-2",n==="popper"&&"data-[side=bottom]:translate-y-1 data-[side=left]:-translate-x-1 data-[side=right]:translate-x-1 data-[side=top]:-translate-y-1",t),position:n,...r,children:[l.jsx(O2,{}),l.jsx(TG,{className:Y("p-1",n==="popper"&&"h-[var(--radix-select-trigger-height)] w-full min-w-[var(--radix-select-trigger-width)]"),children:e}),l.jsx(M2,{})]})}));us.displayName=R2.displayName;const CG=g.forwardRef(({className:t,...e},n)=>l.jsx(P2,{ref:n,className:Y("py-1.5 pl-8 pr-2 text-sm font-semibold",t),...e}));CG.displayName=P2.displayName;const Rt=g.forwardRef(({className:t,children:e,...n},r)=>l.jsxs(A2,{ref:r,className:Y("relative flex w-full cursor-default select-none items-center rounded-sm py-1.5 pl-8 pr-2 text-sm outline-none data-[disabled]:pointer-events-none data-[disabled]:opacity-50 focus:bg-accent focus:text-accent-foreground",t),...n,children:[l.jsx("span",{className:"absolute left-2 flex h-3.5 w-3.5 items-center justify-center",children:l.jsx(IG,{children:l.jsx($I,{className:"h-4 w-4"})})}),l.jsx(SG,{children:e})]}));Rt.displayName=A2.displayName;const NG=g.forwardRef(({className:t,...e},n)=>l.jsx(D2,{ref:n,className:Y("-mx-1 my-1 h-px bg-muted",t),...e}));NG.displayName=D2.displayName;const Ev=["Milk","Curd & Yogurt","Butter & Ghee","Cheese","Paneer","Ice Cream","Other"];function RG({products:t,addProduct:e,removeProduct:n,updateProduct:r}){var R;const s=Xo(),i=qi(),[o,a]=g.useState(((R=i.state)==null?void 0:R.category)||"all"),[c,d]=g.useState(""),[h,f]=g.useState(!1),[p,m]=g.useState(!1),[T,w]=g.useState(null),[x,_]=g.useState({name:"",category:"",price:"",unit:"",stock:""}),[v,b]=g.useState({}),k=[...new Set(t.map(M=>M.category))],O=t.filter(M=>o==="all"||M.category===o).filter(M=>M.name.toLowerCase().includes(c.toLowerCase())),D=()=>{if(!x.name||!x.category||!x.price||!x.unit||!x.stock){ie.error("Please fill all fields");return}e({name:x.name,category:x.category,price:Number(x.price),unit:x.unit,stock:Number(x.stock)}),_({name:"",category:"",price:"",unit:"",stock:""}),f(!1),ie.success("Product added successfully")},C=M=>{w(M),_({name:M.name,category:M.category,price:M.price.toString(),unit:M.unit,stock:M.stock.toString()}),m(!0)},I=()=>{if(T){if(!x.name||!x.category||!x.price||!x.unit||!x.stock){ie.error("Please fill all fields");return}r(T.id,{name:x.name,category:x.category,price:Number(x.price),unit:x.unit,stock:Number(x.stock)}),_({name:"",category:"",price:"",unit:"",stock:""}),m(!1),w(null),ie.success("Product updated successfully")}},S=(M,G)=>{n(M),ie.success(`${G} removed`)},N=M=>{b(G=>{const H={...G};return H[M]?delete H[M]:H[M]=1,H})},P=(M,G)=>{b(H=>{const ne=H[M]||0,F=Math.max(0,ne+G),V={...H};return F===0?delete V[M]:V[M]=F,V})},j=()=>{s("/invoices",{state:{selectedProducts:v}})};return l.jsxs("div",{className:"space-y-6 animate-fade-in pb-24",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight",children:"Products"}),l.jsxs("p",{className:"text-muted-foreground mt-1",children:[t.length," products across ",k.length," categories"]})]}),l.jsxs("div",{className:"flex gap-2",children:[Object.keys(v).length>0&&l.jsx(ve,{variant:"secondary",onClick:()=>b({}),children:"Clear Selection"}),l.jsxs(Ps,{open:h,onOpenChange:f,children:[l.jsx(Zp,{asChild:!0,children:l.jsxs(ve,{size:"lg",className:"shadow-md hover:shadow-lg transition-all",children:[l.jsx(Do,{className:"h-5 w-5 mr-2"})," Add Product"]})}),l.jsxs(Xr,{children:[l.jsx(Jr,{children:l.jsx(Zr,{className:"text-base font-bold",children:"Add New Product"})}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid gap-1.5",children:[l.jsx(me,{className:"text-xs font-medium",children:"Product Name"}),l.jsx(pe,{value:x.name,onChange:M=>_({...x,name:M.target.value}),placeholder:"e.g. Full Cream Milk",className:"h-9 text-sm"})]}),l.jsxs("div",{className:"grid gap-1.5",children:[l.jsx(me,{className:"text-xs font-medium",children:"Category"}),l.jsxs(Xs,{value:x.category,onValueChange:M=>_({...x,category:M}),children:[l.jsx(cs,{className:"h-9 text-sm",children:l.jsx(Js,{placeholder:"Select category"})}),l.jsx(us,{children:Ev.map(M=>l.jsx(Rt,{value:M,children:M},M))})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[l.jsxs("div",{className:"grid gap-1.5",children:[l.jsx(me,{className:"text-xs font-medium",children:"Price ()"}),l.jsx(pe,{type:"number",value:x.price,onChange:M=>_({...x,price:M.target.value}),className:"h-9 text-sm"})]}),l.jsxs("div",{className:"grid gap-1.5",children:[l.jsx(me,{className:"text-xs font-medium",children:"Unit"}),l.jsx(pe,{value:x.unit,onChange:M=>_({...x,unit:M.target.value}),placeholder:"Litre",className:"h-9 text-sm"})]}),l.jsxs("div",{className:"grid gap-1.5",children:[l.jsx(me,{className:"text-xs font-medium",children:"Stock"}),l.jsx(pe,{type:"number",value:x.stock,onChange:M=>_({...x,stock:M.target.value}),className:"h-9 text-sm"})]})]})]}),l.jsx(As,{children:l.jsx(ve,{size:"sm",onClick:D,children:"Add Product"})})]})]})]})]}),l.jsx(Ps,{open:p,onOpenChange:m,children:l.jsxs(Xr,{children:[l.jsx(Jr,{children:l.jsx(Zr,{className:"text-base font-bold",children:"Edit Product"})}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid gap-1.5",children:[l.jsx(me,{className:"text-xs font-medium",children:"Product Name"}),l.jsx(pe,{value:x.name,onChange:M=>_({...x,name:M.target.value}),placeholder:"e.g. Full Cream Milk",className:"h-9 text-sm"})]}),l.jsxs("div",{className:"grid gap-1.5",children:[l.jsx(me,{className:"text-xs font-medium",children:"Category"}),l.jsxs(Xs,{value:x.category,onValueChange:M=>_({...x,category:M}),children:[l.jsx(cs,{className:"h-9 text-sm",children:l.jsx(Js,{placeholder:"Select category"})}),l.jsx(us,{children:Ev.map(M=>l.jsx(Rt,{value:M,children:M},M))})]})]}),l.jsxs("div",{className:"grid grid-cols-3 gap-3",children:[l.jsxs("div",{className:"grid gap-1.5",children:[l.jsx(me,{className:"text-xs font-medium",children:"Price ()"}),l.jsx(pe,{type:"number",value:x.price,onChange:M=>_({...x,price:M.target.value}),className:"h-9 text-sm"})]}),l.jsxs("div",{className:"grid gap-1.5",children:[l.jsx(me,{className:"text-xs font-medium",children:"Unit"}),l.jsx(pe,{value:x.unit,onChange:M=>_({...x,unit:M.target.value}),placeholder:"Litre",className:"h-9 text-sm"})]}),l.jsxs("div",{className:"grid gap-1.5",children:[l.jsx(me,{className:"text-xs font-medium",children:"Stock"}),l.jsx(pe,{type:"number",value:x.stock,onChange:M=>_({...x,stock:M.target.value}),className:"h-9 text-sm"})]})]})]}),l.jsx(As,{children:l.jsx(ve,{size:"sm",onClick:I,children:"Update Product"})})]})}),l.jsx(Ye,{className:"shadow-medium border-0 hover-lift",children:l.jsxs(et,{className:"p-4 flex flex-col sm:flex-row items-start sm:items-center gap-4",children:[l.jsxs("div",{className:"relative flex-1 max-w-xs",children:[l.jsx(cl,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground"}),l.jsx(pe,{placeholder:"Search products...",value:c,onChange:M=>d(M.target.value),className:"pl-9 h-9 text-sm bg-secondary border-0"})]}),l.jsxs("div",{className:"flex items-center gap-1.5 flex-wrap",children:[l.jsxs(Be,{variant:o==="all"?"default":"outline",className:"cursor-pointer text-[11px] px-2.5 py-1",onClick:()=>a("all"),children:["All (",t.length,")"]}),k.map(M=>l.jsxs(Be,{variant:o===M?"default":"outline",className:"cursor-pointer text-[11px] px-2.5 py-1",onClick:()=>a(M),children:[M," (",t.filter(G=>G.category===M).length,")"]},M))]})]})}),O.length===0?l.jsx(Ye,{className:"shadow-medium border-0 hover-lift",children:l.jsx(et,{className:"p-12 text-center",children:l.jsx("p",{className:"text-muted-foreground text-sm",children:"No products found"})})}):l.jsx("div",{className:"grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6",children:O.map(M=>{const G=!!v[M.id],H=v[M.id]||0;return l.jsx(Ye,{className:`shadow-medium border-0 overflow-hidden hover-lift group transition-all duration-300 hover:shadow-xl ${G?"ring-2 ring-primary ring-offset-2":""}`,children:l.jsxs(et,{className:"p-0",children:[l.jsxs("div",{className:"bg-gradient-to-br from-primary/10 via-primary/5 to-transparent p-6 border-b border-border/50 relative",children:[l.jsx("div",{className:"absolute top-4 right-4 z-10",children:l.jsx(ve,{size:"sm",variant:G?"default":"outline",className:`h-8 w-8 rounded-full p-0 shadow-sm transition-all ${G?"bg-primary text-primary-foreground":"bg-background hover:bg-primary/10"}`,onClick:()=>N(M.id),children:l.jsx(pL,{className:"h-4 w-4"})})}),l.jsxs("div",{className:"flex items-start justify-between mb-3 pr-8",children:[l.jsx(Be,{variant:"secondary",className:"text-xs font-semibold bg-primary/20 text-primary border-primary/30",children:M.category}),l.jsxs("div",{className:`px-2.5 py-1 rounded-full text-xs font-bold ${M.stock<100?"bg-destructive/10 text-destructive":"bg-success/10 text-success"}`,children:[M.stock," in stock"]})]}),l.jsx("h3",{className:"text-xl font-bold text-foreground group-hover:text-primary transition-colors truncate pr-8",children:M.name})]}),l.jsxs("div",{className:"p-6 space-y-4",children:[l.jsx("div",{className:"flex items-baseline justify-between",children:l.jsxs("div",{children:[l.jsxs("span",{className:"text-3xl font-bold text-primary",children:["",M.price]}),l.jsxs("span",{className:"text-muted-foreground text-sm ml-1.5",children:["/ ",M.unit]})]})}),G&&l.jsxs("div",{className:"flex items-center justify-between bg-secondary/30 p-2 rounded-lg animate-in slide-in-from-top-2",children:[l.jsx(me,{className:"text-xs font-semibold",children:"Quantity:"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ve,{variant:"outline",size:"icon",className:"h-7 w-7 rounded-full",onClick:()=>P(M.id,-1),children:l.jsx(WI,{className:"h-3 w-3"})}),l.jsx("span",{className:"text-sm font-bold w-6 text-center",children:H}),l.jsx(ve,{variant:"outline",size:"icon",className:"h-7 w-7 rounded-full",onClick:()=>P(M.id,1),children:l.jsx(Do,{className:"h-3 w-3"})})]})]}),l.jsxs("div",{className:"flex items-center gap-2 pt-2 border-t border-border/50",children:[l.jsxs(ve,{variant:"ghost",size:"sm",className:"flex-1 hover:bg-blue-50 hover:text-blue-600 transition-all text-xs",onClick:()=>C(M),children:[l.jsx(Sw,{className:"h-3.5 w-3.5 mr-1.5"}),"Edit"]}),l.jsxs(ve,{variant:"ghost",size:"sm",className:"flex-1 hover:bg-destructive/10 hover:text-destructive transition-all text-xs",onClick:()=>S(M.id,M.name),children:[l.jsx(rp,{className:"h-3.5 w-3.5 mr-1.5"}),"Delete"]})]})]})]})},M.id)})}),Object.keys(v).length>0&&l.jsx("div",{className:"fixed bottom-6 left-1/2 -translate-x-1/2 z-50 w-full max-w-md px-4 animate-in slide-in-from-bottom-5",children:l.jsx(Ye,{className:"shadow-2xl bg-primary text-primary-foreground border-0",children:l.jsxs(et,{className:"p-4 flex items-center justify-between gap-4",children:[l.jsxs("div",{className:"flex flex-col",children:[l.jsxs("span",{className:"font-bold text-lg",children:[Object.keys(v).length," items selected"]}),l.jsxs("span",{className:"text-xs text-primary-foreground/80",children:["Total: ",Object.entries(v).reduce((M,[G,H])=>{const ne=t.find(F=>F.id===G);return M+(ne?ne.price*H:0)},0)]})]}),l.jsx(ve,{variant:"secondary",size:"lg",className:"font-bold shadow-lg hover:shadow-xl transition-all",onClick:j,children:"Generate Invoice"})]})})})]})}function PG({customers:t,addCustomer:e,removeCustomer:n,updateCustomer:r}){const s=Xo(),[i,o]=g.useState(!1),[a,c]=g.useState(!1),[d,h]=g.useState(null),[f,p]=g.useState(""),[m,T]=g.useState({name:"",phone:"",address:"",city:"",route:"",email:"",password:""}),[w,x]=g.useState(!1),_=async(D,C)=>{if(!D||!C)return null;try{const I=await YU(Xd,D,C);return await Xd.signOut(),I.user.uid}catch(I){if(I.code==="auth/email-already-in-use")try{const N=(await Qy(Xd,D,C)).user.uid;return await Xd.signOut(),N}catch{return ie.error("Email already in use with a different password. Please use a different email or the same password."),null}return console.error("Firebase Auth error:",I),ie.error("Failed to set up login account: "+(I.message||"")),null}},v=t.filter(D=>D.name.toLowerCase().includes(f.toLowerCase())||D.phone.includes(f)||D.city&&D.city.toLowerCase().includes(f.toLowerCase())||D.email&&D.email.toLowerCase().includes(f.toLowerCase())),b=async()=>{if(!m.name||!m.phone||!m.address){ie.error("Please fill all required fields");return}x(!0);try{let D;if(m.email&&m.password){const C=await _(m.email,m.password);if(!C)return;D=C}e({name:m.name,phone:m.phone,address:m.address,city:m.city||void 0,route:m.route,email:m.email||void 0,uid:D}),T({name:"",phone:"",address:"",city:"",route:"",email:"",password:""}),o(!1),ie.success("Customer added"+(D?" with login account":""))}finally{x(!1)}},k=D=>{h(D),T({name:D.name,phone:D.phone,address:D.address,city:D.city||"",route:D.route,email:D.email||"",password:D.password||""}),c(!0)},O=async()=>{if(d){if(!m.name||!m.phone||!m.address){ie.error("Please fill all required fields");return}x(!0);try{let D=d.uid;const C=m.email&&m.email!==d.email;if(m.email&&m.password&&(C||!D)){const S=await _(m.email,m.password);if(!S)return;D=S}r(d.id,{name:m.name,phone:m.phone,address:m.address,city:m.city||void 0,route:m.route,email:m.email||void 0,uid:D}),T({name:"",phone:"",address:"",city:"",route:"",email:"",password:""}),c(!1),h(null),ie.success("Customer updated"+(D?" with login account":""))}finally{x(!1)}}};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold tracking-tight",children:"Customers"}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.length," registered customers"]})]}),l.jsxs(Ps,{open:i,onOpenChange:o,children:[l.jsx(Zp,{asChild:!0,children:l.jsxs(ve,{size:"sm",className:"shadow-sm",children:[l.jsx(Do,{className:"h-4 w-4 mr-1.5"})," Add Customer"]})}),l.jsxs(Xr,{children:[l.jsx(Jr,{children:l.jsx(Zr,{className:"text-base font-bold",children:"Add New Customer"})}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid gap-1.5",children:[l.jsx(me,{className:"text-xs font-medium",children:"Name"}),l.jsx(pe,{value:m.name,onChange:D=>T({...m,name:D.target.value}),placeholder:"Customer name",className:"h-9 text-sm"})]}),l.jsxs("div",{className:"grid gap-1.5",children:[l.jsx(me,{className:"text-xs font-medium",children:"Phone"}),l.jsx(pe,{value:m.phone,onChange:D=>T({...m,phone:D.target.value}),placeholder:"Phone number",className:"h-9 text-sm"})]}),l.jsxs("div",{className:"grid gap-1.5",children:[l.jsx(me,{className:"text-xs font-medium",children:"Address"}),l.jsx(pe,{value:m.address,onChange:D=>T({...m,address:D.target.value}),placeholder:"Full address",className:"h-9 text-sm"})]}),l.jsxs("div",{className:"grid gap-1.5",children:[l.jsx(me,{className:"text-xs font-medium",children:"City"}),l.jsx(pe,{value:m.city,onChange:D=>T({...m,city:D.target.value}),placeholder:"City",className:"h-9 text-sm"})]}),l.jsxs("div",{className:"grid gap-1.5",children:[l.jsx(me,{className:"text-xs font-medium",children:"Route ID"}),l.jsx(pe,{value:m.route,onChange:D=>T({...m,route:D.target.value}),placeholder:"e.g. R-001",className:"h-9 text-sm"})]}),l.jsxs("div",{className:"border-t pt-4 mt-2",children:[l.jsx("h4",{className:"text-sm font-semibold mb-3",children:"App Login (Optional)"}),l.jsxs("div",{className:"grid gap-3",children:[l.jsxs("div",{className:"grid gap-1.5",children:[l.jsx(me,{className:"text-xs font-medium",children:"Email"}),l.jsx(pe,{value:m.email,onChange:D=>T({...m,email:D.target.value}),placeholder:"Email address for login",type:"email",className:"h-9 text-sm"})]}),l.jsxs("div",{className:"grid gap-1.5",children:[l.jsx(me,{className:"text-xs font-medium",children:"Password"}),l.jsx(pe,{value:m.password,onChange:D=>T({...m,password:D.target.value}),placeholder:"Password",type:"password",className:"h-9 text-sm"})]})]})]})]}),l.jsx(As,{children:l.jsxs(ve,{size:"sm",onClick:b,disabled:w,children:[w&&l.jsx(h1,{className:"h-4 w-4 mr-1.5 animate-spin"}),"Add Customer"]})})]})]})]}),l.jsx(Ps,{open:a,onOpenChange:c,children:l.jsxs(Xr,{children:[l.jsx(Jr,{children:l.jsx(Zr,{className:"text-base font-bold",children:"Edit Customer"})}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid gap-1.5",children:[l.jsx(me,{className:"text-xs font-medium",children:"Name"}),l.jsx(pe,{value:m.name,onChange:D=>T({...m,name:D.target.value}),placeholder:"Customer name",className:"h-9 text-sm"})]}),l.jsxs("div",{className:"grid gap-1.5",children:[l.jsx(me,{className:"text-xs font-medium",children:"Phone"}),l.jsx(pe,{value:m.phone,onChange:D=>T({...m,phone:D.target.value}),placeholder:"Phone number",className:"h-9 text-sm"})]}),l.jsxs("div",{className:"grid gap-1.5",children:[l.jsx(me,{className:"text-xs font-medium",children:"Address"}),l.jsx(pe,{value:m.address,onChange:D=>T({...m,address:D.target.value}),placeholder:"Full address",className:"h-9 text-sm"})]}),l.jsxs("div",{className:"grid gap-1.5",children:[l.jsx(me,{className:"text-xs font-medium",children:"City"}),l.jsx(pe,{value:m.city,onChange:D=>T({...m,city:D.target.value}),placeholder:"City",className:"h-9 text-sm"})]}),l.jsxs("div",{className:"grid gap-1.5",children:[l.jsx(me,{className:"text-xs font-medium",children:"Route ID"}),l.jsx(pe,{value:m.route,onChange:D=>T({...m,route:D.target.value}),placeholder:"e.g. R-001",className:"h-9 text-sm"})]}),l.jsxs("div",{className:"border-t pt-4 mt-2",children:[l.jsx("h4",{className:"text-sm font-semibold mb-3",children:"App Login (Optional)"}),l.jsxs("div",{className:"grid gap-3",children:[l.jsxs("div",{className:"grid gap-1.5",children:[l.jsx(me,{className:"text-xs font-medium",children:"Email"}),l.jsx(pe,{value:m.email,onChange:D=>T({...m,email:D.target.value}),placeholder:"Email address for login",type:"email",className:"h-9 text-sm"})]}),l.jsxs("div",{className:"grid gap-1.5",children:[l.jsx(me,{className:"text-xs font-medium",children:"Password"}),l.jsx(pe,{value:m.password,onChange:D=>T({...m,password:D.target.value}),placeholder:"Password",type:"text",className:"h-9 text-sm"})]})]})]})]}),l.jsx(As,{children:l.jsxs(ve,{size:"sm",onClick:O,disabled:w,children:[w&&l.jsx(h1,{className:"h-4 w-4 mr-1.5 animate-spin"}),"Update Customer"]})})]})}),l.jsx(Ye,{className:"shadow-sm border-0",children:l.jsx(et,{className:"p-3",children:l.jsxs("div",{className:"relative max-w-xs",children:[l.jsx(cl,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground"}),l.jsx(pe,{placeholder:"Search by name, city or phone...",value:f,onChange:D=>p(D.target.value),className:"pl-9 h-9 text-sm bg-secondary border-0"})]})})}),l.jsx(Ye,{className:"shadow-sm border-0 overflow-hidden",children:l.jsx(et,{className:"p-0",children:l.jsxs(Pu,{children:[l.jsx(Au,{children:l.jsxs(sr,{className:"bg-secondary/50 hover:bg-secondary/50",children:[l.jsx(ct,{className:"text-[11px] font-semibold uppercase tracking-wider text-muted-foreground h-10 w-1/4",children:"Customer"}),l.jsx(ct,{className:"text-[11px] font-semibold uppercase tracking-wider text-muted-foreground h-10 w-1/5",children:"Contact"}),l.jsx(ct,{className:"text-[11px] font-semibold uppercase tracking-wider text-muted-foreground h-10 w-1/5 hidden md:table-cell",children:"Address"}),l.jsx(ct,{className:"text-[11px] font-semibold uppercase tracking-wider text-muted-foreground h-10 w-1/6 hidden md:table-cell",children:"City"}),l.jsx(ct,{className:"text-[11px] font-semibold uppercase tracking-wider text-muted-foreground h-10 w-1/6",children:"Route"}),l.jsx(ct,{className:"w-20 h-10"})]})}),l.jsxs(ku,{children:[v.map(D=>l.jsxs(sr,{className:"hover:bg-secondary/30",children:[l.jsx(Je,{className:"py-3",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-8 w-8 rounded-full bg-primary flex items-center justify-center text-primary-foreground text-xs font-bold shrink-0",children:D.name.charAt(0)}),l.jsxs("div",{className:"flex flex-col",children:[l.jsx("span",{className:"text-sm font-medium",children:D.name}),(D.email||D.loginId)&&l.jsxs("div",{className:"flex items-center gap-1 text-[10px] text-muted-foreground",children:[l.jsx(lL,{className:"h-3 w-3"}),l.jsx("span",{children:D.email||D.loginId})]})]})]})}),l.jsx(Je,{children:l.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-muted-foreground",children:[l.jsx(jo,{className:"h-3 w-3"}),D.phone]})}),l.jsx(Je,{className:"hidden md:table-cell",children:l.jsxs("div",{className:"flex items-center gap-1.5 text-sm text-muted-foreground max-w-[200px] truncate",children:[l.jsx(Gr,{className:"h-3 w-3 shrink-0"}),D.address]})}),l.jsx(Je,{className:"hidden md:table-cell",children:D.city&&l.jsx("span",{className:"text-xs bg-secondary px-2 py-0.5 rounded-full text-secondary-foreground font-medium border border-border/50",children:D.city})}),l.jsx(Je,{children:l.jsx("span",{className:"text-[11px] bg-primary/10 text-primary font-semibold px-2 py-0.5 rounded",children:D.route})}),l.jsx(Je,{children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(ve,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>s("/invoices"),title:"Generate Invoice",children:l.jsx(Pi,{className:"h-3.5 w-3.5 text-green-600"})}),l.jsx(ve,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>k(D),children:l.jsx(Sw,{className:"h-3.5 w-3.5 text-blue-600"})}),l.jsx(ve,{variant:"ghost",size:"icon",className:"h-7 w-7",onClick:()=>{n(D.id),ie.success(`${D.name} removed`)},children:l.jsx(rp,{className:"h-3.5 w-3.5 text-destructive"})})]})})]},D.id)),v.length===0&&l.jsx(sr,{children:l.jsx(Je,{colSpan:6,className:"text-center py-10 text-muted-foreground text-sm",children:"No customers found"})})]})]})})})]})}function AG({routes:t,addRoute:e,removeRoute:n,updateRoute:r}){const[s,i]=g.useState(!1),[o,a]=g.useState(!1),[c,d]=g.useState(null),[h,f]=g.useState({vehicleNumber:"",driverName:"",areas:"",cities:"",customers:""}),p=()=>{if(!h.vehicleNumber||!h.driverName){ie.error("Please fill required fields");return}e({vehicleNumber:h.vehicleNumber,driverName:h.driverName,areas:h.areas.split(",").map(w=>w.trim()).filter(Boolean),cities:h.cities.split(",").map(w=>w.trim()).filter(Boolean),customers:Number(h.customers)||0}),f({vehicleNumber:"",driverName:"",areas:"",cities:"",customers:""}),i(!1),ie.success("Route added")},m=w=>{d(w),f({vehicleNumber:w.vehicleNumber,driverName:w.driverName,areas:w.areas.join(", "),cities:(w.cities||[]).join(", "),customers:w.customers.toString()}),a(!0)},T=()=>{if(c){if(!h.vehicleNumber||!h.driverName){ie.error("Please fill required fields");return}r(c.id,{vehicleNumber:h.vehicleNumber,driverName:h.driverName,areas:h.areas.split(",").map(w=>w.trim()).filter(Boolean),cities:h.cities.split(",").map(w=>w.trim()).filter(Boolean),customers:Number(h.customers)||0}),f({vehicleNumber:"",driverName:"",areas:"",cities:"",customers:""}),a(!1),d(null),ie.success("Route updated")}};return l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold tracking-tight",children:"Delivery Routes"}),l.jsxs("p",{className:"text-sm text-muted-foreground",children:[t.length," active routes"]})]}),l.jsxs(Ps,{open:s,onOpenChange:i,children:[l.jsx(Zp,{asChild:!0,children:l.jsxs(ve,{size:"sm",className:"shadow-sm",children:[l.jsx(Do,{className:"h-4 w-4 mr-1.5"})," Add Route"]})}),l.jsxs(Xr,{children:[l.jsx(Jr,{children:l.jsx(Zr,{className:"text-base font-bold",children:"Add New Route"})}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid gap-1.5",children:[l.jsx(me,{className:"text-xs font-medium",children:"Vehicle Number"}),l.jsx(pe,{value:h.vehicleNumber,onChange:w=>f({...h,vehicleNumber:w.target.value}),placeholder:"e.g. UP-32-AB-1234",className:"h-9 text-sm"})]}),l.jsxs("div",{className:"grid gap-1.5",children:[l.jsx(me,{className:"text-xs font-medium",children:"Driver Name"}),l.jsx(pe,{value:h.driverName,onChange:w=>f({...h,driverName:w.target.value}),placeholder:"Driver name",className:"h-9 text-sm"})]}),l.jsxs("div",{className:"grid gap-1.5",children:[l.jsx(me,{className:"text-xs font-medium",children:"Cities (comma separated)"}),l.jsx(pe,{value:h.cities,onChange:w=>f({...h,cities:w.target.value}),placeholder:"e.g. Pune, Mumbai",className:"h-9 text-sm"})]}),l.jsxs("div",{className:"grid gap-1.5",children:[l.jsx(me,{className:"text-xs font-medium",children:"Areas (comma separated)"}),l.jsx(pe,{value:h.areas,onChange:w=>f({...h,areas:w.target.value}),placeholder:"e.g. Sector 5, MG Road",className:"h-9 text-sm"})]}),l.jsxs("div",{className:"grid gap-1.5",children:[l.jsx(me,{className:"text-xs font-medium",children:"Number of Customers"}),l.jsx(pe,{type:"number",value:h.customers,onChange:w=>f({...h,customers:w.target.value}),className:"h-9 text-sm"})]})]}),l.jsx(As,{children:l.jsx(ve,{size:"sm",onClick:p,children:"Add Route"})})]})]})]}),l.jsx(Ps,{open:o,onOpenChange:a,children:l.jsxs(Xr,{children:[l.jsx(Jr,{children:l.jsx(Zr,{className:"text-base font-bold",children:"Edit Route"})}),l.jsxs("div",{className:"grid gap-4 py-4",children:[l.jsxs("div",{className:"grid gap-1.5",children:[l.jsx(me,{className:"text-xs font-medium",children:"Vehicle Number"}),l.jsx(pe,{value:h.vehicleNumber,onChange:w=>f({...h,vehicleNumber:w.target.value}),placeholder:"e.g. UP-32-AB-1234",className:"h-9 text-sm"})]}),l.jsxs("div",{className:"grid gap-1.5",children:[l.jsx(me,{className:"text-xs font-medium",children:"Driver Name"}),l.jsx(pe,{value:h.driverName,onChange:w=>f({...h,driverName:w.target.value}),placeholder:"Driver name",className:"h-9 text-sm"})]}),l.jsxs("div",{className:"grid gap-1.5",children:[l.jsx(me,{className:"text-xs font-medium",children:"Cities (comma separated)"}),l.jsx(pe,{value:h.cities,onChange:w=>f({...h,cities:w.target.value}),placeholder:"e.g. Pune, Mumbai",className:"h-9 text-sm"})]}),l.jsxs("div",{className:"grid gap-1.5",children:[l.jsx(me,{className:"text-xs font-medium",children:"Areas (comma separated)"}),l.jsx(pe,{value:h.areas,onChange:w=>f({...h,areas:w.target.value}),placeholder:"e.g. Sector 5, MG Road",className:"h-9 text-sm"})]}),l.jsxs("div",{className:"grid gap-1.5",children:[l.jsx(me,{className:"text-xs font-medium",children:"Number of Customers"}),l.jsx(pe,{type:"number",value:h.customers,onChange:w=>f({...h,customers:w.target.value}),className:"h-9 text-sm"})]})]}),l.jsx(As,{children:l.jsx(ve,{size:"sm",onClick:T,children:"Update Route"})})]})}),l.jsxs("div",{className:"grid gap-4 sm:grid-cols-2 lg:grid-cols-3",children:[t.map(w=>l.jsxs(Ye,{className:"shadow-sm border-0 hover:shadow-md transition-shadow overflow-hidden",children:[l.jsxs("div",{className:"stat-card-gradient px-4 py-3 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-2 text-primary-foreground",children:[l.jsx(ys,{className:"h-4 w-4"}),l.jsx("span",{className:"text-sm font-bold tracking-wide",children:w.vehicleNumber})]}),l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(ve,{variant:"ghost",size:"icon",className:"h-7 w-7 text-primary-foreground/70 hover:text-primary-foreground hover:bg-primary-foreground/10",onClick:()=>m(w),children:l.jsx(Sw,{className:"h-3.5 w-3.5"})}),l.jsx(ve,{variant:"ghost",size:"icon",className:"h-7 w-7 text-primary-foreground/70 hover:text-primary-foreground hover:bg-primary-foreground/10",onClick:()=>{n(w.id),ie.success("Route removed")},children:l.jsx(rp,{className:"h-3.5 w-3.5"})})]})]}),l.jsxs(et,{className:"p-4 space-y-3",children:[l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-xs text-muted-foreground",children:"Driver"}),l.jsx("p",{className:"text-sm font-semibold",children:w.driverName})]}),l.jsxs("div",{className:"flex items-center gap-1.5 bg-accent/10 text-accent px-2.5 py-1 rounded-full",children:[l.jsx(Iw,{className:"h-3 w-3"}),l.jsx("span",{className:"text-xs font-bold",children:w.customers})]})]}),w.cities&&w.cities.length>0&&l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[l.jsx(Gr,{className:"h-3 w-3 text-muted-foreground"}),l.jsx("span",{className:"text-[11px] text-muted-foreground uppercase tracking-wider font-medium",children:"Cities"})]}),l.jsx("div",{className:"flex flex-wrap gap-1.5",children:w.cities.map(x=>l.jsx(Be,{variant:"outline",className:"text-[11px] font-medium border-primary/20 bg-primary/5 text-primary",children:x},x))})]}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-1 mb-2",children:[l.jsx(Gr,{className:"h-3 w-3 text-muted-foreground"}),l.jsx("span",{className:"text-[11px] text-muted-foreground uppercase tracking-wider font-medium",children:"Areas"})]}),l.jsx("div",{className:"flex flex-wrap gap-1.5",children:w.areas.map(x=>l.jsx(Be,{variant:"secondary",className:"text-[11px] font-medium",children:x},x))})]}),l.jsx("div",{className:"pt-2 border-t border-border",children:l.jsxs("span",{className:"text-[11px] text-muted-foreground",children:["Route ID: ",w.id]})})]})]},w.id)),t.length===0&&l.jsx("div",{className:"col-span-full text-center py-16 text-muted-foreground text-sm",children:"No routes configured yet"})]})]})}const L2=g.forwardRef(({className:t,...e},n)=>l.jsx("textarea",{className:Y("flex min-h-[80px] w-full rounded-md border border-input bg-background px-3 py-2 text-sm ring-offset-background placeholder:text-muted-foreground focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:cursor-not-allowed disabled:opacity-50",t),ref:n,...e}));L2.displayName="Textarea";function kG({invoices:t,customers:e,products:n,addInvoice:r,removeInvoice:s}){const i=qi(),[o,a]=g.useState(!1),[c,d]=g.useState(!1),[h,f]=g.useState(null),[p,m]=g.useState(""),[T,w]=g.useState("all"),[x,_]=g.useState({customerId:"",items:[],discount:0,paymentStatus:"pending",paymentMethod:"cash",notes:""}),[v,b]=g.useState({productId:"",quantity:1});g.useEffect(()=>{var L;if((L=i.state)!=null&&L.selectedProducts&&n.length>0){const Z=i.state.selectedProducts,X=[];Object.entries(Z).forEach(([oe,ae])=>{const we=n.find(ke=>ke.id===oe);we&&X.push({productId:we.id,productName:we.name,quantity:ae,unit:we.unit,price:we.price,total:we.price*ae})}),X.length>0&&(_(oe=>({...oe,items:X})),a(!0),window.history.replaceState({},document.title))}},[i.state,n]);const[k,O]=g.useState(""),[D,C]=g.useState("all"),I=Array.from(new Set(e.map(L=>L.route).filter(Boolean))),S=e.filter(L=>{const Z=L.name.toLowerCase().includes(k.toLowerCase())||L.phone.includes(k),X=D==="all"||L.route===D;return Z&&X}),N=t.filter(L=>{const Z=L.invoiceNumber.toLowerCase().includes(p.toLowerCase())||L.customerName.toLowerCase().includes(p.toLowerCase()),X=T==="all"||L.paymentStatus===T;return Z&&X}),P=e.find(L=>L.id===x.customerId),j=n.find(L=>L.id===v.productId),R=()=>{if(!j||v.quantity<=0){ie.error("Please select a product and enter valid quantity");return}const L=j.price*v.quantity,Z={productId:j.id,productName:j.name,quantity:v.quantity,unit:j.unit,price:j.price,total:L};_({...x,items:[...x.items,Z]}),b({productId:"",quantity:1}),ie.success("Item added")},M=L=>{const Z=x.items.filter((X,oe)=>oe!==L);_({...x,items:Z})},G=()=>{const L=x.items.reduce((X,oe)=>X+oe.total,0),Z=L-x.discount;return{subtotal:L,total:Z}},H=()=>{if(!x.customerId||x.items.length===0){ie.error("Please select a customer and add at least one item");return}const{subtotal:L,total:Z}=G(),X=`INV-${Date.now()}`,oe=e.find(we=>we.id===x.customerId);if(!oe)return;const ae={invoiceNumber:X,customerId:oe.id,customerName:oe.name,customerPhone:oe.phone,customerAddress:oe.address,items:x.items,subtotal:L,discount:x.discount,total:Z,paymentStatus:x.paymentStatus,paymentMethod:x.paymentMethod,date:new Date().toISOString(),notes:x.notes};r(ae),_({customerId:"",items:[],discount:0,paymentStatus:"pending",paymentMethod:"cash",notes:""}),a(!1),ie.success("Invoice created successfully")},ne=L=>{switch(L){case"paid":return"bg-green-100 text-green-700 border-green-200";case"pending":return"bg-yellow-100 text-yellow-700 border-yellow-200";case"partial":return"bg-blue-100 text-blue-700 border-blue-200";default:return"bg-gray-100 text-gray-700 border-gray-200"}},{subtotal:F,total:V}=G();return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-4",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-3xl font-bold tracking-tight bg-gradient-to-r from-primary to-primary/60 bg-clip-text text-transparent",children:"Invoices"}),l.jsx("p",{className:"text-sm text-muted-foreground mt-1",children:"Manage and generate customer invoices"})]}),l.jsxs(Ps,{open:o,onOpenChange:a,children:[l.jsx(Zp,{asChild:!0,children:l.jsxs(ve,{className:"shadow-lg hover:shadow-xl transition-all duration-300 bg-gradient-to-r from-primary to-primary/80",children:[l.jsx(Do,{className:"h-4 w-4 mr-2"}),"Create Invoice"]})}),l.jsxs(Xr,{className:"max-w-4xl max-h-[90vh] overflow-y-auto",children:[l.jsx(Jr,{children:l.jsx(Zr,{className:"text-xl font-bold",children:"Create New Invoice"})}),l.jsxs("div",{className:"space-y-6 py-4",children:[l.jsxs("div",{className:"grid gap-3",children:[l.jsxs(me,{className:"text-sm font-semibold flex items-center gap-2",children:[l.jsx(sp,{className:"h-4 w-4"}),"Select Customer"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-2",children:[l.jsxs("div",{className:"relative",children:[l.jsx(cl,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-3.5 w-3.5 text-muted-foreground"}),l.jsx(pe,{placeholder:"Search customer by name or phone...",value:k,onChange:L=>O(L.target.value),className:"pl-9 h-9 text-sm"})]}),l.jsxs(Xs,{value:D,onValueChange:C,children:[l.jsx(cs,{className:"h-9",children:l.jsx(Js,{placeholder:"Filter by route"})}),l.jsxs(us,{children:[l.jsx(Rt,{value:"all",children:"All Routes"}),I.map(L=>l.jsxs(Rt,{value:L,children:["Route: ",L]},L))]})]})]}),l.jsxs(Xs,{value:x.customerId,onValueChange:L=>_({...x,customerId:L}),children:[l.jsx(cs,{className:"h-10",children:l.jsx(Js,{placeholder:"Choose a customer"})}),l.jsx(us,{children:S.length>0?S.map(L=>l.jsxs(Rt,{value:L.id,children:[L.name," - ",L.phone," ",L.route&&`(Route: ${L.route})`]},L.id)):l.jsx("div",{className:"p-2 text-sm text-muted-foreground text-center",children:"No customers found"})})]}),(k||D!=="all")&&l.jsxs("div",{className:"text-xs text-muted-foreground",children:["Showing ",S.length," of ",e.length," customers",D!=="all"&&` on route ${D}`]}),P&&l.jsxs("div",{className:"p-3 bg-secondary/50 rounded-lg space-y-1 text-sm",children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(jo,{className:"h-3.5 w-3.5 text-muted-foreground"}),l.jsx("span",{children:P.phone})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(Gr,{className:"h-3.5 w-3.5 text-muted-foreground"}),l.jsx("span",{children:P.address})]}),P.route&&l.jsx("div",{className:"flex items-center gap-2 pt-1",children:l.jsxs(Be,{variant:"outline",className:"bg-primary/10 text-primary border-primary/20",children:["Route: ",P.route]})})]})]}),l.jsxs("div",{className:"space-y-3",children:[l.jsxs(me,{className:"text-sm font-semibold flex items-center gap-2",children:[l.jsx(Ai,{className:"h-4 w-4"}),"Add Items"]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-3",children:[l.jsxs(Xs,{value:v.productId,onValueChange:L=>b({...v,productId:L}),children:[l.jsx(cs,{children:l.jsx(Js,{placeholder:"Select product"})}),l.jsx(us,{children:n.map(L=>l.jsxs(Rt,{value:L.id,children:[L.name," - ",L.price,"/",L.unit]},L.id))})]}),l.jsx(pe,{type:"number",min:"1",value:v.quantity,onChange:L=>b({...v,quantity:parseInt(L.target.value)||1}),placeholder:"Quantity"}),l.jsxs(ve,{onClick:R,variant:"secondary",className:"w-full",children:[l.jsx(Do,{className:"h-4 w-4 mr-2"}),"Add Item"]})]})]}),x.items.length>0&&l.jsx("div",{className:"border rounded-lg overflow-hidden",children:l.jsxs(Pu,{children:[l.jsx(Au,{children:l.jsxs(sr,{className:"bg-secondary/50",children:[l.jsx(ct,{className:"font-semibold",children:"Product"}),l.jsx(ct,{className:"font-semibold",children:"Qty"}),l.jsx(ct,{className:"font-semibold",children:"Price"}),l.jsx(ct,{className:"font-semibold",children:"Total"}),l.jsx(ct,{className:"w-12"})]})}),l.jsx(ku,{children:x.items.map((L,Z)=>l.jsxs(sr,{children:[l.jsx(Je,{className:"font-medium",children:L.productName}),l.jsxs(Je,{children:[L.quantity," ",L.unit]}),l.jsxs(Je,{children:["",L.price.toFixed(2)]}),l.jsxs(Je,{className:"font-semibold",children:["",L.total.toFixed(2)]}),l.jsx(Je,{children:l.jsx(ve,{variant:"ghost",size:"icon",onClick:()=>M(Z),className:"h-8 w-8",children:l.jsx(Wu,{className:"h-4 w-4 text-destructive"})})})]},Z))})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsxs("div",{className:"grid gap-2",children:[l.jsx(me,{className:"text-sm font-medium",children:"Discount ()"}),l.jsx(pe,{type:"number",min:"0",value:x.discount,onChange:L=>_({...x,discount:parseFloat(L.target.value)||0}),placeholder:"0"})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(me,{className:"text-sm font-medium",children:"Payment Status"}),l.jsxs(Xs,{value:x.paymentStatus,onValueChange:L=>_({...x,paymentStatus:L}),children:[l.jsx(cs,{children:l.jsx(Js,{})}),l.jsxs(us,{children:[l.jsx(Rt,{value:"paid",children:"Paid"}),l.jsx(Rt,{value:"pending",children:"Pending"}),l.jsx(Rt,{value:"partial",children:"Partial"})]})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-4",children:[l.jsxs("div",{className:"grid gap-2",children:[l.jsx(me,{className:"text-sm font-medium",children:"Payment Method"}),l.jsxs(Xs,{value:x.paymentMethod,onValueChange:L=>_({...x,paymentMethod:L}),children:[l.jsx(cs,{children:l.jsx(Js,{})}),l.jsxs(us,{children:[l.jsx(Rt,{value:"cash",children:"Cash"}),l.jsx(Rt,{value:"card",children:"Card"}),l.jsx(Rt,{value:"upi",children:"UPI"}),l.jsx(Rt,{value:"bank_transfer",children:"Bank Transfer"})]})]})]}),l.jsxs("div",{className:"grid gap-2",children:[l.jsx(me,{className:"text-sm font-medium",children:"Notes"}),l.jsx(L2,{value:x.notes,onChange:L=>_({...x,notes:L.target.value}),placeholder:"Additional notes...",className:"resize-none",rows:1})]})]}),x.items.length>0&&l.jsxs("div",{className:"bg-gradient-to-br from-primary/5 to-primary/10 p-4 rounded-lg space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Subtotal:"}),l.jsxs("span",{className:"font-medium",children:["",F.toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Discount:"}),l.jsxs("span",{className:"font-medium",children:["-",x.discount.toFixed(2)]})]}),l.jsxs("div",{className:"flex justify-between text-lg font-bold pt-2 border-t border-primary/20",children:[l.jsx("span",{children:"Total:"}),l.jsxs("span",{className:"text-primary",children:["",V.toFixed(2)]})]})]})]}),l.jsx(As,{children:l.jsxs(ve,{onClick:H,className:"bg-gradient-to-r from-primary to-primary/80",children:[l.jsx(Pi,{className:"h-4 w-4 mr-2"}),"Create Invoice"]})})]})]})]}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-4 gap-4",children:[l.jsxs(Ye,{className:"border-0 shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 bg-gradient-to-br from-blue-50 to-blue-100/50 dark:from-blue-950/20 dark:to-blue-900/20 cursor-pointer group",children:[l.jsx(or,{className:"pb-2",children:l.jsx(ar,{className:"text-sm font-medium text-muted-foreground group-hover:text-blue-700 transition-colors",children:"Total Invoices"})}),l.jsx(et,{children:l.jsx("div",{className:"text-2xl font-bold group-hover:scale-105 transition-transform origin-left",children:t.length})})]}),l.jsxs(Ye,{className:"border-0 shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 bg-gradient-to-br from-green-50 to-green-100/50 dark:from-green-950/20 dark:to-green-900/20 cursor-pointer group",children:[l.jsx(or,{className:"pb-2",children:l.jsx(ar,{className:"text-sm font-medium text-muted-foreground group-hover:text-green-700 transition-colors",children:"Paid"})}),l.jsx(et,{children:l.jsx("div",{className:"text-2xl font-bold text-green-600 group-hover:scale-105 transition-transform origin-left",children:t.filter(L=>L.paymentStatus==="paid").length})})]}),l.jsxs(Ye,{className:"border-0 shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 bg-gradient-to-br from-yellow-50 to-yellow-100/50 dark:from-yellow-950/20 dark:to-yellow-900/20 cursor-pointer group",children:[l.jsx(or,{className:"pb-2",children:l.jsx(ar,{className:"text-sm font-medium text-muted-foreground group-hover:text-yellow-700 transition-colors",children:"Pending"})}),l.jsx(et,{children:l.jsx("div",{className:"text-2xl font-bold text-yellow-600 group-hover:scale-105 transition-transform origin-left",children:t.filter(L=>L.paymentStatus==="pending").length})})]}),l.jsxs(Ye,{className:"border-0 shadow-sm hover:shadow-xl hover:-translate-y-1 transition-all duration-300 bg-gradient-to-br from-purple-50 to-purple-100/50 dark:from-purple-950/20 dark:to-purple-900/20 cursor-pointer group",children:[l.jsx(or,{className:"pb-2",children:l.jsx(ar,{className:"text-sm font-medium text-muted-foreground group-hover:text-purple-700 transition-colors",children:"Total Revenue"})}),l.jsx(et,{children:l.jsxs("div",{className:"text-2xl font-bold text-purple-600 group-hover:scale-105 transition-transform origin-left",children:["",t.reduce((L,Z)=>L+Z.total,0).toFixed(2)]})})]})]}),l.jsx(Ye,{className:"shadow-sm border-0",children:l.jsx(et,{className:"p-4",children:l.jsxs("div",{className:"flex flex-col sm:flex-row gap-3",children:[l.jsxs("div",{className:"relative flex-1",children:[l.jsx(cl,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(pe,{placeholder:"Search by invoice number or customer...",value:p,onChange:L=>m(L.target.value),className:"pl-10 bg-secondary border-0"})]}),l.jsxs(Xs,{value:T,onValueChange:w,children:[l.jsxs(cs,{className:"w-full sm:w-[180px] bg-secondary border-0",children:[l.jsx(oL,{className:"h-4 w-4 mr-2"}),l.jsx(Js,{})]}),l.jsxs(us,{children:[l.jsx(Rt,{value:"all",children:"All Status"}),l.jsx(Rt,{value:"paid",children:"Paid"}),l.jsx(Rt,{value:"pending",children:"Pending"}),l.jsx(Rt,{value:"partial",children:"Partial"})]})]})]})})}),l.jsx(Ye,{className:"shadow-md border-0 overflow-hidden",children:l.jsx(et,{className:"p-0",children:l.jsxs(Pu,{children:[l.jsx(Au,{children:l.jsxs(sr,{className:"bg-secondary/50 hover:bg-secondary/50",children:[l.jsx(ct,{className:"font-semibold",children:"Invoice #"}),l.jsx(ct,{className:"font-semibold",children:"Customer"}),l.jsx(ct,{className:"font-semibold hidden md:table-cell",children:"Date"}),l.jsx(ct,{className:"font-semibold",children:"Amount"}),l.jsx(ct,{className:"font-semibold",children:"Status"}),l.jsx(ct,{className:"font-semibold",children:"Actions"})]})}),l.jsxs(ku,{children:[N.map(L=>l.jsxs(sr,{className:"hover:bg-secondary/30 transition-colors",children:[l.jsx(Je,{className:"font-mono text-sm font-medium",children:L.invoiceNumber}),l.jsx(Je,{children:l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx("div",{className:"h-8 w-8 rounded-full bg-gradient-to-br from-primary to-primary/60 flex items-center justify-center text-primary-foreground text-xs font-bold",children:L.customerName.charAt(0)}),l.jsxs("div",{children:[l.jsx("div",{className:"font-medium text-sm",children:L.customerName}),l.jsx("div",{className:"text-xs text-muted-foreground",children:L.customerPhone})]})]})}),l.jsx(Je,{className:"hidden md:table-cell text-sm text-muted-foreground",children:new Date(L.date).toLocaleDateString()}),l.jsxs(Je,{className:"font-semibold",children:["",L.total.toFixed(2)]}),l.jsx(Je,{children:l.jsx(Be,{className:`${ne(L.paymentStatus)} border`,children:L.paymentStatus})}),l.jsx(Je,{children:l.jsxs("div",{className:"flex items-center gap-1",children:[l.jsx(ve,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{f(L),d(!0)},children:l.jsx(zI,{className:"h-4 w-4 text-blue-600"})}),l.jsx(ve,{variant:"ghost",size:"icon",className:"h-8 w-8",onClick:()=>{s(L.id),ie.success("Invoice deleted")},children:l.jsx(rp,{className:"h-4 w-4 text-destructive"})})]})})]},L.id)),N.length===0&&l.jsx(sr,{children:l.jsxs(Je,{colSpan:6,className:"text-center py-12",children:[l.jsx(Pi,{className:"h-12 w-12 mx-auto text-muted-foreground/50 mb-2"}),l.jsx("p",{className:"text-muted-foreground",children:"No invoices found"})]})})]})]})})}),l.jsx(Xk,{open:c,onOpenChange:d,invoice:h})]})}var rm="Collapsible",[jG,kQ]=vr(rm),[DG,a0]=jG(rm),V2=g.forwardRef((t,e)=>{const{__scopeCollapsible:n,open:r,defaultOpen:s,disabled:i,onOpenChange:o,...a}=t,[c,d]=Es({prop:r,defaultProp:s??!1,onChange:o,caller:rm});return l.jsx(DG,{scope:n,disabled:i,contentId:Un(),open:c,onOpenToggle:g.useCallback(()=>d(h=>!h),[d]),children:l.jsx(ce.div,{"data-state":c0(c),"data-disabled":i?"":void 0,...a,ref:e})})});V2.displayName=rm;var F2="CollapsibleTrigger",U2=g.forwardRef((t,e)=>{const{__scopeCollapsible:n,...r}=t,s=a0(F2,n);return l.jsx(ce.button,{type:"button","aria-controls":s.contentId,"aria-expanded":s.open||!1,"data-state":c0(s.open),"data-disabled":s.disabled?"":void 0,disabled:s.disabled,...r,ref:e,onClick:ee(t.onClick,s.onOpenToggle)})});U2.displayName=F2;var l0="CollapsibleContent",$2=g.forwardRef((t,e)=>{const{forceMount:n,...r}=t,s=a0(l0,t.__scopeCollapsible);return l.jsx(Hn,{present:n||s.open,children:({present:i})=>l.jsx(OG,{...r,ref:e,present:i})})});$2.displayName=l0;var OG=g.forwardRef((t,e)=>{const{__scopeCollapsible:n,present:r,children:s,...i}=t,o=a0(l0,n),[a,c]=g.useState(r),d=g.useRef(null),h=Me(e,d),f=g.useRef(0),p=f.current,m=g.useRef(0),T=m.current,w=o.open||a,x=g.useRef(w),_=g.useRef(void 0);return g.useEffect(()=>{const v=requestAnimationFrame(()=>x.current=!1);return()=>cancelAnimationFrame(v)},[]),jt(()=>{const v=d.current;if(v){_.current=_.current||{transitionDuration:v.style.transitionDuration,animationName:v.style.animationName},v.style.transitionDuration="0s",v.style.animationName="none";const b=v.getBoundingClientRect();f.current=b.height,m.current=b.width,x.current||(v.style.transitionDuration=_.current.transitionDuration,v.style.animationName=_.current.animationName),c(r)}},[o.open,r]),l.jsx(ce.div,{"data-state":c0(o.open),"data-disabled":o.disabled?"":void 0,id:o.contentId,hidden:!w,...i,ref:h,style:{"--radix-collapsible-content-height":p?`${p}px`:void 0,"--radix-collapsible-content-width":T?`${T}px`:void 0,...t.style},children:w&&s})});function c0(t){return t?"open":"closed"}var MG=V2;const LG=MG,VG=U2,FG=$2;var sm="Tabs",[UG,jQ]=vr(sm,[Qp]),B2=Qp(),[$G,u0]=UG(sm),z2=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,onValueChange:s,defaultValue:i,orientation:o="horizontal",dir:a,activationMode:c="automatic",...d}=t,h=Kp(a),[f,p]=Es({prop:r,onChange:s,defaultProp:i??"",caller:sm});return l.jsx($G,{scope:n,baseId:Un(),value:f,onValueChange:p,orientation:o,dir:h,activationMode:c,children:l.jsx(ce.div,{dir:h,"data-orientation":o,...d,ref:e})})});z2.displayName=sm;var W2="TabsList",H2=g.forwardRef((t,e)=>{const{__scopeTabs:n,loop:r=!0,...s}=t,i=u0(W2,n),o=B2(n);return l.jsx(YA,{asChild:!0,...o,orientation:i.orientation,dir:i.dir,loop:r,children:l.jsx(ce.div,{role:"tablist","aria-orientation":i.orientation,...s,ref:e})})});H2.displayName=W2;var q2="TabsTrigger",G2=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,disabled:s=!1,...i}=t,o=u0(q2,n),a=B2(n),c=Y2(o.baseId,r),d=X2(o.baseId,r),h=r===o.value;return l.jsx(XA,{asChild:!0,...a,focusable:!s,active:h,children:l.jsx(ce.button,{type:"button",role:"tab","aria-selected":h,"aria-controls":d,"data-state":h?"active":"inactive","data-disabled":s?"":void 0,disabled:s,id:c,...i,ref:e,onMouseDown:ee(t.onMouseDown,f=>{!s&&f.button===0&&f.ctrlKey===!1?o.onValueChange(r):f.preventDefault()}),onKeyDown:ee(t.onKeyDown,f=>{[" ","Enter"].includes(f.key)&&o.onValueChange(r)}),onFocus:ee(t.onFocus,()=>{const f=o.activationMode!=="manual";!h&&!s&&f&&o.onValueChange(r)})})})});G2.displayName=q2;var K2="TabsContent",Q2=g.forwardRef((t,e)=>{const{__scopeTabs:n,value:r,forceMount:s,children:i,...o}=t,a=u0(K2,n),c=Y2(a.baseId,r),d=X2(a.baseId,r),h=r===a.value,f=g.useRef(h);return g.useEffect(()=>{const p=requestAnimationFrame(()=>f.current=!1);return()=>cancelAnimationFrame(p)},[]),l.jsx(Hn,{present:s||h,children:({present:p})=>l.jsx(ce.div,{"data-state":h?"active":"inactive","data-orientation":a.orientation,role:"tabpanel","aria-labelledby":c,hidden:!p,id:d,tabIndex:0,...o,ref:e,style:{...t.style,animationDuration:f.current?"0s":void 0},children:p&&i})})});Q2.displayName=K2;function Y2(t,e){return`${t}-trigger-${e}`}function X2(t,e){return`${t}-content-${e}`}var BG=z2,J2=H2,Z2=G2,ej=Q2;const zG=BG,tj=g.forwardRef(({className:t,...e},n)=>l.jsx(J2,{ref:n,className:Y("inline-flex h-10 items-center justify-center rounded-md bg-muted p-1 text-muted-foreground",t),...e}));tj.displayName=J2.displayName;const Ph=g.forwardRef(({className:t,...e},n)=>l.jsx(Z2,{ref:n,className:Y("inline-flex items-center justify-center whitespace-nowrap rounded-sm px-3 py-1.5 text-sm font-medium ring-offset-background transition-all data-[state=active]:bg-background data-[state=active]:text-foreground data-[state=active]:shadow-sm focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2 disabled:pointer-events-none disabled:opacity-50",t),...e}));Ph.displayName=Z2.displayName;const Ah=g.forwardRef(({className:t,...e},n)=>l.jsx(ej,{ref:n,className:Y("mt-2 ring-offset-background focus-visible:outline-none focus-visible:ring-2 focus-visible:ring-ring focus-visible:ring-offset-2",t),...e}));Ah.displayName=ej.displayName;function _r(t){const e=Object.prototype.toString.call(t);return t instanceof Date||typeof t=="object"&&e==="[object Date]"?new t.constructor(+t):typeof t=="number"||e==="[object Number]"||typeof t=="string"||e==="[object String]"?new Date(t):new Date(NaN)}function $i(t,e){return t instanceof Date?new t.constructor(e):new Date(e)}const nj=6048e5,WG=864e5,rj=6e4,sj=36e5;let HG={};function im(){return HG}function ju(t,e){var a,c,d,h;const n=im(),r=(e==null?void 0:e.weekStartsOn)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.weekStartsOn)??n.weekStartsOn??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.weekStartsOn)??0,s=_r(t),i=s.getDay(),o=(i<r?7:0)+i-r;return s.setDate(s.getDate()-o),s.setHours(0,0,0,0),s}function Of(t){return ju(t,{weekStartsOn:1})}function ij(t){const e=_r(t),n=e.getFullYear(),r=$i(t,0);r.setFullYear(n+1,0,4),r.setHours(0,0,0,0);const s=Of(r),i=$i(t,0);i.setFullYear(n,0,4),i.setHours(0,0,0,0);const o=Of(i);return e.getTime()>=s.getTime()?n+1:e.getTime()>=o.getTime()?n:n-1}function Mf(t){const e=_r(t);return e.setHours(0,0,0,0),e}function FE(t){const e=_r(t),n=new Date(Date.UTC(e.getFullYear(),e.getMonth(),e.getDate(),e.getHours(),e.getMinutes(),e.getSeconds(),e.getMilliseconds()));return n.setUTCFullYear(e.getFullYear()),+t-+n}function qG(t,e){const n=Mf(t),r=Mf(e),s=+n-FE(n),i=+r-FE(r);return Math.round((s-i)/WG)}function GG(t){const e=ij(t),n=$i(t,0);return n.setFullYear(e,0,4),n.setHours(0,0,0,0),Of(n)}function KG(t){return $i(t,Date.now())}function QG(t,e){const n=Mf(t),r=Mf(e);return+n==+r}function YG(t){return t instanceof Date||typeof t=="object"&&Object.prototype.toString.call(t)==="[object Date]"}function XG(t){if(!YG(t)&&typeof t!="number")return!1;const e=_r(t);return!isNaN(Number(e))}function JG(t){const e=_r(t),n=$i(t,0);return n.setFullYear(e.getFullYear(),0,1),n.setHours(0,0,0,0),n}const ZG={lessThanXSeconds:{one:"less than a second",other:"less than {{count}} seconds"},xSeconds:{one:"1 second",other:"{{count}} seconds"},halfAMinute:"half a minute",lessThanXMinutes:{one:"less than a minute",other:"less than {{count}} minutes"},xMinutes:{one:"1 minute",other:"{{count}} minutes"},aboutXHours:{one:"about 1 hour",other:"about {{count}} hours"},xHours:{one:"1 hour",other:"{{count}} hours"},xDays:{one:"1 day",other:"{{count}} days"},aboutXWeeks:{one:"about 1 week",other:"about {{count}} weeks"},xWeeks:{one:"1 week",other:"{{count}} weeks"},aboutXMonths:{one:"about 1 month",other:"about {{count}} months"},xMonths:{one:"1 month",other:"{{count}} months"},aboutXYears:{one:"about 1 year",other:"about {{count}} years"},xYears:{one:"1 year",other:"{{count}} years"},overXYears:{one:"over 1 year",other:"over {{count}} years"},almostXYears:{one:"almost 1 year",other:"almost {{count}} years"}},eK=(t,e,n)=>{let r;const s=ZG[t];return typeof s=="string"?r=s:e===1?r=s.one:r=s.other.replace("{{count}}",e.toString()),n!=null&&n.addSuffix?n.comparison&&n.comparison>0?"in "+r:r+" ago":r};function Ng(t){return(e={})=>{const n=e.width?String(e.width):t.defaultWidth;return t.formats[n]||t.formats[t.defaultWidth]}}const tK={full:"EEEE, MMMM do, y",long:"MMMM do, y",medium:"MMM d, y",short:"MM/dd/yyyy"},nK={full:"h:mm:ss a zzzz",long:"h:mm:ss a z",medium:"h:mm:ss a",short:"h:mm a"},rK={full:"{{date}} 'at' {{time}}",long:"{{date}} 'at' {{time}}",medium:"{{date}}, {{time}}",short:"{{date}}, {{time}}"},sK={date:Ng({formats:tK,defaultWidth:"full"}),time:Ng({formats:nK,defaultWidth:"full"}),dateTime:Ng({formats:rK,defaultWidth:"full"})},iK={lastWeek:"'last' eeee 'at' p",yesterday:"'yesterday at' p",today:"'today at' p",tomorrow:"'tomorrow at' p",nextWeek:"eeee 'at' p",other:"P"},oK=(t,e,n,r)=>iK[t];function hc(t){return(e,n)=>{const r=n!=null&&n.context?String(n.context):"standalone";let s;if(r==="formatting"&&t.formattingValues){const o=t.defaultFormattingWidth||t.defaultWidth,a=n!=null&&n.width?String(n.width):o;s=t.formattingValues[a]||t.formattingValues[o]}else{const o=t.defaultWidth,a=n!=null&&n.width?String(n.width):t.defaultWidth;s=t.values[a]||t.values[o]}const i=t.argumentCallback?t.argumentCallback(e):e;return s[i]}}const aK={narrow:["B","A"],abbreviated:["BC","AD"],wide:["Before Christ","Anno Domini"]},lK={narrow:["1","2","3","4"],abbreviated:["Q1","Q2","Q3","Q4"],wide:["1st quarter","2nd quarter","3rd quarter","4th quarter"]},cK={narrow:["J","F","M","A","M","J","J","A","S","O","N","D"],abbreviated:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],wide:["January","February","March","April","May","June","July","August","September","October","November","December"]},uK={narrow:["S","M","T","W","T","F","S"],short:["Su","Mo","Tu","We","Th","Fr","Sa"],abbreviated:["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],wide:["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"]},dK={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"}},hK={narrow:{am:"a",pm:"p",midnight:"mi",noon:"n",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},abbreviated:{am:"AM",pm:"PM",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"},wide:{am:"a.m.",pm:"p.m.",midnight:"midnight",noon:"noon",morning:"in the morning",afternoon:"in the afternoon",evening:"in the evening",night:"at night"}},fK=(t,e)=>{const n=Number(t),r=n%100;if(r>20||r<10)switch(r%10){case 1:return n+"st";case 2:return n+"nd";case 3:return n+"rd"}return n+"th"},pK={ordinalNumber:fK,era:hc({values:aK,defaultWidth:"wide"}),quarter:hc({values:lK,defaultWidth:"wide",argumentCallback:t=>t-1}),month:hc({values:cK,defaultWidth:"wide"}),day:hc({values:uK,defaultWidth:"wide"}),dayPeriod:hc({values:dK,defaultWidth:"wide",formattingValues:hK,defaultFormattingWidth:"wide"})};function fc(t){return(e,n={})=>{const r=n.width,s=r&&t.matchPatterns[r]||t.matchPatterns[t.defaultMatchWidth],i=e.match(s);if(!i)return null;const o=i[0],a=r&&t.parsePatterns[r]||t.parsePatterns[t.defaultParseWidth],c=Array.isArray(a)?gK(a,f=>f.test(o)):mK(a,f=>f.test(o));let d;d=t.valueCallback?t.valueCallback(c):c,d=n.valueCallback?n.valueCallback(d):d;const h=e.slice(o.length);return{value:d,rest:h}}}function mK(t,e){for(const n in t)if(Object.prototype.hasOwnProperty.call(t,n)&&e(t[n]))return n}function gK(t,e){for(let n=0;n<t.length;n++)if(e(t[n]))return n}function yK(t){return(e,n={})=>{const r=e.match(t.matchPattern);if(!r)return null;const s=r[0],i=e.match(t.parsePattern);if(!i)return null;let o=t.valueCallback?t.valueCallback(i[0]):i[0];o=n.valueCallback?n.valueCallback(o):o;const a=e.slice(s.length);return{value:o,rest:a}}}const vK=/^(\d+)(th|st|nd|rd)?/i,wK=/\d+/i,xK={narrow:/^(b|a)/i,abbreviated:/^(b\.?\s?c\.?|b\.?\s?c\.?\s?e\.?|a\.?\s?d\.?|c\.?\s?e\.?)/i,wide:/^(before christ|before common era|anno domini|common era)/i},_K={any:[/^b/i,/^(a|c)/i]},bK={narrow:/^[1234]/i,abbreviated:/^q[1234]/i,wide:/^[1234](th|st|nd|rd)? quarter/i},EK={any:[/1/i,/2/i,/3/i,/4/i]},TK={narrow:/^[jfmasond]/i,abbreviated:/^(jan|feb|mar|apr|may|jun|jul|aug|sep|oct|nov|dec)/i,wide:/^(january|february|march|april|may|june|july|august|september|october|november|december)/i},SK={narrow:[/^j/i,/^f/i,/^m/i,/^a/i,/^m/i,/^j/i,/^j/i,/^a/i,/^s/i,/^o/i,/^n/i,/^d/i],any:[/^ja/i,/^f/i,/^mar/i,/^ap/i,/^may/i,/^jun/i,/^jul/i,/^au/i,/^s/i,/^o/i,/^n/i,/^d/i]},IK={narrow:/^[smtwf]/i,short:/^(su|mo|tu|we|th|fr|sa)/i,abbreviated:/^(sun|mon|tue|wed|thu|fri|sat)/i,wide:/^(sunday|monday|tuesday|wednesday|thursday|friday|saturday)/i},CK={narrow:[/^s/i,/^m/i,/^t/i,/^w/i,/^t/i,/^f/i,/^s/i],any:[/^su/i,/^m/i,/^tu/i,/^w/i,/^th/i,/^f/i,/^sa/i]},NK={narrow:/^(a|p|mi|n|(in the|at) (morning|afternoon|evening|night))/i,any:/^([ap]\.?\s?m\.?|midnight|noon|(in the|at) (morning|afternoon|evening|night))/i},RK={any:{am:/^a/i,pm:/^p/i,midnight:/^mi/i,noon:/^no/i,morning:/morning/i,afternoon:/afternoon/i,evening:/evening/i,night:/night/i}},PK={ordinalNumber:yK({matchPattern:vK,parsePattern:wK,valueCallback:t=>parseInt(t,10)}),era:fc({matchPatterns:xK,defaultMatchWidth:"wide",parsePatterns:_K,defaultParseWidth:"any"}),quarter:fc({matchPatterns:bK,defaultMatchWidth:"wide",parsePatterns:EK,defaultParseWidth:"any",valueCallback:t=>t+1}),month:fc({matchPatterns:TK,defaultMatchWidth:"wide",parsePatterns:SK,defaultParseWidth:"any"}),day:fc({matchPatterns:IK,defaultMatchWidth:"wide",parsePatterns:CK,defaultParseWidth:"any"}),dayPeriod:fc({matchPatterns:NK,defaultMatchWidth:"any",parsePatterns:RK,defaultParseWidth:"any"})},AK={code:"en-US",formatDistance:eK,formatLong:sK,formatRelative:oK,localize:pK,match:PK,options:{weekStartsOn:0,firstWeekContainsDate:1}};function kK(t){const e=_r(t);return qG(e,JG(e))+1}function jK(t){const e=_r(t),n=+Of(e)-+GG(e);return Math.round(n/nj)+1}function oj(t,e){var h,f,p,m;const n=_r(t),r=n.getFullYear(),s=im(),i=(e==null?void 0:e.firstWeekContainsDate)??((f=(h=e==null?void 0:e.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??s.firstWeekContainsDate??((m=(p=s.locale)==null?void 0:p.options)==null?void 0:m.firstWeekContainsDate)??1,o=$i(t,0);o.setFullYear(r+1,0,i),o.setHours(0,0,0,0);const a=ju(o,e),c=$i(t,0);c.setFullYear(r,0,i),c.setHours(0,0,0,0);const d=ju(c,e);return n.getTime()>=a.getTime()?r+1:n.getTime()>=d.getTime()?r:r-1}function DK(t,e){var a,c,d,h;const n=im(),r=(e==null?void 0:e.firstWeekContainsDate)??((c=(a=e==null?void 0:e.locale)==null?void 0:a.options)==null?void 0:c.firstWeekContainsDate)??n.firstWeekContainsDate??((h=(d=n.locale)==null?void 0:d.options)==null?void 0:h.firstWeekContainsDate)??1,s=oj(t,e),i=$i(t,0);return i.setFullYear(s,0,r),i.setHours(0,0,0,0),ju(i,e)}function OK(t,e){const n=_r(t),r=+ju(n,e)-+DK(n,e);return Math.round(r/nj)+1}function Fe(t,e){const n=t<0?"-":"",r=Math.abs(t).toString().padStart(e,"0");return n+r}const qs={y(t,e){const n=t.getFullYear(),r=n>0?n:1-n;return Fe(e==="yy"?r%100:r,e.length)},M(t,e){const n=t.getMonth();return e==="M"?String(n+1):Fe(n+1,2)},d(t,e){return Fe(t.getDate(),e.length)},a(t,e){const n=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.toUpperCase();case"aaa":return n;case"aaaaa":return n[0];case"aaaa":default:return n==="am"?"a.m.":"p.m."}},h(t,e){return Fe(t.getHours()%12||12,e.length)},H(t,e){return Fe(t.getHours(),e.length)},m(t,e){return Fe(t.getMinutes(),e.length)},s(t,e){return Fe(t.getSeconds(),e.length)},S(t,e){const n=e.length,r=t.getMilliseconds(),s=Math.trunc(r*Math.pow(10,n-3));return Fe(s,e.length)}},ma={am:"am",pm:"pm",midnight:"midnight",noon:"noon",morning:"morning",afternoon:"afternoon",evening:"evening",night:"night"},UE={G:function(t,e,n){const r=t.getFullYear()>0?1:0;switch(e){case"G":case"GG":case"GGG":return n.era(r,{width:"abbreviated"});case"GGGGG":return n.era(r,{width:"narrow"});case"GGGG":default:return n.era(r,{width:"wide"})}},y:function(t,e,n){if(e==="yo"){const r=t.getFullYear(),s=r>0?r:1-r;return n.ordinalNumber(s,{unit:"year"})}return qs.y(t,e)},Y:function(t,e,n,r){const s=oj(t,r),i=s>0?s:1-s;if(e==="YY"){const o=i%100;return Fe(o,2)}return e==="Yo"?n.ordinalNumber(i,{unit:"year"}):Fe(i,e.length)},R:function(t,e){const n=ij(t);return Fe(n,e.length)},u:function(t,e){const n=t.getFullYear();return Fe(n,e.length)},Q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"Q":return String(r);case"QQ":return Fe(r,2);case"Qo":return n.ordinalNumber(r,{unit:"quarter"});case"QQQ":return n.quarter(r,{width:"abbreviated",context:"formatting"});case"QQQQQ":return n.quarter(r,{width:"narrow",context:"formatting"});case"QQQQ":default:return n.quarter(r,{width:"wide",context:"formatting"})}},q:function(t,e,n){const r=Math.ceil((t.getMonth()+1)/3);switch(e){case"q":return String(r);case"qq":return Fe(r,2);case"qo":return n.ordinalNumber(r,{unit:"quarter"});case"qqq":return n.quarter(r,{width:"abbreviated",context:"standalone"});case"qqqqq":return n.quarter(r,{width:"narrow",context:"standalone"});case"qqqq":default:return n.quarter(r,{width:"wide",context:"standalone"})}},M:function(t,e,n){const r=t.getMonth();switch(e){case"M":case"MM":return qs.M(t,e);case"Mo":return n.ordinalNumber(r+1,{unit:"month"});case"MMM":return n.month(r,{width:"abbreviated",context:"formatting"});case"MMMMM":return n.month(r,{width:"narrow",context:"formatting"});case"MMMM":default:return n.month(r,{width:"wide",context:"formatting"})}},L:function(t,e,n){const r=t.getMonth();switch(e){case"L":return String(r+1);case"LL":return Fe(r+1,2);case"Lo":return n.ordinalNumber(r+1,{unit:"month"});case"LLL":return n.month(r,{width:"abbreviated",context:"standalone"});case"LLLLL":return n.month(r,{width:"narrow",context:"standalone"});case"LLLL":default:return n.month(r,{width:"wide",context:"standalone"})}},w:function(t,e,n,r){const s=OK(t,r);return e==="wo"?n.ordinalNumber(s,{unit:"week"}):Fe(s,e.length)},I:function(t,e,n){const r=jK(t);return e==="Io"?n.ordinalNumber(r,{unit:"week"}):Fe(r,e.length)},d:function(t,e,n){return e==="do"?n.ordinalNumber(t.getDate(),{unit:"date"}):qs.d(t,e)},D:function(t,e,n){const r=kK(t);return e==="Do"?n.ordinalNumber(r,{unit:"dayOfYear"}):Fe(r,e.length)},E:function(t,e,n){const r=t.getDay();switch(e){case"E":case"EE":case"EEE":return n.day(r,{width:"abbreviated",context:"formatting"});case"EEEEE":return n.day(r,{width:"narrow",context:"formatting"});case"EEEEEE":return n.day(r,{width:"short",context:"formatting"});case"EEEE":default:return n.day(r,{width:"wide",context:"formatting"})}},e:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"e":return String(i);case"ee":return Fe(i,2);case"eo":return n.ordinalNumber(i,{unit:"day"});case"eee":return n.day(s,{width:"abbreviated",context:"formatting"});case"eeeee":return n.day(s,{width:"narrow",context:"formatting"});case"eeeeee":return n.day(s,{width:"short",context:"formatting"});case"eeee":default:return n.day(s,{width:"wide",context:"formatting"})}},c:function(t,e,n,r){const s=t.getDay(),i=(s-r.weekStartsOn+8)%7||7;switch(e){case"c":return String(i);case"cc":return Fe(i,e.length);case"co":return n.ordinalNumber(i,{unit:"day"});case"ccc":return n.day(s,{width:"abbreviated",context:"standalone"});case"ccccc":return n.day(s,{width:"narrow",context:"standalone"});case"cccccc":return n.day(s,{width:"short",context:"standalone"});case"cccc":default:return n.day(s,{width:"wide",context:"standalone"})}},i:function(t,e,n){const r=t.getDay(),s=r===0?7:r;switch(e){case"i":return String(s);case"ii":return Fe(s,e.length);case"io":return n.ordinalNumber(s,{unit:"day"});case"iii":return n.day(r,{width:"abbreviated",context:"formatting"});case"iiiii":return n.day(r,{width:"narrow",context:"formatting"});case"iiiiii":return n.day(r,{width:"short",context:"formatting"});case"iiii":default:return n.day(r,{width:"wide",context:"formatting"})}},a:function(t,e,n){const s=t.getHours()/12>=1?"pm":"am";switch(e){case"a":case"aa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"aaa":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"aaaaa":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"aaaa":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},b:function(t,e,n){const r=t.getHours();let s;switch(r===12?s=ma.noon:r===0?s=ma.midnight:s=r/12>=1?"pm":"am",e){case"b":case"bb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"bbb":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"}).toLowerCase();case"bbbbb":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"bbbb":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},B:function(t,e,n){const r=t.getHours();let s;switch(r>=17?s=ma.evening:r>=12?s=ma.afternoon:r>=4?s=ma.morning:s=ma.night,e){case"B":case"BB":case"BBB":return n.dayPeriod(s,{width:"abbreviated",context:"formatting"});case"BBBBB":return n.dayPeriod(s,{width:"narrow",context:"formatting"});case"BBBB":default:return n.dayPeriod(s,{width:"wide",context:"formatting"})}},h:function(t,e,n){if(e==="ho"){let r=t.getHours()%12;return r===0&&(r=12),n.ordinalNumber(r,{unit:"hour"})}return qs.h(t,e)},H:function(t,e,n){return e==="Ho"?n.ordinalNumber(t.getHours(),{unit:"hour"}):qs.H(t,e)},K:function(t,e,n){const r=t.getHours()%12;return e==="Ko"?n.ordinalNumber(r,{unit:"hour"}):Fe(r,e.length)},k:function(t,e,n){let r=t.getHours();return r===0&&(r=24),e==="ko"?n.ordinalNumber(r,{unit:"hour"}):Fe(r,e.length)},m:function(t,e,n){return e==="mo"?n.ordinalNumber(t.getMinutes(),{unit:"minute"}):qs.m(t,e)},s:function(t,e,n){return e==="so"?n.ordinalNumber(t.getSeconds(),{unit:"second"}):qs.s(t,e)},S:function(t,e){return qs.S(t,e)},X:function(t,e,n){const r=t.getTimezoneOffset();if(r===0)return"Z";switch(e){case"X":return BE(r);case"XXXX":case"XX":return uo(r);case"XXXXX":case"XXX":default:return uo(r,":")}},x:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"x":return BE(r);case"xxxx":case"xx":return uo(r);case"xxxxx":case"xxx":default:return uo(r,":")}},O:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"O":case"OO":case"OOO":return"GMT"+$E(r,":");case"OOOO":default:return"GMT"+uo(r,":")}},z:function(t,e,n){const r=t.getTimezoneOffset();switch(e){case"z":case"zz":case"zzz":return"GMT"+$E(r,":");case"zzzz":default:return"GMT"+uo(r,":")}},t:function(t,e,n){const r=Math.trunc(t.getTime()/1e3);return Fe(r,e.length)},T:function(t,e,n){const r=t.getTime();return Fe(r,e.length)}};function $E(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Math.trunc(r/60),i=r%60;return i===0?n+String(s):n+String(s)+e+Fe(i,2)}function BE(t,e){return t%60===0?(t>0?"-":"+")+Fe(Math.abs(t)/60,2):uo(t,e)}function uo(t,e=""){const n=t>0?"-":"+",r=Math.abs(t),s=Fe(Math.trunc(r/60),2),i=Fe(r%60,2);return n+s+e+i}const zE=(t,e)=>{switch(t){case"P":return e.date({width:"short"});case"PP":return e.date({width:"medium"});case"PPP":return e.date({width:"long"});case"PPPP":default:return e.date({width:"full"})}},aj=(t,e)=>{switch(t){case"p":return e.time({width:"short"});case"pp":return e.time({width:"medium"});case"ppp":return e.time({width:"long"});case"pppp":default:return e.time({width:"full"})}},MK=(t,e)=>{const n=t.match(/(P+)(p+)?/)||[],r=n[1],s=n[2];if(!s)return zE(t,e);let i;switch(r){case"P":i=e.dateTime({width:"short"});break;case"PP":i=e.dateTime({width:"medium"});break;case"PPP":i=e.dateTime({width:"long"});break;case"PPPP":default:i=e.dateTime({width:"full"});break}return i.replace("{{date}}",zE(r,e)).replace("{{time}}",aj(s,e))},LK={p:aj,P:MK},VK=/^D+$/,FK=/^Y+$/,UK=["D","DD","YY","YYYY"];function $K(t){return VK.test(t)}function BK(t){return FK.test(t)}function zK(t,e,n){const r=WK(t,e,n);if(console.warn(r),UK.includes(t))throw new RangeError(r)}function WK(t,e,n){const r=t[0]==="Y"?"years":"days of the month";return`Use \`${t.toLowerCase()}\` instead of \`${t}\` (in \`${e}\`) for formatting ${r} to the input \`${n}\`; see: https://github.com/date-fns/date-fns/blob/master/docs/unicodeTokens.md`}const HK=/[yYQqMLwIdDecihHKkms]o|(\w)\1*|''|'(''|[^'])+('|$)|./g,qK=/P+p+|P+|p+|''|'(''|[^'])+('|$)|./g,GK=/^'([^]*?)'?$/,KK=/''/g,QK=/[a-zA-Z]/;function Du(t,e,n){var h,f,p,m;const r=im(),s=r.locale??AK,i=r.firstWeekContainsDate??((f=(h=r.locale)==null?void 0:h.options)==null?void 0:f.firstWeekContainsDate)??1,o=r.weekStartsOn??((m=(p=r.locale)==null?void 0:p.options)==null?void 0:m.weekStartsOn)??0,a=_r(t);if(!XG(a))throw new RangeError("Invalid time value");let c=e.match(qK).map(T=>{const w=T[0];if(w==="p"||w==="P"){const x=LK[w];return x(T,s.formatLong)}return T}).join("").match(HK).map(T=>{if(T==="''")return{isToken:!1,value:"'"};const w=T[0];if(w==="'")return{isToken:!1,value:YK(T)};if(UE[w])return{isToken:!0,value:T};if(w.match(QK))throw new RangeError("Format string contains an unescaped latin alphabet character `"+w+"`");return{isToken:!1,value:T}});s.localize.preprocessor&&(c=s.localize.preprocessor(a,c));const d={firstWeekContainsDate:i,weekStartsOn:o,locale:s};return c.map(T=>{if(!T.isToken)return T.value;const w=T.value;(BK(w)||$K(w))&&zK(w,e,String(t));const x=UE[w[0]];return x(a,w,s.localize,d)}).join("")}function YK(t){const e=t.match(GK);return e?e[1].replace(KK,"'"):t}function Nc(t){return QG(t,KG(t))}function WE(t,e){const r=eQ(t);let s;if(r.date){const c=tQ(r.date,2);s=nQ(c.restDateString,c.year)}if(!s||isNaN(s.getTime()))return new Date(NaN);const i=s.getTime();let o=0,a;if(r.time&&(o=rQ(r.time),isNaN(o)))return new Date(NaN);if(r.timezone){if(a=sQ(r.timezone),isNaN(a))return new Date(NaN)}else{const c=new Date(i+o),d=new Date(0);return d.setFullYear(c.getUTCFullYear(),c.getUTCMonth(),c.getUTCDate()),d.setHours(c.getUTCHours(),c.getUTCMinutes(),c.getUTCSeconds(),c.getUTCMilliseconds()),d}return new Date(i+o+a)}const nh={dateTimeDelimiter:/[T ]/,timeZoneDelimiter:/[Z ]/i,timezone:/([Z+-].*)$/},XK=/^-?(?:(\d{3})|(\d{2})(?:-?(\d{2}))?|W(\d{2})(?:-?(\d{1}))?|)$/,JK=/^(\d{2}(?:[.,]\d*)?)(?::?(\d{2}(?:[.,]\d*)?))?(?::?(\d{2}(?:[.,]\d*)?))?$/,ZK=/^([+-])(\d{2})(?::?(\d{2}))?$/;function eQ(t){const e={},n=t.split(nh.dateTimeDelimiter);let r;if(n.length>2)return e;if(/:/.test(n[0])?r=n[0]:(e.date=n[0],r=n[1],nh.timeZoneDelimiter.test(e.date)&&(e.date=t.split(nh.timeZoneDelimiter)[0],r=t.substr(e.date.length,t.length))),r){const s=nh.timezone.exec(r);s?(e.time=r.replace(s[1],""),e.timezone=s[1]):e.time=r}return e}function tQ(t,e){const n=new RegExp("^(?:(\\d{4}|[+-]\\d{"+(4+e)+"})|(\\d{2}|[+-]\\d{"+(2+e)+"})$)"),r=t.match(n);if(!r)return{year:NaN,restDateString:""};const s=r[1]?parseInt(r[1]):null,i=r[2]?parseInt(r[2]):null;return{year:i===null?s:i*100,restDateString:t.slice((r[1]||r[2]).length)}}function nQ(t,e){if(e===null)return new Date(NaN);const n=t.match(XK);if(!n)return new Date(NaN);const r=!!n[4],s=pc(n[1]),i=pc(n[2])-1,o=pc(n[3]),a=pc(n[4]),c=pc(n[5])-1;if(r)return cQ(e,a,c)?iQ(e,a,c):new Date(NaN);{const d=new Date(0);return!aQ(e,i,o)||!lQ(e,s)?new Date(NaN):(d.setUTCFullYear(e,i,Math.max(s,o)),d)}}function pc(t){return t?parseInt(t):1}function rQ(t){const e=t.match(JK);if(!e)return NaN;const n=Rg(e[1]),r=Rg(e[2]),s=Rg(e[3]);return uQ(n,r,s)?n*sj+r*rj+s*1e3:NaN}function Rg(t){return t&&parseFloat(t.replace(",","."))||0}function sQ(t){if(t==="Z")return 0;const e=t.match(ZK);if(!e)return 0;const n=e[1]==="+"?-1:1,r=parseInt(e[2]),s=e[3]&&parseInt(e[3])||0;return dQ(r,s)?n*(r*sj+s*rj):NaN}function iQ(t,e,n){const r=new Date(0);r.setUTCFullYear(t,0,4);const s=r.getUTCDay()||7,i=(e-1)*7+n+1-s;return r.setUTCDate(r.getUTCDate()+i),r}const oQ=[31,null,31,30,31,30,31,31,30,31,30,31];function lj(t){return t%400===0||t%4===0&&t%100!==0}function aQ(t,e,n){return e>=0&&e<=11&&n>=1&&n<=(oQ[e]||(lj(t)?29:28))}function lQ(t,e){return e>=1&&e<=(lj(t)?366:365)}function cQ(t,e,n){return e>=1&&e<=53&&n>=0&&n<=6}function uQ(t,e,n){return t===24?e===0&&n===0:n>=0&&n<60&&e>=0&&e<60&&t>=0&&t<25}function dQ(t,e){return e>=0&&e<=59}function Hc(t){try{return t!=null&&t.toDate?t.toDate():new Date(t)}catch{return null}}function cj(t,e="d MMM yyyy, h:mm a"){const n=Hc(t);return n?Du(n,e):""}function hQ({order:t,routes:e,customers:n,products:r,addInvoice:s,updateAppOrder:i,syncOrderPaymentStatus:o,onOrderUpdated:a,onClose:c}){var D,C,I,S,N;const[d,h]=g.useState(!1),[f,p]=g.useState(!1),[m,T]=g.useState(t.payment_status??"pending"),w=m==="paid",x=async()=>{if(!(o||i))return;const j=m==="paid"?"pending":"paid";p(!0);try{o?await o(t.id,j):await i(t.id,{payment_status:j}),T(j),a==null||a({...t,payment_status:j})}catch{}finally{p(!1)}},_=e.find(P=>P.id===t.delivery_route),v=n.find(P=>P.id===t.customer_id),b=(()=>{const P=Hc(t.created_at);return P?Nc(P):!1})(),k=t.total??((D=t.items)==null?void 0:D.reduce((P,j)=>{const R=r.find(M=>M.id===j.product_id);return P+(j.price??(R==null?void 0:R.price)??0)*j.quantity},0))??0,O=async()=>{if(!s){ie.error("Invoice generation not available");return}h(!0);try{const j=(t.items||[]).map(M=>{const G=r.find(ne=>ne.id===M.product_id),H=M.price??(G==null?void 0:G.price)??0;return{productId:M.product_id,productName:M.name,quantity:M.quantity,unit:M.unit??(G==null?void 0:G.unit)??"",price:H,total:H*M.quantity}}),R={invoiceNumber:`INV-${Date.now().toString().slice(-6)}`,customerId:t.customer_id,customerName:t.customer_name,customerPhone:t.customer_phone??(v==null?void 0:v.phone)??"",customerAddress:t.customer_address??(v==null?void 0:v.address)??"",items:j,subtotal:k,discount:0,total:k,paymentStatus:t.payment_status??"pending",paymentMethod:"cash",date:Du(new Date,"yyyy-MM-dd"),notes:`Generated from App Order  ${t.id}`};await s(R),ie.success("Invoice generated successfully!"),c()}catch(P){console.error(P),ie.error("Failed to generate invoice")}finally{h(!1)}};return l.jsxs(Xr,{className:"max-w-lg w-full max-h-[90vh] overflow-y-auto p-0",children:[l.jsx(Jr,{className:"px-5 pt-5 pb-3",children:l.jsx("div",{className:"flex items-start justify-between gap-3",children:l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`h-12 w-12 rounded-full flex items-center justify-center text-lg font-bold shrink-0 ${b?"bg-orange-100 text-orange-700":"bg-primary/10 text-primary"}`,children:(I=(C=t.customer_name)==null?void 0:C.charAt(0))==null?void 0:I.toUpperCase()}),l.jsxs("div",{children:[l.jsx(Zr,{className:"text-base",children:t.customer_name}),l.jsxs("div",{className:"flex items-center gap-2 mt-0.5 flex-wrap",children:[b&&l.jsx(Be,{className:"text-[10px] h-4 px-1.5 bg-orange-500",children:"New Today"}),l.jsx(Be,{variant:w?"default":"secondary",className:`text-[10px] h-4 px-1.5 capitalize ${w?"bg-green-600":""}`,children:m??"pending"}),l.jsx("span",{className:"text-[11px] text-muted-foreground font-mono",children:t.id.slice(-8)})]})]})]})})}),l.jsxs("div",{className:"px-5 space-y-4 pb-5",children:[l.jsxs("div",{className:"bg-secondary/30 rounded-xl p-4 space-y-2.5",children:[l.jsxs("p",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground flex items-center gap-1.5",children:[l.jsx(sp,{className:"h-3.5 w-3.5 text-primary"}),"Customer Details"]}),l.jsxs("div",{className:"grid grid-cols-1 gap-2",children:[t.customer_phone&&l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx(jo,{className:"h-3.5 w-3.5 text-muted-foreground shrink-0"}),l.jsx("span",{children:t.customer_phone})]}),t.customer_email&&l.jsxs("div",{className:"flex items-center gap-2 text-sm",children:[l.jsx(Tw,{className:"h-3.5 w-3.5 text-muted-foreground shrink-0"}),l.jsx("span",{children:t.customer_email})]}),t.customer_address&&l.jsxs("div",{className:"flex items-start gap-2 text-sm",children:[l.jsx(Gr,{className:"h-3.5 w-3.5 text-muted-foreground shrink-0 mt-0.5"}),l.jsx("span",{children:t.customer_address})]}),(v==null?void 0:v.city)&&l.jsx("div",{className:"flex items-center gap-2 text-sm text-muted-foreground",children:l.jsxs("span",{className:"ml-5",children:[" ",v.city]})})]})]}),_&&l.jsxs("div",{className:"bg-secondary/30 rounded-xl p-4 space-y-2",children:[l.jsxs("p",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground flex items-center gap-1.5",children:[l.jsx(ys,{className:"h-3.5 w-3.5 text-primary"}),"Delivery Route"]}),l.jsxs("div",{className:"text-sm space-y-1",children:[l.jsx("p",{className:"font-medium",children:_.vehicleNumber}),l.jsx("p",{className:"text-muted-foreground",children:_.driverName}),((S=_.areas)==null?void 0:S.length)>0&&l.jsx("p",{className:"text-xs text-muted-foreground",children:_.areas.join(", ")})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsxs("p",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground flex items-center gap-1.5",children:[l.jsx(Ai,{className:"h-3.5 w-3.5 text-primary"}),"Order Items"]}),l.jsx("div",{className:"border rounded-xl overflow-hidden",children:(N=t.items)==null?void 0:N.map((P,j)=>{const R=r.find(G=>G.id===P.product_id),M=P.price??(R==null?void 0:R.price)??0;return l.jsxs("div",{className:`flex items-center justify-between px-4 py-3 text-sm ${j>0?"border-t":""}`,children:[l.jsxs("div",{children:[l.jsx("p",{className:"font-medium",children:P.name}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[P.quantity," ",P.unit??(R==null?void 0:R.unit)??"unit",M>0&&`  ${M}`]})]}),M>0&&l.jsxs("p",{className:"font-semibold text-primary",children:["",(M*P.quantity).toFixed(0)]})]},j)})})]}),l.jsxs("div",{className:"bg-primary/5 border border-primary/10 rounded-xl p-4 space-y-2",children:[l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Subtotal"}),l.jsxs("span",{children:["",k.toFixed(0)]})]}),l.jsxs("div",{className:"flex justify-between text-sm",children:[l.jsx("span",{className:"text-muted-foreground",children:"Discount"}),l.jsx("span",{children:"0"})]}),l.jsx(Gx,{className:"my-1"}),l.jsxs("div",{className:"flex justify-between font-bold",children:[l.jsx("span",{children:"Total"}),l.jsxs("span",{className:"text-primary text-lg",children:["",k.toFixed(0)]})]})]}),l.jsxs("div",{className:"text-xs text-muted-foreground space-y-1 px-1",children:[l.jsxs("p",{children:[" Placed: ",cj(t.created_at)]}),l.jsxs("p",{children:[" Order ID: ",l.jsx("span",{className:"font-mono",children:t.id})]})]})]}),i&&l.jsx("div",{className:"px-5 pb-2",children:l.jsx(ve,{onClick:x,disabled:f,className:`w-full font-semibold transition-all ${w?"bg-gray-100 text-gray-600 hover:bg-gray-200 border border-gray-200":"bg-green-600 hover:bg-green-700 text-white shadow-sm shadow-green-200"}`,variant:w?"outline":"default",children:f?l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"h-4 w-4 border-2 border-current border-t-transparent rounded-full animate-spin"}),"Updating"]}):w?l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(Iy,{className:"h-4 w-4 text-green-600"}),"Paid  Tap to mark as Pending"]}):l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(Iy,{className:"h-4 w-4"}),"Mark as Paid"]})})}),l.jsxs(As,{className:"px-5 pb-5 gap-2 flex-col sm:flex-row",children:[l.jsxs(ve,{variant:"outline",className:"flex-1",onClick:c,children:[l.jsx(Wu,{className:"h-4 w-4 mr-2"}),"Close"]}),s&&l.jsx(ve,{className:"flex-1 bg-primary hover:bg-primary/90",onClick:O,disabled:d,children:d?l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx("span",{className:"h-4 w-4 border-2 border-white border-t-transparent rounded-full animate-spin"}),"Generating"]}):l.jsxs("span",{className:"flex items-center gap-2",children:[l.jsx(Pi,{className:"h-4 w-4"}),"Generate Invoice"]})})]})]})}function fQ({customers:t,routes:e,products:n,invoices:r,appOrders:s,addInvoice:i,updateAppOrder:o,syncOrderPaymentStatus:a}){const[c,d]=g.useState([]),[h,f]=g.useState(null),[p,m]=g.useState(null),T=async(v,b)=>{if(v.stopPropagation(),p)return;const k=b.payment_status==="paid"?"pending":"paid";m(b.id);try{a?await a(b.id,k):o&&await o(b.id,{payment_status:k})}finally{m(null)}},w=v=>{d(b=>b.includes(v)?b.filter(k=>k!==v):[...b,v])},x=s.filter(v=>{const b=Hc(v.created_at);return b?Nc(b):!1}),_=v=>{const b=t.filter(j=>j.route===v),k=s.filter(j=>j.delivery_route===v),O=r.filter(j=>b.some(R=>R.id===j.customerId)),D=new Set(O.map(j=>{var R,M;return(M=(R=j.notes)==null?void 0:R.match(/Generated from App Order  (.*)/))==null?void 0:M[1]}).filter(Boolean)),C=j=>{if(!j)return!1;const R=Hc(j);return R?Nc(R):!1},I=k.filter(j=>!D.has(j.id)&&C(j.created_at)),S=O.filter(j=>{try{return Nc(WE(j.date))}catch{return!1}}),N=[...I.map(j=>({id:j.id,customerName:j.customer_name,customerPhone:j.customer_phone??"",customerAddress:j.customer_address??"",items:j.items.map(R=>({productName:R.name,quantity:R.quantity,unit:R.unit||""})),total:j.total??0,paymentStatus:j.payment_status??"pending",isAppOrder:!0})),...S.map(j=>{var R;return{id:j.id,customerName:j.customerName,customerPhone:j.customerPhone,customerAddress:j.customerAddress,items:j.items.map(M=>({productName:M.productName,quantity:M.quantity,unit:M.unit})),total:j.total,paymentStatus:j.paymentStatus,isAppOrder:((R=j.notes)==null?void 0:R.includes("Order placed via App"))||!1}})],P={};return N.forEach(j=>{j.items.forEach(R=>{const M=R.productName;P[M]||(P[M]={quantity:0,unit:R.unit}),P[M].quantity+=R.quantity})}),{customerCount:b.length,orderCount:N.length,orders:N,productTotals:P}};return l.jsxs("div",{className:"space-y-6",children:[l.jsxs("div",{className:"flex flex-col sm:flex-row sm:items-center justify-between gap-3",children:[l.jsxs("div",{children:[l.jsx("h1",{className:"text-xl font-bold tracking-tight",children:"Orders"}),l.jsx("p",{className:"text-sm text-muted-foreground",children:Du(new Date,"EEEE, MMMM do, yyyy")})]}),l.jsxs("div",{className:"flex gap-2 flex-wrap",children:[l.jsxs("div",{className:"flex items-center gap-1.5 bg-primary/10 text-primary px-3 py-1.5 rounded-lg text-xs font-semibold",children:[l.jsx(Ai,{className:"h-3.5 w-3.5"}),r.length," Total Invoices"]}),l.jsxs("div",{className:"flex items-center gap-1.5 bg-orange-100 text-orange-700 px-3 py-1.5 rounded-lg text-xs font-semibold",children:[l.jsx(Jm,{className:"h-3.5 w-3.5"}),s.length," App Orders"]})]})]}),l.jsxs(zG,{defaultValue:"app",className:"space-y-4",children:[l.jsxs(tj,{className:"bg-secondary/50 w-full sm:w-auto",children:[l.jsxs(Ph,{value:"app",className:"flex-1 sm:flex-none gap-1.5",children:[l.jsx(Jm,{className:"h-3.5 w-3.5"}),"App Orders",x.length>0&&l.jsx(Be,{className:"h-4 px-1.5 text-[10px] ml-1",children:x.length})]}),l.jsxs(Ph,{value:"routes",className:"flex-1 sm:flex-none gap-1.5",children:[l.jsx(ys,{className:"h-3.5 w-3.5"}),"By Route"]}),l.jsxs(Ph,{value:"all",className:"flex-1 sm:flex-none gap-1.5",children:[l.jsx(tL,{className:"h-3.5 w-3.5"}),"All Orders"]})]}),l.jsx(Ah,{value:"app",className:"space-y-3",children:s.length===0?l.jsxs("div",{className:"text-center py-16 text-muted-foreground",children:[l.jsx(Jm,{className:"h-12 w-12 mx-auto mb-3 opacity-20"}),l.jsx("p",{className:"text-sm",children:"No app orders yet"}),l.jsx("p",{className:"text-xs mt-1",children:"Orders placed by customers via the app will appear here"})]}):l.jsxs(l.Fragment,{children:[x.length>0&&l.jsxs("div",{className:"flex items-center gap-2 text-xs font-semibold text-orange-700 bg-orange-50 border border-orange-200 rounded-lg px-3 py-2",children:[l.jsx(d1,{className:"h-3.5 w-3.5"}),x.length," new order",x.length>1?"s":""," placed today"]}),s.map(v=>{var D,C,I;const b=(()=>{const S=Hc(v.created_at);return S?Nc(S):!1})(),k=cj(v.created_at,"d MMM, h:mm a"),O=e.find(S=>S.id===v.delivery_route);return l.jsxs(Ye,{onClick:()=>f(v),className:`overflow-hidden border shadow-sm cursor-pointer hover:shadow-md hover:border-primary/30 transition-all ${b?"border-orange-200 bg-orange-50/30":""}`,children:[l.jsxs(or,{className:"p-4 pb-3 flex flex-row items-start justify-between space-y-0",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`h-10 w-10 rounded-full flex items-center justify-center text-sm font-bold shrink-0 ${b?"bg-orange-100 text-orange-700":"bg-primary/10 text-primary"}`,children:(C=(D=v.customer_name)==null?void 0:D.charAt(0))==null?void 0:C.toUpperCase()}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(ar,{className:"text-sm font-semibold",children:v.customer_name}),b&&l.jsx(Be,{className:"text-[10px] h-4 px-1.5 bg-orange-500",children:"New"})]}),l.jsxs("div",{className:"flex items-center gap-2 mt-0.5 text-[11px] text-muted-foreground flex-wrap",children:[v.customer_phone&&l.jsxs(l.Fragment,{children:[l.jsx(jo,{className:"h-3 w-3"}),v.customer_phone]}),k&&l.jsxs(l.Fragment,{children:[l.jsx("span",{children:""}),l.jsx(d1,{className:"h-3 w-3"}),k]})]})]})]}),l.jsxs("div",{className:"text-right shrink-0 flex flex-col items-end gap-1.5",children:[v.total!=null&&l.jsxs("p",{className:"text-sm font-bold text-primary",children:["",v.total]}),o?l.jsxs("button",{onClick:S=>T(S,v),disabled:p===v.id,className:`flex items-center gap-1.5 text-[11px] font-semibold px-2.5 py-1 rounded-full border transition-all ${v.payment_status==="paid"?"bg-green-50 text-green-700 border-green-200 hover:bg-green-100":"bg-yellow-50 text-yellow-700 border-yellow-200 hover:bg-green-50 hover:text-green-700 hover:border-green-200"}`,children:[p===v.id?l.jsx("span",{className:"h-3 w-3 border-2 border-current border-t-transparent rounded-full animate-spin inline-block"}):v.payment_status==="paid"?l.jsx(Iy,{className:"h-3 w-3"}):l.jsx("span",{className:"h-2.5 w-2.5 rounded-full border-2 border-current inline-block"}),v.payment_status==="paid"?"Paid":"Pending"]}):l.jsx(Be,{variant:v.payment_status==="paid"?"default":"secondary",className:"text-[10px] h-4 px-1.5 capitalize",children:v.payment_status??"pending"})]})]}),l.jsxs(et,{className:"px-4 pb-4 space-y-2",children:[v.customer_address&&l.jsxs("div",{className:"flex items-start gap-1.5 text-[11px] text-muted-foreground",children:[l.jsx(Gr,{className:"h-3 w-3 mt-0.5 shrink-0"}),v.customer_address]}),O&&l.jsxs("div",{className:"flex items-center gap-1.5 text-[11px] text-muted-foreground",children:[l.jsx(ys,{className:"h-3 w-3 shrink-0"}),O.vehicleNumber,"  ",O.driverName]}),l.jsx("div",{className:"flex flex-wrap gap-1.5 pt-1",children:(I=v.items)==null?void 0:I.map((S,N)=>l.jsxs(Be,{variant:"outline",className:"text-xs font-normal bg-white",children:[S.name,l.jsxs("span",{className:"font-bold ml-1 text-primary",children:["",S.quantity]}),S.unit&&l.jsx("span",{className:"text-muted-foreground ml-1",children:S.unit})]},N))}),l.jsx("p",{className:"text-[10px] text-muted-foreground/60 font-mono pt-0.5",children:"Tap to view details & generate invoice "})]})]},v.id)})]})}),l.jsxs(Ah,{value:"routes",className:"space-y-3",children:[e.map(v=>{const b=_(v.id),k=c.includes(v.id);return l.jsx(Ye,{className:"overflow-hidden border-0 shadow-sm",children:l.jsxs(LG,{open:k,onOpenChange:()=>w(v.id),children:[l.jsx("div",{className:"bg-card hover:bg-accent/5 transition-colors cursor-pointer",children:l.jsxs("div",{className:"p-4 flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3 flex-1",children:[l.jsx(VG,{asChild:!0,children:l.jsx(ve,{variant:"ghost",size:"sm",className:"p-0 h-8 w-8 hover:bg-secondary/80",children:k?l.jsx(Ew,{className:"h-4 w-4"}):l.jsx(BI,{className:"h-4 w-4"})})}),l.jsx("div",{className:"h-10 w-10 rounded-lg bg-primary/10 flex items-center justify-center text-primary shrink-0",children:l.jsx(ys,{className:"h-5 w-5"})}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-semibold text-sm",children:v.vehicleNumber}),l.jsxs("p",{className:"text-xs text-muted-foreground",children:[v.driverName,"  ",b.orderCount,"/",b.customerCount," orders"]})]})]}),l.jsx("div",{className:"hidden md:flex gap-2",children:Object.entries(b.productTotals).slice(0,3).map(([O,D])=>l.jsxs(Be,{variant:"secondary",className:"text-[10px]",children:[O,": ",D.quantity,D.unit]},O))})]})}),l.jsx(FG,{children:l.jsxs("div",{className:"border-t border-border/50 bg-secondary/5",children:[Object.keys(b.productTotals).length>0&&l.jsxs("div",{className:"p-4 bg-background border-b border-border/50",children:[l.jsxs("h4",{className:"text-xs font-semibold uppercase tracking-wide text-muted-foreground mb-3 flex items-center gap-1.5",children:[l.jsx(Ai,{className:"h-3.5 w-3.5 text-primary"}),"Total Load"]}),l.jsx("div",{className:"flex flex-wrap gap-2",children:Object.entries(b.productTotals).map(([O,D])=>l.jsxs("div",{className:"bg-primary/10 text-primary px-3 py-1.5 rounded-lg text-xs font-semibold",children:[D.quantity,D.unit,"  ",O]},O))})]}),l.jsx("div",{className:"divide-y divide-border/50",children:b.orders.length>0?b.orders.map(O=>{var C;const D=O.isAppOrder;return l.jsxs("div",{className:`p-4 flex flex-col sm:flex-row sm:items-center justify-between gap-3 hover:bg-background transition-colors ${D?"border-l-2 border-orange-400":""}`,children:[l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:`h-8 w-8 rounded-full flex items-center justify-center text-xs font-bold shrink-0 ${D?"bg-orange-100 text-orange-700":O.paymentStatus==="paid"?"bg-green-100 text-green-700":"bg-yellow-100 text-yellow-700"}`,children:(C=O.customerName)==null?void 0:C.charAt(0)}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("p",{className:"text-sm font-medium",children:O.customerName}),D&&l.jsx(Be,{className:"text-[10px] h-4 px-1.5 bg-orange-500",children:"App"})]}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5 flex items-center gap-1",children:[l.jsx(jo,{className:"h-3 w-3"}),O.customerPhone]}),l.jsxs("p",{className:"text-xs text-muted-foreground mt-0.5 flex items-center gap-1",children:[l.jsx(Gr,{className:"h-3 w-3"}),O.customerAddress]})]})]}),l.jsx("div",{className:"flex flex-wrap gap-1.5 sm:max-w-[50%] sm:justify-end",children:O.items.map((I,S)=>l.jsxs(Be,{variant:"outline",className:"text-xs font-normal bg-white",children:[I.productName," ",l.jsxs("span",{className:"font-bold ml-0.5",children:["",I.quantity,I.unit]})]},S))}),l.jsxs("div",{className:"text-right shrink-0",children:[l.jsxs("p",{className:"text-sm font-bold",children:["",O.total]}),l.jsx(Be,{variant:O.paymentStatus==="paid"?"secondary":"outline",className:"text-[10px] h-4 px-1.5 mt-1",children:O.paymentStatus})]})]},O.id)}):l.jsx("div",{className:"p-8 text-center text-muted-foreground text-sm",children:"No orders for this route"})})]})})]})},v.id)}),e.length===0&&l.jsx("div",{className:"text-center py-12 text-muted-foreground text-sm",children:"No routes configured"})]}),l.jsx(Ah,{value:"all",className:"space-y-3",children:r.length===0?l.jsx("div",{className:"text-center py-12 text-muted-foreground text-sm",children:"No orders yet"}):r.map(v=>{const b=v.notes==="Order placed via App";return l.jsx(Ye,{className:"overflow-hidden shadow-sm border",children:l.jsxs(et,{className:"p-4",children:[l.jsxs("div",{className:"flex items-start justify-between gap-3 mb-3",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:`h-9 w-9 rounded-full flex items-center justify-center text-xs font-bold shrink-0 ${b?"bg-orange-100 text-orange-700":"bg-primary/10 text-primary"}`,children:v.customerName.charAt(0)}),l.jsxs("div",{children:[l.jsxs("div",{className:"flex items-center gap-1.5",children:[l.jsx("p",{className:"text-sm font-semibold",children:v.customerName}),b&&l.jsx(Be,{className:"text-[10px] h-4 px-1.5 bg-orange-500",children:"App"})]}),l.jsxs("p",{className:"text-[11px] text-muted-foreground",children:[v.invoiceNumber,"  ",v.date?Du(WE(v.date),"d MMM yyyy"):""]})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsxs("p",{className:"font-bold text-primary",children:["",v.total]}),l.jsx(Be,{variant:v.paymentStatus==="paid"?"default":"secondary",className:"text-[10px] mt-1",children:v.paymentStatus})]})]}),l.jsx("div",{className:"flex flex-wrap gap-1.5",children:v.items.map((k,O)=>l.jsxs(Be,{variant:"outline",className:"text-xs font-normal",children:[k.productName," ",l.jsxs("span",{className:"font-bold ml-0.5 text-primary",children:["",k.quantity]})]},O))})]})},v.id)})})]}),l.jsx(Ps,{open:!!h,onOpenChange:v=>!v&&f(null),children:h&&l.jsx(hQ,{order:h,routes:e,customers:t,products:n,addInvoice:i,updateAppOrder:o,syncOrderPaymentStatus:a,onOrderUpdated:v=>f(v),onClose:()=>f(null)})})]})}function pQ({products:t,invoices:e,addInvoice:n,addAppOrder:r}){const{loggedInCustomer:s,logout:i}=rd(),[o,a]=g.useState("all"),[c,d]=g.useState(""),[h,f]=g.useState({}),[p,m]=g.useState(!1),[T,w]=g.useState("order"),x=t.filter(S=>o==="all"||S.category===o).filter(S=>S.name.toLowerCase().includes(c.toLowerCase())),_=["all",...Ev],v=S=>{f(N=>{const P={...N};return P[S]?delete P[S]:P[S]=1,P})},b=(S,N)=>{f(P=>{const j=P[S]||0,R=Math.max(0,j+N),M={...P};return R===0?delete M[S]:M[S]=R,M})},k=()=>Object.entries(h).reduce((S,[N,P])=>{const j=t.find(R=>R.id===N);return S+(j?j.price*P:0)},0),O=async()=>{var S;if(s){m(!0);try{const N=Object.entries(h).map(([R,M])=>{const G=t.find(H=>H.id===R);if(!G)throw new Error("Product not found");return{product_id:R,name:G.name,quantity:M,unit:G.unit,price:G.price}}),P=k(),j={created_at:C8(),customer_id:s.id,customer_uid:(S=Sc.currentUser)==null?void 0:S.uid,customer_name:s.name,customer_email:s.email??"",customer_phone:s.phone,customer_address:s.address,delivery_route:s.route,items:N,total:P,payment_status:"pending",notes:"Order placed via App"};await r(j),f({}),ie.success("Order placed successfully!"),w("history")}catch(N){console.error(N),ie.error("Failed to place order")}finally{m(!1)}}},D=e.filter(S=>S.customerId===(s==null?void 0:s.id)).sort((S,N)=>new Date(N.date).getTime()-new Date(S.date).getTime()),C=Object.keys(h).length,I=k();return l.jsxs("div",{className:"min-h-screen bg-gray-50/50 font-sans",children:[l.jsx("header",{className:"bg-white border-b sticky top-0 z-40 px-4 py-3 shadow-sm",children:l.jsxs("div",{className:"container mx-auto max-w-2xl flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-3",children:[l.jsx("div",{className:"h-9 w-9 bg-primary rounded-xl flex items-center justify-center shadow-sm",children:l.jsx("span",{className:"text-primary-foreground font-bold text-lg",children:"S"})}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-sm font-bold text-foreground leading-tight",children:"Swabhimani Dairy"}),l.jsxs("p",{className:"text-[11px] text-muted-foreground leading-tight",children:["Hello, ",l.jsx("span",{className:"font-semibold text-foreground",children:s==null?void 0:s.name})," "]})]})]}),l.jsxs(ve,{variant:"ghost",size:"sm",onClick:i,className:"text-muted-foreground hover:text-destructive gap-1.5",children:[l.jsx(Cy,{className:"h-4 w-4"}),l.jsx("span",{className:"hidden sm:inline text-xs",children:"Logout"})]})]})}),l.jsx("div",{className:"bg-white border-b sticky top-[57px] z-30",children:l.jsx("div",{className:"container mx-auto max-w-2xl flex",children:["order","history","profile"].map(S=>l.jsxs("button",{onClick:()=>w(S),className:`flex-1 py-3 text-xs font-semibold uppercase tracking-wide transition-colors border-b-2 ${T===S?"border-primary text-primary":"border-transparent text-muted-foreground hover:text-foreground"}`,children:[S==="order"&&" Order",S==="history"&&` Orders${D.length>0?` (${D.length})`:""}`,S==="profile"&&" Profile"]},S))})}),l.jsxs("main",{className:"container mx-auto max-w-2xl p-4 pb-28 space-y-4",children:[T==="order"&&l.jsxs("section",{className:"space-y-4",children:[l.jsxs("div",{className:"flex flex-col gap-3",children:[l.jsxs("div",{className:"relative",children:[l.jsx(cl,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-4 w-4 text-muted-foreground"}),l.jsx(pe,{placeholder:"Search products...",className:"pl-9 bg-white",value:c,onChange:S=>d(S.target.value)})]}),l.jsx("div",{className:"flex gap-2 overflow-x-auto pb-1 no-scrollbar",children:_.map(S=>l.jsx(Be,{variant:o===S?"default":"outline",className:"cursor-pointer whitespace-nowrap shrink-0 select-none",onClick:()=>a(S),children:S==="all"?"All":S},S))})]}),x.length===0?l.jsx("p",{className:"text-center text-sm text-muted-foreground py-12",children:"No products found"}):l.jsx("div",{className:"grid grid-cols-2 gap-3",children:x.map(S=>{const N=h[S.id]||0,P=N>0;return l.jsx(Ye,{className:`overflow-hidden transition-all duration-200 ${P?"ring-2 ring-primary border-primary/50 shadow-md":"hover:shadow-md"}`,children:l.jsxs(et,{className:"p-3",children:[l.jsx("p",{className:"text-[10px] text-muted-foreground mb-0.5",children:S.category}),l.jsx("h3",{className:"font-semibold text-sm leading-tight mb-1",children:S.name}),l.jsxs("p",{className:"text-base font-bold text-primary mb-3",children:["",S.price,l.jsxs("span",{className:"text-[10px] font-normal text-muted-foreground",children:["/",S.unit]})]}),S.stock<=0?l.jsx(Be,{variant:"destructive",className:"text-[10px] w-full justify-center",children:"Out of Stock"}):P?l.jsxs("div",{className:"flex items-center justify-between bg-primary/10 rounded-lg p-1",children:[l.jsx(ve,{size:"icon",variant:"ghost",className:"h-7 w-7 rounded-full",onClick:()=>b(S.id,-1),children:l.jsx(WI,{className:"h-3 w-3"})}),l.jsx("span",{className:"text-sm font-bold px-2",children:N}),l.jsx(ve,{size:"icon",variant:"ghost",className:"h-7 w-7 rounded-full",onClick:()=>b(S.id,1),children:l.jsx(Do,{className:"h-3 w-3"})})]}):l.jsx(ve,{size:"sm",className:"w-full h-7 text-xs",onClick:()=>v(S.id),children:"Add to Order"})]})},S.id)})})]}),T==="history"&&l.jsxs("section",{className:"space-y-3",children:[l.jsxs("h2",{className:"text-base font-bold flex items-center gap-2",children:[l.jsx(aL,{className:"h-4 w-4 text-primary"}),"My Orders"]}),D.length===0?l.jsxs("div",{className:"text-center py-16 space-y-2",children:[l.jsx(Ai,{className:"h-12 w-12 text-muted-foreground/30 mx-auto"}),l.jsx("p",{className:"text-muted-foreground text-sm",children:"No orders yet"}),l.jsx(ve,{size:"sm",variant:"outline",onClick:()=>w("order"),children:"Browse Products"})]}):D.map(S=>l.jsxs(Ye,{className:"overflow-hidden",children:[l.jsxs(or,{className:"p-3 pb-2 flex flex-row items-start justify-between space-y-0",children:[l.jsxs("div",{children:[l.jsx(ar,{className:"text-sm font-semibold",children:Du(new Date(S.date),"d MMM yyyy")}),l.jsx("p",{className:"text-[11px] text-muted-foreground mt-0.5",children:S.invoiceNumber})]}),l.jsx(Be,{variant:S.paymentStatus==="paid"?"default":"secondary",className:"text-[10px] capitalize",children:S.paymentStatus})]}),l.jsxs(et,{className:"p-3 pt-0",children:[l.jsx("ul",{className:"space-y-1 mb-3 text-xs text-muted-foreground",children:S.items.map((N,P)=>l.jsxs("li",{className:"flex justify-between",children:[l.jsxs("span",{children:[N.productName,"  ",N.quantity," ",N.unit]}),l.jsxs("span",{className:"font-medium text-foreground",children:["",N.total]})]},P))}),l.jsxs("div",{className:"flex justify-between items-center border-t pt-2",children:[l.jsx("span",{className:"text-xs text-muted-foreground",children:"Total"}),l.jsxs("span",{className:"text-sm font-bold text-primary",children:["",S.total]})]})]})]},S.id))]}),T==="profile"&&s&&l.jsxs("section",{className:"space-y-4",children:[l.jsxs("h2",{className:"text-base font-bold flex items-center gap-2",children:[l.jsx(sp,{className:"h-4 w-4 text-primary"}),"My Profile"]}),l.jsxs("div",{className:"flex items-center gap-4 bg-white rounded-xl p-4 border shadow-sm",children:[l.jsx("div",{className:"h-14 w-14 rounded-full bg-primary flex items-center justify-center text-primary-foreground text-xl font-bold shrink-0",children:s.name.charAt(0).toUpperCase()}),l.jsxs("div",{children:[l.jsx("h3",{className:"font-bold text-lg leading-tight",children:s.name}),l.jsx("p",{className:"text-xs text-muted-foreground",children:"Customer"})]})]}),l.jsx(Ye,{className:"border shadow-sm",children:l.jsx(et,{className:"p-4 space-y-4",children:[{icon:jo,label:"Phone",value:s.phone},{icon:Gr,label:"Address",value:s.address},{icon:Gr,label:"City",value:s.city},{icon:fL,label:"Route",value:s.route},{icon:Tw,label:"Email",value:s.email}].filter(S=>S.value).map(({icon:S,label:N,value:P})=>l.jsxs("div",{className:"flex items-start gap-3",children:[l.jsx("div",{className:"h-8 w-8 rounded-lg bg-primary/10 flex items-center justify-center shrink-0",children:l.jsx(S,{className:"h-4 w-4 text-primary"})}),l.jsxs("div",{children:[l.jsx("p",{className:"text-[11px] text-muted-foreground font-medium uppercase tracking-wide",children:N}),l.jsx("p",{className:"text-sm font-medium",children:P})]})]},N))})}),l.jsx(Ye,{className:"border shadow-sm",children:l.jsxs(et,{className:"p-4",children:[l.jsx("p",{className:"text-xs font-semibold text-muted-foreground uppercase tracking-wide mb-3",children:"Order Summary"}),l.jsxs("div",{className:"grid grid-cols-2 gap-3",children:[l.jsxs("div",{className:"bg-primary/5 rounded-lg p-3 text-center",children:[l.jsx("p",{className:"text-2xl font-bold text-primary",children:D.length}),l.jsx("p",{className:"text-[11px] text-muted-foreground mt-0.5",children:"Total Orders"})]}),l.jsxs("div",{className:"bg-green-50 rounded-lg p-3 text-center",children:[l.jsxs("p",{className:"text-2xl font-bold text-green-600",children:["",D.reduce((S,N)=>S+N.total,0)]}),l.jsx("p",{className:"text-[11px] text-muted-foreground mt-0.5",children:"Total Spent"})]})]})]})}),l.jsxs(ve,{variant:"destructive",className:"w-full",onClick:i,children:[l.jsx(Cy,{className:"h-4 w-4 mr-2"}),"Logout"]})]})]}),T==="order"&&C>0&&l.jsx("div",{className:"fixed bottom-4 left-4 right-4 max-w-2xl mx-auto z-50",children:l.jsxs("div",{className:"bg-primary text-primary-foreground p-4 rounded-2xl shadow-2xl flex items-center justify-between gap-4",children:[l.jsxs("div",{children:[l.jsxs("p",{className:"text-xs font-medium opacity-80",children:[C," item",C>1?"s":""," selected"]}),l.jsxs("p",{className:"text-xl font-bold leading-tight",children:["",I]})]}),l.jsx(ve,{variant:"secondary",className:"font-bold px-6 shrink-0",onClick:O,disabled:p,children:p?"Placing...":"Place Order"})]})})]})}const mQ=()=>{const{role:t}=rd(),e=$q();return t==="customer"?l.jsx(pQ,{products:e.products,invoices:e.invoices,addInvoice:e.addInvoice,addAppOrder:e.addAppOrder}):l.jsx(Uq,{children:l.jsxs(YC,{children:[l.jsx(ls,{index:!0,element:l.jsx(Qq,{products:e.products,customers:e.customers,routes:e.routes,invoices:e.invoices})}),l.jsx(ls,{path:"products",element:l.jsx(RG,{products:e.products,addProduct:e.addProduct,removeProduct:e.removeProduct,updateProduct:e.updateProduct})}),l.jsx(ls,{path:"customers",element:l.jsx(PG,{customers:e.customers,addCustomer:e.addCustomer,removeCustomer:e.removeCustomer,updateCustomer:e.updateCustomer})}),l.jsx(ls,{path:"routes",element:l.jsx(AG,{routes:e.routes,addRoute:e.addRoute,removeRoute:e.removeRoute,updateRoute:e.updateRoute})}),l.jsx(ls,{path:"orders",element:l.jsx(fQ,{customers:e.customers,routes:e.routes,products:e.products,invoices:e.invoices,appOrders:e.appOrders,addInvoice:e.addInvoice,updateAppOrder:e.updateAppOrder,syncOrderPaymentStatus:e.syncOrderPaymentStatus})}),l.jsx(ls,{path:"invoices",element:l.jsx(kG,{invoices:e.invoices,customers:e.customers,products:e.products,addInvoice:e.addInvoice,removeInvoice:e.removeInvoice})})]})})};function gQ(){const[t,e]=g.useState(""),[n,r]=g.useState(""),[s,i]=g.useState(!1),[o,a]=g.useState(!1),{login:c}=rd(),d=Xo(),h=async f=>{if(f.preventDefault(),!t||!n){ie.error("Please fill in all fields");return}if(!t.includes("@")){ie.error("Please enter a valid email address");return}a(!0);try{await c(t,n)?(ie.success("Welcome back!"),d("/")):ie.error("Invalid email or password")}catch{ie.error("An error occurred. Please try again.")}finally{a(!1)}};return l.jsxs("div",{className:"min-h-screen flex items-center justify-center bg-gradient-to-br from-primary/5 via-background to-secondary/20 p-4",children:[l.jsxs("div",{className:"absolute inset-0 overflow-hidden pointer-events-none",children:[l.jsx("div",{className:"absolute top-1/4 left-1/4 w-96 h-96 bg-primary/10 rounded-full blur-3xl animate-pulse"}),l.jsx("div",{className:"absolute bottom-1/4 right-1/4 w-96 h-96 bg-accent/10 rounded-full blur-3xl animate-pulse delay-1000"})]}),l.jsxs(Ye,{className:"w-full max-w-md shadow-2xl border-0 relative z-10 animate-fade-in",children:[l.jsxs(or,{className:"space-y-4 text-center pb-8",children:[l.jsx("div",{className:"mx-auto w-20 h-20 bg-gradient-to-br from-primary to-primary/80 rounded-2xl flex items-center justify-center shadow-lg hover:scale-105 transition-transform overflow-hidden p-2",children:l.jsx("img",{src:"/swabhimani.png",alt:"Swabhimani Logo",className:"h-full w-full object-contain"})}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(ar,{className:"text-3xl font-bold bg-gradient-to-r from-primary to-primary/70 bg-clip-text text-transparent",children:"Swabhimani"}),l.jsx(Qk,{className:"text-base",children:"Sign in to manage your dairy business"})]})]}),l.jsxs(et,{children:[l.jsxs("form",{onSubmit:h,className:"space-y-5",children:[l.jsxs("div",{className:"space-y-2",children:[l.jsx(me,{htmlFor:"email",className:"text-sm font-semibold",children:"Email Address"}),l.jsxs("div",{className:"relative",children:[l.jsx(Tw,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),l.jsx(pe,{id:"email",type:"text",placeholder:"Enter your email address",value:t,onChange:f=>e(f.target.value),className:"pl-10 h-11 bg-secondary/50 border-border/50 focus:bg-background focus:border-primary/50 transition-all",disabled:o})]})]}),l.jsxs("div",{className:"space-y-2",children:[l.jsx(me,{htmlFor:"password",className:"text-sm font-semibold",children:"Password"}),l.jsxs("div",{className:"relative",children:[l.jsx(uL,{className:"absolute left-3 top-1/2 -translate-y-1/2 h-5 w-5 text-muted-foreground"}),l.jsx(pe,{id:"password",type:s?"text":"password",placeholder:"Enter your password",value:n,onChange:f=>r(f.target.value),className:"pl-10 pr-10 h-11 bg-secondary/50 border-border/50 focus:bg-background focus:border-primary/50 transition-all",disabled:o}),l.jsx("button",{type:"button",onClick:()=>i(!s),className:"absolute right-3 top-1/2 -translate-y-1/2 text-muted-foreground hover:text-foreground transition-colors",disabled:o,children:s?l.jsx(iL,{className:"h-5 w-5"}):l.jsx(zI,{className:"h-5 w-5"})})]})]}),l.jsx(ve,{type:"submit",className:"w-full h-11 text-base font-semibold shadow-lg hover:shadow-xl transition-all",disabled:o,children:o?l.jsxs(l.Fragment,{children:[l.jsx("div",{className:"w-5 h-5 border-2 border-primary-foreground border-t-transparent rounded-full animate-spin mr-2"}),"Signing in..."]}):l.jsxs(l.Fragment,{children:[l.jsx(dL,{className:"w-5 h-5 mr-2"}),"Sign In"]})})]}),l.jsx("div",{className:"mt-6 text-center",children:l.jsx("p",{className:"text-xs text-muted-foreground",children:"Secure access to your dairy management system"})})]})]})]})}const yQ=new F5,vQ=()=>l.jsx($5,{client:yQ,children:l.jsxs(kC,{children:[l.jsx(YL,{}),l.jsx(N4,{}),l.jsx(LF,{children:l.jsx(j8,{children:l.jsxs(YC,{children:[l.jsx(ls,{path:"/login",element:l.jsx(gQ,{})}),l.jsx(ls,{path:"/*",element:l.jsx(D8,{children:l.jsx(mQ,{})})})]})})})]})});fI(document.getElementById("root")).render(l.jsx(vQ,{}));
